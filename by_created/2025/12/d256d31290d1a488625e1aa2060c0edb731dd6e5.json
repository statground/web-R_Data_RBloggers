{
  "id": "d256d31290d1a488625e1aa2060c0edb731dd6e5",
  "url": "https://www.r-bloggers.com/2025/12/better-code-without-any-effort-without-even-ai/",
  "created_at_utc": "2025-12-16T18:54:58Z",
  "data": null,
  "raw_original": {
    "uuid": "779e1496-8f76-44d5-b85e-bacb77a7dc00",
    "created_at": "2025-12-16 18:54:58",
    "raw_json": {
      "article_author": null,
      "article_headline": null,
      "article_modified": null,
      "article_published": null,
      "article_section": null,
      "article_tags": null,
      "canonical_url": "https://www.r-bloggers.com/2025/12/better-code-without-any-effort-without-even-ai/",
      "crawled_at": "2025-12-16T09:54:17.898158",
      "external_links": [
        {
          "href": "https://ropensci.org/blog/2025/12/15/better-code/",
          "text": "rOpenSci - open tools for open science"
        },
        {
          "href": "http://r-posts.com/",
          "text": "here"
        },
        {
          "href": "https://lintr.r-lib.org/",
          "text": "lintr"
        },
        {
          "href": "https://lintr.r-lib.org/authors.html",
          "text": "Michael Chirico and many others"
        },
        {
          "href": "https://posit-dev.github.io/air/",
          "text": "Air"
        },
        {
          "href": "https://jarl.etiennebacher.com/",
          "text": "jarl"
        },
        {
          "href": "https://flir.etiennebacher.com/",
          "text": "flir"
        },
        {
          "href": "https://12days.cmdchallenge.com/#/12days_2",
          "text": "shell"
        },
        {
          "href": "https://lintr.r-lib.org/reference/index.html#individual-linters",
          "text": "list"
        },
        {
          "href": "https://lintr.r-lib.org/articles/lintr.html#the--lintr-file",
          "text": "deactivate lintr‚Äôs styling"
        },
        {
          "href": "https://flir.etiennebacher.com/articles/adding_rules",
          "text": "custom rules"
        },
        {
          "href": "https://rlang.r-lib.org/reference/abort.html",
          "text": "rlang::abort()"
        },
        {
          "href": "https://rdrr.io/r/base/stop.html",
          "text": "stop()"
        },
        {
          "href": "https://rdrr.io/r/base/stop.html",
          "text": "stop()"
        },
        {
          "href": "https://rdrr.io/r/base/paste.html",
          "text": "paste0()"
        },
        {
          "href": "https://posit-dev.github.io/air/editors.html",
          "text": "Air"
        },
        {
          "href": "https://jarl.etiennebacher.com/editors",
          "text": "integrations with IDEs"
        },
        {
          "href": "https://posit-dev.github.io/air/integration-github-actions.html#format-with-github-suggestions",
          "text": "suggest formatting changes on Pull Requests"
        },
        {
          "href": "https://www.simonpcouch.com/blog/2025-12-04-local-agents/",
          "text": "not local"
        },
        {
          "href": "https://lintr.r-lib.org/",
          "text": "{lintr}"
        },
        {
          "href": "https://github.com/r-lib/pkgdown/blob/c07d935583c90125586821e3b39ed52f16593e42/.lintr.R#L1",
          "text": "customizable ones"
        },
        {
          "href": "https://posit-dev.github.io/air/",
          "text": "Air"
        },
        {
          "href": "https://jarl.etiennebacher.com/",
          "text": "jarl"
        },
        {
          "href": "https://flir.etiennebacher.com/",
          "text": "{flir}"
        },
        {
          "href": "https://ropensci.org/blog/2025/12/15/better-code/",
          "text": "rOpenSci - open tools for open science"
        },
        {
          "href": "https://feedburner.google.com/fb/a/mailverify?uri=RBloggers",
          "text": "daily e-mail updates"
        },
        {
          "href": "https://www.r-project.org/",
          "text": "R"
        },
        {
          "href": "https://www.r-users.com/",
          "text": "Click here if you're looking to post or find an R/data-science job"
        },
        {
          "href": "http://r-posts.com/",
          "text": "here"
        }
      ],
      "h1_title": "R-bloggers",
      "html_title": "Better Code, Without Any Effort, Without Even AI | R-bloggers",
      "images": [],
      "internal_links": [
        {
          "href": "https://www.r-bloggers.com/author/ropensci-open-tools-for-open-science/",
          "text": "rOpenSci - open tools for open science"
        },
        {
          "href": "https://www.r-bloggers.com/category/r-bloggers/",
          "text": "R bloggers"
        },
        {
          "href": "https://www.r-bloggers.com/",
          "text": "R-bloggers"
        },
        {
          "href": "https://www.r-bloggers.com/contact-us/",
          "text": "here"
        },
        {
          "href": "https://www.r-bloggers.com/add-your-blog/",
          "text": "click here"
        },
        {
          "href": "https://www.r-bloggers.com/",
          "text": "R-bloggers.com"
        },
        {
          "href": "https://www.r-bloggers.com/how-to-learn-r-2/",
          "text": "learning R"
        },
        {
          "href": "https://www.r-bloggers.com/add-your-blog/",
          "text": "click here"
        }
      ],
      "lang": "en-US",
      "main_html": "<article class=\"post-397654 post type-post status-publish format-standard hentry category-r-bloggers\">\n<header class=\"post-header\">\n<h1 class=\"entry-title\">Better Code, Without Any Effort, Without Even AI</h1>\n<p class=\"meta post-meta\">Posted on <span class=\"updated\">December 14, 2025</span>  by <span class=\"vcard author\"><a class=\"fn\" href=\"https://www.r-bloggers.com/author/ropensci-open-tools-for-open-science/\">rOpenSci - open tools for open science</a></span>  in <a href=\"https://www.r-bloggers.com/category/r-bloggers/\" rel=\"category tag\">R bloggers</a> | 0 Comments</p>\n</header>\n<div class=\"entry clearfix\">\n<!-- \n<div style=\"min-height: 30px;\">\n[social4i size=\"small\" align=\"align-left\"]\n</div>\n-->\n<div style=\"border: 1px solid; background: none repeat scroll 0 0 #EDEDED; margin: 1px; font-size: 12px;\">\n[This article was first published on  <strong><a href=\"https://ropensci.org/blog/2025/12/15/better-code/\"> rOpenSci - open tools for open science</a></strong>, and kindly contributed to <a href=\"https://www.r-bloggers.com/\" rel=\"nofollow\">R-bloggers</a>].  (You can report issue about the content on this page <a href=\"https://www.r-bloggers.com/contact-us/\">here</a>)\n<hr/>Want to share your content on R-bloggers?<a href=\"https://www.r-bloggers.com/add-your-blog/\" rel=\"nofollow\"> click here</a> if you have a blog, or <a href=\"http://r-posts.com/\" rel=\"nofollow\"> here</a> if you don't.\n</div>\n\n<!-- Share buttons by mashshare.net - Version: 4.0.47-->\n<p>We are experiencing a programming revolution, with the democratization of artificial intelligence, <em>but</em> also with the creation and improvement of more traditional software tools to improve your code: local, free, deterministic.</p>\n<p>In this post, we will introduce you to</p>\n<ul>\n<li>üì¶ <a href=\"https://lintr.r-lib.org/\" rel=\"nofollow\" target=\"_blank\">lintr</a>, by <a href=\"https://lintr.r-lib.org/authors.html\" rel=\"nofollow\" target=\"_blank\">Michael Chirico and many others</a>, an R package that detects many ways to improve your code;</li>\n<li>üíª$ <a href=\"https://posit-dev.github.io/air/\" rel=\"nofollow\" target=\"_blank\">Air</a>, by Lionel Henry and Davis Vaughan, a fast CLI (command-line interface) for formatting R code automatically and almost instantly;</li>\n<li>üíª$ <a href=\"https://jarl.etiennebacher.com/\" rel=\"nofollow\" target=\"_blank\">jarl</a>, by Etienne Bacher, another fast CLI (command-line interface) tool to find and automatically fix lints;</li>\n<li>üì¶ <a href=\"https://flir.etiennebacher.com/\" rel=\"nofollow\" target=\"_blank\">flir</a>, by Etienne Bacher, an R package to efficiently rewrite patterns of code, either built-in ones or custom ones.</li>\n</ul>\n<p>With these four wonderful tools, you can effortlessly improve your code, your colleagues‚Äô code‚Ä¶ and even code proposed by AI. With a bit more effort, you might even internalize best practice and write better code from the get go in the future!</p>\n<div class=\"highlight\">\n</div>\n<h2>\nAn example script\n</h2><p>Let‚Äôs start with a script containing a few problems‚Ä¶ Can you spot them?</p>\n<div class=\"highlight\">\n<pre>lleno &lt;-!any(is.na(x))\nok&lt;- !(x[1] == y[1])\nif (ok) z&lt;- x + 1\nif (z&gt;3) stop(\"ouch\")</pre>\n</div>\n<h3>\nThe R console vs the terminal\n</h3><p>Note that in this post, some tools are used in the R console, but others are used in the terminal, that you might also know as command line or <a href=\"https://12days.cmdchallenge.com/#/12days_2\" rel=\"nofollow\" target=\"_blank\">shell</a>.</p>\n<h3>\nLearn what to improve with the {lintr} R package üì¶\n</h3><p>A first instinct might be to run the lintr package on the script. The <code>lint()</code> function performs static analysis and highlights potential problems in your R code, including formatting and programming suggestions.</p>\n<div class=\"highlight\">\n<pre>lintr::lint(\"test.R\", linters = lintr::all_linters())</pre>\n</div>\n<div class=\"highlight\">\n<pre>#&gt; index.Rmd:148:32: warning: [nonportable_path_linter] Use file.path() to construct portable file paths.\n#&gt; flir::fix(\"test.R\", linters = \"flir/rules/custom/stop_abort.yml\")\n#&gt; ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~\n#&gt; test.R:1:7: style: [infix_spaces_linter] Put spaces around all infix operators.\n#&gt; lleno &lt;-!any(is.na(x))\n#&gt; ^~\n#&gt; test.R:1:10: warning: [any_is_na_linter] anyNA(x) is better than any(is.na(x)).\n#&gt; lleno &lt;-!any(is.na(x))\n#&gt; ^~~~~~~~~~~~~\n#&gt; test.R:2:3: style: [infix_spaces_linter] Put spaces around all infix operators.\n#&gt; ok&lt;- !(x[1] == y[1])\n#&gt; ^~\n#&gt; test.R:2:6: warning: [comparison_negation_linter] Use x != y, not !(x == y).\n#&gt; ok&lt;- !(x[1] == y[1])\n#&gt; ^~~~~~~~~~~~~~~\n#&gt; test.R:2:11: style: [implicit_integer_linter] Use 1L or 1.0 to avoid implicit integers.\n#&gt; ok&lt;- !(x[1] == y[1])\n#&gt; ~^\n#&gt; test.R:2:19: style: [implicit_integer_linter] Use 1L or 1.0 to avoid implicit integers.\n#&gt; ok&lt;- !(x[1] == y[1])\n#&gt; ~^\n#&gt; test.R:3:10: style: [infix_spaces_linter] Put spaces around all infix operators.\n#&gt; if (ok) z&lt;- x + 1\n#&gt; ^~\n#&gt; test.R:3:19: style: [implicit_integer_linter] Use 1L or 1.0 to avoid implicit integers.\n#&gt; if (ok) z&lt;- x + 1\n#&gt; ~^\n#&gt; test.R:4:6: style: [infix_spaces_linter] Put spaces around all infix operators.\n#&gt; if (z&gt;3) stop(\"ouch\")\n#&gt; ^\n#&gt; test.R:4:8: style: [implicit_integer_linter] Use 3L or 3.0 to avoid implicit integers.\n#&gt; if (z&gt;3) stop(\"ouch\")\n#&gt; ~^\n#&gt; test.R:4:10: warning: [condition_call_linter] Use stop(., call. = FALSE) not to display the call in an error message.\n#&gt; if (z&gt;3) stop(\"ouch\")\n#&gt; ^~~~~~~~~~~~\n</pre>\n</div>\n<p>We therefore get alerts about</p>\n<ul>\n<li>styling: space around infix operators for instance; implicit integer.</li>\n<li>performance: <code>anyNA(x)</code> is better than <code>any(is.na(x))</code>.</li>\n</ul>\n<p>Since lintr has been around for a long time, it has an impressive collection of rules, the ‚Äúlinters‚Äù. Even reading their documentation can teach you a lot, especially as the <a href=\"https://lintr.r-lib.org/reference/index.html#individual-linters\" rel=\"nofollow\" target=\"_blank\">list</a> grows over time!</p>\n<p>Now, based on these alerts, how could we improve the code?</p>\n<h3>\nFormat with Air üíª$\n</h3><p>Air is software which automatically formats your R code according to a set of rules.</p>\n<p>In the terminal:</p>\n<pre>air format test.R\n</pre><p>And this returns:</p>\n<div class=\"highlight\">\n</div>\n<div class=\"highlight\">\n<pre>lleno &lt;- !any(is.na(x))\nok &lt;- !(x[1] == y[1])\nif (ok) {\n z &lt;- x + 1\n}\nif (z &gt; 3) {\n stop(\"ouch\")\n}</pre>\n</div>\n<p>Now, the spacing in the code is regular! The <code>if</code> condition is furthermore formatted on three lines instead of only one. Overall, the code is easier to read because it now follows popular conventions.</p>\n<p>Note that lintr and Air might have conflicting advice on styling: you can <a href=\"https://lintr.r-lib.org/articles/lintr.html#the--lintr-file\" rel=\"nofollow\" target=\"_blank\">deactivate lintr‚Äôs styling</a> related rules if you use Air.</p>\n<h3>\nImprove with the new jarl CLI! üíª$\n</h3><p>The jarl CLI lints and fixes your code, and like lintr, identifies potential problems, but unlike lintr, jarl also applies fixes!</p>\n<p>In the terminal:</p>\n<pre>jarl check test.R --fix\n</pre><div class=\"highlight\">\n</div>\n<div class=\"highlight\">\n<pre>lleno &lt;- !anyNA(x)\nok &lt;- !(x[1] == y[1])\nif (ok) {\n z &lt;- x + 1\n}\nif (z &gt; 3) {\n stop(\"ouch\")\n}</pre>\n</div>\n<p><code>any(is.na(x))</code> was automatically replaced with <code>anyNA(x)</code>!</p>\n<p>The jarl CLI is as fast for checking and fixing lints as Air is for styling. Furthermore, because it is a simple binary that does not need R to run, it‚Äôs quicker to install on continuous integration than an R package (that needs R to be installed for instance).</p>\n<p>However, since jarl is newer than lintr, it supports fewer rules for now.</p>\n<h3>\nImprove with the {flir} R package üì¶\n</h3><p>You could complement the usage of lintr, Air and jarl with flir which is better at <a href=\"https://flir.etiennebacher.com/articles/adding_rules\" rel=\"nofollow\" target=\"_blank\"><em>custom rules</em></a>. For instance, what if you‚Äôd prefer your codebase to use <a href=\"https://rlang.r-lib.org/reference/abort.html\" rel=\"nofollow\" target=\"_blank\"><code>rlang::abort()</code></a> instead of <a href=\"https://rdrr.io/r/base/stop.html\" rel=\"nofollow\" target=\"_blank\"><code>stop()</code></a>?</p>\n<p>We first run</p>\n<pre>flir::setup_flir(getwd())\n</pre><p>We save the file below under <code>flir/rules/custom/stop_abort.yml</code>.</p>\n<pre>id: stop_abort-1\nlanguage: r\nseverity: warning\nrule:\n pattern: stop($$$ELEMS)\nfix: rlang::abort(paste0(~~ELEMS~~))\nmessage: Use `rlang::abort()` instead of `stop()`.\n</pre><p>We then run</p>\n<div class=\"highlight\">\n<pre>flir::fix(\"test.R\", linters = \"flir/rules/custom/stop_abort.yml\")\n#&gt; ‚Ñπ Going to check 1 file.\n#&gt; ‚úî Fixed 1 lint in 1 file.\n</pre>\n</div>\n<div class=\"highlight\">\n<pre>lleno &lt;- !anyNA(x)\nok &lt;- !(x[1] == y[1])\nif (ok) {\n z &lt;- x + 1\n}\nif (z &gt; 3) {\n rlang::abort(paste0(\"ouch\"))\n}</pre>\n</div>\n<p>The call to <a href=\"https://rdrr.io/r/base/stop.html\" rel=\"nofollow\" target=\"_blank\"><code>stop()</code></a> was automatically replaced. Now, we might want to then manually remove the useless <a href=\"https://rdrr.io/r/base/paste.html\" rel=\"nofollow\" target=\"_blank\"><code>paste0()</code></a>, but we‚Äôre already closer to an ideal script.</p>\n<h2>\nIntegrating these tools into your workflow\n</h2><p>Locally, you can use those tools as needed. For instance, when inheriting an older project, the first thing I do is renovate the project by applying these tools. A real game changer is using the integration of these tools with your IDE. For instance, I have Positron set up so that <a href=\"https://posit-dev.github.io/air/editors.html\" rel=\"nofollow\" target=\"_blank\">Air</a> runs on my scripts when I save them. The jarl CLI also provides <a href=\"https://jarl.etiennebacher.com/editors\" rel=\"nofollow\" target=\"_blank\">integrations with IDEs</a>.</p>\n<p>You can also use those tools on continuous integration. For instance, a useful workflow might be to <a href=\"https://posit-dev.github.io/air/integration-github-actions.html#format-with-github-suggestions\" rel=\"nofollow\" target=\"_blank\">suggest formatting changes on Pull Requests</a>. The use of suggestions rather than a direct commit means the contributor gets a chance to learn about the improvements.</p>\n<p>Another aspect to consider is whether you want flir and jarl to <em>make</em> the changes as opposed to <em>alerting</em> you about them. Which you choose depends on the context, for example, you might learn more by doing the changes yourself. In any case, having a proper look at modifications before committing them is important!</p>\n<h2>\nWhat about artificial intelligence?\n</h2><p>Artificial intelligence can be useful in coding applications but‚Ä¶</p>\n<ul>\n<li>\n<p>The best LLMs are <a href=\"https://www.simonpcouch.com/blog/2025-12-04-local-agents/\" rel=\"nofollow\" target=\"_blank\">not local</a>;</p>\n</li>\n<li>\n<p>They cost money and are slower;</p>\n</li>\n<li>\n<p>They are not deterministic so you don‚Äôt necessarily get the same result every time you use one of them;</p>\n</li>\n<li>\n<p>Their usage may entail some ideological and ethical problems which can be concerning or unattractive.</p>\n</li>\n</ul>\n<p>Ultimately, for such alerts and fixes, you just don‚Äôt need to use an LLM‚Ä¶ Air, flir, jarl, and lintr already do an excellent job, are faster, and are free (not to mention FOSS)!</p>\n<h2>\nConclusion\n</h2><p>You can improve your code without effort, without even AI, using:</p>\n<ul>\n<li>\n<p><a href=\"https://lintr.r-lib.org/\" rel=\"nofollow\" target=\"_blank\">{lintr}</a> to signal ‚Äúbad‚Äù patterns, including <a href=\"https://github.com/r-lib/pkgdown/blob/c07d935583c90125586821e3b39ed52f16593e42/.lintr.R#L1\" rel=\"nofollow\" target=\"_blank\">customizable ones</a>;</p>\n</li>\n<li>\n<p><a href=\"https://posit-dev.github.io/air/\" rel=\"nofollow\" target=\"_blank\">Air</a>, to efficiently reformat code;</p>\n</li>\n<li>\n<p><a href=\"https://jarl.etiennebacher.com/\" rel=\"nofollow\" target=\"_blank\">jarl</a>, to detect and fix ‚Äúbad‚Äù patterns;</p>\n</li>\n<li>\n<p><a href=\"https://flir.etiennebacher.com/\" rel=\"nofollow\" target=\"_blank\">{flir}</a>, to efficiently refactor code with custom rules.</p>\n</li>\n</ul>\n<p>As with all tools that modify your code, their usage is best complemented by a human review.</p>\n<div class=\"jp-relatedposts\" id=\"jp-relatedposts\">\n<h3 class=\"jp-relatedposts-headline\"><em>Related</em></h3>\n</div>\n<!-- Share buttons by mashshare.net - Version: 4.0.47-->\n<div style=\"border: 1px solid; background: none repeat scroll 0 0 #EDEDED; margin: 1px; font-size: 13px;\">\n<div style=\"text-align: center;\">To <strong>leave a comment</strong> for the author, please follow the link and comment on their blog: <strong><a href=\"https://ropensci.org/blog/2025/12/15/better-code/\"> rOpenSci - open tools for open science</a></strong>.</div>\n<hr/>\n<a href=\"https://www.r-bloggers.com/\" rel=\"nofollow\">R-bloggers.com</a> offers <strong><a href=\"https://feedburner.google.com/fb/a/mailverify?uri=RBloggers\" rel=\"nofollow\">daily e-mail updates</a></strong> about <a href=\"https://www.r-project.org/\" rel=\"nofollow\" title=\"The R Project for Statistical Computing\">R</a> news and tutorials about <a href=\"https://www.r-bloggers.com/how-to-learn-r-2/\" rel=\"nofollow\" title=\"R tutorials\">learning R</a> and many other topics. <a href=\"https://www.r-users.com/\" rel=\"nofollow\" title=\"Data science jobs\">Click here if you're looking to post or find an R/data-science job</a>.\n\n<hr/>Want to share your content on R-bloggers?<a href=\"https://www.r-bloggers.com/add-your-blog/\" rel=\"nofollow\"> click here</a> if you have a blog, or <a href=\"http://r-posts.com/\" rel=\"nofollow\"> here</a> if you don't.\n</div> </div>\n</article>",
      "main_text": "Better Code, Without Any Effort, Without Even AI\nPosted on\nDecember 14, 2025\nby\nrOpenSci - open tools for open science\nin\nR bloggers\n| 0 Comments\n[This article was first published on\nrOpenSci - open tools for open science\n, and kindly contributed to\nR-bloggers\n].  (You can report issue about the content on this page\nhere\n)\nWant to share your content on R-bloggers?\nclick here\nif you have a blog, or\nhere\nif you don't.\nWe are experiencing a programming revolution, with the democratization of artificial intelligence,\nbut\nalso with the creation and improvement of more traditional software tools to improve your code: local, free, deterministic.\nIn this post, we will introduce you to\nüì¶\nlintr\n, by\nMichael Chirico and many others\n, an R package that detects many ways to improve your code;\nüíª$\nAir\n, by Lionel Henry and Davis Vaughan, a fast CLI (command-line interface) for formatting R code automatically and almost instantly;\nüíª$\njarl\n, by Etienne Bacher, another fast CLI (command-line interface) tool to find and automatically fix lints;\nüì¶\nflir\n, by Etienne Bacher, an R package to efficiently rewrite patterns of code, either built-in ones or custom ones.\nWith these four wonderful tools, you can effortlessly improve your code, your colleagues‚Äô code‚Ä¶ and even code proposed by AI. With a bit more effort, you might even internalize best practice and write better code from the get go in the future!\nAn example script\nLet‚Äôs start with a script containing a few problems‚Ä¶ Can you spot them?\nlleno <-!any(is.na(x))\nok<- !(x[1] == y[1])\nif (ok) z<- x + 1\nif (z>3) stop(\"ouch\")\nThe R console vs the terminal\nNote that in this post, some tools are used in the R console, but others are used in the terminal, that you might also know as command line or\nshell\n.\nLearn what to improve with the {lintr} R package üì¶\nA first instinct might be to run the lintr package on the script. The\nlint()\nfunction performs static analysis and highlights potential problems in your R code, including formatting and programming suggestions.\nlintr::lint(\"test.R\", linters = lintr::all_linters())\n#> index.Rmd:148:32: warning: [nonportable_path_linter] Use file.path() to construct portable file paths.\n#> flir::fix(\"test.R\", linters = \"flir/rules/custom/stop_abort.yml\")\n#> ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~\n#> test.R:1:7: style: [infix_spaces_linter] Put spaces around all infix operators.\n#> lleno <-!any(is.na(x))\n#> ^~\n#> test.R:1:10: warning: [any_is_na_linter] anyNA(x) is better than any(is.na(x)).\n#> lleno <-!any(is.na(x))\n#> ^~~~~~~~~~~~~\n#> test.R:2:3: style: [infix_spaces_linter] Put spaces around all infix operators.\n#> ok<- !(x[1] == y[1])\n#> ^~\n#> test.R:2:6: warning: [comparison_negation_linter] Use x != y, not !(x == y).\n#> ok<- !(x[1] == y[1])\n#> ^~~~~~~~~~~~~~~\n#> test.R:2:11: style: [implicit_integer_linter] Use 1L or 1.0 to avoid implicit integers.\n#> ok<- !(x[1] == y[1])\n#> ~^\n#> test.R:2:19: style: [implicit_integer_linter] Use 1L or 1.0 to avoid implicit integers.\n#> ok<- !(x[1] == y[1])\n#> ~^\n#> test.R:3:10: style: [infix_spaces_linter] Put spaces around all infix operators.\n#> if (ok) z<- x + 1\n#> ^~\n#> test.R:3:19: style: [implicit_integer_linter] Use 1L or 1.0 to avoid implicit integers.\n#> if (ok) z<- x + 1\n#> ~^\n#> test.R:4:6: style: [infix_spaces_linter] Put spaces around all infix operators.\n#> if (z>3) stop(\"ouch\")\n#> ^\n#> test.R:4:8: style: [implicit_integer_linter] Use 3L or 3.0 to avoid implicit integers.\n#> if (z>3) stop(\"ouch\")\n#> ~^\n#> test.R:4:10: warning: [condition_call_linter] Use stop(., call. = FALSE) not to display the call in an error message.\n#> if (z>3) stop(\"ouch\")\n#> ^~~~~~~~~~~~\nWe therefore get alerts about\nstyling: space around infix operators for instance; implicit integer.\nperformance:\nanyNA(x)\nis better than\nany(is.na(x))\n.\nSince lintr has been around for a long time, it has an impressive collection of rules, the ‚Äúlinters‚Äù. Even reading their documentation can teach you a lot, especially as the\nlist\ngrows over time!\nNow, based on these alerts, how could we improve the code?\nFormat with Air üíª$\nAir is software which automatically formats your R code according to a set of rules.\nIn the terminal:\nair format test.R\nAnd this returns:\nlleno <- !any(is.na(x))\nok <- !(x[1] == y[1])\nif (ok) {\n z <- x + 1\n}\nif (z > 3) {\n stop(\"ouch\")\n}\nNow, the spacing in the code is regular! The\nif\ncondition is furthermore formatted on three lines instead of only one. Overall, the code is easier to read because it now follows popular conventions.\nNote that lintr and Air might have conflicting advice on styling: you can\ndeactivate lintr‚Äôs styling\nrelated rules if you use Air.\nImprove with the new jarl CLI! üíª$\nThe jarl CLI lints and fixes your code, and like lintr, identifies potential problems, but unlike lintr, jarl also applies fixes!\nIn the terminal:\njarl check test.R --fix\nlleno <- !anyNA(x)\nok <- !(x[1] == y[1])\nif (ok) {\n z <- x + 1\n}\nif (z > 3) {\n stop(\"ouch\")\n}\nany(is.na(x))\nwas automatically replaced with\nanyNA(x)\n!\nThe jarl CLI is as fast for checking and fixing lints as Air is for styling. Furthermore, because it is a simple binary that does not need R to run, it‚Äôs quicker to install on continuous integration than an R package (that needs R to be installed for instance).\nHowever, since jarl is newer than lintr, it supports fewer rules for now.\nImprove with the {flir} R package üì¶\nYou could complement the usage of lintr, Air and jarl with flir which is better at\ncustom rules\n. For instance, what if you‚Äôd prefer your codebase to use\nrlang::abort()\ninstead of\nstop()\n?\nWe first run\nflir::setup_flir(getwd())\nWe save the file below under\nflir/rules/custom/stop_abort.yml\n.\nid: stop_abort-1\nlanguage: r\nseverity: warning\nrule:\n pattern: stop($$$ELEMS)\nfix: rlang::abort(paste0(~~ELEMS~~))\nmessage: Use `rlang::abort()` instead of `stop()`.\nWe then run\nflir::fix(\"test.R\", linters = \"flir/rules/custom/stop_abort.yml\")\n#> ‚Ñπ Going to check 1 file.\n#> ‚úî Fixed 1 lint in 1 file.\nlleno <- !anyNA(x)\nok <- !(x[1] == y[1])\nif (ok) {\n z <- x + 1\n}\nif (z > 3) {\n rlang::abort(paste0(\"ouch\"))\n}\nThe call to\nstop()\nwas automatically replaced. Now, we might want to then manually remove the useless\npaste0()\n, but we‚Äôre already closer to an ideal script.\nIntegrating these tools into your workflow\nLocally, you can use those tools as needed. For instance, when inheriting an older project, the first thing I do is renovate the project by applying these tools. A real game changer is using the integration of these tools with your IDE. For instance, I have Positron set up so that\nAir\nruns on my scripts when I save them. The jarl CLI also provides\nintegrations with IDEs\n.\nYou can also use those tools on continuous integration. For instance, a useful workflow might be to\nsuggest formatting changes on Pull Requests\n. The use of suggestions rather than a direct commit means the contributor gets a chance to learn about the improvements.\nAnother aspect to consider is whether you want flir and jarl to\nmake\nthe changes as opposed to\nalerting\nyou about them. Which you choose depends on the context, for example, you might learn more by doing the changes yourself. In any case, having a proper look at modifications before committing them is important!\nWhat about artificial intelligence?\nArtificial intelligence can be useful in coding applications but‚Ä¶\nThe best LLMs are\nnot local\n;\nThey cost money and are slower;\nThey are not deterministic so you don‚Äôt necessarily get the same result every time you use one of them;\nTheir usage may entail some ideological and ethical problems which can be concerning or unattractive.\nUltimately, for such alerts and fixes, you just don‚Äôt need to use an LLM‚Ä¶ Air, flir, jarl, and lintr already do an excellent job, are faster, and are free (not to mention FOSS)!\nConclusion\nYou can improve your code without effort, without even AI, using:\n{lintr}\nto signal ‚Äúbad‚Äù patterns, including\ncustomizable ones\n;\nAir\n, to efficiently reformat code;\njarl\n, to detect and fix ‚Äúbad‚Äù patterns;\n{flir}\n, to efficiently refactor code with custom rules.\nAs with all tools that modify your code, their usage is best complemented by a human review.\nRelated\nTo\nleave a comment\nfor the author, please follow the link and comment on their blog:\nrOpenSci - open tools for open science\n.\nR-bloggers.com\noffers\ndaily e-mail updates\nabout\nR\nnews and tutorials about\nlearning R\nand many other topics.\nClick here if you're looking to post or find an R/data-science job\n.\nWant to share your content on R-bloggers?\nclick here\nif you have a blog, or\nhere\nif you don't.",
      "meta_description": "We are experiencing a programming revolution, with the democratization of artificial intelligence, but also with the creation and improvement of more traditional software tools to improve your code: local, free, deterministic. In this post, we will in...",
      "meta_keywords": null,
      "og_description": "We are experiencing a programming revolution, with the democratization of artificial intelligence, but also with the creation and improvement of more traditional software tools to improve your code: local, free, deterministic. In this post, we will in...",
      "og_image": "https://www.r-bloggers.com/wp-content/uploads/2016/04/R_02_2016-05-01.png",
      "og_title": "Better Code, Without Any Effort, Without Even AI | R-bloggers",
      "raw_jsonld_article": null,
      "reading_time_min": 7.2,
      "sitemap_lastmod": null,
      "twitter_description": "We are experiencing a programming revolution, with the democratization of artificial intelligence, but also with the creation and improvement of more traditional software tools to improve your code: local, free, deterministic. In this post, we will in...",
      "twitter_title": "Better Code, Without Any Effort, Without Even AI | R-bloggers",
      "url": "https://www.r-bloggers.com/2025/12/better-code-without-any-effort-without-even-ai/",
      "word_count": 1439
    }
  }
}