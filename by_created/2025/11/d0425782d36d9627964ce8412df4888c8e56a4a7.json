{
  "id": "d0425782d36d9627964ce8412df4888c8e56a4a7",
  "url": "https://www.r-bloggers.com/2025/07/with-help-from-llms-e-g-deepseek-an-r-function-that-filters-a-list-of-vectors-using-indices-from-the-unlisted-data/",
  "created_at_utc": "2025-11-22T19:58:03Z",
  "data": null,
  "raw_original": {
    "uuid": "f861af84-0015-4bb0-86e4-8274e8d52bed",
    "created_at": "2025-11-22 19:58:03",
    "raw_json": {
      "article_author": null,
      "article_headline": null,
      "article_modified": null,
      "article_published": null,
      "article_section": null,
      "article_tags": null,
      "canonical_url": "https://www.r-bloggers.com/2025/07/with-help-from-llms-e-g-deepseek-an-r-function-that-filters-a-list-of-vectors-using-indices-from-the-unlisted-data/",
      "crawled_at": "2025-11-22T10:45:24.680198",
      "external_links": [
        {
          "href": "https://gacatag.blogspot.com/2025/07/with-help-from-deepseek-r-function-to.html",
          "text": "gacatag"
        },
        {
          "href": "http://r-posts.com/",
          "text": "here"
        },
        {
          "href": "https://i1.wp.com/blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEit60RH49oYTb1CPWzL39_iAKgNA4mOAd8HxZ4DlwU3H4hhTJEKbMW1MeEHB5pJPahXLxI-o6xstPIeY56Uew_3nZgo6lGLPEDCXU3r6kriH1aWpvZ22cyqgciOzL0De9PSGOjgMBNSqJx-itRy8LsXkDgTi_UADsg4YBsV8bpLLIHDOVjKVi2-_-zIGM2U/s960/a68727e6-645b-4978-bd69-021669abd379.jpg?ssl=1",
          "text": null
        },
        {
          "href": "https://gacatag.blogspot.com/2025/07/with-help-from-deepseek-r-function-to.html",
          "text": "gacatag"
        },
        {
          "href": "https://feedburner.google.com/fb/a/mailverify?uri=RBloggers",
          "text": "daily e-mail updates"
        },
        {
          "href": "https://www.r-project.org/",
          "text": "R"
        },
        {
          "href": "https://www.r-users.com/",
          "text": "Click here if you're looking to post or find an R/data-science job"
        },
        {
          "href": "http://r-posts.com/",
          "text": "here"
        }
      ],
      "h1_title": "R-bloggers",
      "html_title": "With help from LLMs (e.g. Deepseek) ! an R function that filters a list of vectors using indices from the unlisted data | R-bloggers",
      "images": [
        {
          "alt": null,
          "base64": "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",
          "src": "https://www.r-bloggers.com/wp-content/plugins/jetpack/modules/lazy-images/images/1x1.trans.gif"
        },
        {
          "alt": null,
          "base64": null,
          "src": "https://i1.wp.com/blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEit60RH49oYTb1CPWzL39_iAKgNA4mOAd8HxZ4DlwU3H4hhTJEKbMW1MeEHB5pJPahXLxI-o6xstPIeY56Uew_3nZgo6lGLPEDCXU3r6kriH1aWpvZ22cyqgciOzL0De9PSGOjgMBNSqJx-itRy8LsXkDgTi_UADsg4YBsV8bpLLIHDOVjKVi2-_-zIGM2U/s320/a68727e6-645b-4978-bd69-021669abd379.jpg?resize=450%2C960&ssl=1"
        }
      ],
      "internal_links": [
        {
          "href": "https://www.r-bloggers.com/author/di-cook/",
          "text": "Di Cook"
        },
        {
          "href": "https://www.r-bloggers.com/category/r-bloggers/",
          "text": "R bloggers"
        },
        {
          "href": "https://www.r-bloggers.com/",
          "text": "R-bloggers"
        },
        {
          "href": "https://www.r-bloggers.com/contact-us/",
          "text": "here"
        },
        {
          "href": "https://www.r-bloggers.com/add-your-blog/",
          "text": "click here"
        },
        {
          "href": "https://www.r-bloggers.com/",
          "text": "R-bloggers.com"
        },
        {
          "href": "https://www.r-bloggers.com/how-to-learn-r-2/",
          "text": "learning R"
        },
        {
          "href": "https://www.r-bloggers.com/add-your-blog/",
          "text": "click here"
        }
      ],
      "lang": "en-US",
      "main_html": "<article class=\"post-394107 post type-post status-publish format-standard hentry category-r-bloggers\">\n<header class=\"post-header\">\n<h1 class=\"entry-title\">With help from LLMs (e.g. Deepseek) ! an R function that filters a list of vectors using indices from the unlisted data</h1>\n<p class=\"meta post-meta\">Posted on <span class=\"updated\">July 15, 2025</span>  by <span class=\"vcard author\"><a class=\"fn\" href=\"https://www.r-bloggers.com/author/di-cook/\">Di Cook</a></span>  in <a href=\"https://www.r-bloggers.com/category/r-bloggers/\" rel=\"category tag\">R bloggers</a> | 0 Comments</p>\n</header>\n<div class=\"entry clearfix\">\n<!-- \n<div style=\"min-height: 30px;\">\n[social4i size=\"small\" align=\"align-left\"]\n</div>\n-->\n<div style=\"border: 1px solid; background: none repeat scroll 0 0 #EDEDED; margin: 1px; font-size: 12px;\">\n[This article was first published on  <strong><a href=\"https://gacatag.blogspot.com/2025/07/with-help-from-deepseek-r-function-to.html\"> gacatag</a></strong>, and kindly contributed to <a href=\"https://www.r-bloggers.com/\" rel=\"nofollow\">R-bloggers</a>].  (You can report issue about the content on this page <a href=\"https://www.r-bloggers.com/contact-us/\">here</a>)\n<hr/>Want to share your content on R-bloggers?<a href=\"https://www.r-bloggers.com/add-your-blog/\" rel=\"nofollow\"> click here</a> if you have a blog, or <a href=\"http://r-posts.com/\" rel=\"nofollow\"> here</a> if you don't.\n</div>\n\n<!-- Share buttons by mashshare.net - Version: 4.0.47--><p></p><p></p><div class=\"separator\" style=\"clear: both; text-align: center;\"><a href=\"https://i1.wp.com/blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEit60RH49oYTb1CPWzL39_iAKgNA4mOAd8HxZ4DlwU3H4hhTJEKbMW1MeEHB5pJPahXLxI-o6xstPIeY56Uew_3nZgo6lGLPEDCXU3r6kriH1aWpvZ22cyqgciOzL0De9PSGOjgMBNSqJx-itRy8LsXkDgTi_UADsg4YBsV8bpLLIHDOVjKVi2-_-zIGM2U/s960/a68727e6-645b-4978-bd69-021669abd379.jpg?ssl=1\" rel=\"nofollow\" style=\"margin-left: 1em; margin-right: 1em;\" target=\"_blank\"><img border=\"0\" data-lazy-src=\"https://i1.wp.com/blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEit60RH49oYTb1CPWzL39_iAKgNA4mOAd8HxZ4DlwU3H4hhTJEKbMW1MeEHB5pJPahXLxI-o6xstPIeY56Uew_3nZgo6lGLPEDCXU3r6kriH1aWpvZ22cyqgciOzL0De9PSGOjgMBNSqJx-itRy8LsXkDgTi_UADsg4YBsV8bpLLIHDOVjKVi2-_-zIGM2U/s320/a68727e6-645b-4978-bd69-021669abd379.jpg?resize=450%2C960&amp;ssl=1\" data-original-height=\"960\" data-original-width=\"450\" data-recalc-dims=\"1\" loading=\"lazy\" src=\"https://www.r-bloggers.com/wp-content/plugins/jetpack/modules/lazy-images/images/1x1.trans.gif\" width=\"450\"/><noscript><img border=\"0\" data-original-height=\"960\" data-original-width=\"450\" data-recalc-dims=\"1\" loading=\"lazy\" src=\"https://i1.wp.com/blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEit60RH49oYTb1CPWzL39_iAKgNA4mOAd8HxZ4DlwU3H4hhTJEKbMW1MeEHB5pJPahXLxI-o6xstPIeY56Uew_3nZgo6lGLPEDCXU3r6kriH1aWpvZ22cyqgciOzL0De9PSGOjgMBNSqJx-itRy8LsXkDgTi_UADsg4YBsV8bpLLIHDOVjKVi2-_-zIGM2U/s320/a68727e6-645b-4978-bd69-021669abd379.jpg?resize=450%2C960&amp;ssl=1\" width=\"450\"/></noscript></a></div><br/> <p></p><p>Upon users’ query, language learning models like ChatGPT and Deepseek can generate useful programming codes having been trained on many codes and texts available on the Internet.  However, at least according to my experience the generated scripts are not always correct or useful. Some times I can get a more useful code if I continue to discuss and query for awhile !<br/></p><p>The following is one of those occasions that the immediately generated codes by Deepseek were very useful to me. This may have been due to the fact that the problem was clear and easy to define precisely. The request was that it generate an R function that allows filtering of a list of vectors (e.g <i><span style=\"color: #6aa84f; font-family: courier;\">lst</span></i>) using filtering indices based on the unlisted vector. I noticed that two functions were used in the generated codes that I don’t use frequently in R coding (I use alternative methods to achieve the same outcomes !). These functions are: 1. the <span style=\"color: #38761d; font-family: courier;\">seq_along </span>function and 2. The <span style=\"color: #38761d; font-family: courier;\">split</span> function with 2 input vectors as parameters. </p><p>How has your experience been with using LLMs (e.g. ChatGPT and DeepSeek) for coding ?</p><p>What apps or online tools do you use for this purpose ? <br/></p><p>When do you get more useful codes ?</p><p>How do you query to get better codes ?</p><p> </p><span><a name=\"more\"></a></span><p>Here is the function and two use cases. Do note that I slightly modified it to improve the handling of lists with no element-names and the handling when the filtering leads to empty vectors within the list.<br/></p><p><span style=\"color: #45818e; font-family: courier;\">#Defining the function </span><span style=\"color: #45818e; font-family: courier;\"><br/></span></p><p><span style=\"color: #38761d; font-family: courier;\">filter_list_by_unlisted_indices &lt;- function(lst, remove_indices, remove_empty=TRUE) {<br/>  <br/></span><span style=\"color: #45818e; font-family: courier;\">  # Check for and deel with lists that don’t have names</span><span style=\"color: #38761d; font-family: courier;\"><br/>  lstBkup=lst<br/>  if(is.null(names(lstBkup)))<br/>    names(lst)=paste(“n”,1:length(lst), sep=””)<br/></span><span style=\"color: #45818e; font-family: courier;\">  # Unlist with names attribute preserved</span><span style=\"color: #38761d; font-family: courier;\"><br/>  utest &lt;- unlist(lst, use.names = FALSE)<br/>  names_vec &lt;- rep(names(lst), lengths(lst))<br/>  <br/></span><span style=\"color: #45818e; font-family: courier;\">  # Get the indices to keep</span><span style=\"color: #38761d; font-family: courier;\"><br/>  all_indices &lt;- seq_along(utest)<br/>  keep_indices &lt;- setdiff(all_indices, remove_indices)<br/>  <br/></span><span style=\"color: #45818e; font-family: courier;\">  # Split the kept values back into the list structure</span><span style=\"color: #38761d; font-family: courier;\"><br/>  kept_values &lt;- utest[keep_indices]<br/>  kept_names &lt;- names_vec[keep_indices]<br/>  <br/></span><span style=\"color: #45818e; font-family: courier;\">  # Reconstruct the list</span><span style=\"color: #38761d; font-family: courier;\"><br/>  filtered_list &lt;- split(kept_values, kept_names)<br/>  <br/></span><span style=\"color: #45818e; font-family: courier;\">  # Preserve original order and structure</span><span style=\"color: #38761d; font-family: courier;\"><br/>  selNames=names(lst)<br/>  if(remove_empty)<br/>    selNames=selNames[selNames%in%unique(kept_names)]<br/>  <br/>  filtered_list &lt;- filtered_list[selNames]</span><span style=\"color: #38761d; font-family: courier;\"><br/>  <br/>  </span><span style=\"color: #45818e; font-family: courier;\"># Set NULL names for the output list if lst lacks names</span><span style=\"color: #38761d; font-family: courier;\"><br/>  if(is.null(names(lstBkup)))<br/>  names(filtered_list)=NULL<br/>  return(filtered_list)<br/>}<br/></span></p><p><span style=\"color: #45818e; font-family: courier;\">#Using the function</span><span style=\"color: #6aa84f; font-family: courier;\"> </span><span style=\"color: #38761d; font-family: courier;\"><br/></span><span style=\"color: #6aa84f; font-family: courier;\">(tmp=filter_list_by_unlisted_indices(lst=list(a=1:3,b=4:14,c=15:20), remove_indices=c(3:15), remove_empty=TRUE))</span></p><p><span style=\"color: #76a5af; font-family: courier;\">#$a<br/>#[1] 1 2<br/><br/>#$c<br/>#[1] 16 17 18 19 20</span><span style=\"color: #6aa84f; font-family: courier;\"><br/> </span></p><p><span style=\"color: #6aa84f; font-family: courier;\">(tmp=filter_list_by_unlisted_indices(lst=list(1:3,4:14,15:20), remove_indices=c(3:15), remove_empty=TRUE))</span></p><p><span style=\"color: #76a5af; font-family: courier;\">#[[1]]<br/>#[1] 1 2<br/><br/>#[[2]]<br/>#[1] 16 17 18 19 20 </span></p><p><br/></p><p>My typo-filled Deepseek query was as follows:</p><p></p><blockquote><span style=\"color: #3d85c6;\">Hi! Let’s say that in R programming, I have a list of vectors called \ntest that is defined as test=list(a=1:5, b=6:9, c=10:20) and the \nvectorized list being utest=unlist(test). How can I remove elements of \nvectors within the list test if I have the filtering indexes from the \nutest (i.e. vectorized list). As for instance how can I remove the \nelements from the ‘test’ list that  correspond to 3rd, 5th, 18th and \n20th elements of utest. Please wirte an function that does the filtering\n for any list and index vector of the vectorized list (and reutrns the \nfiltered list).</span></blockquote><p> </p><p><span style=\"font-size: small;\">Of course the picture was generated using yet another LLM-based tool <i>i.e.</i> Grok! The query </span><span style=\"font-size: small; white-space: pre-wrap;\"><i><span style=\"color: #6aa84f;\">Draw “Language Learning models generating programming codes using machine learning”</span></i> was used.</span></p><p></p>\n<div class=\"jp-relatedposts\" id=\"jp-relatedposts\">\n<h3 class=\"jp-relatedposts-headline\"><em>Related</em></h3>\n</div>\n<!-- Share buttons by mashshare.net - Version: 4.0.47-->\n<div style=\"border: 1px solid; background: none repeat scroll 0 0 #EDEDED; margin: 1px; font-size: 13px;\">\n<div style=\"text-align: center;\">To <strong>leave a comment</strong> for the author, please follow the link and comment on their blog: <strong><a href=\"https://gacatag.blogspot.com/2025/07/with-help-from-deepseek-r-function-to.html\"> gacatag</a></strong>.</div>\n<hr/>\n<a href=\"https://www.r-bloggers.com/\" rel=\"nofollow\">R-bloggers.com</a> offers <strong><a href=\"https://feedburner.google.com/fb/a/mailverify?uri=RBloggers\" rel=\"nofollow\">daily e-mail updates</a></strong> about <a href=\"https://www.r-project.org/\" rel=\"nofollow\" title=\"The R Project for Statistical Computing\">R</a> news and tutorials about <a href=\"https://www.r-bloggers.com/how-to-learn-r-2/\" rel=\"nofollow\" title=\"R tutorials\">learning R</a> and many other topics. <a href=\"https://www.r-users.com/\" rel=\"nofollow\" title=\"Data science jobs\">Click here if you're looking to post or find an R/data-science job</a>.\n\n<hr/>Want to share your content on R-bloggers?<a href=\"https://www.r-bloggers.com/add-your-blog/\" rel=\"nofollow\"> click here</a> if you have a blog, or <a href=\"http://r-posts.com/\" rel=\"nofollow\"> here</a> if you don't.\n</div> </div>\n</article>",
      "main_text": "With help from LLMs (e.g. Deepseek) ! an R function that filters a list of vectors using indices from the unlisted data\nPosted on\nJuly 15, 2025\nby\nDi Cook\nin\nR bloggers\n| 0 Comments\n[This article was first published on\ngacatag\n, and kindly contributed to\nR-bloggers\n].  (You can report issue about the content on this page\nhere\n)\nWant to share your content on R-bloggers?\nclick here\nif you have a blog, or\nhere\nif you don't.\nUpon users’ query, language learning models like ChatGPT and Deepseek can generate useful programming codes having been trained on many codes and texts available on the Internet.  However, at least according to my experience the generated scripts are not always correct or useful. Some times I can get a more useful code if I continue to discuss and query for awhile !\nThe following is one of those occasions that the immediately generated codes by Deepseek were very useful to me. This may have been due to the fact that the problem was clear and easy to define precisely. The request was that it generate an R function that allows filtering of a list of vectors (e.g\nlst\n) using filtering indices based on the unlisted vector. I noticed that two functions were used in the generated codes that I don’t use frequently in R coding (I use alternative methods to achieve the same outcomes !). These functions are: 1. the\nseq_along\nfunction and 2. The\nsplit\nfunction with 2 input vectors as parameters.\nHow has your experience been with using LLMs (e.g. ChatGPT and DeepSeek) for coding ?\nWhat apps or online tools do you use for this purpose ?\nWhen do you get more useful codes ?\nHow do you query to get better codes ?\nHere is the function and two use cases. Do note that I slightly modified it to improve the handling of lists with no element-names and the handling when the filtering leads to empty vectors within the list.\n#Defining the function\nfilter_list_by_unlisted_indices <- function(lst, remove_indices, remove_empty=TRUE) {\n# Check for and deel with lists that don’t have names\nlstBkup=lst\nif(is.null(names(lstBkup)))\nnames(lst)=paste(“n”,1:length(lst), sep=””)\n# Unlist with names attribute preserved\nutest <- unlist(lst, use.names = FALSE)\nnames_vec <- rep(names(lst), lengths(lst))\n# Get the indices to keep\nall_indices <- seq_along(utest)\nkeep_indices <- setdiff(all_indices, remove_indices)\n# Split the kept values back into the list structure\nkept_values <- utest[keep_indices]\nkept_names <- names_vec[keep_indices]\n# Reconstruct the list\nfiltered_list <- split(kept_values, kept_names)\n# Preserve original order and structure\nselNames=names(lst)\nif(remove_empty)\nselNames=selNames[selNames%in%unique(kept_names)]\nfiltered_list <- filtered_list[selNames]\n# Set NULL names for the output list if lst lacks names\nif(is.null(names(lstBkup)))\nnames(filtered_list)=NULL\nreturn(filtered_list)\n}\n#Using the function\n(tmp=filter_list_by_unlisted_indices(lst=list(a=1:3,b=4:14,c=15:20), remove_indices=c(3:15), remove_empty=TRUE))\n#$a\n#[1] 1 2\n#$c\n#[1] 16 17 18 19 20\n(tmp=filter_list_by_unlisted_indices(lst=list(1:3,4:14,15:20), remove_indices=c(3:15), remove_empty=TRUE))\n#[[1]]\n#[1] 1 2\n#[[2]]\n#[1] 16 17 18 19 20\nMy typo-filled Deepseek query was as follows:\nHi! Let’s say that in R programming, I have a list of vectors called \ntest that is defined as test=list(a=1:5, b=6:9, c=10:20) and the \nvectorized list being utest=unlist(test). How can I remove elements of \nvectors within the list test if I have the filtering indexes from the \nutest (i.e. vectorized list). As for instance how can I remove the \nelements from the ‘test’ list that  correspond to 3rd, 5th, 18th and \n20th elements of utest. Please wirte an function that does the filtering\n for any list and index vector of the vectorized list (and reutrns the \nfiltered list).\nOf course the picture was generated using yet another LLM-based tool\ni.e.\nGrok! The query\nDraw “Language Learning models generating programming codes using machine learning”\nwas used.\nRelated\nTo\nleave a comment\nfor the author, please follow the link and comment on their blog:\ngacatag\n.\nR-bloggers.com\noffers\ndaily e-mail updates\nabout\nR\nnews and tutorials about\nlearning R\nand many other topics.\nClick here if you're looking to post or find an R/data-science job\n.\nWant to share your content on R-bloggers?\nclick here\nif you have a blog, or\nhere\nif you don't.",
      "meta_description": "Upon users' query, language learning models like ChatGPT and Deepseek can generate useful programming codes having been trained on many codes and texts available on the Internet. However, at least according to my experience the generated sc...",
      "meta_keywords": null,
      "og_description": "Upon users' query, language learning models like ChatGPT and Deepseek can generate useful programming codes having been trained on many codes and texts available on the Internet. However, at least according to my experience the generated sc...",
      "og_image": "https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEit60RH49oYTb1CPWzL39_iAKgNA4mOAd8HxZ4DlwU3H4hhTJEKbMW1MeEHB5pJPahXLxI-o6xstPIeY56Uew_3nZgo6lGLPEDCXU3r6kriH1aWpvZ22cyqgciOzL0De9PSGOjgMBNSqJx-itRy8LsXkDgTi_UADsg4YBsV8bpLLIHDOVjKVi2-_-zIGM2U/s320/a68727e6-645b-4978-bd69-021669abd379.jpg",
      "og_title": "With help from LLMs (e.g. Deepseek) ! an R function that filters a list of vectors using indices from the unlisted data | R-bloggers",
      "raw_jsonld_article": null,
      "reading_time_min": 3.7,
      "sitemap_lastmod": null,
      "twitter_description": "Upon users' query, language learning models like ChatGPT and Deepseek can generate useful programming codes having been trained on many codes and texts available on the Internet. However, at least according to my experience the generated sc...",
      "twitter_title": "With help from LLMs (e.g. Deepseek) ! an R function that filters a list of vectors using indices from the unlisted data | R-bloggers",
      "url": "https://www.r-bloggers.com/2025/07/with-help-from-llms-e-g-deepseek-an-r-function-that-filters-a-list-of-vectors-using-indices-from-the-unlisted-data/",
      "word_count": 739
    }
  }
}