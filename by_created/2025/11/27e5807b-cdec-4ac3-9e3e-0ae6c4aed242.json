{
  "uuid": "27e5807b-cdec-4ac3-9e3e-0ae6c4aed242",
  "created_at": "2025-11-17 20:39:26",
  "raw_json": {
    "article_author": null,
    "article_headline": null,
    "article_modified": null,
    "article_published": null,
    "article_section": null,
    "article_tags": null,
    "canonical_url": "https://www.r-bloggers.com/2023/10/harnessing-ai-in-r-and-python-gather-data-with-chatgpt/",
    "crawled_at": "2025-11-17T10:01:32.401675",
    "external_links": [
      {
        "href": "https://www.codingthepast.com/2023/11/01/AI-in-R.html",
        "text": "coding-the-past"
      },
      {
        "href": "http://r-posts.com/",
        "text": "here"
      },
      {
        "href": "https://openai.com/blog/chatgpt",
        "text": "ChatGPT"
      },
      {
        "href": "https://en.wikipedia.org/w/index.php?title=German_casualties_in_World_War_II&oldid=1180060662",
        "text": "German casualties in World War II"
      },
      {
        "href": "https://en.wikipedia.org/w/index.php?title=German_casualties_in_World_War_II&oldid=1180060662",
        "text": "German casualties in World War II"
      },
      {
        "href": "https://www.codingthepast.com/2023/01/24/Historical-Weather-Data.html",
        "text": "‘Climate data visualization with ggplot2’"
      },
      {
        "href": "https://www.codingthepast.com/2023/11/01/AI-in-R.html",
        "text": "coding-the-past"
      },
      {
        "href": "https://feedburner.google.com/fb/a/mailverify?uri=RBloggers",
        "text": "daily e-mail updates"
      },
      {
        "href": "https://www.r-project.org/",
        "text": "R"
      },
      {
        "href": "https://www.r-users.com/",
        "text": "Click here if you're looking to post or find an R/data-science job"
      },
      {
        "href": "http://r-posts.com/",
        "text": "here"
      }
    ],
    "h1_title": "R-bloggers",
    "html_title": "Harnessing AI in R and Python – Gather data with ChatGPT | R-bloggers",
    "images": [
      {
        "alt": "Figure showing Wikipedia article and its table",
        "base64": "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",
        "src": "https://www.r-bloggers.com/wp-content/plugins/jetpack/modules/lazy-images/images/1x1.trans.gif"
      },
      {
        "alt": "Figure showing Wikipedia article and its table",
        "base64": null,
        "src": "https://i1.wp.com/www.codingthepast.com/assets/images/lesson_16_01.png?w=578&ssl=1"
      },
      {
        "alt": "Figure with tips for writing a good ChatGPT prompt",
        "base64": "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",
        "src": "https://www.r-bloggers.com/wp-content/plugins/jetpack/modules/lazy-images/images/1x1.trans.gif"
      },
      {
        "alt": "Figure with tips for writing a good ChatGPT prompt",
        "base64": null,
        "src": "https://i0.wp.com/www.codingthepast.com/assets/images/lesson_16_02.png?w=578&ssl=1"
      },
      {
        "alt": "ChatGPT prompt with highlighted elements",
        "base64": "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",
        "src": "https://www.r-bloggers.com/wp-content/plugins/jetpack/modules/lazy-images/images/1x1.trans.gif"
      },
      {
        "alt": "ChatGPT prompt with highlighted elements",
        "base64": null,
        "src": "https://i0.wp.com/www.codingthepast.com/assets/images/lesson_16_03.png?w=578&ssl=1"
      },
      {
        "alt": "Bar plot showing number of deaths per front in the German Army in the Second World War",
        "base64": "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",
        "src": "https://www.r-bloggers.com/wp-content/plugins/jetpack/modules/lazy-images/images/1x1.trans.gif"
      },
      {
        "alt": "Bar plot showing number of deaths per front in the German Army in the Second World War",
        "base64": null,
        "src": "https://i0.wp.com/www.codingthepast.com/assets/images/lesson_16_04.png?w=578&ssl=1"
      }
    ],
    "internal_links": [
      {
        "href": "https://www.r-bloggers.com/author/ponne-bruno/",
        "text": "Ponne, Bruno"
      },
      {
        "href": "https://www.r-bloggers.com/category/r-bloggers/",
        "text": "R bloggers"
      },
      {
        "href": "https://www.r-bloggers.com/",
        "text": "R-bloggers"
      },
      {
        "href": "https://www.r-bloggers.com/contact-us/",
        "text": "here"
      },
      {
        "href": "https://www.r-bloggers.com/add-your-blog/",
        "text": "click here"
      },
      {
        "href": "https://www.r-bloggers.com/",
        "text": "R-bloggers.com"
      },
      {
        "href": "https://www.r-bloggers.com/how-to-learn-r-2/",
        "text": "learning R"
      },
      {
        "href": "https://www.r-bloggers.com/add-your-blog/",
        "text": "click here"
      }
    ],
    "lang": "en-US",
    "main_html": "<article class=\"post-379564 post type-post status-publish format-standard hentry category-r-bloggers\">\n<header class=\"post-header\">\n<h1 class=\"entry-title\">Harnessing AI in R and Python – Gather data with ChatGPT</h1>\n<p class=\"meta post-meta\">Posted on <span class=\"updated\">October 31, 2023</span>  by <span class=\"vcard author\"><a class=\"fn\" href=\"https://www.r-bloggers.com/author/ponne-bruno/\">Ponne, Bruno</a></span>  in <a href=\"https://www.r-bloggers.com/category/r-bloggers/\" rel=\"category tag\">R bloggers</a> | 0 Comments</p>\n</header>\n<div class=\"entry clearfix\">\n<!-- \r\n<div style=\"min-height: 30px;\">\r\n[social4i size=\"small\" align=\"align-left\"]\r\n</div>\r\n-->\n<div style=\"border: 1px solid; background: none repeat scroll 0 0 #EDEDED; margin: 1px; font-size: 12px;\">\r\n[This article was first published on  <strong><a href=\"https://www.codingthepast.com/2023/11/01/AI-in-R.html\"> coding-the-past</a></strong>, and kindly contributed to <a href=\"https://www.r-bloggers.com/\" rel=\"nofollow\">R-bloggers</a>].  (You can report issue about the content on this page <a href=\"https://www.r-bloggers.com/contact-us/\">here</a>)\r\n<hr/>Want to share your content on R-bloggers?<a href=\"https://www.r-bloggers.com/add-your-blog/\" rel=\"nofollow\"> click here</a> if you have a blog, or <a href=\"http://r-posts.com/\" rel=\"nofollow\"> here</a> if you don't.\r\n</div>\n\n<!-- Share buttons by mashshare.net - Version: 3.8.9--><p><br/></p>\n<h1 id=\"ai-in-r-and-python\">AI in R and Python</h1>\n<p><br/></p>\n<p><strong>Greetings, humanists, social and data scientists!</strong></p>\n<p><br/></p>\n<p>Welcome to this enlightening journey to extract historical data from the Web using AI! In this lesson, we delve into the innovative ways of harnessing the power of ChatGPT to gather data for your analyses. Specifically, you’ll learn how to command ChatGPT to retrieve historical data from a Wikipedia article and present it in a neat R and Pandas dataframe.</p>\n<p><br/></p>\n<p><a href=\"https://openai.com/blog/chatgpt\" rel=\"nofollow\" target=\"_blank\">ChatGPT</a> is an advanced large language model that has the remarkable capability to generate human-like text based on the prompts it receives. With ChatGPT, you can ask questions or provide instructions, and it will respond with relevant and coherent written answers. By the end of this post, the vast historical archives of Wikipedia will be just a prompt away, all thanks to the capabilities of ChatGPT.</p>\n<p><br/></p>\n<hr>\n<p><br/></p>\n<h1 id=\"data-source\">Data source</h1>\n<p>The data used in this tutorial is presented in the Wikipedia article <a href=\"https://en.wikipedia.org/w/index.php?title=German_casualties_in_World_War_II&amp;oldid=1180060662\" rel=\"nofollow\" target=\"_blank\">German casualties in World War II</a>. This article offers an overview of the casualties sustained by the German Army during the Second World War.</p>\n<p><br/></p>\n<hr/>\n<p><br/></p>\n<h2 id=\"1-use-chatgpt-to-retrieve-data-in-a-wikipedia-table\">1. Use ChatGPT to retrieve data in a Wikipedia table</h2>\n<p>The first step to gather the data is to access <a href=\"https://en.wikipedia.org/w/index.php?title=German_casualties_in_World_War_II&amp;oldid=1180060662\" rel=\"nofollow\" target=\"_blank\">German casualties in World War II</a>. This article provides an exploration of the number of deaths, wounded, and sick people during World War II in Germany.</p>\n<p><br/></p>\n<p>Suppose you are interested in studying how the war differed across the different fronts and geographical regions. You see the second table presented in the article and would like to make a visualization showing the number of deaths in the German Army across the different war fronts. For small tables like this, you can simply select and copy the data you would like to transform in a dataframe, as shown in the figure below.</p>\n<p><br/></p>\n<p><img alt=\"Figure showing Wikipedia article and its table\" data-lazy-src=\"https://i1.wp.com/www.codingthepast.com/assets/images/lesson_16_01.png?w=578&amp;ssl=1\" data-recalc-dims=\"1\" src=\"https://www.r-bloggers.com/wp-content/plugins/jetpack/modules/lazy-images/images/1x1.trans.gif\"/><noscript><img alt=\"Figure showing Wikipedia article and its table\" data-recalc-dims=\"1\" src=\"https://i1.wp.com/www.codingthepast.com/assets/images/lesson_16_01.png?w=578&amp;ssl=1\"/></noscript></p>\n<p><br/></p>\n<p>In this example, we will only gather the Army section of the table. Once you have copied the data, you are ready to use ChatGPT.</p>\n<p><br/></p>\n<hr/>\n<p><br/></p>\n<h2 id=\"2-a-good-chatgpt-prompt\">2. A good ChatGPT prompt</h2>\n<p>When writing prompts for ChatGPT, clarity and specificity are key. Start by providing enough context so the model understands what you’re asking. Being explicit about the format or type of answer you want can also help guide ChatGPT in generating a response that meets your expectations.</p>\n<p><br/></p>\n<p>Additionally, including examples of desired responses can be beneficial. Always consider the “garbage in, garbage out” principle; a well-crafted prompt is more likely to result in a useful and coherent response.</p>\n<p><br/></p>\n<p><img alt=\"Figure with tips for writing a good ChatGPT prompt\" data-lazy-src=\"https://i0.wp.com/www.codingthepast.com/assets/images/lesson_16_02.png?w=578&amp;ssl=1\" data-recalc-dims=\"1\" src=\"https://www.r-bloggers.com/wp-content/plugins/jetpack/modules/lazy-images/images/1x1.trans.gif\"/><noscript><img alt=\"Figure with tips for writing a good ChatGPT prompt\" data-recalc-dims=\"1\" src=\"https://i0.wp.com/www.codingthepast.com/assets/images/lesson_16_02.png?w=578&amp;ssl=1\"/></noscript></p>\n<p><br/></p>\n<p>For the R prompt, consult step 3 below and for the Python prompt jump to step 4.</p>\n<p><br/></p>\n<hr/>\n<p><br/></p>\n<h2 id=\"3-ai-for-r\">3. AI for R</h2>\n<p>Below you can see a suggestion of prompt to ask ChatGPT to transform the text input copied from Wikipedia in an R dataframe. In the figure, we highlight each part of the prompt. Moreover, ChatGPT response is provided.</p>\n<p><br/></p>\n<p class=\"larger\"><img alt=\"ChatGPT prompt with highlighted elements\" data-lazy-src=\"https://i0.wp.com/www.codingthepast.com/assets/images/lesson_16_03.png?w=578&amp;ssl=1\" data-recalc-dims=\"1\" src=\"https://www.r-bloggers.com/wp-content/plugins/jetpack/modules/lazy-images/images/1x1.trans.gif\"/><noscript><img alt=\"ChatGPT prompt with highlighted elements\" data-recalc-dims=\"1\" src=\"https://i0.wp.com/www.codingthepast.com/assets/images/lesson_16_03.png?w=578&amp;ssl=1\"/></noscript></p>\n<p><br/></p>\n<p>If you would like, you can copy the prompt here:</p>\n<p><br/></p>\n<p><span class=\"material-symbols-outlined\" data-cf-modified-35bd812577814b743e7ca178-=\"\" id=\"copy-button\" onclick=\"if (!window.__cfRLUnblockHandlers) return false; copyCode('code-16-1')\">\n  content_copy\n  <span class=\"tooltiptext\">Copy</span>\n</span></p>\n<div id=\"code-16-1\">\n<figure class=\"highlight\"><pre>You are a data scientist investigating the number of deaths in the German Army during the Second World War.  Please, could you transform the table below into an R data frame made with the data.frame( ) function? The character \"-\" should be replaced by NA.  The table was copied from a Wikipedia place and is as follows: \"\"\"\nDescription\tDead\tMissing &amp; POW\tTotal\tWounded &amp; Sick\nArmy\t\t\t\t\nEastern Front\t1,105,987\t1,018,365\t2,124,352\t3,498,059\nNorth: Norway/Finland\t16,639\t5,157\t21,796\t60,451\nSouthwest: N Africa/Italy\t50,481\t194,250\t244,731\t163,602\nSoutheast: Balkans\t19,235\t14,805\t34,040\t55,069\nWest: France/Low Countries\t107,042\t409,715\t516,757\t399,856\nTraining Forces\t10,467\t1,337\t11,804\t42,174\nDied of Wounds-All Fronts\t295,659\t-\t295,659\t-\nLocation not Given\t17,051\t2,687\t19,738\t- \"\"\"</pre></figure>\n</div>\n<p><br/></p>\n<p>And here is the model’s answer:</p>\n<p><br/></p>\n<p><span class=\"material-symbols-outlined\" data-cf-modified-35bd812577814b743e7ca178-=\"\" id=\"copy-button\" onclick=\"if (!window.__cfRLUnblockHandlers) return false; copyCode('code-16-2')\">\n  content_copy\n  <span class=\"tooltiptext\">Copy</span>\n</span></p>\n<div id=\"code-16-2\">\n<figure class=\"highlight\"><pre>df &lt;- data.frame(\n  Description = c(\"Eastern Front\", \"North: Norway/Finland\", \"Southwest: N Africa/Italy\", \"Southeast: Balkans\", \"West: France/Low Countries\", \"Training Forces\", \"Died of Wounds-All Fronts\", \"Location not Given\"),\n  Dead = as.integer(gsub(\",\", \"\", c(\"1105987\", \"16639\", \"50481\", \"19235\", \"107042\", \"10467\", \"295659\", \"17051\"))),\n  Missing_POW = as.integer(gsub(\",\", \"\", c(\"1018365\", \"5157\", \"194250\", \"14805\", \"409715\", \"1337\", NA, \"2687\"))),\n  Total = as.integer(gsub(\",\", \"\", c(\"2124352\", \"21796\", \"244731\", \"34040\", \"516757\", \"11804\", \"295659\", \"19738\"))),\n  Wounded_Sick = as.integer(gsub(\",\", \"\", c(\"3498059\", \"60451\", \"163602\", \"55069\", \"399856\", \"42174\", NA, NA)))\n)</pre></figure>\n</div>\n<p><br/></p>\n<p>And that’s it. In a few seconds you have your data formatted in a nice dataframe, ready to be analyzed.</p>\n<p><br/></p>\n<p>Now we will make a simple bar plot to visualize the total number of deaths by front. To do that, we use ggplot. Note that we reorder the variable <code>Description</code> so that it is ordered from the largest number of deaths to the smallest. Moreover, we also divide <code>Total</code> by one million to have millions of deaths in the x axis. To add a customized ggplot2 theme, like the one in the plot presented below, check the lesson <a href=\"https://www.codingthepast.com/2023/01/24/Historical-Weather-Data.html\" rel=\"nofollow\" target=\"_blank\">‘Climate data visualization with ggplot2’</a></p>\n<p><br/></p>\n<p><span class=\"material-symbols-outlined\" data-cf-modified-35bd812577814b743e7ca178-=\"\" id=\"copy-button\" onclick=\"if (!window.__cfRLUnblockHandlers) return false; copyCode('code-16-3')\">\n  content_copy\n  <span class=\"tooltiptext\">Copy</span>\n</span></p>\n<div id=\"code-16-3\">\n<figure class=\"highlight\"><pre>ggplot(df, aes(y = reorder(Description, Total), x = Total/1000000)) +\n  geom_bar(stat = \"identity\", fill = \"#FF6885\")+\n  labs(title = \"Deaths in the German Army by location or cause\",\n       subtitle = \"Second World War (1939-1945)\",\n       y = \"Front/Cause\",\n       x = \"Number of Deaths [in millions]\",\n       caption = \"Source: German casualties in World War II. Wikipedia\")</pre></figure>\n</div>\n<p><br/></p>\n<p class=\"larger\"><img alt=\"Bar plot showing number of deaths per front in the German Army in the Second World War\" data-lazy-src=\"https://i0.wp.com/www.codingthepast.com/assets/images/lesson_16_04.png?w=578&amp;ssl=1\" data-recalc-dims=\"1\" src=\"https://www.r-bloggers.com/wp-content/plugins/jetpack/modules/lazy-images/images/1x1.trans.gif\"/><noscript><img alt=\"Bar plot showing number of deaths per front in the German Army in the Second World War\" data-recalc-dims=\"1\" src=\"https://i0.wp.com/www.codingthepast.com/assets/images/lesson_16_04.png?w=578&amp;ssl=1\"/></noscript></p>\n<p><br/></p>\n<p>It is remarkable that most of casualties occurred in the Eastern Front while the least lethal front was in the nordic countries.</p>\n<div class=\"text-note\">\n<span class=\"material-symbols-outlined\">\n        tips_and_updates\n    </span>\n<span class=\"text-note-title\">  </span>\n<div class=\"text-note-content\"> The approach demonstrated in this lesson is effective for small tables. However, when faced with larger and more complex tables, ChatGPT tends to avoid the task of assembling a dataframe directly. Instead, it often proposes a solution that involves scraping the table in R using the page URL. You should also consider the prompt length limit when using this approach.\n        \n    </div>\n</div>\n<p><br/></p>\n<h2 id=\"4-ai-for-python\">4. AI for Python</h2>\n<p>The prompt for achieving the same result in Python is almost the same, but we ask for a Pandas data frame, instead of an R data frame.</p>\n<p><br/></p>\n<p><span class=\"material-symbols-outlined\" data-cf-modified-35bd812577814b743e7ca178-=\"\" id=\"copy-button\" onclick=\"if (!window.__cfRLUnblockHandlers) return false; copyCode('code-16-4')\">\n  content_copy\n  <span class=\"tooltiptext\">Copy</span>\n</span></p>\n<div id=\"code-16-4\">\n<figure class=\"highlight\"><pre>You are a data scientist investigating the number of deaths in the German Army during the Second World War.  Please, could you transform the table below into a Pandas data frame? The character \"-\" should be replaced by NA.  The table was copied from a Wikipedia place and is as follows: \"\"\"\nDescription\tDead\tMissing &amp; POW\tTotal\tWounded &amp; Sick\nArmy\t\t\t\t\nEastern Front\t1,105,987\t1,018,365\t2,124,352\t3,498,059\nNorth: Norway/Finland\t16,639\t5,157\t21,796\t60,451\nSouthwest: N Africa/Italy\t50,481\t194,250\t244,731\t163,602\nSoutheast: Balkans\t19,235\t14,805\t34,040\t55,069\nWest: France/Low Countries\t107,042\t409,715\t516,757\t399,856\nTraining Forces\t10,467\t1,337\t11,804\t42,174\nDied of Wounds-All Fronts\t295,659\t-\t295,659\t-\nLocation not Given\t17,051\t2,687\t19,738\t- \"\"\"</pre></figure>\n</div>\n<p><br/></p>\n<p>This prompts correctly organizes the data in a Pandas data frame, as shown below:</p>\n<p><br/></p>\n<p><span class=\"material-symbols-outlined\" data-cf-modified-35bd812577814b743e7ca178-=\"\" id=\"copy-button\" onclick=\"if (!window.__cfRLUnblockHandlers) return false; copyCode('code-16-5')\">\n  content_copy\n  <span class=\"tooltiptext\">Copy</span>\n</span></p>\n<div id=\"code-16-5\">\n<figure class=\"highlight\"><pre>import pandas as pd\nimport numpy as np\n\ndata = {\n    \"Description\": [\"Eastern Front\", \"North: Norway/Finland\", \"Southwest: N Africa/Italy\", \"Southeast: Balkans\", \"West: France/Low Countries\", \"Training Forces\", \"Died of Wounds-All Fronts\", \"Location not Given\"],\n    \"Dead\": [1105987, 16639, 50481, 19235, 107042, 10467, 295659, 17051],\n    \"Missing &amp; POW\": [1018365, 5157, 194250, 14805, 409715, 1337, np.nan, 2687],\n    \"Total\": [2124352, 21796, 244731, 34040, 516757, 11804, 295659, 19738],\n    \"Wounded &amp; Sick\": [3498059, 60451, 163602, 55069, 399856, 42174, np.nan, np.nan]\n}\n\ndf = pd.DataFrame(data)\n\nprint(df)</pre></figure>\n</div>\n<p><br/></p>\n<p><strong>Keep in mind that accuracy is not one of ChatGPT’s strengths. While I have not seen any mistakes in the code above, it is always good to revise ChatGPT’s work. Let me know if you have any suggestions on how to improve this method. Also, leave any questions or concerns you might have in the comments below.</strong></p>\n<p><br/></p>\n<hr/>\n<p><br/></p>\n<h1 id=\"conclusions\">Conclusions</h1>\n<p><br/></p>\n<ul class=\"conclusion-list\">\n<li>ChatGPT is a powerful tool that can be utilized to efficiently gather and organize historical data from the web, specifically Wikipedia, into structured data frames for analysis in R and Python;</li>\n<li>Clarity and specificity are essential when crafting prompts for ChatGPT to ensure accurate and relevant responses;</li>\n<li>While this method is highly effective for small tables, it’s important to note that ChatGPT may suggest alternative solutions such as web scraping for larger and more complex tables, and to always review ChatGPT’s output for accuracy.</li>\n</ul>\n<p><br/></p>\n<hr/>\n<div class=\"jp-relatedposts\" id=\"jp-relatedposts\">\n<h3 class=\"jp-relatedposts-headline\"><em>Related</em></h3>\n</div>\n<!-- Share buttons by mashshare.net - Version: 3.8.9-->\n<div style=\"border: 1px solid; background: none repeat scroll 0 0 #EDEDED; margin: 1px; font-size: 13px;\">\n<div style=\"text-align: center;\">To <strong>leave a comment</strong> for the author, please follow the link and comment on their blog: <strong><a href=\"https://www.codingthepast.com/2023/11/01/AI-in-R.html\"> coding-the-past</a></strong>.</div>\n<hr/>\n<a href=\"https://www.r-bloggers.com/\" rel=\"nofollow\">R-bloggers.com</a> offers <strong><a href=\"https://feedburner.google.com/fb/a/mailverify?uri=RBloggers\" rel=\"nofollow\">daily e-mail updates</a></strong> about <a href=\"https://www.r-project.org/\" rel=\"nofollow\" title=\"The R Project for Statistical Computing\">R</a> news and tutorials about <a href=\"https://www.r-bloggers.com/how-to-learn-r-2/\" rel=\"nofollow\" title=\"R tutorials\">learning R</a> and many other topics. <a href=\"https://www.r-users.com/\" rel=\"nofollow\" title=\"Data science jobs\">Click here if you're looking to post or find an R/data-science job</a>.\r\n\r\n<hr/>Want to share your content on R-bloggers?<a href=\"https://www.r-bloggers.com/add-your-blog/\" rel=\"nofollow\"> click here</a> if you have a blog, or <a href=\"http://r-posts.com/\" rel=\"nofollow\"> here</a> if you don't.\r\n</div> </hr></div>\n</article>",
    "main_text": "Harnessing AI in R and Python – Gather data with ChatGPT\nPosted on\nOctober 31, 2023\nby\nPonne, Bruno\nin\nR bloggers\n| 0 Comments\n[This article was first published on\ncoding-the-past\n, and kindly contributed to\nR-bloggers\n].  (You can report issue about the content on this page\nhere\n)\nWant to share your content on R-bloggers?\nclick here\nif you have a blog, or\nhere\nif you don't.\nAI in R and Python\nGreetings, humanists, social and data scientists!\nWelcome to this enlightening journey to extract historical data from the Web using AI! In this lesson, we delve into the innovative ways of harnessing the power of ChatGPT to gather data for your analyses. Specifically, you’ll learn how to command ChatGPT to retrieve historical data from a Wikipedia article and present it in a neat R and Pandas dataframe.\nChatGPT\nis an advanced large language model that has the remarkable capability to generate human-like text based on the prompts it receives. With ChatGPT, you can ask questions or provide instructions, and it will respond with relevant and coherent written answers. By the end of this post, the vast historical archives of Wikipedia will be just a prompt away, all thanks to the capabilities of ChatGPT.\nData source\nThe data used in this tutorial is presented in the Wikipedia article\nGerman casualties in World War II\n. This article offers an overview of the casualties sustained by the German Army during the Second World War.\n1. Use ChatGPT to retrieve data in a Wikipedia table\nThe first step to gather the data is to access\nGerman casualties in World War II\n. This article provides an exploration of the number of deaths, wounded, and sick people during World War II in Germany.\nSuppose you are interested in studying how the war differed across the different fronts and geographical regions. You see the second table presented in the article and would like to make a visualization showing the number of deaths in the German Army across the different war fronts. For small tables like this, you can simply select and copy the data you would like to transform in a dataframe, as shown in the figure below.\nIn this example, we will only gather the Army section of the table. Once you have copied the data, you are ready to use ChatGPT.\n2. A good ChatGPT prompt\nWhen writing prompts for ChatGPT, clarity and specificity are key. Start by providing enough context so the model understands what you’re asking. Being explicit about the format or type of answer you want can also help guide ChatGPT in generating a response that meets your expectations.\nAdditionally, including examples of desired responses can be beneficial. Always consider the “garbage in, garbage out” principle; a well-crafted prompt is more likely to result in a useful and coherent response.\nFor the R prompt, consult step 3 below and for the Python prompt jump to step 4.\n3. AI for R\nBelow you can see a suggestion of prompt to ask ChatGPT to transform the text input copied from Wikipedia in an R dataframe. In the figure, we highlight each part of the prompt. Moreover, ChatGPT response is provided.\nIf you would like, you can copy the prompt here:\ncontent_copy\nCopy\nYou are a data scientist investigating the number of deaths in the German Army during the Second World War.  Please, could you transform the table below into an R data frame made with the data.frame( ) function? The character \"-\" should be replaced by NA.  The table was copied from a Wikipedia place and is as follows: \"\"\"\nDescription\tDead\tMissing & POW\tTotal\tWounded & Sick\nArmy\t\t\t\t\nEastern Front\t1,105,987\t1,018,365\t2,124,352\t3,498,059\nNorth: Norway/Finland\t16,639\t5,157\t21,796\t60,451\nSouthwest: N Africa/Italy\t50,481\t194,250\t244,731\t163,602\nSoutheast: Balkans\t19,235\t14,805\t34,040\t55,069\nWest: France/Low Countries\t107,042\t409,715\t516,757\t399,856\nTraining Forces\t10,467\t1,337\t11,804\t42,174\nDied of Wounds-All Fronts\t295,659\t-\t295,659\t-\nLocation not Given\t17,051\t2,687\t19,738\t- \"\"\"\nAnd here is the model’s answer:\ncontent_copy\nCopy\ndf <- data.frame(\n  Description = c(\"Eastern Front\", \"North: Norway/Finland\", \"Southwest: N Africa/Italy\", \"Southeast: Balkans\", \"West: France/Low Countries\", \"Training Forces\", \"Died of Wounds-All Fronts\", \"Location not Given\"),\n  Dead = as.integer(gsub(\",\", \"\", c(\"1105987\", \"16639\", \"50481\", \"19235\", \"107042\", \"10467\", \"295659\", \"17051\"))),\n  Missing_POW = as.integer(gsub(\",\", \"\", c(\"1018365\", \"5157\", \"194250\", \"14805\", \"409715\", \"1337\", NA, \"2687\"))),\n  Total = as.integer(gsub(\",\", \"\", c(\"2124352\", \"21796\", \"244731\", \"34040\", \"516757\", \"11804\", \"295659\", \"19738\"))),\n  Wounded_Sick = as.integer(gsub(\",\", \"\", c(\"3498059\", \"60451\", \"163602\", \"55069\", \"399856\", \"42174\", NA, NA)))\n)\nAnd that’s it. In a few seconds you have your data formatted in a nice dataframe, ready to be analyzed.\nNow we will make a simple bar plot to visualize the total number of deaths by front. To do that, we use ggplot. Note that we reorder the variable\nDescription\nso that it is ordered from the largest number of deaths to the smallest. Moreover, we also divide\nTotal\nby one million to have millions of deaths in the x axis. To add a customized ggplot2 theme, like the one in the plot presented below, check the lesson\n‘Climate data visualization with ggplot2’\ncontent_copy\nCopy\nggplot(df, aes(y = reorder(Description, Total), x = Total/1000000)) +\n  geom_bar(stat = \"identity\", fill = \"#FF6885\")+\n  labs(title = \"Deaths in the German Army by location or cause\",\n       subtitle = \"Second World War (1939-1945)\",\n       y = \"Front/Cause\",\n       x = \"Number of Deaths [in millions]\",\n       caption = \"Source: German casualties in World War II. Wikipedia\")\nIt is remarkable that most of casualties occurred in the Eastern Front while the least lethal front was in the nordic countries.\ntips_and_updates\nThe approach demonstrated in this lesson is effective for small tables. However, when faced with larger and more complex tables, ChatGPT tends to avoid the task of assembling a dataframe directly. Instead, it often proposes a solution that involves scraping the table in R using the page URL. You should also consider the prompt length limit when using this approach.\n4. AI for Python\nThe prompt for achieving the same result in Python is almost the same, but we ask for a Pandas data frame, instead of an R data frame.\ncontent_copy\nCopy\nYou are a data scientist investigating the number of deaths in the German Army during the Second World War.  Please, could you transform the table below into a Pandas data frame? The character \"-\" should be replaced by NA.  The table was copied from a Wikipedia place and is as follows: \"\"\"\nDescription\tDead\tMissing & POW\tTotal\tWounded & Sick\nArmy\t\t\t\t\nEastern Front\t1,105,987\t1,018,365\t2,124,352\t3,498,059\nNorth: Norway/Finland\t16,639\t5,157\t21,796\t60,451\nSouthwest: N Africa/Italy\t50,481\t194,250\t244,731\t163,602\nSoutheast: Balkans\t19,235\t14,805\t34,040\t55,069\nWest: France/Low Countries\t107,042\t409,715\t516,757\t399,856\nTraining Forces\t10,467\t1,337\t11,804\t42,174\nDied of Wounds-All Fronts\t295,659\t-\t295,659\t-\nLocation not Given\t17,051\t2,687\t19,738\t- \"\"\"\nThis prompts correctly organizes the data in a Pandas data frame, as shown below:\ncontent_copy\nCopy\nimport pandas as pd\nimport numpy as np\n\ndata = {\n    \"Description\": [\"Eastern Front\", \"North: Norway/Finland\", \"Southwest: N Africa/Italy\", \"Southeast: Balkans\", \"West: France/Low Countries\", \"Training Forces\", \"Died of Wounds-All Fronts\", \"Location not Given\"],\n    \"Dead\": [1105987, 16639, 50481, 19235, 107042, 10467, 295659, 17051],\n    \"Missing & POW\": [1018365, 5157, 194250, 14805, 409715, 1337, np.nan, 2687],\n    \"Total\": [2124352, 21796, 244731, 34040, 516757, 11804, 295659, 19738],\n    \"Wounded & Sick\": [3498059, 60451, 163602, 55069, 399856, 42174, np.nan, np.nan]\n}\n\ndf = pd.DataFrame(data)\n\nprint(df)\nKeep in mind that accuracy is not one of ChatGPT’s strengths. While I have not seen any mistakes in the code above, it is always good to revise ChatGPT’s work. Let me know if you have any suggestions on how to improve this method. Also, leave any questions or concerns you might have in the comments below.\nConclusions\nChatGPT is a powerful tool that can be utilized to efficiently gather and organize historical data from the web, specifically Wikipedia, into structured data frames for analysis in R and Python;\nClarity and specificity are essential when crafting prompts for ChatGPT to ensure accurate and relevant responses;\nWhile this method is highly effective for small tables, it’s important to note that ChatGPT may suggest alternative solutions such as web scraping for larger and more complex tables, and to always review ChatGPT’s output for accuracy.\nRelated\nTo\nleave a comment\nfor the author, please follow the link and comment on their blog:\ncoding-the-past\n.\nR-bloggers.com\noffers\ndaily e-mail updates\nabout\nR\nnews and tutorials about\nlearning R\nand many other topics.\nClick here if you're looking to post or find an R/data-science job\n.\nWant to share your content on R-bloggers?\nclick here\nif you have a blog, or\nhere\nif you don't.",
    "meta_description": "AI in R and Python Greetings, humanists, social and data scientists! Welcome to this enlightening journey to extract historical data from the Web using AI! In this lesson, we delve into the innovative ways of harnessing the power of ChatGPT to ...",
    "meta_keywords": null,
    "og_description": "AI in R and Python Greetings, humanists, social and data scientists! Welcome to this enlightening journey to extract historical data from the Web using AI! In this lesson, we delve into the innovative ways of harnessing the power of ChatGPT to ...",
    "og_image": "https://www.codingthepast.com/assets/images/lesson_16_01.png",
    "og_title": "Harnessing AI in R and Python – Gather data with ChatGPT | R-bloggers",
    "raw_jsonld_article": null,
    "reading_time_min": 7.6,
    "sitemap_lastmod": "2023-11-01T00:00:00+00:00",
    "twitter_description": "AI in R and Python Greetings, humanists, social and data scientists! Welcome to this enlightening journey to extract historical data from the Web using AI! In this lesson, we delve into the innovative ways of harnessing the power of ChatGPT to ...",
    "twitter_title": "Harnessing AI in R and Python – Gather data with ChatGPT | R-bloggers",
    "url": "https://www.r-bloggers.com/2023/10/harnessing-ai-in-r-and-python-gather-data-with-chatgpt/",
    "word_count": 1526
  }
}