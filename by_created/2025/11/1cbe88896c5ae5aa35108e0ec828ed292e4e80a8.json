{
  "id": "1cbe88896c5ae5aa35108e0ec828ed292e4e80a8",
  "url": "https://www.r-bloggers.com/2025/03/llm-assisted-summarization-of-abstracts-and-bluesky-post-via-r/",
  "created_at_utc": "2025-11-22T19:59:03Z",
  "data": null,
  "raw_original": {
    "uuid": "46d3e073-1389-4ab6-98fe-8b7d7ea2f8c7",
    "created_at": "2025-11-22 19:59:03",
    "raw_json": {
      "article_author": null,
      "article_headline": null,
      "article_modified": null,
      "article_published": null,
      "article_section": null,
      "article_tags": null,
      "canonical_url": "https://www.r-bloggers.com/2025/03/llm-assisted-summarization-of-abstracts-and-bluesky-post-via-r/",
      "crawled_at": "2025-11-22T10:52:26.105387",
      "external_links": [
        {
          "href": "https://www.kenkoonwong.com/blog/summary-llm/",
          "text": "r on Everyday Is A School Day"
        },
        {
          "href": "http://r-posts.com/",
          "text": "here"
        },
        {
          "href": "https://www.kenkoonwong.com/blog/summary-llm/#motivation",
          "text": null
        },
        {
          "href": "https://www.kenkoonwong.com/blog/summary-llm/#objectives",
          "text": null
        },
        {
          "href": "https://www.kenkoonwong.com/blog/summary-llm/#motivation",
          "text": "Motivation"
        },
        {
          "href": "https://www.kenkoonwong.com/blog/summary-llm/#feed",
          "text": "Get ID RSS Feed"
        },
        {
          "href": "https://www.kenkoonwong.com/blog/summary-llm/#llm",
          "text": "Summarize via LLM"
        },
        {
          "href": "https://www.kenkoonwong.com/blog/summary-llm/#post",
          "text": "Post On Bluesky"
        },
        {
          "href": "https://www.kenkoonwong.com/blog/summary-llm/#limit",
          "text": "Limitation"
        },
        {
          "href": "https://www.kenkoonwong.com/blog/summary-llm/#final",
          "text": "Final Thoughts"
        },
        {
          "href": "https://www.kenkoonwong.com/blog/summary-llm/#ack",
          "text": "Acknowledgement"
        },
        {
          "href": "https://www.kenkoonwong.com/blog/summary-llm/#lessons",
          "text": "Lessons Learnt"
        },
        {
          "href": "https://www.kenkoonwong.com/blog/summary-llm/#feed",
          "text": null
        },
        {
          "href": "https://www.kenkoonwong.com/blog/summary-llm/#get-old-data",
          "text": null
        },
        {
          "href": "https://www.kenkoonwong.com/blog/summary-llm/#match-with-new-data",
          "text": null
        },
        {
          "href": "https://www.kenkoonwong.com/blog/summary-llm/#llm",
          "text": null
        },
        {
          "href": "https://www.kenkoonwong.com/blog/summary-llm/#post",
          "text": null
        },
        {
          "href": "https://www.kenkoonwong.com/blog/summary-llm/#save-it-and-post-later",
          "text": null
        },
        {
          "href": "https://www.kenkoonwong.com/blog/summary-llm/#limit",
          "text": null
        },
        {
          "href": "https://openai.com/api/pricing/",
          "text": "affordable"
        },
        {
          "href": "https://platform.openai.com/docs/guides/batch",
          "text": "50% off if batched"
        },
        {
          "href": "https://www.kenkoonwong.com/blog/summary-llm/#final",
          "text": null
        },
        {
          "href": "https://www.kenkoonwong.com/blog/summary-llm/#ack",
          "text": null
        },
        {
          "href": "https://bsky.app/profile/jonathanrydermd.bsky.social",
          "text": "Jonathan Ryder"
        },
        {
          "href": "https://bsky.app/profile/josephmarcusid.medsky.social",
          "text": "Joseph Marcus"
        },
        {
          "href": "https://www.kenkoonwong.com/blog/summary-llm/#lessons",
          "text": null
        },
        {
          "href": "https://www.kenkoonwong.com/blog/",
          "text": "comment or visit my other blogs"
        },
        {
          "href": "https://bsky.app/profile/kenkoonwong.bsky.social",
          "text": "BlueSky"
        },
        {
          "href": "https://twitter.com/kenkoonwong/",
          "text": "twitter"
        },
        {
          "href": "https://github.com/kenkoonwong/",
          "text": "GitHub"
        },
        {
          "href": "https://med-mastodon.com/@kenkoonwong",
          "text": "Mastodon"
        },
        {
          "href": "https://www.kenkoonwong.com/contact/",
          "text": "contact me"
        },
        {
          "href": "https://www.kenkoonwong.com/blog/summary-llm/",
          "text": "r on Everyday Is A School Day"
        },
        {
          "href": "https://feedburner.google.com/fb/a/mailverify?uri=RBloggers",
          "text": "daily e-mail updates"
        },
        {
          "href": "https://www.r-project.org/",
          "text": "R"
        },
        {
          "href": "https://www.r-users.com/",
          "text": "Click here if you're looking to post or find an R/data-science job"
        },
        {
          "href": "http://r-posts.com/",
          "text": "here"
        }
      ],
      "h1_title": "R-bloggers",
      "html_title": "LLM-assisted Summarization of Abstracts And Bluesky Post via R | R-bloggers",
      "images": [
        {
          "alt": null,
          "base64": "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",
          "src": "https://www.r-bloggers.com/wp-content/plugins/jetpack/modules/lazy-images/images/1x1.trans.gif"
        },
        {
          "alt": null,
          "base64": null,
          "src": "https://i1.wp.com/www.kenkoonwong.com/blog/summary-llm/llm.png?w=578&ssl=1"
        },
        {
          "alt": null,
          "base64": "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",
          "src": "https://www.r-bloggers.com/wp-content/plugins/jetpack/modules/lazy-images/images/1x1.trans.gif"
        },
        {
          "alt": null,
          "base64": null,
          "src": "https://i2.wp.com/www.kenkoonwong.com/blog/summary-llm/post.png?w=578&ssl=1"
        }
      ],
      "internal_links": [
        {
          "href": "https://www.r-bloggers.com/author/r-on-everyday-is-a-school-day/",
          "text": "r on Everyday Is A School Day"
        },
        {
          "href": "https://www.r-bloggers.com/category/r-bloggers/",
          "text": "R bloggers"
        },
        {
          "href": "https://www.r-bloggers.com/",
          "text": "R-bloggers"
        },
        {
          "href": "https://www.r-bloggers.com/contact-us/",
          "text": "here"
        },
        {
          "href": "https://www.r-bloggers.com/add-your-blog/",
          "text": "click here"
        },
        {
          "href": "https://www.r-bloggers.com/",
          "text": "R-bloggers.com"
        },
        {
          "href": "https://www.r-bloggers.com/how-to-learn-r-2/",
          "text": "learning R"
        },
        {
          "href": "https://www.r-bloggers.com/add-your-blog/",
          "text": "click here"
        }
      ],
      "lang": "en-US",
      "main_html": "<article class=\"post-391261 post type-post status-publish format-standard hentry category-r-bloggers\">\n<header class=\"post-header\">\n<h1 class=\"entry-title\">LLM-assisted Summarization of Abstracts And Bluesky Post via R</h1>\n<p class=\"meta post-meta\">Posted on <span class=\"updated\">March 15, 2025</span>  by <span class=\"vcard author\"><a class=\"fn\" href=\"https://www.r-bloggers.com/author/r-on-everyday-is-a-school-day/\">r on Everyday Is A School Day</a></span>  in <a href=\"https://www.r-bloggers.com/category/r-bloggers/\" rel=\"category tag\">R bloggers</a> | 0 Comments</p>\n</header>\n<div class=\"entry clearfix\">\n<!-- \n<div style=\"min-height: 30px;\">\n[social4i size=\"small\" align=\"align-left\"]\n</div>\n-->\n<div style=\"border: 1px solid; background: none repeat scroll 0 0 #EDEDED; margin: 1px; font-size: 12px;\">\n[This article was first published on  <strong><a href=\"https://www.kenkoonwong.com/blog/summary-llm/\"> r on Everyday Is A School Day</a></strong>, and kindly contributed to <a href=\"https://www.r-bloggers.com/\" rel=\"nofollow\">R-bloggers</a>].  (You can report issue about the content on this page <a href=\"https://www.r-bloggers.com/contact-us/\">here</a>)\n<hr/>Want to share your content on R-bloggers?<a href=\"https://www.r-bloggers.com/add-your-blog/\" rel=\"nofollow\"> click here</a> if you have a blog, or <a href=\"http://r-posts.com/\" rel=\"nofollow\"> here</a> if you don't.\n</div>\n\n<!-- Share buttons by mashshare.net - Version: 4.0.47--><blockquote>\n<p>How do we identify relevant articles in our domains? This project uses example journal RSS feeds with abstracts, uses LLMs to extract points of interest, and shares insights on Blueskyâ€”stimulating curiosity.</p>\n</blockquote>\n<p><img alt=\"\" data-lazy-src=\"https://i1.wp.com/www.kenkoonwong.com/blog/summary-llm/llm.png?w=578&amp;ssl=1\" data-recalc-dims=\"1\" src=\"https://www.r-bloggers.com/wp-content/plugins/jetpack/modules/lazy-images/images/1x1.trans.gif\"/><noscript><img alt=\"\" data-recalc-dims=\"1\" src=\"https://i1.wp.com/www.kenkoonwong.com/blog/summary-llm/llm.png?w=578&amp;ssl=1\"/></noscript></p>\n<h2 id=\"motivation\">Motivations\n  <a href=\"https://www.kenkoonwong.com/blog/summary-llm/#motivation\" rel=\"nofollow\" target=\"_blank\"><svg aria-hidden=\"true\" class=\"anchor-symbol\" height=\"26\" viewbox=\"0 0 22 22\" width=\"26\" xmlns=\"http://www.w3.org/2000/svg\">\n<path d=\"M0 0h24v24H0z\" fill=\"currentColor\"></path>\n<path d=\"M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76.0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71.0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71.0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76.0 5-2.24 5-5s-2.24-5-5-5z\"></path>\n</svg></a>\n</h2>\n<p>There are countless excellent articles published daily, but how do we identify which ones are relevant to our domains? How can we extract the essence of an articleâ€”specifically, its abstract? Letâ€™s build something that uses Bluesky as a forum to stimulate curiosity and learning.</p>\n<p>The plan is to leverage RSS feeds provided by journals (which hopefully include abstracts) and then use those abstracts with an LLM to capture the essence. This could trigger curiosity in several ways: perhaps something seems unusual or intriguing, prompting us to verify if the LLM interpreted it correctly. Maybe weâ€™ve already read the abstract and article, but the LLM identified something we missed.</p>\n<p>Following the summary of the summary generation ðŸ¤£, how can we utilize Bluesky as a platform to share these insights? Weâ€™re going to explore how to implement all of these capabilities in R.</p>\n<h2 id=\"objectives\">Objectives:\n  <a href=\"https://www.kenkoonwong.com/blog/summary-llm/#objectives\" rel=\"nofollow\" target=\"_blank\"><svg aria-hidden=\"true\" class=\"anchor-symbol\" height=\"26\" viewbox=\"0 0 22 22\" width=\"26\" xmlns=\"http://www.w3.org/2000/svg\">\n<path d=\"M0 0h24v24H0z\" fill=\"currentColor\"></path>\n<path d=\"M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76.0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71.0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71.0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76.0 5-2.24 5-5s-2.24-5-5-5z\"></path>\n</svg></a>\n</h2>\n<ul>\n<li>\n<a href=\"https://www.kenkoonwong.com/blog/summary-llm/#motivation\" rel=\"nofollow\" target=\"_blank\">Motivation</a></li>\n<li>\n<a href=\"https://www.kenkoonwong.com/blog/summary-llm/#feed\" rel=\"nofollow\" target=\"_blank\">Get ID RSS Feed</a></li>\n<li>\n<a href=\"https://www.kenkoonwong.com/blog/summary-llm/#llm\" rel=\"nofollow\" target=\"_blank\">Summarize via LLM</a></li>\n<li>\n<a href=\"https://www.kenkoonwong.com/blog/summary-llm/#post\" rel=\"nofollow\" target=\"_blank\">Post On Bluesky</a></li>\n<li>\n<a href=\"https://www.kenkoonwong.com/blog/summary-llm/#limit\" rel=\"nofollow\" target=\"_blank\">Limitation</a></li>\n<li>\n<a href=\"https://www.kenkoonwong.com/blog/summary-llm/#final\" rel=\"nofollow\" target=\"_blank\">Final Thoughts</a></li>\n<li>\n<a href=\"https://www.kenkoonwong.com/blog/summary-llm/#ack\" rel=\"nofollow\" target=\"_blank\">Acknowledgement</a></li>\n<li>\n<a href=\"https://www.kenkoonwong.com/blog/summary-llm/#lessons\" rel=\"nofollow\" target=\"_blank\">Lessons Learnt</a></li>\n</ul>\n<h2 id=\"feed\">Get ID RSS Feed\n  <a href=\"https://www.kenkoonwong.com/blog/summary-llm/#feed\" rel=\"nofollow\" target=\"_blank\"><svg aria-hidden=\"true\" class=\"anchor-symbol\" height=\"26\" viewbox=\"0 0 22 22\" width=\"26\" xmlns=\"http://www.w3.org/2000/svg\">\n<path d=\"M0 0h24v24H0z\" fill=\"currentColor\"></path>\n<path d=\"M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76.0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71.0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71.0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76.0 5-2.24 5-5s-2.24-5-5-5z\"></path>\n</svg></a>\n</h2>\n<pre>library(tidyverse)\nlibrary(tidyRSS)\n\nurl &lt;- \"https://academic.oup.com/rss/site_5269/3135.xml\"\n\n(df &lt;- tidyfeed(url))\n\n## # A tibble: 46 Ã— 13\n##    feed_title       feed_link feed_description feed_language feed_pub_date      \n##    &lt;chr&gt;            &lt;chr&gt;     &lt;chr&gt;            &lt;chr&gt;         &lt;dttm&gt;             \n##  1 Clinical Infectâ€¦ http://aâ€¦ \"\\n    \"         en-us         2025-02-24 00:00:00\n##  2 Clinical Infectâ€¦ http://aâ€¦ \"\\n    \"         en-us         2025-02-24 00:00:00\n##  3 Clinical Infectâ€¦ http://aâ€¦ \"\\n    \"         en-us         2025-02-24 00:00:00\n##  4 Clinical Infectâ€¦ http://aâ€¦ \"\\n    \"         en-us         2025-02-24 00:00:00\n##  5 Clinical Infectâ€¦ http://aâ€¦ \"\\n    \"         en-us         2025-02-24 00:00:00\n##  6 Clinical Infectâ€¦ http://aâ€¦ \"\\n    \"         en-us         2025-02-24 00:00:00\n##  7 Clinical Infectâ€¦ http://aâ€¦ \"\\n    \"         en-us         2025-02-24 00:00:00\n##  8 Clinical Infectâ€¦ http://aâ€¦ \"\\n    \"         en-us         2025-02-24 00:00:00\n##  9 Clinical Infectâ€¦ http://aâ€¦ \"\\n    \"         en-us         2025-02-24 00:00:00\n## 10 Clinical Infectâ€¦ http://aâ€¦ \"\\n    \"         en-us         2025-02-24 00:00:00\n## # â„¹ 36 more rows\n## # â„¹ 8 more variables: feed_last_build_date &lt;dttm&gt;, feed_generator &lt;chr&gt;,\n## #   item_title &lt;chr&gt;, item_link &lt;chr&gt;, item_description &lt;chr&gt;,\n## #   item_pub_date &lt;dttm&gt;, item_guid &lt;chr&gt;, item_category &lt;list&gt;\n</pre><p>Itâ€™s that simple! Two lines of codes. I really appreciate that Oxford publisher adds abstract to their RSS feed. This is very helpful to send to LLM for summarization.</p>\n<p>In order to set it as an automation, weâ€™d have to pull old data and see if it matches new data. Letâ€™s assume we already have old data thatâ€™s been save in <code>rda</code>. Iâ€™m going to simulate old data but removing random 50% of <code>df</code>, like so. And create a column <code>sent</code> with number <code>1</code>, my way of stating these have been posted on bluesky.</p>\n<h3 id=\"get-old-data\">Get old data\n  <a href=\"https://www.kenkoonwong.com/blog/summary-llm/#get-old-data\" rel=\"nofollow\" target=\"_blank\"><svg aria-hidden=\"true\" class=\"anchor-symbol\" height=\"26\" viewbox=\"0 0 22 22\" width=\"26\" xmlns=\"http://www.w3.org/2000/svg\">\n<path d=\"M0 0h24v24H0z\" fill=\"currentColor\"></path>\n<path d=\"M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76.0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71.0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71.0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76.0 5-2.24 5-5s-2.24-5-5-5z\"></path>\n</svg></a>\n</h3>\n<pre>df_old &lt;- df |&gt;\n  slice_sample(prop = 0.5) |&gt;\n  mutate(sent = 1)\n</pre><p>but in reality weâ€™d load it from data file like so.</p>\n<pre>(load(\"old_data.rda\")) #assuming it's saved under df_old \n\n## [1] \"df_old\"\n</pre><p>Also note that there is no LLM summary in our mock df_old.</p>\n<h3 id=\"match-with-new-data\">Match with new data\n  <a href=\"https://www.kenkoonwong.com/blog/summary-llm/#match-with-new-data\" rel=\"nofollow\" target=\"_blank\"><svg aria-hidden=\"true\" class=\"anchor-symbol\" height=\"26\" viewbox=\"0 0 22 22\" width=\"26\" xmlns=\"http://www.w3.org/2000/svg\">\n<path d=\"M0 0h24v24H0z\" fill=\"currentColor\"></path>\n<path d=\"M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76.0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71.0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71.0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76.0 5-2.24 5-5s-2.24-5-5-5z\"></path>\n</svg></a>\n</h3>\n<p>Letâ€™s assume that <code>df</code>, the newly captured RSS feed is our new data, which weâ€™ll want to <code>anti_join</code> the old ones to only return the ones that in our old data.</p>\n<pre>df_new &lt;- df |&gt;\n  anti_join(df_old, by = \"item_link\") |&gt;\n  mutate(sent = 0)\n\ndf_new[10,\"item_description\"] |&gt; pull()\n\n## [1] \"AbstractBackgroundBlastomycosis is an environmentally acquired fungal infection that can result in severe pulmonary illness and high hospitalization rates. In 2023, a blastomycosis outbreak was detected among workers at a paper mill in Delta County, Michigan.MethodsWe included patients with clinical and laboratory evidence of blastomycosis who had spent â‰¥40â€…hours in Delta County since 1 September 2022 and had illness onset 1 December 2022â€“1 July 2023. We assessed epidemiological and clinical features of patients and evaluated factors associated with hospitalization. We performed whole-genome sequencing to characterize genetic relatedness of clinical isolates from 8 patients.ResultsIn total, 131 patients were identified; all had worked at or visited the mill. Sixteen patients (12%) were hospitalized; 1 died. Compared with nonhospitalized patients, more hospitalized patients had diabetes (P = .03) and urine antigen titers above the lower limit of quantification (P &lt; .001). Hospitalized patients were also more likely to have had â‰¥1 healthcare visits before receiving a blastomycosis diagnostic test (P = .02) and to have been treated with antibiotics prior to antifungal prescription (P = .001). All sequenced isolates were identified as Blastomyces gilchristii and clustered into a distinct outbreak cluster.ConclusionsThis was the largest documented blastomycosis outbreak in the United States. Epidemiologic evidence indicated exposures occurred at or near the mill, and genomic findings suggested a common exposure source. Patients with diabetes may have increased risk of hospitalization, and elevated urine antigen titers could indicate greater disease severity. Early suspicion of blastomycosis may prompt earlier diagnosis and treatment, potentially reducing unnecessary antibiotic prescriptions and improving patient outcomes.\"\n</pre><p>As you can see, looking at row 10 of the data, CID RSS feed does include abstract! ðŸ™Œ Lucky for us!</p>\n<h2 id=\"llm\">Summarize via LLM\n  <a href=\"https://www.kenkoonwong.com/blog/summary-llm/#llm\" rel=\"nofollow\" target=\"_blank\"><svg aria-hidden=\"true\" class=\"anchor-symbol\" height=\"26\" viewbox=\"0 0 22 22\" width=\"26\" xmlns=\"http://www.w3.org/2000/svg\">\n<path d=\"M0 0h24v24H0z\" fill=\"currentColor\"></path>\n<path d=\"M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76.0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71.0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71.0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76.0 5-2.24 5-5s-2.24-5-5-5z\"></path>\n</svg></a>\n</h2>\n<pre>## install openai virtualenv\n## Run this if it's your first time by uncommenting it\n## reticulate::virtualenv_install(envname = \"openai\", packages = c(\"openai\",\"atproto\"))\nreticulate::use_virtualenv(\"openai\")\nlibrary(reticulate)\n\nopenai &lt;- import(\"openai\")\nOpenAI &lt;- openai$OpenAI\n\nclient = OpenAI(api_key = 'YOUR API KEY') ## change this to yours  \n\nresponse &lt;- client$chat$completions$create(\n  model = \"gpt-4o-mini\",\n  messages = list(dict(\n    role = \"system\",\n    content = \"You are a summarizer. Please summarize the following abstract. \n    Include statistics.Use emoji to shorten characters. The summary must not \n    exceed 200 charactersâ€”if you reach 200 characters, stop immediately. \n    Do not add any extra commentary or exceed the 200-character limit.\"\n  ), dict(\n    role = \"user\",\n    content = df_new[10,\"item_description\"] |&gt; pull()\n  )\n  ),\n  temperature = 0\n)\n\n(summary &lt;- response$choices[[1]]$message$content)\n\n## [1] \"26,233 adults studied (median age 71). 60.9% treated on day 0; \\n30-day mortality: 7.5% (day 0), 8.5% (day 1), 10.2% (days 2-5). Delay increases \\ndeath risk (OR 1.14 &amp; 1.40). ðŸš¨ðŸ’Š\"\n</pre><p>This is where you really can customize to your likely. What is it that is important to you that youâ€™d want to see from an abstract so that you will click on the journal link and read more? For me, itâ€™s the statistics. Hence, I specified that in the prompt. Because Bluesky only allows 300 graphenes (characters visible), I have experimented with 200,250,300 and found 200 appears to be the safest so we donâ€™t go over and end up giving an error. For future improvement, itâ€™d be good to create a function that checks this and either re-run the prompt with adjustment or thread it.</p>\n<h2 id=\"post\">Post On Bluesky\n  <a href=\"https://www.kenkoonwong.com/blog/summary-llm/#post\" rel=\"nofollow\" target=\"_blank\"><svg aria-hidden=\"true\" class=\"anchor-symbol\" height=\"26\" viewbox=\"0 0 22 22\" width=\"26\" xmlns=\"http://www.w3.org/2000/svg\">\n<path d=\"M0 0h24v24H0z\" fill=\"currentColor\"></path>\n<path d=\"M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76.0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71.0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71.0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76.0 5-2.24 5-5s-2.24-5-5-5z\"></path>\n</svg></a>\n</h2>\n<p>Please note that, this only demonstrates posting 1 specific title <code>df_new[[10,]]</code>. We can modify this code later so that itâ€™s not so rigid. This is just to show how to send blue posts via <code>atproto</code>. This is an R package called <code>bskyr</code> which you can use as well for sending post, though Iâ€™m not sure if you can embed external.</p>\n<pre>atproto &lt;- import(\"atproto\")\nClient &lt;- atproto$Client\nmodels &lt;- atproto$models\nclient_utils &lt;- atproto$client_utils\n\n## Login\nbsky &lt;- Client()\nbsky$login(\"username\", \"password\") #change to your username and app password\n\n## Build Text\ntext &lt;- client_utils$TextBuilder()\ntext$text(summary)\n\n## Embed \nembed &lt;- models$app$bsky$embed$external$Main(\n      external = models$AppBskyEmbedExternal$External(\n          uri=df_new[[10, 'item_link']],  # The main link\n          title=df_new[[10, 'item_title']], # Title of the preview\n          description=df_new[[10, 'item_description']],  #  # Description of the link\n      ))\n\nbsky$send_post(text = text, embed = embed)\n</pre><p><img alt=\"\" data-lazy-src=\"https://i2.wp.com/www.kenkoonwong.com/blog/summary-llm/post.png?w=578&amp;ssl=1\" data-recalc-dims=\"1\" src=\"https://www.r-bloggers.com/wp-content/plugins/jetpack/modules/lazy-images/images/1x1.trans.gif\"/><noscript><img alt=\"\" data-recalc-dims=\"1\" src=\"https://i2.wp.com/www.kenkoonwong.com/blog/summary-llm/post.png?w=578&amp;ssl=1\"/></noscript></p>\n<h2 id=\"save-it-and-post-later\">Save It And Post Later\n  <a href=\"https://www.kenkoonwong.com/blog/summary-llm/#save-it-and-post-later\" rel=\"nofollow\" target=\"_blank\"><svg aria-hidden=\"true\" class=\"anchor-symbol\" height=\"26\" viewbox=\"0 0 22 22\" width=\"26\" xmlns=\"http://www.w3.org/2000/svg\">\n<path d=\"M0 0h24v24H0z\" fill=\"currentColor\"></path>\n<path d=\"M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76.0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71.0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71.0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76.0 5-2.24 5-5s-2.24-5-5-5z\"></path>\n</svg></a>\n</h2>\n<p>You may have noticed that we actually have a column in <code>df_old</code> called <code>sent</code>. That is to enable posting of titles that we have not posted. We basically assign <code>1</code> whenever we sent a post, and <code>0</code> whenever there is a new title that we have not posted. In the end, we will need to save the entire dataframe. Letâ€™s put all the code together just so it all makes sense. Weâ€™ll also assume that we already have <code>old_data.rda</code>, and also we already have env for <code>openai</code> and <code>atproto</code>.</p>\n<pre>### 1. Get Feed\nlibrary(tidyverse)\nlibrary(tidyRSS)\n\nurl &lt;- \"https://academic.oup.com/rss/site_5269/3135.xml\"\ndf &lt;- tidyfeed(url)\n\n### 2. Get Old Data\nload(\"old_data.rda\") #df_old is our dataframe\n\n### 3. Match feed and old data, to return only ones that are not in old data\ndf_new &lt;- df |&gt;\n  anti_join(df_old, by = \"item_link\") |&gt;\n  mutate(sent = 0)\n\n### 4. Randomly pull a title that has not been sent previously\ntopic_to_send &lt;- df_new |&gt; \n  filter(sent == 0) |&gt;\n  slice_sample(n = 1)\n\n### 5. OpenAI LLM summarization\nreticulate::use_virtualenv(\"openai\")\nlibrary(reticulate)\n\nopenai &lt;- import(\"openai\")\nOpenAI &lt;- openai$OpenAI\n\nclient = OpenAI(api_key = 'YOUR API KEY') ## change this to yours  \n\nresponse &lt;- client$chat$completions$create(\n  model = \"gpt-4o-mini\",\n  messages = list(dict(\n    role = \"system\",\n    content = \"You are a summarizer. Please summarize the following abstract. Include statistics.Use emoji to shorten characters. The summary must not exceed 200 charactersâ€”if you reach 200 characters, stop immediately. Do not add any extra commentary or exceed the 200-character limit.\"\n  ), dict(\n    role = \"user\",\n    content = topic_to_send |&gt; pull(item_description)\n  )\n  ),\n  temperature = 0\n)\n\nsummary &lt;- response$choices[[1]]$message$content\n\n### 6. Post on Bluesky\natproto &lt;- import(\"atproto\")\nClient &lt;- atproto$Client\nmodels &lt;- atproto$models\nclient_utils &lt;- atproto$client_utils\n\n## Login\nbsky &lt;- Client()\nbsky$login(\"username\", \"password\") #change to your username and app password\n\n## Build Text\ntext &lt;- client_utils$TextBuilder()\ntext$text(summary)\n\n## Embed \nembed &lt;- models$app$bsky$embed$external$Main(\n      external = models$AppBskyEmbedExternal$External(\n          uri=topic_to_send[[1, 'item_link']],  # The main link\n          title=topic_to_send[[1, 'item_title']], # Title of the preview\n          description=topic_to_send[[1, 'item_description']],  #  # Description of the link\n      ))\n\n## Post\nbsky$send_post(text = text, embed = embed)\n\n### 7. Combine old and new \ndf_old &lt;- rbind(df_old, df_new) |&gt;\n  mutate(sent = case_when(\n    item_link == topic_to_send$item_link ~ 1,\n    TRUE ~ sent\n  ))\n\nsave(df_old, file = \"old_data.rda\")\n</pre><p>Not the most elegant code, but you get the concept and that will do for now ðŸ¤£. You can then set task scheduler or crontab to run it once a week etc. The posting part can probably be separate from the entire script so that your new feed screener and post are separate. Iâ€™ll leave that to your creative tidy coding ðŸ™Œ</p>\n<h2 id=\"limit\">Limitation/Opportunities For Improvement\n  <a href=\"https://www.kenkoonwong.com/blog/summary-llm/#limit\" rel=\"nofollow\" target=\"_blank\"><svg aria-hidden=\"true\" class=\"anchor-symbol\" height=\"26\" viewbox=\"0 0 22 22\" width=\"26\" xmlns=\"http://www.w3.org/2000/svg\">\n<path d=\"M0 0h24v24H0z\" fill=\"currentColor\"></path>\n<path d=\"M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76.0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71.0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71.0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76.0 5-2.24 5-5s-2.24-5-5-5z\"></path>\n</svg></a>\n</h2>\n<ul>\n<li>The LLM model is not perfect. It may not always summarize correctly. Especially with years, one way we can improve on that is to set the current year\n<ul>\n<li>I realized that when articles do not explicitly state the current year, it will default to 2023. ðŸ¤”</li>\n</ul>\n</li>\n<li>Characters limitation in LLM query</li>\n<li>Not free, but gpt-4o-mini is quite \n<a href=\"https://openai.com/api/pricing/\" rel=\"nofollow\" target=\"_blank\">affordable</a>. \n<a href=\"https://platform.openai.com/docs/guides/batch\" rel=\"nofollow\" target=\"_blank\">50% off if batched</a></li>\n<li>Abbreviations are hard to understand sometimes\n<ul>\n<li>Future project would be to add abbreviation legends on a thread</li>\n</ul>\n</li>\n<li>Sometimes if the summary contains more than 300 graphenes (kinda characters), we wonâ€™t be able to post\n<ul>\n<li>need to create a function that checks 300 graphene and then do something to modify it</li>\n</ul>\n</li>\n<li>convert <code>openai</code> and <code>bluesky</code> to use their http api so that weâ€™re not relying on <code>reticulate</code> and respective modules\n<ul>\n<li><code>httr2</code> will be a great tool for this</li>\n</ul>\n</li>\n</ul>\n<h2 id=\"final\">Final Thoughts\n  <a href=\"https://www.kenkoonwong.com/blog/summary-llm/#final\" rel=\"nofollow\" target=\"_blank\"><svg aria-hidden=\"true\" class=\"anchor-symbol\" height=\"26\" viewbox=\"0 0 22 22\" width=\"26\" xmlns=\"http://www.w3.org/2000/svg\">\n<path d=\"M0 0h24v24H0z\" fill=\"currentColor\"></path>\n<path d=\"M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76.0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71.0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71.0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76.0 5-2.24 5-5s-2.24-5-5-5z\"></path>\n</svg></a>\n</h2>\n<ul>\n<li>This does not replace humans, it would be great if humans can summarize all but we know thatâ€™s not possible.</li>\n<li>It provides a snippet, a snapshot, and also you can customize prompt to what is important for you, here i want stats specifically. But you can change the prompt to your liking, experiment with it!</li>\n<li>On the first read or glance, it may not capture your attention, but subsequent posts by others might trigger further attention. Or what captured my attention was if I didnâ€™t quite understand the abbreviationsâ€¦ just out of curiosity made me check what those meant</li>\n</ul>\n<h2 id=\"ack\">Acknowledgement\n  <a href=\"https://www.kenkoonwong.com/blog/summary-llm/#ack\" rel=\"nofollow\" target=\"_blank\"><svg aria-hidden=\"true\" class=\"anchor-symbol\" height=\"26\" viewbox=\"0 0 22 22\" width=\"26\" xmlns=\"http://www.w3.org/2000/svg\">\n<path d=\"M0 0h24v24H0z\" fill=\"currentColor\"></path>\n<path d=\"M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76.0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71.0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71.0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76.0 5-2.24 5-5s-2.24-5-5-5z\"></path>\n</svg></a>\n</h2>\n<p>I really appreciate \n<a href=\"https://bsky.app/profile/jonathanrydermd.bsky.social\" rel=\"nofollow\" target=\"_blank\">Jonathan Ryder</a> and \n<a href=\"https://bsky.app/profile/josephmarcusid.medsky.social\" rel=\"nofollow\" target=\"_blank\">Joseph Marcus</a>â€™ feedback on this project! They helped to cross-check what were important to summarize, what werenâ€™t. Which summary made sense, which didnâ€™t. Also provided good links for ID journal monitoring as well. Really couldnâ€™t have done it without their insight and oversight. Give them a follow on ðŸ¦‹</p>\n<h2 id=\"lessons\">Lessons Learnt\n  <a href=\"https://www.kenkoonwong.com/blog/summary-llm/#lessons\" rel=\"nofollow\" target=\"_blank\"><svg aria-hidden=\"true\" class=\"anchor-symbol\" height=\"26\" viewbox=\"0 0 22 22\" width=\"26\" xmlns=\"http://www.w3.org/2000/svg\">\n<path d=\"M0 0h24v24H0z\" fill=\"currentColor\"></path>\n<path d=\"M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76.0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71.0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71.0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76.0 5-2.24 5-5s-2.24-5-5-5z\"></path>\n</svg></a>\n</h2>\n<ul>\n<li>Oxford provides a good framework of feed schema including abstract</li>\n<li>Prompt engineering is important</li>\n<li>Learnt <code>()</code> in R means to print it</li>\n<li>though not part of the above, but I did read <code>httr2</code> package and I think it would be a great modification for the code above so that weâ€™re not dependent on <code>python</code> modules</li>\n<li>Having friends to provide feedback on the project is important! When writing these code, we will have inherent bias that it looks great ðŸ¤£. But having others will bring you back to earth. I learnt so much from Joseph and Jonathan. Thanks for being part of this!</li>\n</ul>\n<p>If you like this article:</p>\n<ul>\n<li>please feel free to send me a \n<a href=\"https://www.kenkoonwong.com/blog/\" rel=\"nofollow\" target=\"_blank\">comment or visit my other blogs</a></li>\n<li>please feel free to follow me on \n<a href=\"https://bsky.app/profile/kenkoonwong.bsky.social\" rel=\"nofollow\" target=\"_blank\">BlueSky</a>, \n<a href=\"https://twitter.com/kenkoonwong/\" rel=\"nofollow\" target=\"_blank\">twitter</a>, \n<a href=\"https://github.com/kenkoonwong/\" rel=\"nofollow\" target=\"_blank\">GitHub</a> or \n<a href=\"https://med-mastodon.com/@kenkoonwong\" rel=\"nofollow\" target=\"_blank\">Mastodon</a></li>\n<li>if you would like collaborate please feel free to \n<a href=\"https://www.kenkoonwong.com/contact/\" rel=\"nofollow\" target=\"_blank\">contact me</a></li>\n</ul>\n<div class=\"jp-relatedposts\" id=\"jp-relatedposts\">\n<h3 class=\"jp-relatedposts-headline\"><em>Related</em></h3>\n</div>\n<!-- Share buttons by mashshare.net - Version: 4.0.47-->\n<div style=\"border: 1px solid; background: none repeat scroll 0 0 #EDEDED; margin: 1px; font-size: 13px;\">\n<div style=\"text-align: center;\">To <strong>leave a comment</strong> for the author, please follow the link and comment on their blog: <strong><a href=\"https://www.kenkoonwong.com/blog/summary-llm/\"> r on Everyday Is A School Day</a></strong>.</div>\n<hr/>\n<a href=\"https://www.r-bloggers.com/\" rel=\"nofollow\">R-bloggers.com</a> offers <strong><a href=\"https://feedburner.google.com/fb/a/mailverify?uri=RBloggers\" rel=\"nofollow\">daily e-mail updates</a></strong> about <a href=\"https://www.r-project.org/\" rel=\"nofollow\" title=\"The R Project for Statistical Computing\">R</a> news and tutorials about <a href=\"https://www.r-bloggers.com/how-to-learn-r-2/\" rel=\"nofollow\" title=\"R tutorials\">learning R</a> and many other topics. <a href=\"https://www.r-users.com/\" rel=\"nofollow\" title=\"Data science jobs\">Click here if you're looking to post or find an R/data-science job</a>.\n\n<hr/>Want to share your content on R-bloggers?<a href=\"https://www.r-bloggers.com/add-your-blog/\" rel=\"nofollow\"> click here</a> if you have a blog, or <a href=\"http://r-posts.com/\" rel=\"nofollow\"> here</a> if you don't.\n</div> </div>\n</article>",
      "main_text": "LLM-assisted Summarization of Abstracts And Bluesky Post via R\nPosted on\nMarch 15, 2025\nby\nr on Everyday Is A School Day\nin\nR bloggers\n| 0 Comments\n[This article was first published on\nr on Everyday Is A School Day\n, and kindly contributed to\nR-bloggers\n].  (You can report issue about the content on this page\nhere\n)\nWant to share your content on R-bloggers?\nclick here\nif you have a blog, or\nhere\nif you don't.\nHow do we identify relevant articles in our domains? This project uses example journal RSS feeds with abstracts, uses LLMs to extract points of interest, and shares insights on Blueskyâ€”stimulating curiosity.\nMotivations\nThere are countless excellent articles published daily, but how do we identify which ones are relevant to our domains? How can we extract the essence of an articleâ€”specifically, its abstract? Letâ€™s build something that uses Bluesky as a forum to stimulate curiosity and learning.\nThe plan is to leverage RSS feeds provided by journals (which hopefully include abstracts) and then use those abstracts with an LLM to capture the essence. This could trigger curiosity in several ways: perhaps something seems unusual or intriguing, prompting us to verify if the LLM interpreted it correctly. Maybe weâ€™ve already read the abstract and article, but the LLM identified something we missed.\nFollowing the summary of the summary generation ðŸ¤£, how can we utilize Bluesky as a platform to share these insights? Weâ€™re going to explore how to implement all of these capabilities in R.\nObjectives:\nMotivation\nGet ID RSS Feed\nSummarize via LLM\nPost On Bluesky\nLimitation\nFinal Thoughts\nAcknowledgement\nLessons Learnt\nGet ID RSS Feed\nlibrary(tidyverse)\nlibrary(tidyRSS)\n\nurl <- \"https://academic.oup.com/rss/site_5269/3135.xml\"\n\n(df <- tidyfeed(url))\n\n## # A tibble: 46 Ã— 13\n##    feed_title       feed_link feed_description feed_language feed_pub_date      \n##    <chr>            <chr>     <chr>            <chr>         <dttm>             \n##  1 Clinical Infectâ€¦ http://aâ€¦ \"\\n    \"         en-us         2025-02-24 00:00:00\n##  2 Clinical Infectâ€¦ http://aâ€¦ \"\\n    \"         en-us         2025-02-24 00:00:00\n##  3 Clinical Infectâ€¦ http://aâ€¦ \"\\n    \"         en-us         2025-02-24 00:00:00\n##  4 Clinical Infectâ€¦ http://aâ€¦ \"\\n    \"         en-us         2025-02-24 00:00:00\n##  5 Clinical Infectâ€¦ http://aâ€¦ \"\\n    \"         en-us         2025-02-24 00:00:00\n##  6 Clinical Infectâ€¦ http://aâ€¦ \"\\n    \"         en-us         2025-02-24 00:00:00\n##  7 Clinical Infectâ€¦ http://aâ€¦ \"\\n    \"         en-us         2025-02-24 00:00:00\n##  8 Clinical Infectâ€¦ http://aâ€¦ \"\\n    \"         en-us         2025-02-24 00:00:00\n##  9 Clinical Infectâ€¦ http://aâ€¦ \"\\n    \"         en-us         2025-02-24 00:00:00\n## 10 Clinical Infectâ€¦ http://aâ€¦ \"\\n    \"         en-us         2025-02-24 00:00:00\n## # â„¹ 36 more rows\n## # â„¹ 8 more variables: feed_last_build_date <dttm>, feed_generator <chr>,\n## #   item_title <chr>, item_link <chr>, item_description <chr>,\n## #   item_pub_date <dttm>, item_guid <chr>, item_category <list>\nItâ€™s that simple! Two lines of codes. I really appreciate that Oxford publisher adds abstract to their RSS feed. This is very helpful to send to LLM for summarization.\nIn order to set it as an automation, weâ€™d have to pull old data and see if it matches new data. Letâ€™s assume we already have old data thatâ€™s been save in\nrda\n. Iâ€™m going to simulate old data but removing random 50% of\ndf\n, like so. And create a column\nsent\nwith number\n1\n, my way of stating these have been posted on bluesky.\nGet old data\ndf_old <- df |>\n  slice_sample(prop = 0.5) |>\n  mutate(sent = 1)\nbut in reality weâ€™d load it from data file like so.\n(load(\"old_data.rda\")) #assuming it's saved under df_old \n\n## [1] \"df_old\"\nAlso note that there is no LLM summary in our mock df_old.\nMatch with new data\nLetâ€™s assume that\ndf\n, the newly captured RSS feed is our new data, which weâ€™ll want to\nanti_join\nthe old ones to only return the ones that in our old data.\ndf_new <- df |>\n  anti_join(df_old, by = \"item_link\") |>\n  mutate(sent = 0)\n\ndf_new[10,\"item_description\"] |> pull()\n\n## [1] \"AbstractBackgroundBlastomycosis is an environmentally acquired fungal infection that can result in severe pulmonary illness and high hospitalization rates. In 2023, a blastomycosis outbreak was detected among workers at a paper mill in Delta County, Michigan.MethodsWe included patients with clinical and laboratory evidence of blastomycosis who had spent â‰¥40â€…hours in Delta County since 1 September 2022 and had illness onset 1 December 2022â€“1 July 2023. We assessed epidemiological and clinical features of patients and evaluated factors associated with hospitalization. We performed whole-genome sequencing to characterize genetic relatedness of clinical isolates from 8 patients.ResultsIn total, 131 patients were identified; all had worked at or visited the mill. Sixteen patients (12%) were hospitalized; 1 died. Compared with nonhospitalized patients, more hospitalized patients had diabetes (P = .03) and urine antigen titers above the lower limit of quantification (P < .001). Hospitalized patients were also more likely to have had â‰¥1 healthcare visits before receiving a blastomycosis diagnostic test (P = .02) and to have been treated with antibiotics prior to antifungal prescription (P = .001). All sequenced isolates were identified as Blastomyces gilchristii and clustered into a distinct outbreak cluster.ConclusionsThis was the largest documented blastomycosis outbreak in the United States. Epidemiologic evidence indicated exposures occurred at or near the mill, and genomic findings suggested a common exposure source. Patients with diabetes may have increased risk of hospitalization, and elevated urine antigen titers could indicate greater disease severity. Early suspicion of blastomycosis may prompt earlier diagnosis and treatment, potentially reducing unnecessary antibiotic prescriptions and improving patient outcomes.\"\nAs you can see, looking at row 10 of the data, CID RSS feed does include abstract! ðŸ™Œ Lucky for us!\nSummarize via LLM\n## install openai virtualenv\n## Run this if it's your first time by uncommenting it\n## reticulate::virtualenv_install(envname = \"openai\", packages = c(\"openai\",\"atproto\"))\nreticulate::use_virtualenv(\"openai\")\nlibrary(reticulate)\n\nopenai <- import(\"openai\")\nOpenAI <- openai$OpenAI\n\nclient = OpenAI(api_key = 'YOUR API KEY') ## change this to yours  \n\nresponse <- client$chat$completions$create(\n  model = \"gpt-4o-mini\",\n  messages = list(dict(\n    role = \"system\",\n    content = \"You are a summarizer. Please summarize the following abstract. \n    Include statistics.Use emoji to shorten characters. The summary must not \n    exceed 200 charactersâ€”if you reach 200 characters, stop immediately. \n    Do not add any extra commentary or exceed the 200-character limit.\"\n  ), dict(\n    role = \"user\",\n    content = df_new[10,\"item_description\"] |> pull()\n  )\n  ),\n  temperature = 0\n)\n\n(summary <- response$choices[[1]]$message$content)\n\n## [1] \"26,233 adults studied (median age 71). 60.9% treated on day 0; \\n30-day mortality: 7.5% (day 0), 8.5% (day 1), 10.2% (days 2-5). Delay increases \\ndeath risk (OR 1.14 & 1.40). ðŸš¨ðŸ’Š\"\nThis is where you really can customize to your likely. What is it that is important to you that youâ€™d want to see from an abstract so that you will click on the journal link and read more? For me, itâ€™s the statistics. Hence, I specified that in the prompt. Because Bluesky only allows 300 graphenes (characters visible), I have experimented with 200,250,300 and found 200 appears to be the safest so we donâ€™t go over and end up giving an error. For future improvement, itâ€™d be good to create a function that checks this and either re-run the prompt with adjustment or thread it.\nPost On Bluesky\nPlease note that, this only demonstrates posting 1 specific title\ndf_new[[10,]]\n. We can modify this code later so that itâ€™s not so rigid. This is just to show how to send blue posts via\natproto\n. This is an R package called\nbskyr\nwhich you can use as well for sending post, though Iâ€™m not sure if you can embed external.\natproto <- import(\"atproto\")\nClient <- atproto$Client\nmodels <- atproto$models\nclient_utils <- atproto$client_utils\n\n## Login\nbsky <- Client()\nbsky$login(\"username\", \"password\") #change to your username and app password\n\n## Build Text\ntext <- client_utils$TextBuilder()\ntext$text(summary)\n\n## Embed \nembed <- models$app$bsky$embed$external$Main(\n      external = models$AppBskyEmbedExternal$External(\n          uri=df_new[[10, 'item_link']],  # The main link\n          title=df_new[[10, 'item_title']], # Title of the preview\n          description=df_new[[10, 'item_description']],  #  # Description of the link\n      ))\n\nbsky$send_post(text = text, embed = embed)\nSave It And Post Later\nYou may have noticed that we actually have a column in\ndf_old\ncalled\nsent\n. That is to enable posting of titles that we have not posted. We basically assign\n1\nwhenever we sent a post, and\n0\nwhenever there is a new title that we have not posted. In the end, we will need to save the entire dataframe. Letâ€™s put all the code together just so it all makes sense. Weâ€™ll also assume that we already have\nold_data.rda\n, and also we already have env for\nopenai\nand\natproto\n.\n### 1. Get Feed\nlibrary(tidyverse)\nlibrary(tidyRSS)\n\nurl <- \"https://academic.oup.com/rss/site_5269/3135.xml\"\ndf <- tidyfeed(url)\n\n### 2. Get Old Data\nload(\"old_data.rda\") #df_old is our dataframe\n\n### 3. Match feed and old data, to return only ones that are not in old data\ndf_new <- df |>\n  anti_join(df_old, by = \"item_link\") |>\n  mutate(sent = 0)\n\n### 4. Randomly pull a title that has not been sent previously\ntopic_to_send <- df_new |> \n  filter(sent == 0) |>\n  slice_sample(n = 1)\n\n### 5. OpenAI LLM summarization\nreticulate::use_virtualenv(\"openai\")\nlibrary(reticulate)\n\nopenai <- import(\"openai\")\nOpenAI <- openai$OpenAI\n\nclient = OpenAI(api_key = 'YOUR API KEY') ## change this to yours  \n\nresponse <- client$chat$completions$create(\n  model = \"gpt-4o-mini\",\n  messages = list(dict(\n    role = \"system\",\n    content = \"You are a summarizer. Please summarize the following abstract. Include statistics.Use emoji to shorten characters. The summary must not exceed 200 charactersâ€”if you reach 200 characters, stop immediately. Do not add any extra commentary or exceed the 200-character limit.\"\n  ), dict(\n    role = \"user\",\n    content = topic_to_send |> pull(item_description)\n  )\n  ),\n  temperature = 0\n)\n\nsummary <- response$choices[[1]]$message$content\n\n### 6. Post on Bluesky\natproto <- import(\"atproto\")\nClient <- atproto$Client\nmodels <- atproto$models\nclient_utils <- atproto$client_utils\n\n## Login\nbsky <- Client()\nbsky$login(\"username\", \"password\") #change to your username and app password\n\n## Build Text\ntext <- client_utils$TextBuilder()\ntext$text(summary)\n\n## Embed \nembed <- models$app$bsky$embed$external$Main(\n      external = models$AppBskyEmbedExternal$External(\n          uri=topic_to_send[[1, 'item_link']],  # The main link\n          title=topic_to_send[[1, 'item_title']], # Title of the preview\n          description=topic_to_send[[1, 'item_description']],  #  # Description of the link\n      ))\n\n## Post\nbsky$send_post(text = text, embed = embed)\n\n### 7. Combine old and new \ndf_old <- rbind(df_old, df_new) |>\n  mutate(sent = case_when(\n    item_link == topic_to_send$item_link ~ 1,\n    TRUE ~ sent\n  ))\n\nsave(df_old, file = \"old_data.rda\")\nNot the most elegant code, but you get the concept and that will do for now ðŸ¤£. You can then set task scheduler or crontab to run it once a week etc. The posting part can probably be separate from the entire script so that your new feed screener and post are separate. Iâ€™ll leave that to your creative tidy coding ðŸ™Œ\nLimitation/Opportunities For Improvement\nThe LLM model is not perfect. It may not always summarize correctly. Especially with years, one way we can improve on that is to set the current year\nI realized that when articles do not explicitly state the current year, it will default to 2023. ðŸ¤”\nCharacters limitation in LLM query\nNot free, but gpt-4o-mini is quite\naffordable\n.\n50% off if batched\nAbbreviations are hard to understand sometimes\nFuture project would be to add abbreviation legends on a thread\nSometimes if the summary contains more than 300 graphenes (kinda characters), we wonâ€™t be able to post\nneed to create a function that checks 300 graphene and then do something to modify it\nconvert\nopenai\nand\nbluesky\nto use their http api so that weâ€™re not relying on\nreticulate\nand respective modules\nhttr2\nwill be a great tool for this\nFinal Thoughts\nThis does not replace humans, it would be great if humans can summarize all but we know thatâ€™s not possible.\nIt provides a snippet, a snapshot, and also you can customize prompt to what is important for you, here i want stats specifically. But you can change the prompt to your liking, experiment with it!\nOn the first read or glance, it may not capture your attention, but subsequent posts by others might trigger further attention. Or what captured my attention was if I didnâ€™t quite understand the abbreviationsâ€¦ just out of curiosity made me check what those meant\nAcknowledgement\nI really appreciate\nJonathan Ryder\nand\nJoseph Marcus\nâ€™ feedback on this project! They helped to cross-check what were important to summarize, what werenâ€™t. Which summary made sense, which didnâ€™t. Also provided good links for ID journal monitoring as well. Really couldnâ€™t have done it without their insight and oversight. Give them a follow on ðŸ¦‹\nLessons Learnt\nOxford provides a good framework of feed schema including abstract\nPrompt engineering is important\nLearnt\n()\nin R means to print it\nthough not part of the above, but I did read\nhttr2\npackage and I think it would be a great modification for the code above so that weâ€™re not dependent on\npython\nmodules\nHaving friends to provide feedback on the project is important! When writing these code, we will have inherent bias that it looks great ðŸ¤£. But having others will bring you back to earth. I learnt so much from Joseph and Jonathan. Thanks for being part of this!\nIf you like this article:\nplease feel free to send me a\ncomment or visit my other blogs\nplease feel free to follow me on\nBlueSky\n,\ntwitter\n,\nGitHub\nor\nMastodon\nif you would like collaborate please feel free to\ncontact me\nRelated\nTo\nleave a comment\nfor the author, please follow the link and comment on their blog:\nr on Everyday Is A School Day\n.\nR-bloggers.com\noffers\ndaily e-mail updates\nabout\nR\nnews and tutorials about\nlearning R\nand many other topics.\nClick here if you're looking to post or find an R/data-science job\n.\nWant to share your content on R-bloggers?\nclick here\nif you have a blog, or\nhere\nif you don't.",
      "meta_description": "How do we identify relevant articles in our domains? This project uses example journal RSS feeds with abstracts, uses LLMs to extract points of interest, and shares insights on Blueskyâ€”stimulating curiosity. Motivations There are countless excellent articles published daily, but how do we identify which ones are relevant to our domains? How can we extract the essence of an articleâ€”specifically, its abstract? Letâ€™s build something that uses Bluesky as a forum to stimulate curiosity and learning. The plan is to leverage RSS feeds provided by journals (which hopefully include abstracts) and then use those abstracts with an LLM to capture the essence. This could trigger curiosity in several ways: perhaps something seems unusual or intriguing, prompting us to verify if the LLM interpreted it correctly. Maybe weâ€™ve already read the abstract and article, but the LLM identified something we missed. Following the summary of the summary generation ðŸ¤£, how can we utilize Bluesky as a platform to share these insights? Weâ€™re going to explore how to implement all of these capabilities in R. Objectives: Motivation Get ID RSS Feed Summarize via LLM Post On Bluesky Limitation Final Thoughts Acknowledgement Lessons Learnt Get ID RSS Feed library(tidyverse) library(tidyRSS) url pull() ) ), temperature = 0 ) (summary",
      "meta_keywords": null,
      "og_description": "How do we identify relevant articles in our domains? This project uses example journal RSS feeds with abstracts, uses LLMs to extract points of interest, and shares insights on Blueskyâ€”stimulating curiosity. Motivations There are countless excellent articles published daily, but how do we identify which ones are relevant to our domains? How can we extract the essence of an articleâ€”specifically, its abstract? Letâ€™s build something that uses Bluesky as a forum to stimulate curiosity and learning. The plan is to leverage RSS feeds provided by journals (which hopefully include abstracts) and then use those abstracts with an LLM to capture the essence. This could trigger curiosity in several ways: perhaps something seems unusual or intriguing, prompting us to verify if the LLM interpreted it correctly. Maybe weâ€™ve already read the abstract and article, but the LLM identified something we missed. Following the summary of the summary generation ðŸ¤£, how can we utilize Bluesky as a platform to share these insights? Weâ€™re going to explore how to implement all of these capabilities in R. Objectives: Motivation Get ID RSS Feed Summarize via LLM Post On Bluesky Limitation Final Thoughts Acknowledgement Lessons Learnt Get ID RSS Feed library(tidyverse) library(tidyRSS) url pull() ) ), temperature = 0 ) (summary",
      "og_image": "https://www.kenkoonwong.com/blog/summary-llm/llm.png",
      "og_title": "LLM-assisted Summarization of Abstracts And Bluesky Post via R | R-bloggers",
      "raw_jsonld_article": null,
      "reading_time_min": 11.6,
      "sitemap_lastmod": null,
      "twitter_description": "How do we identify relevant articles in our domains? This project uses example journal RSS feeds with abstracts, uses LLMs to extract points of interest, and shares insights on Blueskyâ€”stimulating curiosity. Motivations There are countless excellent articles published daily, but how do we identify which ones are relevant to our domains? How can we extract the essence of an articleâ€”specifically, its abstract? Letâ€™s build something that uses Bluesky as a forum to stimulate curiosity and learning. The plan is to leverage RSS feeds provided by journals (which hopefully include abstracts) and then use those abstracts with an LLM to capture the essence. This could trigger curiosity in several ways: perhaps something seems unusual or intriguing, prompting us to verify if the LLM interpreted it correctly. Maybe weâ€™ve already read the abstract and article, but the LLM identified something we missed. Following the summary of the summary generation ðŸ¤£, how can we utilize Bluesky as a platform to share these insights? Weâ€™re going to explore how to implement all of these capabilities in R. Objectives: Motivation Get ID RSS Feed Summarize via LLM Post On Bluesky Limitation Final Thoughts Acknowledgement Lessons Learnt Get ID RSS Feed library(tidyverse) library(tidyRSS) url pull() ) ), temperature = 0 ) (summary",
      "twitter_title": "LLM-assisted Summarization of Abstracts And Bluesky Post via R | R-bloggers",
      "url": "https://www.r-bloggers.com/2025/03/llm-assisted-summarization-of-abstracts-and-bluesky-post-via-r/",
      "word_count": 2319
    }
  }
}