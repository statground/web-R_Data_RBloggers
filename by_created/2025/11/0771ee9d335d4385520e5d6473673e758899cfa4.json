{
  "id": "0771ee9d335d4385520e5d6473673e758899cfa4",
  "url": "https://www.r-bloggers.com/2023/10/sort-text-numbers/",
  "created_at_utc": "2025-11-17T20:39:30Z",
  "data": null,
  "raw_original": {
    "uuid": "66a673b7-05f1-4322-a598-fe3502a8e4a1",
    "created_at": "2025-11-17 20:39:30",
    "raw_json": {
      "article_author": null,
      "article_headline": null,
      "article_modified": null,
      "article_published": null,
      "article_section": null,
      "article_tags": null,
      "canonical_url": "https://www.r-bloggers.com/2023/10/sort-text-numbers/",
      "crawled_at": "2025-11-17T10:04:32.233677",
      "external_links": [
        {
          "href": "https://medium.com/number-around-us/sort-text-numbers-6bab87cabfbd",
          "text": "Numbers around us - Medium"
        },
        {
          "href": "http://r-posts.com/",
          "text": "here"
        },
        {
          "href": "https://www.linkedin.com/in/excelbi",
          "text": "ExcelBI"
        },
        {
          "href": "https://www.linkedin.com/feed/update/urn:li:activity:7122793900984954880/",
          "text": "the newestÂ one"
        },
        {
          "href": "https://lnkd.in/dnaCPrHm",
          "text": "data"
        },
        {
          "href": "https://medium.com/number-around-us/sort-text-numbers-6bab87cabfbd",
          "text": "Sort Text Numbers"
        },
        {
          "href": "https://medium.com/number-around-us",
          "text": "Numbers around us"
        },
        {
          "href": "https://medium.com/number-around-us/sort-text-numbers-6bab87cabfbd",
          "text": "Numbers around us - Medium"
        },
        {
          "href": "https://feedburner.google.com/fb/a/mailverify?uri=RBloggers",
          "text": "daily e-mail updates"
        },
        {
          "href": "https://www.r-project.org/",
          "text": "R"
        },
        {
          "href": "https://www.r-users.com/",
          "text": "Click here if you're looking to post or find an R/data-science job"
        },
        {
          "href": "http://r-posts.com/",
          "text": "here"
        }
      ],
      "h1_title": "R-bloggers",
      "html_title": "Sort Text Numbers | R-bloggers",
      "images": [
        {
          "alt": null,
          "base64": "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",
          "src": "https://www.r-bloggers.com/wp-content/plugins/jetpack/modules/lazy-images/images/1x1.trans.gif"
        },
        {
          "alt": null,
          "base64": null,
          "src": "https://i1.wp.com/cdn-images-1.medium.com/max/1024/1*WydwKgFIMAUSljO5PKQmlQ.png?w=578&ssl=1"
        },
        {
          "alt": null,
          "base64": "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",
          "src": "https://www.r-bloggers.com/wp-content/plugins/jetpack/modules/lazy-images/images/1x1.trans.gif"
        },
        {
          "alt": null,
          "base64": "data:application/octet-stream;base64,R0lGODlhAQABAO+/vQAA77+977+977+9AAAAIe+/vQQBAAAAACwAAAAAAQABAAACAkQBADs=",
          "src": "https://medium.com/_/stat?event=post.clientViewed&referrerSource=full_rss&postId=6bab87cabfbd"
        }
      ],
      "internal_links": [
        {
          "href": "https://www.r-bloggers.com/author/numbers-around-us/",
          "text": "Numbers around us"
        },
        {
          "href": "https://www.r-bloggers.com/category/r-bloggers/",
          "text": "R bloggers"
        },
        {
          "href": "https://www.r-bloggers.com/",
          "text": "R-bloggers"
        },
        {
          "href": "https://www.r-bloggers.com/contact-us/",
          "text": "here"
        },
        {
          "href": "https://www.r-bloggers.com/add-your-blog/",
          "text": "click here"
        },
        {
          "href": "https://www.r-bloggers.com/",
          "text": "R-bloggers.com"
        },
        {
          "href": "https://www.r-bloggers.com/how-to-learn-r-2/",
          "text": "learning R"
        },
        {
          "href": "https://www.r-bloggers.com/add-your-blog/",
          "text": "click here"
        }
      ],
      "lang": "en-US",
      "main_html": "<article class=\"post-379429 post type-post status-publish format-standard hentry category-r-bloggers\">\n<header class=\"post-header\">\n<h1 class=\"entry-title\">Sort Text Numbers</h1>\n<p class=\"meta post-meta\">Posted on <span class=\"updated\">October 25, 2023</span>  by <span class=\"vcard author\"><a class=\"fn\" href=\"https://www.r-bloggers.com/author/numbers-around-us/\">Numbers around us</a></span>  in <a href=\"https://www.r-bloggers.com/category/r-bloggers/\" rel=\"category tag\">R bloggers</a> | 0 Comments</p>\n</header>\n<div class=\"entry clearfix\">\n<!-- \r\n<div style=\"min-height: 30px;\">\r\n[social4i size=\"small\" align=\"align-left\"]\r\n</div>\r\n-->\n<div style=\"border: 1px solid; background: none repeat scroll 0 0 #EDEDED; margin: 1px; font-size: 12px;\">\r\n[This article was first published on  <strong><a href=\"https://medium.com/number-around-us/sort-text-numbers-6bab87cabfbd\"> Numbers around us - Medium</a></strong>, and kindly contributed to <a href=\"https://www.r-bloggers.com/\" rel=\"nofollow\">R-bloggers</a>].  (You can report issue about the content on this page <a href=\"https://www.r-bloggers.com/contact-us/\">here</a>)\r\n<hr/>Want to share your content on R-bloggers?<a href=\"https://www.r-bloggers.com/add-your-blog/\" rel=\"nofollow\"> click here</a> if you have a blog, or <a href=\"http://r-posts.com/\" rel=\"nofollow\"> here</a> if you don't.\r\n</div>\n\n<!-- Share buttons by mashshare.net - Version: 3.8.9--><p>Excel BIâ€™s Excel Challenge #311â€Šâ€”â€Šsolved inÂ R</p><figure><img alt=\"\" data-lazy-src=\"https://i1.wp.com/cdn-images-1.medium.com/max/1024/1*WydwKgFIMAUSljO5PKQmlQ.png?w=578&amp;ssl=1\" data-recalc-dims=\"1\" src=\"https://www.r-bloggers.com/wp-content/plugins/jetpack/modules/lazy-images/images/1x1.trans.gif\"/><noscript><img alt=\"\" data-recalc-dims=\"1\" src=\"https://i1.wp.com/cdn-images-1.medium.com/max/1024/1*WydwKgFIMAUSljO5PKQmlQ.png?w=578&amp;ssl=1\"/></noscript></figure><h3>Defining theÂ Puzzle:</h3><p>In puzzles and riddles from <a href=\"https://www.linkedin.com/in/excelbi\" rel=\"nofollow\" target=\"_blank\">ExcelBI</a> we usually play with numbers or words, why not both at once. Lets dive into <a href=\"https://www.linkedin.com/feed/update/urn:li:activity:7122793900984954880/\" rel=\"nofollow\" target=\"_blank\">the newestÂ one</a>.</p><p>We need to sort digits in numbers written by numeralsÂ ğŸ™‚</p><p>Sort the digits of given numbers in column A in descending order.<br/>Ex. TwoThreeOne which is 231. Sorting in descending order will make it 321. Hence asnwer would be ThreeTwoOne.</p><h3>Loading Data fromÂ Excel:</h3><p>Lets start loading <a href=\"https://lnkd.in/dnaCPrHm\" rel=\"nofollow\" target=\"_blank\">data</a> and libraries:</p><pre>library(tidyverse)\nlibrary(data.table)\nlibrary(readxl)\n\ninput = read_excel(â€œSort Text Numbers.xlsxâ€, range = â€œA1:A10â€)\ntest = read_excel(â€œSort Text Numbers.xlsxâ€, range = â€œB1:B10â€)</pre><h3>Additional help:</h3><p>I realized that not everything can be written each way and that is why Iâ€™m taking some functions that will work in all 3 cases into earlierÂ chunk.</p><pre>number_mappings &lt;- function() {\n c(â€œZeroâ€ = 0, â€œOneâ€ = 1, â€œTwoâ€ = 2, â€œThreeâ€ = 3, â€œFourâ€ = 4,\n â€œFiveâ€ = 5, â€œSixâ€ = 6, â€œSevenâ€ = 7, â€œEightâ€ = 8, â€œNineâ€ = 9)\n} \n\nword_to_number &lt;- function(word) {\n numbers &lt;- number_mappings()\n numbers[word]\n}\n\nnumber_to_word &lt;- function(number) {\n words &lt;- names(number_mappings())\n name_mapping &lt;- setNames(names(number_mappings()), number_mappings())\n name_mapping[as.character(number)]\n}</pre><h3>Approach 1: Tidyverse withÂ purrr</h3><pre>process_number_string &lt;- function(num_string) {\n words &lt;- str_extract_all(num_string, â€œ[A-Z][a-z]*â€)[[1]]\n digits &lt;- map_int(words, word_to_number)\n sorted_digits &lt;- sort(digits, decreasing = TRUE)\n sorted_words &lt;- map(sorted_digits, number_to_word)\n result_string &lt;- paste0(unlist(sorted_words), collapse = â€œâ€) \n return(result_string)\n}\n\nresult = input %&gt;%\n rowwise() %&gt;%\n mutate(remapped = map_chr(Number, process_number_string)) %&gt;%\n ungroup()</pre><h3>Approach 2: BaseÂ R</h3><pre>process_number_string_base&lt;- function(num_string) {\n words &lt;- regmatches(num_string, gregexpr(â€œ[A-Z][a-z]*â€, num_string))[[1]]\n digits &lt;- sapply(words, word_to_number)\n sorted_digits &lt;- sort(digits, decreasing = TRUE)\n sorted_words &lt;- sapply(sorted_digits, number_to_word)\n result_string &lt;- paste(sorted_words, collapse = â€œâ€)\n return(result_string)\n}\n\nresult_base &lt;- data.frame(remapped = sapply(input$Number, process_number_string_base))</pre><h3>Approach 3: Data.table</h3><p>And again I will call ready function using DTÂ syntax.</p><pre>setDT(input) \ninput[, remapped := sapply(Number, process_number_string)]</pre><h3>Validating Our Solutions:</h3><pre>identical(test$`Expected Answer`, result$remapped)\n#&gt; [1] TRUE\n\nidentical(test$`Expected Answer`, result_base$remapped)\n#&gt; [1] TRUE\n\nidentical(test$`Expected Answer`, input$remapped)\n#&gt; [1] TRUE</pre><p>If you like my publications or have your own ways to solve those puzzles in R, Python or whatever tool you choose, let meÂ know.</p><img alt=\"\" data-lazy-src=\"https://medium.com/_/stat?event=post.clientViewed&amp;referrerSource=full_rss&amp;postId=6bab87cabfbd\" height=\"1\" loading=\"lazy\" src=\"https://www.r-bloggers.com/wp-content/plugins/jetpack/modules/lazy-images/images/1x1.trans.gif\" width=\"1\"/><noscript><img alt=\"\" height=\"1\" loading=\"lazy\" src=\"https://medium.com/_/stat?event=post.clientViewed&amp;referrerSource=full_rss&amp;postId=6bab87cabfbd\" width=\"1\"/></noscript><hr/><p><a href=\"https://medium.com/number-around-us/sort-text-numbers-6bab87cabfbd\" rel=\"nofollow\" target=\"_blank\">Sort Text Numbers</a> was originally published in <a href=\"https://medium.com/number-around-us\" rel=\"nofollow\" target=\"_blank\">Numbers around us</a> on Medium, where people are continuing the conversation by highlighting and responding to this story.</p>\n<div class=\"jp-relatedposts\" id=\"jp-relatedposts\">\n<h3 class=\"jp-relatedposts-headline\"><em>Related</em></h3>\n</div>\n<!-- Share buttons by mashshare.net - Version: 3.8.9-->\n<div style=\"border: 1px solid; background: none repeat scroll 0 0 #EDEDED; margin: 1px; font-size: 13px;\">\n<div style=\"text-align: center;\">To <strong>leave a comment</strong> for the author, please follow the link and comment on their blog: <strong><a href=\"https://medium.com/number-around-us/sort-text-numbers-6bab87cabfbd\"> Numbers around us - Medium</a></strong>.</div>\n<hr>\n<a href=\"https://www.r-bloggers.com/\" rel=\"nofollow\">R-bloggers.com</a> offers <strong><a href=\"https://feedburner.google.com/fb/a/mailverify?uri=RBloggers\" rel=\"nofollow\">daily e-mail updates</a></strong> about <a href=\"https://www.r-project.org/\" rel=\"nofollow\" title=\"The R Project for Statistical Computing\">R</a> news and tutorials about <a href=\"https://www.r-bloggers.com/how-to-learn-r-2/\" rel=\"nofollow\" title=\"R tutorials\">learning R</a> and many other topics. <a href=\"https://www.r-users.com/\" rel=\"nofollow\" title=\"Data science jobs\">Click here if you're looking to post or find an R/data-science job</a>.\r\n\r\n<hr/>Want to share your content on R-bloggers?<a href=\"https://www.r-bloggers.com/add-your-blog/\" rel=\"nofollow\"> click here</a> if you have a blog, or <a href=\"http://r-posts.com/\" rel=\"nofollow\"> here</a> if you don't.\r\n</hr></div> </div>\n</article>",
      "main_text": "Sort Text Numbers\nPosted on\nOctober 25, 2023\nby\nNumbers around us\nin\nR bloggers\n| 0 Comments\n[This article was first published on\nNumbers around us - Medium\n, and kindly contributed to\nR-bloggers\n].  (You can report issue about the content on this page\nhere\n)\nWant to share your content on R-bloggers?\nclick here\nif you have a blog, or\nhere\nif you don't.\nExcel BIâ€™s Excel Challenge #311â€Šâ€”â€Šsolved inÂ R\nDefining theÂ Puzzle:\nIn puzzles and riddles from\nExcelBI\nwe usually play with numbers or words, why not both at once. Lets dive into\nthe newestÂ one\n.\nWe need to sort digits in numbers written by numeralsÂ ğŸ™‚\nSort the digits of given numbers in column A in descending order.\nEx. TwoThreeOne which is 231. Sorting in descending order will make it 321. Hence asnwer would be ThreeTwoOne.\nLoading Data fromÂ Excel:\nLets start loading\ndata\nand libraries:\nlibrary(tidyverse)\nlibrary(data.table)\nlibrary(readxl)\n\ninput = read_excel(â€œSort Text Numbers.xlsxâ€, range = â€œA1:A10â€)\ntest = read_excel(â€œSort Text Numbers.xlsxâ€, range = â€œB1:B10â€)\nAdditional help:\nI realized that not everything can be written each way and that is why Iâ€™m taking some functions that will work in all 3 cases into earlierÂ chunk.\nnumber_mappings <- function() {\n c(â€œZeroâ€ = 0, â€œOneâ€ = 1, â€œTwoâ€ = 2, â€œThreeâ€ = 3, â€œFourâ€ = 4,\n â€œFiveâ€ = 5, â€œSixâ€ = 6, â€œSevenâ€ = 7, â€œEightâ€ = 8, â€œNineâ€ = 9)\n} \n\nword_to_number <- function(word) {\n numbers <- number_mappings()\n numbers[word]\n}\n\nnumber_to_word <- function(number) {\n words <- names(number_mappings())\n name_mapping <- setNames(names(number_mappings()), number_mappings())\n name_mapping[as.character(number)]\n}\nApproach 1: Tidyverse withÂ purrr\nprocess_number_string <- function(num_string) {\n words <- str_extract_all(num_string, â€œ[A-Z][a-z]*â€)[[1]]\n digits <- map_int(words, word_to_number)\n sorted_digits <- sort(digits, decreasing = TRUE)\n sorted_words <- map(sorted_digits, number_to_word)\n result_string <- paste0(unlist(sorted_words), collapse = â€œâ€) \n return(result_string)\n}\n\nresult = input %>%\n rowwise() %>%\n mutate(remapped = map_chr(Number, process_number_string)) %>%\n ungroup()\nApproach 2: BaseÂ R\nprocess_number_string_base<- function(num_string) {\n words <- regmatches(num_string, gregexpr(â€œ[A-Z][a-z]*â€, num_string))[[1]]\n digits <- sapply(words, word_to_number)\n sorted_digits <- sort(digits, decreasing = TRUE)\n sorted_words <- sapply(sorted_digits, number_to_word)\n result_string <- paste(sorted_words, collapse = â€œâ€)\n return(result_string)\n}\n\nresult_base <- data.frame(remapped = sapply(input$Number, process_number_string_base))\nApproach 3: Data.table\nAnd again I will call ready function using DTÂ syntax.\nsetDT(input) \ninput[, remapped := sapply(Number, process_number_string)]\nValidating Our Solutions:\nidentical(test$`Expected Answer`, result$remapped)\n#> [1] TRUE\n\nidentical(test$`Expected Answer`, result_base$remapped)\n#> [1] TRUE\n\nidentical(test$`Expected Answer`, input$remapped)\n#> [1] TRUE\nIf you like my publications or have your own ways to solve those puzzles in R, Python or whatever tool you choose, let meÂ know.\nSort Text Numbers\nwas originally published in\nNumbers around us\non Medium, where people are continuing the conversation by highlighting and responding to this story.\nRelated\nTo\nleave a comment\nfor the author, please follow the link and comment on their blog:\nNumbers around us - Medium\n.\nR-bloggers.com\noffers\ndaily e-mail updates\nabout\nR\nnews and tutorials about\nlearning R\nand many other topics.\nClick here if you're looking to post or find an R/data-science job\n.\nWant to share your content on R-bloggers?\nclick here\nif you have a blog, or\nhere\nif you don't.",
      "meta_description": "Excel BIâ€™s Excel Challenge #311 â€” solved in RDefining the Puzzle:In puzzles and riddles from ExcelBI we usually play with numbers or words, why not both at once. Lets dive into the newest one.We need to sort digits in numbers written by numerals :-)Sor...",
      "meta_keywords": null,
      "og_description": "Excel BIâ€™s Excel Challenge #311 â€” solved in RDefining the Puzzle:In puzzles and riddles from ExcelBI we usually play with numbers or words, why not both at once. Lets dive into the newest one.We need to sort digits in numbers written by numerals :-)Sor...",
      "og_image": "https://cdn-images-1.medium.com/max/1024/1*WydwKgFIMAUSljO5PKQmlQ.png",
      "og_title": "Sort Text Numbers | R-bloggers",
      "raw_jsonld_article": null,
      "reading_time_min": 2.6,
      "sitemap_lastmod": "2023-10-25T19:34:01+00:00",
      "twitter_description": "Excel BIâ€™s Excel Challenge #311 â€” solved in RDefining the Puzzle:In puzzles and riddles from ExcelBI we usually play with numbers or words, why not both at once. Lets dive into the newest one.We need to sort digits in numbers written by numerals :-)Sor...",
      "twitter_title": "Sort Text Numbers | R-bloggers",
      "url": "https://www.r-bloggers.com/2023/10/sort-text-numbers/",
      "word_count": 516
    }
  }
}