{
  "uuid": "f7c7fc6c-ae9a-4730-838a-3b8583d0129f",
  "created_at": "2025-11-22 19:58:18",
  "raw_json": {
    "article_author": null,
    "article_headline": null,
    "article_modified": null,
    "article_published": null,
    "article_section": null,
    "article_tags": null,
    "canonical_url": "https://www.r-bloggers.com/2025/06/creating-a-question-bank-using-google-sheet-plumber-and-digital-ocean-droplet/",
    "crawled_at": "2025-11-22T10:47:05.131977",
    "external_links": [
      {
        "href": "https://www.kenkoonwong.com/blog/qbank/",
        "text": "r on Everyday Is A School Day"
      },
      {
        "href": "http://r-posts.com/",
        "text": "here"
      },
      {
        "href": "https://www.kenkoonwong.com/blog/qbank/#motivations",
        "text": null
      },
      {
        "href": "https://www.kenkoonwong.com/blog/qbank/#objectives",
        "text": null
      },
      {
        "href": "https://www.kenkoonwong.com/blog/qbank/#theend",
        "text": "The End In Mind"
      },
      {
        "href": "https://www.kenkoonwong.com/blog/qbank/#tools",
        "text": "Tools You Need"
      },
      {
        "href": "https://www.kenkoonwong.com/blog/qbank/#questions",
        "text": "Set Up Your Questions"
      },
      {
        "href": "https://www.kenkoonwong.com/blog/qbank/#plumber",
        "text": "Plumber & HTML stuff"
      },
      {
        "href": "https://www.kenkoonwong.com/blog/qbank/#host",
        "text": "Host It With Digital Ocean"
      },
      {
        "href": "https://www.kenkoonwong.com/blog/qbank/#tips",
        "text": "Tips"
      },
      {
        "href": "https://www.kenkoonwong.com/blog/qbank/#opportunities",
        "text": "Opportunities For Improvement And Other Ideas"
      },
      {
        "href": "https://www.kenkoonwong.com/blog/qbank/#lessons",
        "text": "Lessons Learnt"
      },
      {
        "href": "https://www.kenkoonwong.com/blog/qbank/#theend",
        "text": null
      },
      {
        "href": "https://www.kenkoonwong.com/blog/qbank/#tools",
        "text": null
      },
      {
        "href": "https://www.kenkoonwong.com/blog/qbank/#questions",
        "text": null
      },
      {
        "href": "https://www.kenkoonwong.com/blog/qbank/#plumber",
        "text": null
      },
      {
        "href": "https://www.rplumber.io/",
        "text": "here"
      },
      {
        "href": "https://www.kenkoonwong.com/blog/qbank/#plumberr",
        "text": null
      },
      {
        "href": "https://www.kenkoonwong.com/blog/qbank/#qbank_apir",
        "text": null
      },
      {
        "href": "https://www.kenkoonwong.com/blog/qbank/html_code.html",
        "text": "index.html"
      },
      {
        "href": "https://www.kenkoonwong.com/blog/qbank/styles.css",
        "text": "styles.css"
      },
      {
        "href": "https://www.kenkoonwong.com/blog/qbank/#theend",
        "text": "The End In Mind"
      },
      {
        "href": "https://www.kenkoonwong.com/blog/qbank/#host",
        "text": null
      },
      {
        "href": "https://www.digitalocean.com/",
        "text": "Digital Ocean"
      },
      {
        "href": "https://github.com/kenkoonwong/qbank/blob/9387602989c200a0098afc53ac27046579a45d7d/qbank.zip",
        "text": "Here is a link to the zip for all the files you need"
      },
      {
        "href": "https://www.kenkoonwong.com/blog/qbank/#tips",
        "text": null
      },
      {
        "href": "https://www.kenkoonwong.com/blog/qbank/#opportunities",
        "text": null
      },
      {
        "href": "https://letsencrypt.org/",
        "text": "Let‚Äôs Encrypt"
      },
      {
        "href": "https://www.kenkoonwong.com/blog/qbank/#lessons",
        "text": null
      },
      {
        "href": "https://www.kenkoonwong.com/blog/",
        "text": "comment or visit my other blogs"
      },
      {
        "href": "https://bsky.app/profile/kenkoonwong.bsky.social",
        "text": "BlueSky"
      },
      {
        "href": "https://twitter.com/kenkoonwong/",
        "text": "twitter"
      },
      {
        "href": "https://github.com/kenkoonwong/",
        "text": "GitHub"
      },
      {
        "href": "https://med-mastodon.com/@kenkoonwong",
        "text": "Mastodon"
      },
      {
        "href": "https://www.kenkoonwong.com/contact/",
        "text": "contact me"
      },
      {
        "href": "https://www.kenkoonwong.com/blog/qbank/",
        "text": "r on Everyday Is A School Day"
      },
      {
        "href": "https://feedburner.google.com/fb/a/mailverify?uri=RBloggers",
        "text": "daily e-mail updates"
      },
      {
        "href": "https://www.r-project.org/",
        "text": "R"
      },
      {
        "href": "https://www.r-users.com/",
        "text": "Click here if you're looking to post or find an R/data-science job"
      },
      {
        "href": "http://r-posts.com/",
        "text": "here"
      }
    ],
    "h1_title": "R-bloggers",
    "html_title": "Creating A Question Bank Using Google Sheet, Plumber, and Digital Ocean Droplet | R-bloggers",
    "images": [
      {
        "alt": null,
        "base64": "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",
        "src": "https://www.r-bloggers.com/wp-content/plugins/jetpack/modules/lazy-images/images/1x1.trans.gif"
      },
      {
        "alt": null,
        "base64": null,
        "src": "https://i0.wp.com/www.kenkoonwong.com/blog/qbank/qbank.png?w=578&ssl=1"
      },
      {
        "alt": null,
        "base64": "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",
        "src": "https://www.r-bloggers.com/wp-content/plugins/jetpack/modules/lazy-images/images/1x1.trans.gif"
      },
      {
        "alt": null,
        "base64": null,
        "src": "https://i0.wp.com/www.kenkoonwong.com/blog/qbank/the_end.png?w=578&ssl=1"
      },
      {
        "alt": null,
        "base64": "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",
        "src": "https://www.r-bloggers.com/wp-content/plugins/jetpack/modules/lazy-images/images/1x1.trans.gif"
      },
      {
        "alt": null,
        "base64": null,
        "src": "https://i2.wp.com/www.kenkoonwong.com/blog/qbank/googlesheet.png?w=578&ssl=1"
      },
      {
        "alt": null,
        "base64": "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",
        "src": "https://www.r-bloggers.com/wp-content/plugins/jetpack/modules/lazy-images/images/1x1.trans.gif"
      },
      {
        "alt": null,
        "base64": null,
        "src": "https://i1.wp.com/www.kenkoonwong.com/blog/qbank/share.png?w=578&ssl=1"
      },
      {
        "alt": null,
        "base64": "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",
        "src": "https://www.r-bloggers.com/wp-content/plugins/jetpack/modules/lazy-images/images/1x1.trans.gif"
      },
      {
        "alt": null,
        "base64": null,
        "src": "https://i2.wp.com/www.kenkoonwong.com/blog/qbank/localhost.png?w=578&ssl=1"
      },
      {
        "alt": null,
        "base64": "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",
        "src": "https://www.r-bloggers.com/wp-content/plugins/jetpack/modules/lazy-images/images/1x1.trans.gif"
      },
      {
        "alt": null,
        "base64": null,
        "src": "https://i1.wp.com/www.kenkoonwong.com/blog/qbank/droplet.png?w=578&ssl=1"
      },
      {
        "alt": null,
        "base64": "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",
        "src": "https://www.r-bloggers.com/wp-content/plugins/jetpack/modules/lazy-images/images/1x1.trans.gif"
      },
      {
        "alt": null,
        "base64": null,
        "src": "https://i2.wp.com/www.kenkoonwong.com/blog/qbank/status.png?w=578&ssl=1"
      },
      {
        "alt": null,
        "base64": "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",
        "src": "https://www.r-bloggers.com/wp-content/plugins/jetpack/modules/lazy-images/images/1x1.trans.gif"
      },
      {
        "alt": null,
        "base64": null,
        "src": "https://i0.wp.com/www.kenkoonwong.com/blog/qbank/the_end.png?w=578&ssl=1"
      }
    ],
    "internal_links": [
      {
        "href": "https://www.r-bloggers.com/author/r-on-everyday-is-a-school-day/",
        "text": "r on Everyday Is A School Day"
      },
      {
        "href": "https://www.r-bloggers.com/category/r-bloggers/",
        "text": "R bloggers"
      },
      {
        "href": "https://www.r-bloggers.com/",
        "text": "R-bloggers"
      },
      {
        "href": "https://www.r-bloggers.com/contact-us/",
        "text": "here"
      },
      {
        "href": "https://www.r-bloggers.com/add-your-blog/",
        "text": "click here"
      },
      {
        "href": "https://www.r-bloggers.com/",
        "text": "R-bloggers.com"
      },
      {
        "href": "https://www.r-bloggers.com/how-to-learn-r-2/",
        "text": "learning R"
      },
      {
        "href": "https://www.r-bloggers.com/add-your-blog/",
        "text": "click here"
      }
    ],
    "lang": "en-US",
    "main_html": "<article class=\"post-393136 post type-post status-publish format-standard hentry category-r-bloggers\">\n<header class=\"post-header\">\n<h1 class=\"entry-title\">Creating A Question Bank Using Google Sheet, Plumber, and Digital Ocean Droplet</h1>\n<p class=\"meta post-meta\">Posted on <span class=\"updated\">June 17, 2025</span>  by <span class=\"vcard author\"><a class=\"fn\" href=\"https://www.r-bloggers.com/author/r-on-everyday-is-a-school-day/\">r on Everyday Is A School Day</a></span>  in <a href=\"https://www.r-bloggers.com/category/r-bloggers/\" rel=\"category tag\">R bloggers</a> | 0 Comments</p>\n</header>\n<div class=\"entry clearfix\">\n<!-- \n<div style=\"min-height: 30px;\">\n[social4i size=\"small\" align=\"align-left\"]\n</div>\n-->\n<div style=\"border: 1px solid; background: none repeat scroll 0 0 #EDEDED; margin: 1px; font-size: 12px;\">\n[This article was first published on  <strong><a href=\"https://www.kenkoonwong.com/blog/qbank/\"> r on Everyday Is A School Day</a></strong>, and kindly contributed to <a href=\"https://www.r-bloggers.com/\" rel=\"nofollow\">R-bloggers</a>].  (You can report issue about the content on this page <a href=\"https://www.r-bloggers.com/contact-us/\">here</a>)\n<hr/>Want to share your content on R-bloggers?<a href=\"https://www.r-bloggers.com/add-your-blog/\" rel=\"nofollow\"> click here</a> if you have a blog, or <a href=\"http://r-posts.com/\" rel=\"nofollow\"> here</a> if you don't.\n</div>\n\n<!-- Share buttons by mashshare.net - Version: 4.0.47--><blockquote>\n<p>Learn how to build a flash-card style question bank using Google Sheets as storage, R‚Äôs Plumber API, and host it on a Digital Ocean droplet‚Äîstep-by-step setup, deployment, and tips.</p>\n</blockquote>\n<p><img alt=\"\" data-lazy-src=\"https://i0.wp.com/www.kenkoonwong.com/blog/qbank/qbank.png?w=578&amp;ssl=1\" data-recalc-dims=\"1\" src=\"https://www.r-bloggers.com/wp-content/plugins/jetpack/modules/lazy-images/images/1x1.trans.gif\"/><noscript><img alt=\"\" data-recalc-dims=\"1\" src=\"https://i0.wp.com/www.kenkoonwong.com/blog/qbank/qbank.png?w=578&amp;ssl=1\"/></noscript></p>\n<h2 id=\"motivations\">Motivations\n  <a href=\"https://www.kenkoonwong.com/blog/qbank/#motivations\" rel=\"nofollow\" target=\"_blank\"><svg aria-hidden=\"true\" class=\"anchor-symbol\" height=\"26\" viewbox=\"0 0 22 22\" width=\"26\" xmlns=\"http://www.w3.org/2000/svg\">\n<path d=\"M0 0h24v24H0z\" fill=\"currentColor\"></path>\n<path d=\"M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76.0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71.0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71.0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76.0 5-2.24 5-5s-2.24-5-5-5z\"></path>\n</svg></a>\n</h2>\n<p>One of my colleagues wanted to create a cumulative question banks to help our learners in infectious disease topic and this idea popped in my head. Why don‚Äôt we use google sheet for a place where we can store the questions and answers, then have another platform to host that? There are many ways to make this work, but I think the least interrupted way (changing one thing won‚Äôt affect the other parts) is to have google sheet as a storage system, plumber as an API, and digital ocean droplet to host it! This is a step by step tutorial in creating one.</p>\n<h2 id=\"objectives\">Objectives:\n  <a href=\"https://www.kenkoonwong.com/blog/qbank/#objectives\" rel=\"nofollow\" target=\"_blank\"><svg aria-hidden=\"true\" class=\"anchor-symbol\" height=\"26\" viewbox=\"0 0 22 22\" width=\"26\" xmlns=\"http://www.w3.org/2000/svg\">\n<path d=\"M0 0h24v24H0z\" fill=\"currentColor\"></path>\n<path d=\"M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76.0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71.0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71.0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76.0 5-2.24 5-5s-2.24-5-5-5z\"></path>\n</svg></a>\n</h2>\n<ul>\n<li>\n<a href=\"https://www.kenkoonwong.com/blog/qbank/#theend\" rel=\"nofollow\" target=\"_blank\">The End In Mind</a></li>\n<li>\n<a href=\"https://www.kenkoonwong.com/blog/qbank/#tools\" rel=\"nofollow\" target=\"_blank\">Tools You Need</a></li>\n<li>\n<a href=\"https://www.kenkoonwong.com/blog/qbank/#questions\" rel=\"nofollow\" target=\"_blank\">Set Up Your Questions</a></li>\n<li>\n<a href=\"https://www.kenkoonwong.com/blog/qbank/#plumber\" rel=\"nofollow\" target=\"_blank\">Plumber &amp; HTML stuff</a></li>\n<li>\n<a href=\"https://www.kenkoonwong.com/blog/qbank/#host\" rel=\"nofollow\" target=\"_blank\">Host It With Digital Ocean</a></li>\n<li>\n<a href=\"https://www.kenkoonwong.com/blog/qbank/#tips\" rel=\"nofollow\" target=\"_blank\">Tips</a></li>\n<li>\n<a href=\"https://www.kenkoonwong.com/blog/qbank/#opportunities\" rel=\"nofollow\" target=\"_blank\">Opportunities For Improvement And Other Ideas</a></li>\n<li>\n<a href=\"https://www.kenkoonwong.com/blog/qbank/#lessons\" rel=\"nofollow\" target=\"_blank\">Lessons Learnt</a></li>\n</ul>\n<h2 id=\"theend\">The End In Mind\n  <a href=\"https://www.kenkoonwong.com/blog/qbank/#theend\" rel=\"nofollow\" target=\"_blank\"><svg aria-hidden=\"true\" class=\"anchor-symbol\" height=\"26\" viewbox=\"0 0 22 22\" width=\"26\" xmlns=\"http://www.w3.org/2000/svg\">\n<path d=\"M0 0h24v24H0z\" fill=\"currentColor\"></path>\n<path d=\"M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76.0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71.0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71.0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76.0 5-2.24 5-5s-2.24-5-5-5z\"></path>\n</svg></a>\n</h2>\n<p>So, what we want to achieve at the end is a site where we can have some sort of flash card time study questions. Where we have a simple question, and the a button to click to reveal the answer, a button to go to the next question, randomly sort the questions, like so ‚Ä¶</p>\n<p><img alt=\"\" data-lazy-src=\"https://i0.wp.com/www.kenkoonwong.com/blog/qbank/the_end.png?w=578&amp;ssl=1\" data-recalc-dims=\"1\" src=\"https://www.r-bloggers.com/wp-content/plugins/jetpack/modules/lazy-images/images/1x1.trans.gif\"/><noscript><img alt=\"\" data-recalc-dims=\"1\" src=\"https://i0.wp.com/www.kenkoonwong.com/blog/qbank/the_end.png?w=578&amp;ssl=1\"/></noscript></p>\n<h2 id=\"tools\">Tools You Need\n  <a href=\"https://www.kenkoonwong.com/blog/qbank/#tools\" rel=\"nofollow\" target=\"_blank\"><svg aria-hidden=\"true\" class=\"anchor-symbol\" height=\"26\" viewbox=\"0 0 22 22\" width=\"26\" xmlns=\"http://www.w3.org/2000/svg\">\n<path d=\"M0 0h24v24H0z\" fill=\"currentColor\"></path>\n<path d=\"M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76.0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71.0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71.0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76.0 5-2.24 5-5s-2.24-5-5-5z\"></path>\n</svg></a>\n</h2>\n<p>If you‚Äôre familair with R or other programming languages, these all should make sense to you. If not, you might need to learn a bit of R and some coding knowledge. The best part is, now you can use LLM to help you (e.g., explain code, fix code, learn code etc). Also note that some of the steps will require some form of registration and payment (e.g., cheapest ~$5/month) especially when it comes to digital ocean droplet and account. So here is a list of tools you need:</p>\n<ul>\n<li><code>Patience &amp; persistence</code>, if you don‚Äôt know how to code (Sorry this tutorial is meant for those who already know and have installed R). This may also apply to those who know how to code, but not familiar with plumber or digital ocean.</li>\n<li><code>Some coding</code> or at least <code>lots of copy and pasting</code></li>\n<li>Familiar with <code>Google Sheet</code></li>\n<li>Installed <code>R</code>, <code>plumber</code>, have a <code>digital ocean</code> account (if not create one)</li>\n<li>Have some <code>ssh</code>, <code>bash</code> knowledge</li>\n<li>Familiar with <code>HTML</code> and <code>CSS</code> (optional, but helpful)</li>\n<li>Last but not least, <code>Be very good with using LLM to help you</code></li>\n</ul>\n<h2 id=\"questions\">Set Up Your Questions\n  <a href=\"https://www.kenkoonwong.com/blog/qbank/#questions\" rel=\"nofollow\" target=\"_blank\"><svg aria-hidden=\"true\" class=\"anchor-symbol\" height=\"26\" viewbox=\"0 0 22 22\" width=\"26\" xmlns=\"http://www.w3.org/2000/svg\">\n<path d=\"M0 0h24v24H0z\" fill=\"currentColor\"></path>\n<path d=\"M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76.0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71.0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71.0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76.0 5-2.24 5-5s-2.24-5-5-5z\"></path>\n</svg></a>\n</h2>\n<p>To set up your questions, you can use google sheet. Like so:</p>\n<p><img alt=\"\" data-lazy-src=\"https://i2.wp.com/www.kenkoonwong.com/blog/qbank/googlesheet.png?w=578&amp;ssl=1\" data-recalc-dims=\"1\" src=\"https://www.r-bloggers.com/wp-content/plugins/jetpack/modules/lazy-images/images/1x1.trans.gif\"/><noscript><img alt=\"\" data-recalc-dims=\"1\" src=\"https://i2.wp.com/www.kenkoonwong.com/blog/qbank/googlesheet.png?w=578&amp;ssl=1\"/></noscript>\nThis is just an example. Take note that we have 5 columns here. Once you created this google sheet, make sure to click share and change access to ‚ÄúAnyone with the link can view‚Äù. This is important because we will be using this link to access the data in our plumber API. Like so:</p>\n<p><img alt=\"\" data-lazy-src=\"https://i1.wp.com/www.kenkoonwong.com/blog/qbank/share.png?w=578&amp;ssl=1\" data-recalc-dims=\"1\" src=\"https://www.r-bloggers.com/wp-content/plugins/jetpack/modules/lazy-images/images/1x1.trans.gif\"/><noscript><img alt=\"\" data-recalc-dims=\"1\" src=\"https://i1.wp.com/www.kenkoonwong.com/blog/qbank/share.png?w=578&amp;ssl=1\"/></noscript></p>\n<p>Then copy the link and our <code>sheet ID</code> is between <code>/d/</code> and <code>/edit</code>. In this case, our id looks like this <code>1iDup4-23ir8Faos2Ml_hvWiWYQGv73aLs7NmhjWDxz9</code> (fyi, this is not a real id). Save this id for later.</p>\n<h2 id=\"plumber\">Plumber &amp; HTML stuff\n  <a href=\"https://www.kenkoonwong.com/blog/qbank/#plumber\" rel=\"nofollow\" target=\"_blank\"><svg aria-hidden=\"true\" class=\"anchor-symbol\" height=\"26\" viewbox=\"0 0 22 22\" width=\"26\" xmlns=\"http://www.w3.org/2000/svg\">\n<path d=\"M0 0h24v24H0z\" fill=\"currentColor\"></path>\n<path d=\"M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76.0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71.0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71.0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76.0 5-2.24 5-5s-2.24-5-5-5z\"></path>\n</svg></a>\n</h2>\n<p>Now we need to create a plumber API. If you don‚Äôt know what plumber is, it is an R package that allows you to create APIs using R. You can read more about it \n<a href=\"https://www.rplumber.io/\" rel=\"nofollow\" target=\"_blank\">here</a>.</p>\n<p>To create a plumber API, you need to create a new R script file (e.g., <code>api.R</code>) and add the following code:</p>\n<h4 id=\"plumberr\">plumber.R\n  <a href=\"https://www.kenkoonwong.com/blog/qbank/#plumberr\" rel=\"nofollow\" target=\"_blank\"></a>\n</h4>\n<pre>library(plumber)\nlibrary(googlesheets4)\nlibrary(dplyr)\n\n# Disable authentication for public sheets\ngs4_deauth()\n\n# Configuration\nSHEET_ID &lt;- \"1iDup4-23ir8Faos2Ml_hvWiWYQGv73aLs7NmhjWDxz9\" #### &lt;- this is your google sheet ID\n\n# Global variables for caching\nquestions_cache &lt;- NULL\nlast_fetch_time &lt;- 0\ncache_duration &lt;- 5 * 60  # 5 minutes in seconds\n\n# Function to fetch questions from Google Sheets\nfetch_questions_from_sheet &lt;- function() {\n  tryCatch({\n    sheet_data &lt;- read_sheet(SHEET_ID, range = \"A2:E100\", col_names = FALSE)\n    \n    # Set column names\n    names(sheet_data) &lt;- c(\"question\", \"answer\", \"reference\", \"image_url\", \"tag\")\n    \n    # Clean and process data\n    questions &lt;- sheet_data %&gt;%\n      filter(!is.na(question) &amp; !is.na(answer) &amp; \n               question != \"\" &amp; answer != \"\") %&gt;%\n      mutate(\n        id = row_number(),\n        question = as.character(question),\n        answer = as.character(answer),\n        reference = ifelse(is.na(reference), \"\", as.character(reference)),\n        image_url = ifelse(is.na(image_url), \"\", as.character(image_url)),\n        tag = ifelse(is.na(tag), \"general\", as.character(tag))\n      ) %&gt;%\n      select(id, question, answer, reference, image_url, tag)\n    \n    # Update cache\n    questions_cache &lt;&lt;- questions\n    last_fetch_time &lt;&lt;- as.numeric(Sys.time())\n    \n    cat(\"Successfully loaded\", nrow(questions), \"questions\\n\")\n    return(questions)\n    \n  }, error = function(e) {\n    cat(\"Error loading from Google Sheets:\", e$message, \"\\n\")\n    # Return empty data frame with correct structure\n    return(data.frame(\n      id = integer(0),\n      question = character(0),\n      answer = character(0),\n      reference = character(0),\n      image_url = character(0),\n      tag = character(0),\n      stringsAsFactors = FALSE\n    ))\n  })\n}\n\n# Function to get questions with caching\nget_questions &lt;- function() {\n  current_time &lt;- as.numeric(Sys.time())\n  \n  if (is.null(questions_cache) || \n      (current_time - last_fetch_time) &gt; cache_duration) {\n    return(fetch_questions_from_sheet())\n  }\n  \n  return(questions_cache)\n}\n\n#* Enable CORS\n#* @filter cors\ncors &lt;- function(req, res) {\n  res$setHeader(\"Access-Control-Allow-Origin\", \"*\")\n  res$setHeader(\"Access-Control-Allow-Methods\", \"GET, POST, PUT, DELETE, OPTIONS\")\n  res$setHeader(\"Access-Control-Allow-Headers\", \"Content-Type, Authorization\")\n  if (identical(req$REQUEST_METHOD, \"OPTIONS\")) {\n    res$status &lt;- 200\n    return(list())\n  } else {\n    plumber::forward()\n  }\n}\n\n#* Get all questions (shuffled)\n#* @get /api/questions/all\nfunction() {\n  tryCatch({\n    cat(\"API call received for all questions\\n\")\n    \n    questions &lt;- get_questions()\n    cat(\"Retrieved\", nrow(questions), \"questions\\n\")\n    \n    if (nrow(questions) == 0) {\n      cat(\"No questions found\\n\")\n      return(list(\n        success = FALSE,\n        error = \"No questions found\"\n      ))\n    }\n    \n    # Shuffle the questions\n    shuffled_questions &lt;- questions[sample(nrow(questions)), ]\n    \n    # Convert to list format\n    questions_list &lt;- lapply(1:nrow(shuffled_questions), function(i) {\n      q &lt;- shuffled_questions[i, ]\n      list(\n        id = as.numeric(q$id),\n        question = as.character(q$question),\n        answer = as.character(q$answer),\n        reference = ifelse(is.na(q$reference) || q$reference == \"\", \"\", as.character(q$reference)),\n        image_url = ifelse(is.na(q$image_url) || q$image_url == \"\", \"\", as.character(q$image_url)),\n        tag = as.character(q$tag)\n      )\n    })\n    \n    result &lt;- list(\n      success = TRUE,\n      data = questions_list,\n      total = length(questions_list)\n    )\n    \n    cat(\"Returning\", length(questions_list), \"shuffled questions\\n\")\n    return(result)\n    \n  }, error = function(e) {\n    cat(\"Error in all questions endpoint:\", e$message, \"\\n\")\n    return(list(\n      success = FALSE,\n      error = paste(\"Server error:\", e$message)\n    ))\n  })\n}\n\n#* Serve the main HTML page\n#* @get /\n#* @serializer html\nfunction() {\n  readLines(\"public/index.html\", warn = FALSE) %&gt;% paste(collapse = \"\\n\")\n}\n\n#* Serve CSS file\n#* @get /styles.css\n#* @serializer contentType list(type=\"text/css\")\nfunction() {\n  readLines(\"public/styles.css\", warn = FALSE) %&gt;% paste(collapse = \"\\n\")\n}\n\n# Cache will be initialized on first API call\n</pre><p>Step 1: Save the above as <code>plumber.R</code>.</p>\n<h4 id=\"qbank_apir\">qbank_api.R\n  <a href=\"https://www.kenkoonwong.com/blog/qbank/#qbank_apir\" rel=\"nofollow\" target=\"_blank\"></a>\n</h4>\n<pre>#!/usr/bin/env Rscript\n\nlibrary(plumber)\n\nHOST &lt;- \"0.0.0.0\"\nPORT &lt;- 8000\n\ncat(\"Starting Plumber API...\\n\")\ncat(\"Available at: http://localhost:\", PORT, \"\\n\\n\")\n\n# Create API from plumber.R file\napi &lt;- plumber::plumb(\"plumber.R\")\napi$run(host = HOST, port = PORT)\n</pre><p>Step 2: Save the above code as <code>qbank_api.R</code>.  <br/>\nStep 3: Create a folder called <code>public</code> and create two files in it: \n<a href=\"https://www.kenkoonwong.com/blog/qbank/html_code.html\" rel=\"nofollow\" target=\"_blank\"><code>index.html</code></a> and \n<a href=\"https://www.kenkoonwong.com/blog/qbank/styles.css\" rel=\"nofollow\" target=\"_blank\"><code>styles.css</code></a>.    <br/>\nStep 4: Run <code>qbank_api.R</code> in your R console. This will start the plumber API and you should see something like this:</p>\n<p><img alt=\"\" data-lazy-src=\"https://i2.wp.com/www.kenkoonwong.com/blog/qbank/localhost.png?w=578&amp;ssl=1\" data-recalc-dims=\"1\" src=\"https://www.r-bloggers.com/wp-content/plugins/jetpack/modules/lazy-images/images/1x1.trans.gif\"/><noscript><img alt=\"\" data-recalc-dims=\"1\" src=\"https://i2.wp.com/www.kenkoonwong.com/blog/qbank/localhost.png?w=578&amp;ssl=1\"/></noscript></p>\n<p>Step 5: Go to your browser and navigator to <code>http://0.0.0.0:8000/</code> or <code>http://localhost:8000/</code>. You should see a simple HTML page, just like what we saw on our \n<a href=\"https://www.kenkoonwong.com/blog/qbank/#theend\" rel=\"nofollow\" target=\"_blank\">The End In Mind</a></p>\n<p>If you‚Äôve reached here, and everything is running, congratulations! You have created an API for your questions bank locally! Now if you want access to it from anywhere, you need to host it somewhere. If you don‚Äôt need that (you‚Äôre OK with just locally hosted question bank), then you‚Äôre done! üôå</p>\n<h2 id=\"host\">Host It With Digital Ocean\n  <a href=\"https://www.kenkoonwong.com/blog/qbank/#host\" rel=\"nofollow\" target=\"_blank\"><svg aria-hidden=\"true\" class=\"anchor-symbol\" height=\"26\" viewbox=\"0 0 22 22\" width=\"26\" xmlns=\"http://www.w3.org/2000/svg\">\n<path d=\"M0 0h24v24H0z\" fill=\"currentColor\"></path>\n<path d=\"M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76.0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71.0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71.0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76.0 5-2.24 5-5s-2.24-5-5-5z\"></path>\n</svg></a>\n</h2>\n<p>This is the part that may be a tad frustrating to be honest. I hope to provide a step by step guide here. This is also a way for myself to take note for future self to refer. Things get updated all the time, by the time you read this, things may no longer apply, and the droplet I created for demo would have been destroyed, but let‚Äôs give our best!</p>\n<p>Step 1. <strong>Create a Digital Ocean account</strong>: If you don‚Äôt have one, go to \n<a href=\"https://www.digitalocean.com/\" rel=\"nofollow\" target=\"_blank\">Digital Ocean</a> and create an account. You may need to add a payment method.</p>\n<p>Step 2.</p>\n<ul>\n<li><strong>Create a project</strong>: After logging in, create a new project. You can name it something like ‚ÄúQuestion Bank‚Äù or whatever you like.</li>\n<li><strong>Create a Droplet</strong>: Go to <code>create</code> and then click on <code>droplet</code>. Choose the following options:\n<ul>\n<li><strong>Data Center Region</strong>: Choos a region close to you.</li>\n<li><strong>Image</strong>: Choose <code>Ubuntu 22.04 (LTS) x64</code> (This is important !!! I was not able to install R with Ubbuntu 24)</li>\n<li><strong>Plan</strong>: Choose the cheapest one (e.g., <code>Basic</code> plan with 1GB RAM)</li>\n</ul>\n</li>\n<li><strong>Authentication</strong>: Use SSH keys if you have them set up, or use a password. Password may be the easiest for a starter</li>\n<li><strong>Finalize and Create</strong>: Click on <code>Create Droplet</code>.</li>\n</ul>\n<p>You will then see something like this:\n<img alt=\"\" data-lazy-src=\"https://i1.wp.com/www.kenkoonwong.com/blog/qbank/droplet.png?w=578&amp;ssl=1\" data-recalc-dims=\"1\" src=\"https://www.r-bloggers.com/wp-content/plugins/jetpack/modules/lazy-images/images/1x1.trans.gif\"/><noscript><img alt=\"\" data-recalc-dims=\"1\" src=\"https://i1.wp.com/www.kenkoonwong.com/blog/qbank/droplet.png?w=578&amp;ssl=1\"/></noscript></p>\n<p>Step 3. <strong>Connect to your Droplet</strong>:</p>\n<ul>\n<li>Open your terminal (or command prompt) and use the following command to connect to your droplet:\n<pre>ssh root@your_droplet_ip_address\n</pre></li>\n<li>OR, you can use their <code>console</code>, it‚Äôs located top right corner of your droplet page. Click on <code>Console</code> and it will open a terminal window in your browser. You will need to enter your password if you chose password authentication. If you used SSH keys, it should connect automatically.</li>\n</ul>\n<p>Step 4. <strong>Install R and Plumber</strong>:</p>\n<pre># install R, dependencies, libraries\nsudo apt update\nsudo apt install r-base r-base-dev\nsudo apt install -y libcurl4-openssl-dev libssl-dev libxml2-dev libsodium-dev libfontconfig1-dev libharfbuzz-dev libfribidi-dev libfreetype6-dev libpng-dev libtiff5-dev libjpeg-dev build-essential libgit2-dev libssh2-1-dev\nRscript -e \"install.packages(c('tidyverse', 'plumber', 'rvest', 'googlesheets4'), repos='https://cran.rstudio.com/', dependencies=TRUE)\"\n</pre><p>Copy and paste the above in your terminal after you‚Äôve ssh-ed into your droplet. <strong>Beware that this may take sometime, also some manual enters</strong>, while waiting for these, please feel free to go to step 5 to upload the necessary files</p>\n<p>Also, take note, that if you have issues installing the above, it could be that you ran out of RAM or disk space. You can check your disk space with <code>df -h</code> and RAM with <code>free -h</code>. If you ran out of space, you may need to resize your droplet or delete some files.</p>\n<p>Step 5. <strong>Upload your files</strong>:</p>\n<ul>\n<li>Use <code>sftp</code> or <code>filezilla</code> to upload the files. Below is an example of using <code>sftp</code>:</li>\n</ul>\n<pre>sftp root@your_droplet_ip_address\nsftp&gt; put qbank_api.R\nsftp&gt; put plumber.R\nsftp&gt; put public/index.html\nsftp&gt; put public/styles.css\nsftp&gt; exit\n</pre><p>Make sure the path to the file is specified correctly.</p>\n<p>\n<a href=\"https://github.com/kenkoonwong/qbank/blob/9387602989c200a0098afc53ac27046579a45d7d/qbank.zip\" rel=\"nofollow\" target=\"_blank\">Here is a link to the zip for all the files you need</a> to get a minimal viable product. ü§û</p>\n<ul>\n<li>If you are using <code>filezilla</code>, you can drag and drop the files to your droplet‚Äôs home directory. Make sure the files are in the same directory as <code>plumber.R</code> and <code>qbank_api.R</code>.</li>\n</ul>\n<p>Step 6. <strong>Run the API</strong>:</p>\n<pre>sudo nano /etc/systemd/system/qbank-api.service\n\n[Unit]\nDescription=QBank API Service\nAfter=network.target\n\n[Service]\nType=simple\nUser=root\nWorkingDirectory=/home/idqbank/\nExecStart=/usr/bin/Rscript qbank_api.R\nRestart=always\nRestartSec=10\nStandardOutput=syslog\nStandardError=syslog\nSyslogIdentifier=qbank-api\n\n[Install]\nWantedBy=multi-user.target\n</pre><p>Take note on the <code>WorkingDirectory</code> and <code>ExecStart</code> lines. You need to change the path to where you uploaded your files. For example, if you uploaded your files to <code>/home/your_username/qbank/</code>, then you need to change <code>WorkingDirectory=/home/idqbank/</code> to <code>WorkingDirectory=/home/your_username/qbank/</code> and <code>ExecStart=/usr/bin/Rscript qbank_api.R</code> to <code>ExecStart=/usr/bin/Rscript /home/your_username/qbank/qbank_api.R</code>.</p>\n<pre># Reload systemd to recognize the new service\nsudo systemctl daemon-reload\n\n# Enable the service to start on boot\nsudo systemctl enable qbank-api.service\n\n# Start the service now\nsudo systemctl start qbank-api.service\n</pre><p>This will create a systemd service that will run your API in the background. You want to make sure if the droplet restarts for some reason, you want your API to restart automatically. Hence the above step is important.</p>\n<p>Step 7. <strong>Check if the API is running</strong>:</p>\n<pre>sudo systemctl status qbank-api.service\n</pre><p>You should see something like this:\n<img alt=\"\" data-lazy-src=\"https://i2.wp.com/www.kenkoonwong.com/blog/qbank/status.png?w=578&amp;ssl=1\" data-recalc-dims=\"1\" src=\"https://www.r-bloggers.com/wp-content/plugins/jetpack/modules/lazy-images/images/1x1.trans.gif\"/><noscript><img alt=\"\" data-recalc-dims=\"1\" src=\"https://i2.wp.com/www.kenkoonwong.com/blog/qbank/status.png?w=578&amp;ssl=1\"/></noscript>\nStep 8. <strong>Access your API</strong>:\nNow you can access your API from anywhere! Just go to <code>http://your_droplet_ip_address:8000/</code> in your browser. You should see the same HTML page as before. Make sure you include the <code>port</code> you specified in your <code>qbank_api.R</code> file (e.g., <code>8000</code>). It won‚Äôt work with the current setting if you don‚Äôt.</p>\n<p>If you‚Äôre interested in eliminating the port number, you can set up a reverse proxy using <code>Nginx</code>. This is a bit more advanced and beyond the scope of this tutorial, but you can find many tutorials online on how to do that.</p>\n<p><img alt=\"\" data-lazy-src=\"https://i0.wp.com/www.kenkoonwong.com/blog/qbank/the_end.png?w=578&amp;ssl=1\" data-recalc-dims=\"1\" src=\"https://www.r-bloggers.com/wp-content/plugins/jetpack/modules/lazy-images/images/1x1.trans.gif\"/><noscript><img alt=\"\" data-recalc-dims=\"1\" src=\"https://i0.wp.com/www.kenkoonwong.com/blog/qbank/the_end.png?w=578&amp;ssl=1\"/></noscript>\nTake note that we‚Äôre using <code>http</code> not <code>https</code>. Which means we don‚Äôt have a secure connection yet. If you want to have a secure connection, you need to set up an SSL certificate. We‚Äôre not going to go through that on this blog.</p>\n<p>That‚Äôs it! If you‚Äôve made it this far, congratulations! üëè You have successfully created a question bank using Google Sheet, Plumber, and Digital Ocean Droplet. You can now add more questions to your Google Sheet and they will automatically be available in your API, after <code>5 minutes</code> of changes.</p>\n<h2 id=\"tips\">Tips\n  <a href=\"https://www.kenkoonwong.com/blog/qbank/#tips\" rel=\"nofollow\" target=\"_blank\"><svg aria-hidden=\"true\" class=\"anchor-symbol\" height=\"26\" viewbox=\"0 0 22 22\" width=\"26\" xmlns=\"http://www.w3.org/2000/svg\">\n<path d=\"M0 0h24v24H0z\" fill=\"currentColor\"></path>\n<path d=\"M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76.0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71.0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71.0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76.0 5-2.24 5-5s-2.24-5-5-5z\"></path>\n</svg></a>\n</h2>\n<p>If you already have used LLM (e.g. chatGPT, Claude, gemini etc), fantastic! If you haven‚Äôt, I highly recommend you to use it to help you with coding, debugging, and learning. Here are some tips:</p>\n<ul>\n<li><code>Explaination</code>: All these look foreign to you? Copy and paste into LLM and ask <code>explain this code to me</code></li>\n<li><code>Follow up on it</code>: If you still don‚Äôt understand something, ask LLM to explain it further.</li>\n<li><code>Debugging</code>: If you have an error, copy and paste the error message into LLM and ask <code>what does this error mean?</code> or <code>how do I fix this error?</code>\n<ul>\n<li><code>Screen Caputure</code>: Still unsure? Screen capture what you‚Äôre seeing, attach a picture on LLM and ask!</li>\n<li><code>Fetch URL</code>: Confused with what I wrote here? Paste this url and ask <code>what does this blog mean?</code> or <code>how do I do this?</code></li>\n</ul>\n</li>\n<li>Interested in <code>SSL cert</code> and <code>nginx</code> reverse proxy? Ask LLM to explain it to you, or ask <code>how do I set up SSL certificate for my droplet?</code> or <code>how do I set up nginx reverse proxy for my droplet?</code>.</li>\n<li><code>Having the end in mind helps</code>: Make sure it runs locally before you host it. If it doesn‚Äôt run locally, it won‚Äôt run on the server.</li>\n</ul>\n<h2 id=\"opportunities\">Opportunities For Improvement And Other Ideas\n  <a href=\"https://www.kenkoonwong.com/blog/qbank/#opportunities\" rel=\"nofollow\" target=\"_blank\"><svg aria-hidden=\"true\" class=\"anchor-symbol\" height=\"26\" viewbox=\"0 0 22 22\" width=\"26\" xmlns=\"http://www.w3.org/2000/svg\">\n<path d=\"M0 0h24v24H0z\" fill=\"currentColor\"></path>\n<path d=\"M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76.0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71.0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71.0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76.0 5-2.24 5-5s-2.24-5-5-5z\"></path>\n</svg></a>\n</h2>\n<ul>\n<li>Definitely need to create SSL certificate for a secured connection. You can use \n<a href=\"https://letsencrypt.org/\" rel=\"nofollow\" target=\"_blank\">Let‚Äôs Encrypt</a> to create a free SSL certificate.</li>\n<li>This does not have to be a question bank. How about Idea Factory? Dashboard of some sort? Metrics? OKR? Use your imagination!</li>\n</ul>\n<h2 id=\"lessons\">Lessons Learnt\n  <a href=\"https://www.kenkoonwong.com/blog/qbank/#lessons\" rel=\"nofollow\" target=\"_blank\"><svg aria-hidden=\"true\" class=\"anchor-symbol\" height=\"26\" viewbox=\"0 0 22 22\" width=\"26\" xmlns=\"http://www.w3.org/2000/svg\">\n<path d=\"M0 0h24v24H0z\" fill=\"currentColor\"></path>\n<path d=\"M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76.0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71.0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71.0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76.0 5-2.24 5-5s-2.24-5-5-5z\"></path>\n</svg></a>\n</h2>\n<ul>\n<li>Tried on multipel droplets to install R, but only Ubuntu 22.04 works for now.</li>\n<li>If you have issues installing R, it could be that you ran out of RAM or disk space.</li>\n</ul>\n<p>If you like this article:</p>\n<ul>\n<li>please feel free to send me a \n<a href=\"https://www.kenkoonwong.com/blog/\" rel=\"nofollow\" target=\"_blank\">comment or visit my other blogs</a></li>\n<li>please feel free to follow me on \n<a href=\"https://bsky.app/profile/kenkoonwong.bsky.social\" rel=\"nofollow\" target=\"_blank\">BlueSky</a>, \n<a href=\"https://twitter.com/kenkoonwong/\" rel=\"nofollow\" target=\"_blank\">twitter</a>, \n<a href=\"https://github.com/kenkoonwong/\" rel=\"nofollow\" target=\"_blank\">GitHub</a> or \n<a href=\"https://med-mastodon.com/@kenkoonwong\" rel=\"nofollow\" target=\"_blank\">Mastodon</a></li>\n<li>if you would like collaborate please feel free to \n<a href=\"https://www.kenkoonwong.com/contact/\" rel=\"nofollow\" target=\"_blank\">contact me</a></li>\n</ul>\n<div class=\"jp-relatedposts\" id=\"jp-relatedposts\">\n<h3 class=\"jp-relatedposts-headline\"><em>Related</em></h3>\n</div>\n<!-- Share buttons by mashshare.net - Version: 4.0.47-->\n<div style=\"border: 1px solid; background: none repeat scroll 0 0 #EDEDED; margin: 1px; font-size: 13px;\">\n<div style=\"text-align: center;\">To <strong>leave a comment</strong> for the author, please follow the link and comment on their blog: <strong><a href=\"https://www.kenkoonwong.com/blog/qbank/\"> r on Everyday Is A School Day</a></strong>.</div>\n<hr/>\n<a href=\"https://www.r-bloggers.com/\" rel=\"nofollow\">R-bloggers.com</a> offers <strong><a href=\"https://feedburner.google.com/fb/a/mailverify?uri=RBloggers\" rel=\"nofollow\">daily e-mail updates</a></strong> about <a href=\"https://www.r-project.org/\" rel=\"nofollow\" title=\"The R Project for Statistical Computing\">R</a> news and tutorials about <a href=\"https://www.r-bloggers.com/how-to-learn-r-2/\" rel=\"nofollow\" title=\"R tutorials\">learning R</a> and many other topics. <a href=\"https://www.r-users.com/\" rel=\"nofollow\" title=\"Data science jobs\">Click here if you're looking to post or find an R/data-science job</a>.\n\n<hr/>Want to share your content on R-bloggers?<a href=\"https://www.r-bloggers.com/add-your-blog/\" rel=\"nofollow\"> click here</a> if you have a blog, or <a href=\"http://r-posts.com/\" rel=\"nofollow\"> here</a> if you don't.\n</div> </div>\n</article>",
    "main_text": "Creating A Question Bank Using Google Sheet, Plumber, and Digital Ocean Droplet\nPosted on\nJune 17, 2025\nby\nr on Everyday Is A School Day\nin\nR bloggers\n| 0 Comments\n[This article was first published on\nr on Everyday Is A School Day\n, and kindly contributed to\nR-bloggers\n].  (You can report issue about the content on this page\nhere\n)\nWant to share your content on R-bloggers?\nclick here\nif you have a blog, or\nhere\nif you don't.\nLearn how to build a flash-card style question bank using Google Sheets as storage, R‚Äôs Plumber API, and host it on a Digital Ocean droplet‚Äîstep-by-step setup, deployment, and tips.\nMotivations\nOne of my colleagues wanted to create a cumulative question banks to help our learners in infectious disease topic and this idea popped in my head. Why don‚Äôt we use google sheet for a place where we can store the questions and answers, then have another platform to host that? There are many ways to make this work, but I think the least interrupted way (changing one thing won‚Äôt affect the other parts) is to have google sheet as a storage system, plumber as an API, and digital ocean droplet to host it! This is a step by step tutorial in creating one.\nObjectives:\nThe End In Mind\nTools You Need\nSet Up Your Questions\nPlumber & HTML stuff\nHost It With Digital Ocean\nTips\nOpportunities For Improvement And Other Ideas\nLessons Learnt\nThe End In Mind\nSo, what we want to achieve at the end is a site where we can have some sort of flash card time study questions. Where we have a simple question, and the a button to click to reveal the answer, a button to go to the next question, randomly sort the questions, like so ‚Ä¶\nTools You Need\nIf you‚Äôre familair with R or other programming languages, these all should make sense to you. If not, you might need to learn a bit of R and some coding knowledge. The best part is, now you can use LLM to help you (e.g., explain code, fix code, learn code etc). Also note that some of the steps will require some form of registration and payment (e.g., cheapest ~$5/month) especially when it comes to digital ocean droplet and account. So here is a list of tools you need:\nPatience & persistence\n, if you don‚Äôt know how to code (Sorry this tutorial is meant for those who already know and have installed R). This may also apply to those who know how to code, but not familiar with plumber or digital ocean.\nSome coding\nor at least\nlots of copy and pasting\nFamiliar with\nGoogle Sheet\nInstalled\nR\n,\nplumber\n, have a\ndigital ocean\naccount (if not create one)\nHave some\nssh\n,\nbash\nknowledge\nFamiliar with\nHTML\nand\nCSS\n(optional, but helpful)\nLast but not least,\nBe very good with using LLM to help you\nSet Up Your Questions\nTo set up your questions, you can use google sheet. Like so:\nThis is just an example. Take note that we have 5 columns here. Once you created this google sheet, make sure to click share and change access to ‚ÄúAnyone with the link can view‚Äù. This is important because we will be using this link to access the data in our plumber API. Like so:\nThen copy the link and our\nsheet ID\nis between\n/d/\nand\n/edit\n. In this case, our id looks like this\n1iDup4-23ir8Faos2Ml_hvWiWYQGv73aLs7NmhjWDxz9\n(fyi, this is not a real id). Save this id for later.\nPlumber & HTML stuff\nNow we need to create a plumber API. If you don‚Äôt know what plumber is, it is an R package that allows you to create APIs using R. You can read more about it\nhere\n.\nTo create a plumber API, you need to create a new R script file (e.g.,\napi.R\n) and add the following code:\nplumber.R\nlibrary(plumber)\nlibrary(googlesheets4)\nlibrary(dplyr)\n\n# Disable authentication for public sheets\ngs4_deauth()\n\n# Configuration\nSHEET_ID <- \"1iDup4-23ir8Faos2Ml_hvWiWYQGv73aLs7NmhjWDxz9\" #### <- this is your google sheet ID\n\n# Global variables for caching\nquestions_cache <- NULL\nlast_fetch_time <- 0\ncache_duration <- 5 * 60  # 5 minutes in seconds\n\n# Function to fetch questions from Google Sheets\nfetch_questions_from_sheet <- function() {\n  tryCatch({\n    sheet_data <- read_sheet(SHEET_ID, range = \"A2:E100\", col_names = FALSE)\n    \n    # Set column names\n    names(sheet_data) <- c(\"question\", \"answer\", \"reference\", \"image_url\", \"tag\")\n    \n    # Clean and process data\n    questions <- sheet_data %>%\n      filter(!is.na(question) & !is.na(answer) & \n               question != \"\" & answer != \"\") %>%\n      mutate(\n        id = row_number(),\n        question = as.character(question),\n        answer = as.character(answer),\n        reference = ifelse(is.na(reference), \"\", as.character(reference)),\n        image_url = ifelse(is.na(image_url), \"\", as.character(image_url)),\n        tag = ifelse(is.na(tag), \"general\", as.character(tag))\n      ) %>%\n      select(id, question, answer, reference, image_url, tag)\n    \n    # Update cache\n    questions_cache <<- questions\n    last_fetch_time <<- as.numeric(Sys.time())\n    \n    cat(\"Successfully loaded\", nrow(questions), \"questions\\n\")\n    return(questions)\n    \n  }, error = function(e) {\n    cat(\"Error loading from Google Sheets:\", e$message, \"\\n\")\n    # Return empty data frame with correct structure\n    return(data.frame(\n      id = integer(0),\n      question = character(0),\n      answer = character(0),\n      reference = character(0),\n      image_url = character(0),\n      tag = character(0),\n      stringsAsFactors = FALSE\n    ))\n  })\n}\n\n# Function to get questions with caching\nget_questions <- function() {\n  current_time <- as.numeric(Sys.time())\n  \n  if (is.null(questions_cache) || \n      (current_time - last_fetch_time) > cache_duration) {\n    return(fetch_questions_from_sheet())\n  }\n  \n  return(questions_cache)\n}\n\n#* Enable CORS\n#* @filter cors\ncors <- function(req, res) {\n  res$setHeader(\"Access-Control-Allow-Origin\", \"*\")\n  res$setHeader(\"Access-Control-Allow-Methods\", \"GET, POST, PUT, DELETE, OPTIONS\")\n  res$setHeader(\"Access-Control-Allow-Headers\", \"Content-Type, Authorization\")\n  if (identical(req$REQUEST_METHOD, \"OPTIONS\")) {\n    res$status <- 200\n    return(list())\n  } else {\n    plumber::forward()\n  }\n}\n\n#* Get all questions (shuffled)\n#* @get /api/questions/all\nfunction() {\n  tryCatch({\n    cat(\"API call received for all questions\\n\")\n    \n    questions <- get_questions()\n    cat(\"Retrieved\", nrow(questions), \"questions\\n\")\n    \n    if (nrow(questions) == 0) {\n      cat(\"No questions found\\n\")\n      return(list(\n        success = FALSE,\n        error = \"No questions found\"\n      ))\n    }\n    \n    # Shuffle the questions\n    shuffled_questions <- questions[sample(nrow(questions)), ]\n    \n    # Convert to list format\n    questions_list <- lapply(1:nrow(shuffled_questions), function(i) {\n      q <- shuffled_questions[i, ]\n      list(\n        id = as.numeric(q$id),\n        question = as.character(q$question),\n        answer = as.character(q$answer),\n        reference = ifelse(is.na(q$reference) || q$reference == \"\", \"\", as.character(q$reference)),\n        image_url = ifelse(is.na(q$image_url) || q$image_url == \"\", \"\", as.character(q$image_url)),\n        tag = as.character(q$tag)\n      )\n    })\n    \n    result <- list(\n      success = TRUE,\n      data = questions_list,\n      total = length(questions_list)\n    )\n    \n    cat(\"Returning\", length(questions_list), \"shuffled questions\\n\")\n    return(result)\n    \n  }, error = function(e) {\n    cat(\"Error in all questions endpoint:\", e$message, \"\\n\")\n    return(list(\n      success = FALSE,\n      error = paste(\"Server error:\", e$message)\n    ))\n  })\n}\n\n#* Serve the main HTML page\n#* @get /\n#* @serializer html\nfunction() {\n  readLines(\"public/index.html\", warn = FALSE) %>% paste(collapse = \"\\n\")\n}\n\n#* Serve CSS file\n#* @get /styles.css\n#* @serializer contentType list(type=\"text/css\")\nfunction() {\n  readLines(\"public/styles.css\", warn = FALSE) %>% paste(collapse = \"\\n\")\n}\n\n# Cache will be initialized on first API call\nStep 1: Save the above as\nplumber.R\n.\nqbank_api.R\n#!/usr/bin/env Rscript\n\nlibrary(plumber)\n\nHOST <- \"0.0.0.0\"\nPORT <- 8000\n\ncat(\"Starting Plumber API...\\n\")\ncat(\"Available at: http://localhost:\", PORT, \"\\n\\n\")\n\n# Create API from plumber.R file\napi <- plumber::plumb(\"plumber.R\")\napi$run(host = HOST, port = PORT)\nStep 2: Save the above code as\nqbank_api.R\n.\nStep 3: Create a folder called\npublic\nand create two files in it:\nindex.html\nand\nstyles.css\n.\nStep 4: Run\nqbank_api.R\nin your R console. This will start the plumber API and you should see something like this:\nStep 5: Go to your browser and navigator to\nhttp://0.0.0.0:8000/\nor\nhttp://localhost:8000/\n. You should see a simple HTML page, just like what we saw on our\nThe End In Mind\nIf you‚Äôve reached here, and everything is running, congratulations! You have created an API for your questions bank locally! Now if you want access to it from anywhere, you need to host it somewhere. If you don‚Äôt need that (you‚Äôre OK with just locally hosted question bank), then you‚Äôre done! üôå\nHost It With Digital Ocean\nThis is the part that may be a tad frustrating to be honest. I hope to provide a step by step guide here. This is also a way for myself to take note for future self to refer. Things get updated all the time, by the time you read this, things may no longer apply, and the droplet I created for demo would have been destroyed, but let‚Äôs give our best!\nStep 1.\nCreate a Digital Ocean account\n: If you don‚Äôt have one, go to\nDigital Ocean\nand create an account. You may need to add a payment method.\nStep 2.\nCreate a project\n: After logging in, create a new project. You can name it something like ‚ÄúQuestion Bank‚Äù or whatever you like.\nCreate a Droplet\n: Go to\ncreate\nand then click on\ndroplet\n. Choose the following options:\nData Center Region\n: Choos a region close to you.\nImage\n: Choose\nUbuntu 22.04 (LTS) x64\n(This is important !!! I was not able to install R with Ubbuntu 24)\nPlan\n: Choose the cheapest one (e.g.,\nBasic\nplan with 1GB RAM)\nAuthentication\n: Use SSH keys if you have them set up, or use a password. Password may be the easiest for a starter\nFinalize and Create\n: Click on\nCreate Droplet\n.\nYou will then see something like this:\nStep 3.\nConnect to your Droplet\n:\nOpen your terminal (or command prompt) and use the following command to connect to your droplet:\nssh root@your_droplet_ip_address\nOR, you can use their\nconsole\n, it‚Äôs located top right corner of your droplet page. Click on\nConsole\nand it will open a terminal window in your browser. You will need to enter your password if you chose password authentication. If you used SSH keys, it should connect automatically.\nStep 4.\nInstall R and Plumber\n:\n# install R, dependencies, libraries\nsudo apt update\nsudo apt install r-base r-base-dev\nsudo apt install -y libcurl4-openssl-dev libssl-dev libxml2-dev libsodium-dev libfontconfig1-dev libharfbuzz-dev libfribidi-dev libfreetype6-dev libpng-dev libtiff5-dev libjpeg-dev build-essential libgit2-dev libssh2-1-dev\nRscript -e \"install.packages(c('tidyverse', 'plumber', 'rvest', 'googlesheets4'), repos='https://cran.rstudio.com/', dependencies=TRUE)\"\nCopy and paste the above in your terminal after you‚Äôve ssh-ed into your droplet.\nBeware that this may take sometime, also some manual enters\n, while waiting for these, please feel free to go to step 5 to upload the necessary files\nAlso, take note, that if you have issues installing the above, it could be that you ran out of RAM or disk space. You can check your disk space with\ndf -h\nand RAM with\nfree -h\n. If you ran out of space, you may need to resize your droplet or delete some files.\nStep 5.\nUpload your files\n:\nUse\nsftp\nor\nfilezilla\nto upload the files. Below is an example of using\nsftp\n:\nsftp root@your_droplet_ip_address\nsftp> put qbank_api.R\nsftp> put plumber.R\nsftp> put public/index.html\nsftp> put public/styles.css\nsftp> exit\nMake sure the path to the file is specified correctly.\nHere is a link to the zip for all the files you need\nto get a minimal viable product. ü§û\nIf you are using\nfilezilla\n, you can drag and drop the files to your droplet‚Äôs home directory. Make sure the files are in the same directory as\nplumber.R\nand\nqbank_api.R\n.\nStep 6.\nRun the API\n:\nsudo nano /etc/systemd/system/qbank-api.service\n\n[Unit]\nDescription=QBank API Service\nAfter=network.target\n\n[Service]\nType=simple\nUser=root\nWorkingDirectory=/home/idqbank/\nExecStart=/usr/bin/Rscript qbank_api.R\nRestart=always\nRestartSec=10\nStandardOutput=syslog\nStandardError=syslog\nSyslogIdentifier=qbank-api\n\n[Install]\nWantedBy=multi-user.target\nTake note on the\nWorkingDirectory\nand\nExecStart\nlines. You need to change the path to where you uploaded your files. For example, if you uploaded your files to\n/home/your_username/qbank/\n, then you need to change\nWorkingDirectory=/home/idqbank/\nto\nWorkingDirectory=/home/your_username/qbank/\nand\nExecStart=/usr/bin/Rscript qbank_api.R\nto\nExecStart=/usr/bin/Rscript /home/your_username/qbank/qbank_api.R\n.\n# Reload systemd to recognize the new service\nsudo systemctl daemon-reload\n\n# Enable the service to start on boot\nsudo systemctl enable qbank-api.service\n\n# Start the service now\nsudo systemctl start qbank-api.service\nThis will create a systemd service that will run your API in the background. You want to make sure if the droplet restarts for some reason, you want your API to restart automatically. Hence the above step is important.\nStep 7.\nCheck if the API is running\n:\nsudo systemctl status qbank-api.service\nYou should see something like this:\nStep 8.\nAccess your API\n:\nNow you can access your API from anywhere! Just go to\nhttp://your_droplet_ip_address:8000/\nin your browser. You should see the same HTML page as before. Make sure you include the\nport\nyou specified in your\nqbank_api.R\nfile (e.g.,\n8000\n). It won‚Äôt work with the current setting if you don‚Äôt.\nIf you‚Äôre interested in eliminating the port number, you can set up a reverse proxy using\nNginx\n. This is a bit more advanced and beyond the scope of this tutorial, but you can find many tutorials online on how to do that.\nTake note that we‚Äôre using\nhttp\nnot\nhttps\n. Which means we don‚Äôt have a secure connection yet. If you want to have a secure connection, you need to set up an SSL certificate. We‚Äôre not going to go through that on this blog.\nThat‚Äôs it! If you‚Äôve made it this far, congratulations! üëè You have successfully created a question bank using Google Sheet, Plumber, and Digital Ocean Droplet. You can now add more questions to your Google Sheet and they will automatically be available in your API, after\n5 minutes\nof changes.\nTips\nIf you already have used LLM (e.g. chatGPT, Claude, gemini etc), fantastic! If you haven‚Äôt, I highly recommend you to use it to help you with coding, debugging, and learning. Here are some tips:\nExplaination\n: All these look foreign to you? Copy and paste into LLM and ask\nexplain this code to me\nFollow up on it\n: If you still don‚Äôt understand something, ask LLM to explain it further.\nDebugging\n: If you have an error, copy and paste the error message into LLM and ask\nwhat does this error mean?\nor\nhow do I fix this error?\nScreen Caputure\n: Still unsure? Screen capture what you‚Äôre seeing, attach a picture on LLM and ask!\nFetch URL\n: Confused with what I wrote here? Paste this url and ask\nwhat does this blog mean?\nor\nhow do I do this?\nInterested in\nSSL cert\nand\nnginx\nreverse proxy? Ask LLM to explain it to you, or ask\nhow do I set up SSL certificate for my droplet?\nor\nhow do I set up nginx reverse proxy for my droplet?\n.\nHaving the end in mind helps\n: Make sure it runs locally before you host it. If it doesn‚Äôt run locally, it won‚Äôt run on the server.\nOpportunities For Improvement And Other Ideas\nDefinitely need to create SSL certificate for a secured connection. You can use\nLet‚Äôs Encrypt\nto create a free SSL certificate.\nThis does not have to be a question bank. How about Idea Factory? Dashboard of some sort? Metrics? OKR? Use your imagination!\nLessons Learnt\nTried on multipel droplets to install R, but only Ubuntu 22.04 works for now.\nIf you have issues installing R, it could be that you ran out of RAM or disk space.\nIf you like this article:\nplease feel free to send me a\ncomment or visit my other blogs\nplease feel free to follow me on\nBlueSky\n,\ntwitter\n,\nGitHub\nor\nMastodon\nif you would like collaborate please feel free to\ncontact me\nRelated\nTo\nleave a comment\nfor the author, please follow the link and comment on their blog:\nr on Everyday Is A School Day\n.\nR-bloggers.com\noffers\ndaily e-mail updates\nabout\nR\nnews and tutorials about\nlearning R\nand many other topics.\nClick here if you're looking to post or find an R/data-science job\n.\nWant to share your content on R-bloggers?\nclick here\nif you have a blog, or\nhere\nif you don't.",
    "meta_description": "Learn how to build a flash-card style question bank using Google Sheets as storage, R‚Äôs Plumber API, and host it on a Digital Ocean droplet‚Äîstep-by-step setup, deployment, and tips. Motivations One of my colleagues wanted ...",
    "meta_keywords": null,
    "og_description": "Learn how to build a flash-card style question bank using Google Sheets as storage, R‚Äôs Plumber API, and host it on a Digital Ocean droplet‚Äîstep-by-step setup, deployment, and tips. Motivations One of my colleagues wanted ...",
    "og_image": "https://www.kenkoonwong.com/blog/qbank/qbank.png",
    "og_title": "Creating A Question Bank Using Google Sheet, Plumber, and Digital Ocean Droplet | R-bloggers",
    "raw_jsonld_article": null,
    "reading_time_min": 13.5,
    "sitemap_lastmod": null,
    "twitter_description": "Learn how to build a flash-card style question bank using Google Sheets as storage, R‚Äôs Plumber API, and host it on a Digital Ocean droplet‚Äîstep-by-step setup, deployment, and tips. Motivations One of my colleagues wanted ...",
    "twitter_title": "Creating A Question Bank Using Google Sheet, Plumber, and Digital Ocean Droplet | R-bloggers",
    "url": "https://www.r-bloggers.com/2025/06/creating-a-question-bank-using-google-sheet-plumber-and-digital-ocean-droplet/",
    "word_count": 2701
  }
}