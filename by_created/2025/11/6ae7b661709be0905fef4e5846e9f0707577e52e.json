{
  "id": "6ae7b661709be0905fef4e5846e9f0707577e52e",
  "url": "https://www.r-bloggers.com/2025/04/electoral-bonds-data-in-charts/",
  "created_at_utc": "2025-11-22T19:58:55Z",
  "data": null,
  "raw_original": {
    "uuid": "d3b312ba-6dd1-447d-9a3a-b585fb050905",
    "created_at": "2025-11-22 19:58:55",
    "raw_json": {
      "article_author": null,
      "article_headline": null,
      "article_modified": null,
      "article_published": null,
      "article_section": null,
      "article_tags": null,
      "canonical_url": "https://www.r-bloggers.com/2025/04/electoral-bonds-data-in-charts/",
      "crawled_at": "2025-11-22T10:51:12.348750",
      "external_links": [
        {
          "href": "https://blog.asitavsen.com/posts/electoral-bond-in-charts/",
          "text": "Heteroscedasticity"
        },
        {
          "href": "http://r-posts.com/",
          "text": "here"
        },
        {
          "href": "https://blog.asitavsen.com/posts/electoral-bond-in-charts/www.dataful.in",
          "text": "dataful"
        },
        {
          "href": "http://blog.asitavsen.com/posts/electoral-bond-in-charts/#excluded-data",
          "text": "below"
        },
        {
          "href": "https://blog.asitavsen.com/posts/electoral-bond-in-charts/",
          "text": "Heteroscedasticity"
        },
        {
          "href": "https://feedburner.google.com/fb/a/mailverify?uri=RBloggers",
          "text": "daily e-mail updates"
        },
        {
          "href": "https://www.r-project.org/",
          "text": "R"
        },
        {
          "href": "https://www.r-users.com/",
          "text": "Click here if you're looking to post or find an R/data-science job"
        },
        {
          "href": "http://r-posts.com/",
          "text": "here"
        }
      ],
      "h1_title": "R-bloggers",
      "html_title": "Electoral bonds data in charts | R-bloggers",
      "images": [],
      "internal_links": [
        {
          "href": "https://www.r-bloggers.com/author/asitav-sen/",
          "text": "Asitav Sen"
        },
        {
          "href": "https://www.r-bloggers.com/category/r-bloggers/",
          "text": "R bloggers"
        },
        {
          "href": "https://www.r-bloggers.com/",
          "text": "R-bloggers"
        },
        {
          "href": "https://www.r-bloggers.com/contact-us/",
          "text": "here"
        },
        {
          "href": "https://www.r-bloggers.com/add-your-blog/",
          "text": "click here"
        },
        {
          "href": "https://www.r-bloggers.com/",
          "text": "R-bloggers.com"
        },
        {
          "href": "https://www.r-bloggers.com/how-to-learn-r-2/",
          "text": "learning R"
        },
        {
          "href": "https://www.r-bloggers.com/add-your-blog/",
          "text": "click here"
        }
      ],
      "lang": "en-US",
      "main_html": "<article class=\"post-393222 post type-post status-publish format-standard hentry category-r-bloggers\">\n<header class=\"post-header\">\n<h1 class=\"entry-title\">Electoral bonds data in charts</h1>\n<p class=\"meta post-meta\">Posted on <span class=\"updated\">April 5, 2025</span>  by <span class=\"vcard author\"><a class=\"fn\" href=\"https://www.r-bloggers.com/author/asitav-sen/\">Asitav Sen</a></span>  in <a href=\"https://www.r-bloggers.com/category/r-bloggers/\" rel=\"category tag\">R bloggers</a> | 0 Comments</p>\n</header>\n<div class=\"entry clearfix\">\n<!-- \n<div style=\"min-height: 30px;\">\n[social4i size=\"small\" align=\"align-left\"]\n</div>\n-->\n<div style=\"border: 1px solid; background: none repeat scroll 0 0 #EDEDED; margin: 1px; font-size: 12px;\">\n[This article was first published on  <strong><a href=\"https://blog.asitavsen.com/posts/electoral-bond-in-charts/\"> Heteroscedasticity</a></strong>, and kindly contributed to <a href=\"https://www.r-bloggers.com/\" rel=\"nofollow\">R-bloggers</a>].  (You can report issue about the content on this page <a href=\"https://www.r-bloggers.com/contact-us/\">here</a>)\n<hr/>Want to share your content on R-bloggers?<a href=\"https://www.r-bloggers.com/add-your-blog/\" rel=\"nofollow\"> click here</a> if you have a blog, or <a href=\"http://r-posts.com/\" rel=\"nofollow\"> here</a> if you don't.\n</div>\n\n<!-- Share buttons by mashshare.net - Version: 4.0.47-->\n<section class=\"level2\" id=\"bonds-worth-121-billion-purchase-between-apr-2019-and-jan-2024\">\n<h2 class=\"anchored\" data-anchor-id=\"bonds-worth-121-billion-purchase-between-apr-2019-and-jan-2024\">Bonds worth ₹ 121 Billion purchase between Apr 2019 and Jan 2024</h2>\n<p><em>Data was downloaded from <a href=\"https://blog.asitavsen.com/posts/electoral-bond-in-charts/www.dataful.in\" rel=\"nofollow\" target=\"_blank\">dataful</a>. Rows without reference number or with status <code>Expired</code> are not considered in this analysis. Hence, there may be a variation between the numbers.of excluded data is available <a href=\"http://blog.asitavsen.com/posts/electoral-bond-in-charts/#excluded-data\" rel=\"nofollow\" target=\"_blank\">below</a></em></p>\n<div class=\"cell\">\n<details class=\"code-fold\">\n<summary>Code</summary>\n<pre>highchart() |&gt;\n    hc_chart(type = \"sankey\", inverted = FALSE) |&gt;\n    hc_add_series(\n        data = list_parse(sankey.dat),\n        nodes = list_parse(nodes),\n        name = \"Flow\",\n        type = \"sankey\",\n        nodeWidth = 20,\n        linkOpacity = 0.5,  # Make links semi-transparent\n        states = list(\n            hover = list(\n                linkOpacity = 0.8  # Increase opacity on hover\n            )\n        )\n    ) |&gt;\n    hc_plotOptions(\n        sankey = list(\n            nodePadding = 3,    \n            curveFactor = 0.6,\n            colors = c(\"#1f77b4\", \"#ff7f0e\", \"#2ca02c\"),  # Colors for nodes\n            linkColor = \"#d3d3d3\"  # Default link color (can be rgba for transparency)\n        )\n    ) |&gt;\n    hc_title(\n        text = \"Flow of Electoral Bonds\",\n        align = \"left\",\n        style = list(\n            textDecoration = \"underline\",\n            color = \"#333333\",\n            fontWeight = \"bold\"\n        )\n    ) |&gt;\n    hc_subtitle(\n        text = \"Electoral bond encashment between Apr 16, 2019 and Jan 24, 2024\"\n    ) |&gt;\n    hc_tooltip(\n        formatter = JS(\"\n            function() {\n                var amount = this.point.weight;\n                // Check if it's a node (will have no 'weight' property)\n                if (typeof amount === 'undefined') {\n                    return '&lt;b&gt;' + this.point.name + '&lt;/b&gt;';\n                }\n                // For links\n                if (amount &gt;= 1000000000) {\n                    return '&lt;b&gt;' + this.point.from + '&lt;/b&gt; to &lt;b&gt;' + \n                           this.point.to + '&lt;/b&gt;: ₹' + \n                           (amount/1000000000).toFixed(2) + 'B';\n                } else {\n                    return '&lt;b&gt;' + this.point.from + '&lt;/b&gt; to &lt;b&gt;' + \n                           this.point.to + '&lt;/b&gt;: ₹' + \n                           (amount/1000000).toFixed(2) + 'M';\n                }\n            }\n        \")\n    ) |&gt;\n    hc_credits(\n        enabled = TRUE,\n        text = \"Heteroscedasticity\",\n        href = \"https://asitavsen.com\",\n        style = list(fontSize = \"12px\")\n    ) |&gt;\n    hc_add_theme(custom_theme) |&gt;\n    hc_exporting(\n        enabled = TRUE,\n        filename = \"ElectoralBondFlow\"\n    )</pre>\n</details>\n<div class=\"cell-output-display\">\n<div class=\"highchart html-widget html-fill-item\" id=\"htmlwidget-afb91fbaaedef1f674be\" style=\"width:100%;height:464px;\"></div>\n\n</div>\n</div>\n</section><section class=\"level4\" id=\"b-of-money-went-to-5-parties.-91-111-b-of-money-came-from-5-states\">\n<h4 class=\"anchored\" data-anchor-id=\"b-of-money-went-to-5-parties.-91-111-b-of-money-came-from-5-states\">86 % (₹ 105 B) of money went to 5 parties. 91 % (₹ 111 B) of money came from 5 states</h4>\n<details class=\"code-fold\">\n<summary>Code</summary>\n<pre>##| fig-width: 10\n\n# Plot amount distribution by political party\nplot_hc_pie_chart(\n  amount_by_party, \n  xval = \"standardised_political_party_name\", \n  yval = \"total_amount\",\n  series_name = \"Amount\",\n  theme = custom_theme,\n  title_text = \"Amount by Political Party\",\n  subtitle_text = \"Electoral bond encashment between Apr 16, 2019 and Jan 24, 2024\",\n  output_filename = \"AmountByPoliticalParty\"\n)\n# Plot amount distribution by state\nplot_hc_pie_chart(\n  amount_by_state, \n  xval = \"issue_branch_state\", \n  yval = \"total_amount\",\n  series_name = \"Amount\",\n  theme = custom_theme,\n  title_text = \"Amount by State\",\n  output_filename = \"AmountByState\",\n  subtitle_text = \"Electoral bond encashment between Apr 16, 2019 and Jan 24, 2024\"\n)\n# Create and plot top purchasers chart\nplot_hc_pie_chart(\n  rbind(\n    data.comb[, .(total_amount = sum(amount)), \n              by = .(standardised_purchaser_name)\n    ][order(-total_amount)][1:20],\n    data.table(\n      standardised_purchaser_name = \"Others\",\n      total_amount = data.comb[, .(total_amount = sum(amount)), \n                              by = .(standardised_purchaser_name)\n      ][order(-total_amount)][21:.N, sum(total_amount)]\n    )\n  ),\n  xval = \"standardised_purchaser_name\",\n  yval = \"total_amount\",\n  series_name = \"Amount\",\n  theme = custom_theme,\n  title_text = \"Amount by Purchaser\",\n  output_filename = \"AmountByPurchaser\",\n  subtitle_text = \"Electoral bond encashment between Apr 16, 2019 and Jan 24, 2024\"\n)</pre>\n</details>\n<div class=\"cell quarto-layout-panel\" data-layout-nrow=\"1\">\n<div class=\"quarto-layout-row\">\n<div class=\"quarto-layout-cell\" style=\"flex-basis: 33.3%;justify-content: flex-start;\">\n<div class=\"highchart html-widget html-fill-item\" id=\"htmlwidget-9238a0dbda0d04c27bde\" style=\"width:100%;height:278px;\"></div>\n\n</div>\n<div class=\"quarto-layout-cell\" style=\"flex-basis: 33.3%;justify-content: flex-start;\">\n<div class=\"highchart html-widget html-fill-item\" id=\"htmlwidget-ab1ab6c07f111ac7c05a\" style=\"width:100%;height:278px;\"></div>\n\n</div>\n<div class=\"quarto-layout-cell\" style=\"flex-basis: 33.3%;justify-content: flex-start;\">\n<div class=\"highchart html-widget html-fill-item\" id=\"htmlwidget-fdf06d52649a23b90d4a\" style=\"width:100%;height:278px;\"></div>\n\n</div>\n</div>\n</div>\n</section>\n<section class=\"level4\" id=\"of-purchasers-are-organizations-contributed-96-amount\">\n<h4 class=\"anchored\" data-anchor-id=\"of-purchasers-are-organizations-contributed-96-amount\">&gt;70% of Purchasers are organizations; contributed 96% amount</h4>\n<div class=\"tabset-margin-container\"></div><div class=\"panel-tabset\">\n<ul class=\"nav nav-tabs\"><li class=\"nav-item\"><a aria-controls=\"tabset-1-1\" aria-selected=\"true\" class=\"nav-link active\" data-bs-=\"\" data-bs-toggle=\"tab\" id=\"tabset-1-1-tab\">Amount</a></li><li class=\"nav-item\"><a aria-controls=\"tabset-1-2\" aria-selected=\"false\" class=\"nav-link\" data-bs-=\"\" data-bs-toggle=\"tab\" id=\"tabset-1-2-tab\">Count of Purchasers</a></li></ul>\n<div class=\"tab-content\">\n<div aria-labelledby=\"tabset-1-1-tab\" class=\"tab-pane active\" id=\"tabset-1-1\">\n<div class=\"cell\">\n<details class=\"code-fold\">\n<summary>Code</summary>\n<pre># Calculate summary statistics\ntotal_contribution &lt;- sum(data.comb$amount)\ntotal_purchasers &lt;- uniqueN(data.comb$standardised_purchaser_name)\n\n# Calculate organization vs individual statistics\norg.ind &lt;- data.comb[, .(\n  total_amount = sum(amount),\n  contribution_percent = round(100 * sum(amount) / total_contribution, 2),\n  purchasers = uniqueN(standardised_purchaser_name),\n  transactions = .N,\n  avg_contribution = sum(amount) / uniqueN(standardised_purchaser_name),\n  avg_transaction_val = sum(amount) / .N\n), by = .(organisation_or_individual)]\n\norg.ind.count &lt;- unique(\n  data.comb[, .(organisation_or_individual, standardised_purchaser_name)]\n)[, .(\n  N = .N,\n  count_percent = round(100 * .N / total_purchasers, 2)\n), by = organisation_or_individual]\n\n\n\nhighchart() |&gt;\n  hc_add_series(\n    org.ind,\n    \"column\",\n    hcaes(x = organisation_or_individual, y = total_amount),\n    name = \"Purchase Amount\",\n    dataLabels = list(enabled = TRUE, align = \"right\")\n  ) |&gt;\n  hc_add_series(\n    org.ind,\n    \"pie\",\n    hcaes(name = organisation_or_individual, y = contribution_percent),\n    name = \"Share of Purchase\",\n    dataLabels = list(enabled = TRUE, align = \"right\")\n  ) |&gt;\n  hc_plotOptions(\n    series = list(showInLegend = FALSE, colorByPoint = TRUE),\n    pie = list(\n      center = c(\"70%\", \"30%\"),\n      size = 120,\n      dataLabels = list(enabled = FALSE)\n    )\n  ) |&gt;\n  hc_yAxis(title = list(text = \"Purchase Amount (M)\")) |&gt;\n  hc_xAxis(categories = org.ind$organisation_or_individual) |&gt;\n  hc_tooltip(\n    shared = FALSE,\n    useHTML = TRUE,\n    formatter = JS(\"\n      function() {\n        if (this.series.type === 'column') {\n          return '&lt;b&gt;' + this.point.name +\n                 '&lt;/b&gt;: ₹' + \n                 (this.y / 1000000).toFixed(2) + ' M';\n        } else if (this.series.type === 'pie') {\n          return '&lt;b&gt;' + this.point.name + '&lt;/b&gt;: ' + \n                 this.y + '%';\n        }\n      }\n    \")\n  ) |&gt;\n  hc_title(\n    text = \"Purchase amount by Individuals and Organization\",\n    align = \"left\",\n    style = list(\n      textDecoration = \"underline\",\n      color = \"#333333\",\n      fontWeight = \"bold\"\n    )\n  ) |&gt;\n  hc_subtitle(\n    text = \"Electoral bond encashment between Apr 16, 2019 and Jan 24, 2024\"\n  ) |&gt;\n  hc_credits(\n    enabled = TRUE,\n    text = \"Heteroscedasticity\",\n    href = \"https://blog.asitavsen.com\",\n    style = list(fontSize = \"12px\")\n  ) |&gt;\n  hc_add_theme(custom_theme) |&gt;\n  hc_exporting(enabled = TRUE, filename = \"OrgvsIndAmt\")</pre>\n</details>\n<div class=\"cell-output-display\">\n<div class=\"highchart html-widget html-fill-item\" id=\"htmlwidget-0e0f9f099d7030557ab4\" style=\"width:100%;height:464px;\"></div>\n\n</div>\n</div>\n</div>\n<div aria-labelledby=\"tabset-1-2-tab\" class=\"tab-pane\" id=\"tabset-1-2\">\n<div class=\"cell\">\n<details class=\"code-fold\">\n<summary>Code</summary>\n<pre># Plot purchaser count distribution\nhighchart() |&gt;\n  hc_add_series(\n    org.ind.count,\n    \"column\",\n    hcaes(x = organisation_or_individual, y = N),\n    name = \"Number of Purchasers\",\n    dataLabels = list(enabled = TRUE, align = \"right\")\n  ) |&gt;\n  hc_add_series(\n    org.ind.count,\n    \"pie\",\n    hcaes(name = organisation_or_individual, y = count_percent),\n    name = \"Share of Purchasers\",\n    dataLabels = list(enabled = TRUE, align = \"right\")\n  ) |&gt;\n  hc_plotOptions(\n    series = list(showInLegend = FALSE, colorByPoint = TRUE),\n    pie = list(\n      center = c(\"70%\", \"30%\"),\n      size = 120,\n      dataLabels = list(enabled = FALSE)\n    )\n  ) |&gt;\n  hc_yAxis(title = list(text = \"Number of Purchasers\")) |&gt;\n  hc_xAxis(categories = org.ind.count$organisation_or_individual) |&gt;\n  hc_tooltip(\n    shared = FALSE,\n    useHTML = TRUE,\n    formatter = JS(\"\n      function() {\n        if (this.series.type === 'column') {\n          return '&lt;b&gt;' + this.point.name + '&lt;/b&gt;: ' + \n                 this.y + ' purchasers';\n        } else if (this.series.type === 'pie') {\n          return '&lt;b&gt;' + this.point.name + '&lt;/b&gt;: ' + \n                 this.y + '%';\n        }\n      }\n    \")\n  ) |&gt;\n  hc_title(\n    text = \"#Organizational vs Individual purchasers\",\n    align = \"left\",\n    style = list(\n      textDecoration = \"underline\",\n      color = \"#333333\",\n      fontWeight = \"bold\"\n    )\n  ) |&gt;\n  hc_subtitle(\n    text = \"Electoral bond encashment between Apr 16, 2019 and Jan 24, 2024\"\n  ) |&gt;\n  hc_credits(\n    enabled = TRUE,\n    text = \"Heteroscedasticity\",\n    href = \"https://blog.asitavsen.com\",\n    style = list(fontSize = \"12px\")\n  ) |&gt;\n  hc_add_theme(custom_theme) |&gt;\n  hc_exporting(enabled = TRUE, filename = \"Purchasers\")</pre>\n</details>\n<div class=\"cell-output-display\">\n<div class=\"highchart html-widget html-fill-item\" id=\"htmlwidget-a7e204b5c89e687480cf\" style=\"width:100%;height:464px;\"></div>\n\n</div>\n</div>\n</div>\n</div>\n</div>\n</section>\n<section class=\"level3\" id=\"individuals\">\n<h3 class=\"anchored\" data-anchor-id=\"individuals\">Individuals</h3>\n<p>Highest encashment by BJP but INC had more purchasers (Individuals). Biggest purchase made by MS S N Mohanty (Encashed by Biju Janta Dal) followed by Lakshmi Niwas Mittal (Encashed by BJP). Most purchases (value) were made in Maharashtra.</p>\n<div class=\"tabset-margin-container\"></div><div class=\"panel-tabset\">\n<ul class=\"nav nav-tabs\"><li class=\"nav-item\"><a aria-controls=\"tabset-2-1\" aria-selected=\"true\" class=\"nav-link active\" data-bs-=\"\" data-bs-toggle=\"tab\" id=\"tabset-2-1-tab\">Amount and count</a></li><li class=\"nav-item\"><a aria-controls=\"tabset-2-2\" aria-selected=\"false\" class=\"nav-link\" data-bs-=\"\" data-bs-toggle=\"tab\" id=\"tabset-2-2-tab\">Top purchasers</a></li><li class=\"nav-item\"><a aria-controls=\"tabset-2-3\" aria-selected=\"false\" class=\"nav-link\" data-bs-=\"\" data-bs-toggle=\"tab\" id=\"tabset-2-3-tab\">Top States</a></li><li class=\"nav-item\"><a aria-controls=\"tabset-2-4\" aria-selected=\"false\" class=\"nav-link\" data-bs-=\"\" data-bs-toggle=\"tab\" id=\"tabset-2-4-tab\">Heatmap</a></li></ul>\n<div class=\"tab-content\">\n<div aria-labelledby=\"tabset-2-1-tab\" class=\"tab-pane active\" id=\"tabset-2-1\">\n<div class=\"cell\">\n<details class=\"code-fold\">\n<summary>Code</summary>\n<pre># Calculate individual party contributions and statistics\nind_party &lt;- data.comb[\n  organisation_or_individual == \"Individual\", \n  .(\n    total_amount = sum(amount),\n    count = .N,\n    per_count = .N / sum(data.comb[organisation_or_individual == \"Individual\", .N])\n  ), \n  by = standardised_political_party_name\n][order(-total_amount)]\n\n# Create combined column and pie chart\nhighchart() |&gt;\n  hc_add_series(\n    ind_party,\n    \"column\",\n    hcaes(x = standardised_political_party_name, y = total_amount),\n    name = \"Amount\"\n  ) |&gt;\n  hc_add_series(\n    ind_party,\n    \"pie\",\n    hcaes(name = standardised_political_party_name, y = count),\n    name = \"#Purchasers\",\n    dataLabels = list(enabled = FALSE)\n  ) |&gt;\n  hc_plotOptions(\n    series = list(\n      showInLegend = FALSE,\n      colorByPoint = TRUE\n    ),\n    pie = list(\n      center = c(\"75%\", \"25%\"),\n      size = 120,\n      innerSize = \"75%\",\n      dataLabels = list(enabled = FALSE)\n    )\n  ) |&gt;\n  hc_yAxis(\n    title = list(text = \"Total Purchase (in millions)\"), \n    labels = list(\n      formatter = JS(\"function() { return (this.value / 1000000) + ' M'; }\")\n    )\n  ) |&gt;\n  hc_xAxis(categories = ind_party$standardised_political_party_name) |&gt;\n  hc_tooltip(\n    shared = FALSE,\n    useHTML = TRUE,\n    formatter = JS(\"\n      function() {\n        if (this.series.type === 'column') {\n          return '&lt;b&gt;' + this.point.name + '&lt;/b&gt;: ₹' + \n                 (this.y / 1000000).toFixed(2) + ' M';\n        } else if (this.series.type === 'pie') {\n          return '&lt;b&gt;' + this.point.name + '&lt;/b&gt;: ' + \n                 this.y + ' contributors';\n        }\n      }\n    \")\n  ) |&gt;\n  hc_title(\n    text = \"Electoral Bond Purchases by Organizations (Amount and Purchasers)\",\n    align = \"left\",\n    style = list(\n      textDecoration = \"underline\",\n      color = \"#333333\",\n      fontWeight = \"bold\"\n    )\n  ) |&gt;\n  hc_subtitle(\n    text = \"Electoral bond encashment between Apr 16, 2019 and Jan 24, 2024\"\n  ) |&gt;\n  hc_credits(\n    enabled = TRUE, \n    text = \"Heteroscedasticity\",\n    href = \"https://asitavsen.com\",\n    style = list(fontSize = \"12px\")\n  ) |&gt;\n  hc_add_theme(custom_theme) |&gt;\n  hc_exporting(\n    enabled = TRUE,\n    filename = \"Individuals\"\n  )</pre>\n</details>\n<div class=\"cell-output-display\">\n<div class=\"highchart html-widget html-fill-item\" id=\"htmlwidget-1146cdf425fde594332d\" style=\"width:100%;height:464px;\"></div>\n\n</div>\n</div>\n</div>\n<div aria-labelledby=\"tabset-2-2-tab\" class=\"tab-pane\" id=\"tabset-2-2\">\n<div class=\"cell\">\n<details class=\"code-fold\">\n<summary>Code</summary>\n<pre># Calculate individual contributions and statistics by party\nind_amount_count_by_party &lt;- data.comb[\n  organisation_or_individual == \"Individual\",\n  .(\n    total_amount = sum(amount),\n    count = uniqueN(standardised_purchaser_name),\n    avg = sum(amount) / uniqueN(standardised_purchaser_name)\n  ),\n  by = standardised_political_party_name\n][order(-avg)]\n\n# Calculate individual contributions by party and purchaser\nparty_ind_top &lt;- data.comb[\n  organisation_or_individual == \"Individual\",\n  .(total_amount = sum(amount)),\n  by = .(standardised_political_party_name, standardised_purchaser_name)\n][, standardised_political_party_name := fct_other(\n  standardised_political_party_name,\n  keep = c(\n    \"Indian National Congress\",\n    \"Bharatiya Janata Party\",\n    \"All India Trinamool Congress\",\n    \"Bharat Rashtra Samithi\",\n    \"Biju Janata Dal\"\n  )\n)]\n\n# Get party order by total amount\nparty_order &lt;- party_ind_top[\n  , .(range_diff = sum(total_amount)),\n  by = standardised_political_party_name\n][order(-range_diff), standardised_political_party_name]\n\n# Create scatter plot\nhighchart() |&gt;\n  hc_add_series(\n    data = party_ind_top,\n    type = \"scatter\",\n    hcaes(\n      x = \"standardised_political_party_name\", \n      y = \"total_amount\", \n      group = \"standardised_political_party_name\"\n    )\n  ) |&gt;\n  hc_xAxis(\n    type = \"category\",\n    categories = party_order\n  ) |&gt;\n  hc_yAxis(\n    title = list(text = \"Number of Contributors\"),\n    labels = list(\n      formatter = JS(\"function() { return this.value / 1000000 + 'M'; }\")\n    )\n  ) |&gt;\n  hc_title(\n    text = \"Top individual purchasers by Party\",\n    align = \"left\",\n    style = list(\n      textDecoration = \"underline\",\n      color = \"#333333\",\n      fontWeight = \"bold\"\n    )\n  ) |&gt;\n  hc_plotOptions(\n    scatter = list(\n      color = \"red\",\n      marker = list(\n        radius = 4,\n        symbol = \"circle\",\n        lineWidth = 1\n      ),\n      jitter = list(x = .2, y = 0)\n    )\n  ) |&gt;\n  hc_legend(enabled = FALSE) |&gt;\n  hc_tooltip(\n    formatter = JS(\"\n      function() {\n        return 'Purchaser: ' + this.point.standardised_purchaser_name + \n               '&lt;br&gt;Contribution: ₹' + (this.point.total_amount/1000000).toFixed(2) + 'M';\n      }\n    \")\n  ) |&gt;\n  hc_subtitle(\n    text = \"Electoral bond encashment between Apr 16, 2019 and Jan 24, 2024\"\n  ) |&gt;\n  hc_credits(\n    enabled = TRUE,\n    text = \"Heteroscedasticity\",\n    href = \"https://asitavsen.com\",\n    style = list(fontSize = \"12px\")\n  ) |&gt;\n  hc_add_theme(custom_theme) |&gt;\n  hc_exporting(\n    enabled = TRUE,\n    filename = \"IndividualsTop\"\n  )</pre>\n</details>\n<div class=\"cell-output-display\">\n<div class=\"highchart html-widget html-fill-item\" id=\"htmlwidget-dacc8408bc2fe69f743b\" style=\"width:100%;height:464px;\"></div>\n</div></div></div></div></div></section>\n<div style=\"border: 1px solid; background: none repeat scroll 0 0 #EDEDED; margin: 1px; font-size: 13px;\">\n<div style=\"text-align: center;\">To <strong>leave a comment</strong> for the author, please follow the link and comment on their blog: <strong><a href=\"https://blog.asitavsen.com/posts/electoral-bond-in-charts/\"> Heteroscedasticity</a></strong>.</div>\n<hr/>\n<a href=\"https://www.r-bloggers.com/\" rel=\"nofollow\">R-bloggers.com</a> offers <strong><a href=\"https://feedburner.google.com/fb/a/mailverify?uri=RBloggers\" rel=\"nofollow\">daily e-mail updates</a></strong> about <a href=\"https://www.r-project.org/\" rel=\"nofollow\" title=\"The R Project for Statistical Computing\">R</a> news and tutorials about <a href=\"https://www.r-bloggers.com/how-to-learn-r-2/\" rel=\"nofollow\" title=\"R tutorials\">learning R</a> and many other topics. <a href=\"https://www.r-users.com/\" rel=\"nofollow\" title=\"Data science jobs\">Click here if you're looking to post or find an R/data-science job</a>.\n\n<hr/>Want to share your content on R-bloggers?<a href=\"https://www.r-bloggers.com/add-your-blog/\" rel=\"nofollow\"> click here</a> if you have a blog, or <a href=\"http://r-posts.com/\" rel=\"nofollow\"> here</a> if you don't.\n</div> </div>\n</article>",
      "main_text": "Electoral bonds data in charts\nPosted on\nApril 5, 2025\nby\nAsitav Sen\nin\nR bloggers\n| 0 Comments\n[This article was first published on\nHeteroscedasticity\n, and kindly contributed to\nR-bloggers\n].  (You can report issue about the content on this page\nhere\n)\nWant to share your content on R-bloggers?\nclick here\nif you have a blog, or\nhere\nif you don't.\nBonds worth ₹ 121 Billion purchase between Apr 2019 and Jan 2024\nData was downloaded from\ndataful\n. Rows without reference number or with status\nExpired\nare not considered in this analysis. Hence, there may be a variation between the numbers.of excluded data is available\nbelow\nCode\nhighchart() |>\n    hc_chart(type = \"sankey\", inverted = FALSE) |>\n    hc_add_series(\n        data = list_parse(sankey.dat),\n        nodes = list_parse(nodes),\n        name = \"Flow\",\n        type = \"sankey\",\n        nodeWidth = 20,\n        linkOpacity = 0.5,  # Make links semi-transparent\n        states = list(\n            hover = list(\n                linkOpacity = 0.8  # Increase opacity on hover\n            )\n        )\n    ) |>\n    hc_plotOptions(\n        sankey = list(\n            nodePadding = 3,    \n            curveFactor = 0.6,\n            colors = c(\"#1f77b4\", \"#ff7f0e\", \"#2ca02c\"),  # Colors for nodes\n            linkColor = \"#d3d3d3\"  # Default link color (can be rgba for transparency)\n        )\n    ) |>\n    hc_title(\n        text = \"Flow of Electoral Bonds\",\n        align = \"left\",\n        style = list(\n            textDecoration = \"underline\",\n            color = \"#333333\",\n            fontWeight = \"bold\"\n        )\n    ) |>\n    hc_subtitle(\n        text = \"Electoral bond encashment between Apr 16, 2019 and Jan 24, 2024\"\n    ) |>\n    hc_tooltip(\n        formatter = JS(\"\n            function() {\n                var amount = this.point.weight;\n                // Check if it's a node (will have no 'weight' property)\n                if (typeof amount === 'undefined') {\n                    return '<b>' + this.point.name + '</b>';\n                }\n                // For links\n                if (amount >= 1000000000) {\n                    return '<b>' + this.point.from + '</b> to <b>' + \n                           this.point.to + '</b>: ₹' + \n                           (amount/1000000000).toFixed(2) + 'B';\n                } else {\n                    return '<b>' + this.point.from + '</b> to <b>' + \n                           this.point.to + '</b>: ₹' + \n                           (amount/1000000).toFixed(2) + 'M';\n                }\n            }\n        \")\n    ) |>\n    hc_credits(\n        enabled = TRUE,\n        text = \"Heteroscedasticity\",\n        href = \"https://asitavsen.com\",\n        style = list(fontSize = \"12px\")\n    ) |>\n    hc_add_theme(custom_theme) |>\n    hc_exporting(\n        enabled = TRUE,\n        filename = \"ElectoralBondFlow\"\n    )\n86 % (₹ 105 B) of money went to 5 parties. 91 % (₹ 111 B) of money came from 5 states\nCode\n##| fig-width: 10\n\n# Plot amount distribution by political party\nplot_hc_pie_chart(\n  amount_by_party, \n  xval = \"standardised_political_party_name\", \n  yval = \"total_amount\",\n  series_name = \"Amount\",\n  theme = custom_theme,\n  title_text = \"Amount by Political Party\",\n  subtitle_text = \"Electoral bond encashment between Apr 16, 2019 and Jan 24, 2024\",\n  output_filename = \"AmountByPoliticalParty\"\n)\n# Plot amount distribution by state\nplot_hc_pie_chart(\n  amount_by_state, \n  xval = \"issue_branch_state\", \n  yval = \"total_amount\",\n  series_name = \"Amount\",\n  theme = custom_theme,\n  title_text = \"Amount by State\",\n  output_filename = \"AmountByState\",\n  subtitle_text = \"Electoral bond encashment between Apr 16, 2019 and Jan 24, 2024\"\n)\n# Create and plot top purchasers chart\nplot_hc_pie_chart(\n  rbind(\n    data.comb[, .(total_amount = sum(amount)), \n              by = .(standardised_purchaser_name)\n    ][order(-total_amount)][1:20],\n    data.table(\n      standardised_purchaser_name = \"Others\",\n      total_amount = data.comb[, .(total_amount = sum(amount)), \n                              by = .(standardised_purchaser_name)\n      ][order(-total_amount)][21:.N, sum(total_amount)]\n    )\n  ),\n  xval = \"standardised_purchaser_name\",\n  yval = \"total_amount\",\n  series_name = \"Amount\",\n  theme = custom_theme,\n  title_text = \"Amount by Purchaser\",\n  output_filename = \"AmountByPurchaser\",\n  subtitle_text = \"Electoral bond encashment between Apr 16, 2019 and Jan 24, 2024\"\n)\n>70% of Purchasers are organizations; contributed 96% amount\nAmount\nCount of Purchasers\nCode\n# Calculate summary statistics\ntotal_contribution <- sum(data.comb$amount)\ntotal_purchasers <- uniqueN(data.comb$standardised_purchaser_name)\n\n# Calculate organization vs individual statistics\norg.ind <- data.comb[, .(\n  total_amount = sum(amount),\n  contribution_percent = round(100 * sum(amount) / total_contribution, 2),\n  purchasers = uniqueN(standardised_purchaser_name),\n  transactions = .N,\n  avg_contribution = sum(amount) / uniqueN(standardised_purchaser_name),\n  avg_transaction_val = sum(amount) / .N\n), by = .(organisation_or_individual)]\n\norg.ind.count <- unique(\n  data.comb[, .(organisation_or_individual, standardised_purchaser_name)]\n)[, .(\n  N = .N,\n  count_percent = round(100 * .N / total_purchasers, 2)\n), by = organisation_or_individual]\n\nhighchart() |>\n  hc_add_series(\n    org.ind,\n    \"column\",\n    hcaes(x = organisation_or_individual, y = total_amount),\n    name = \"Purchase Amount\",\n    dataLabels = list(enabled = TRUE, align = \"right\")\n  ) |>\n  hc_add_series(\n    org.ind,\n    \"pie\",\n    hcaes(name = organisation_or_individual, y = contribution_percent),\n    name = \"Share of Purchase\",\n    dataLabels = list(enabled = TRUE, align = \"right\")\n  ) |>\n  hc_plotOptions(\n    series = list(showInLegend = FALSE, colorByPoint = TRUE),\n    pie = list(\n      center = c(\"70%\", \"30%\"),\n      size = 120,\n      dataLabels = list(enabled = FALSE)\n    )\n  ) |>\n  hc_yAxis(title = list(text = \"Purchase Amount (M)\")) |>\n  hc_xAxis(categories = org.ind$organisation_or_individual) |>\n  hc_tooltip(\n    shared = FALSE,\n    useHTML = TRUE,\n    formatter = JS(\"\n      function() {\n        if (this.series.type === 'column') {\n          return '<b>' + this.point.name +\n                 '</b>: ₹' + \n                 (this.y / 1000000).toFixed(2) + ' M';\n        } else if (this.series.type === 'pie') {\n          return '<b>' + this.point.name + '</b>: ' + \n                 this.y + '%';\n        }\n      }\n    \")\n  ) |>\n  hc_title(\n    text = \"Purchase amount by Individuals and Organization\",\n    align = \"left\",\n    style = list(\n      textDecoration = \"underline\",\n      color = \"#333333\",\n      fontWeight = \"bold\"\n    )\n  ) |>\n  hc_subtitle(\n    text = \"Electoral bond encashment between Apr 16, 2019 and Jan 24, 2024\"\n  ) |>\n  hc_credits(\n    enabled = TRUE,\n    text = \"Heteroscedasticity\",\n    href = \"https://blog.asitavsen.com\",\n    style = list(fontSize = \"12px\")\n  ) |>\n  hc_add_theme(custom_theme) |>\n  hc_exporting(enabled = TRUE, filename = \"OrgvsIndAmt\")\nCode\n# Plot purchaser count distribution\nhighchart() |>\n  hc_add_series(\n    org.ind.count,\n    \"column\",\n    hcaes(x = organisation_or_individual, y = N),\n    name = \"Number of Purchasers\",\n    dataLabels = list(enabled = TRUE, align = \"right\")\n  ) |>\n  hc_add_series(\n    org.ind.count,\n    \"pie\",\n    hcaes(name = organisation_or_individual, y = count_percent),\n    name = \"Share of Purchasers\",\n    dataLabels = list(enabled = TRUE, align = \"right\")\n  ) |>\n  hc_plotOptions(\n    series = list(showInLegend = FALSE, colorByPoint = TRUE),\n    pie = list(\n      center = c(\"70%\", \"30%\"),\n      size = 120,\n      dataLabels = list(enabled = FALSE)\n    )\n  ) |>\n  hc_yAxis(title = list(text = \"Number of Purchasers\")) |>\n  hc_xAxis(categories = org.ind.count$organisation_or_individual) |>\n  hc_tooltip(\n    shared = FALSE,\n    useHTML = TRUE,\n    formatter = JS(\"\n      function() {\n        if (this.series.type === 'column') {\n          return '<b>' + this.point.name + '</b>: ' + \n                 this.y + ' purchasers';\n        } else if (this.series.type === 'pie') {\n          return '<b>' + this.point.name + '</b>: ' + \n                 this.y + '%';\n        }\n      }\n    \")\n  ) |>\n  hc_title(\n    text = \"#Organizational vs Individual purchasers\",\n    align = \"left\",\n    style = list(\n      textDecoration = \"underline\",\n      color = \"#333333\",\n      fontWeight = \"bold\"\n    )\n  ) |>\n  hc_subtitle(\n    text = \"Electoral bond encashment between Apr 16, 2019 and Jan 24, 2024\"\n  ) |>\n  hc_credits(\n    enabled = TRUE,\n    text = \"Heteroscedasticity\",\n    href = \"https://blog.asitavsen.com\",\n    style = list(fontSize = \"12px\")\n  ) |>\n  hc_add_theme(custom_theme) |>\n  hc_exporting(enabled = TRUE, filename = \"Purchasers\")\nIndividuals\nHighest encashment by BJP but INC had more purchasers (Individuals). Biggest purchase made by MS S N Mohanty (Encashed by Biju Janta Dal) followed by Lakshmi Niwas Mittal (Encashed by BJP). Most purchases (value) were made in Maharashtra.\nAmount and count\nTop purchasers\nTop States\nHeatmap\nCode\n# Calculate individual party contributions and statistics\nind_party <- data.comb[\n  organisation_or_individual == \"Individual\", \n  .(\n    total_amount = sum(amount),\n    count = .N,\n    per_count = .N / sum(data.comb[organisation_or_individual == \"Individual\", .N])\n  ), \n  by = standardised_political_party_name\n][order(-total_amount)]\n\n# Create combined column and pie chart\nhighchart() |>\n  hc_add_series(\n    ind_party,\n    \"column\",\n    hcaes(x = standardised_political_party_name, y = total_amount),\n    name = \"Amount\"\n  ) |>\n  hc_add_series(\n    ind_party,\n    \"pie\",\n    hcaes(name = standardised_political_party_name, y = count),\n    name = \"#Purchasers\",\n    dataLabels = list(enabled = FALSE)\n  ) |>\n  hc_plotOptions(\n    series = list(\n      showInLegend = FALSE,\n      colorByPoint = TRUE\n    ),\n    pie = list(\n      center = c(\"75%\", \"25%\"),\n      size = 120,\n      innerSize = \"75%\",\n      dataLabels = list(enabled = FALSE)\n    )\n  ) |>\n  hc_yAxis(\n    title = list(text = \"Total Purchase (in millions)\"), \n    labels = list(\n      formatter = JS(\"function() { return (this.value / 1000000) + ' M'; }\")\n    )\n  ) |>\n  hc_xAxis(categories = ind_party$standardised_political_party_name) |>\n  hc_tooltip(\n    shared = FALSE,\n    useHTML = TRUE,\n    formatter = JS(\"\n      function() {\n        if (this.series.type === 'column') {\n          return '<b>' + this.point.name + '</b>: ₹' + \n                 (this.y / 1000000).toFixed(2) + ' M';\n        } else if (this.series.type === 'pie') {\n          return '<b>' + this.point.name + '</b>: ' + \n                 this.y + ' contributors';\n        }\n      }\n    \")\n  ) |>\n  hc_title(\n    text = \"Electoral Bond Purchases by Organizations (Amount and Purchasers)\",\n    align = \"left\",\n    style = list(\n      textDecoration = \"underline\",\n      color = \"#333333\",\n      fontWeight = \"bold\"\n    )\n  ) |>\n  hc_subtitle(\n    text = \"Electoral bond encashment between Apr 16, 2019 and Jan 24, 2024\"\n  ) |>\n  hc_credits(\n    enabled = TRUE, \n    text = \"Heteroscedasticity\",\n    href = \"https://asitavsen.com\",\n    style = list(fontSize = \"12px\")\n  ) |>\n  hc_add_theme(custom_theme) |>\n  hc_exporting(\n    enabled = TRUE,\n    filename = \"Individuals\"\n  )\nCode\n# Calculate individual contributions and statistics by party\nind_amount_count_by_party <- data.comb[\n  organisation_or_individual == \"Individual\",\n  .(\n    total_amount = sum(amount),\n    count = uniqueN(standardised_purchaser_name),\n    avg = sum(amount) / uniqueN(standardised_purchaser_name)\n  ),\n  by = standardised_political_party_name\n][order(-avg)]\n\n# Calculate individual contributions by party and purchaser\nparty_ind_top <- data.comb[\n  organisation_or_individual == \"Individual\",\n  .(total_amount = sum(amount)),\n  by = .(standardised_political_party_name, standardised_purchaser_name)\n][, standardised_political_party_name := fct_other(\n  standardised_political_party_name,\n  keep = c(\n    \"Indian National Congress\",\n    \"Bharatiya Janata Party\",\n    \"All India Trinamool Congress\",\n    \"Bharat Rashtra Samithi\",\n    \"Biju Janata Dal\"\n  )\n)]\n\n# Get party order by total amount\nparty_order <- party_ind_top[\n  , .(range_diff = sum(total_amount)),\n  by = standardised_political_party_name\n][order(-range_diff), standardised_political_party_name]\n\n# Create scatter plot\nhighchart() |>\n  hc_add_series(\n    data = party_ind_top,\n    type = \"scatter\",\n    hcaes(\n      x = \"standardised_political_party_name\", \n      y = \"total_amount\", \n      group = \"standardised_political_party_name\"\n    )\n  ) |>\n  hc_xAxis(\n    type = \"category\",\n    categories = party_order\n  ) |>\n  hc_yAxis(\n    title = list(text = \"Number of Contributors\"),\n    labels = list(\n      formatter = JS(\"function() { return this.value / 1000000 + 'M'; }\")\n    )\n  ) |>\n  hc_title(\n    text = \"Top individual purchasers by Party\",\n    align = \"left\",\n    style = list(\n      textDecoration = \"underline\",\n      color = \"#333333\",\n      fontWeight = \"bold\"\n    )\n  ) |>\n  hc_plotOptions(\n    scatter = list(\n      color = \"red\",\n      marker = list(\n        radius = 4,\n        symbol = \"circle\",\n        lineWidth = 1\n      ),\n      jitter = list(x = .2, y = 0)\n    )\n  ) |>\n  hc_legend(enabled = FALSE) |>\n  hc_tooltip(\n    formatter = JS(\"\n      function() {\n        return 'Purchaser: ' + this.point.standardised_purchaser_name + \n               '<br>Contribution: ₹' + (this.point.total_amount/1000000).toFixed(2) + 'M';\n      }\n    \")\n  ) |>\n  hc_subtitle(\n    text = \"Electoral bond encashment between Apr 16, 2019 and Jan 24, 2024\"\n  ) |>\n  hc_credits(\n    enabled = TRUE,\n    text = \"Heteroscedasticity\",\n    href = \"https://asitavsen.com\",\n    style = list(fontSize = \"12px\")\n  ) |>\n  hc_add_theme(custom_theme) |>\n  hc_exporting(\n    enabled = TRUE,\n    filename = \"IndividualsTop\"\n  )\nTo\nleave a comment\nfor the author, please follow the link and comment on their blog:\nHeteroscedasticity\n.\nR-bloggers.com\noffers\ndaily e-mail updates\nabout\nR\nnews and tutorials about\nlearning R\nand many other topics.\nClick here if you're looking to post or find an R/data-science job\n.\nWant to share your content on R-bloggers?\nclick here\nif you have a blog, or\nhere\nif you don't.",
      "meta_description": "Bonds worth ₹ 121 Billion purchase between Apr 2019 and Jan 2024 Data was downloaded from dataful. Rows without reference number or with status Expired are not considered in this analysis. Hence, there may be a variation between the numbers.of excluded data is available below Code highchart() |> hc_chart(type = \"sankey\", inverted = FALSE) |> hc_add_series( data = list_parse(sankey.dat), nodes = list_parse(nodes), name = \"Flow\", type = \"sankey\", nodeWidth = 20, linkOpacity = 0.5, # Make links semi-transparent states = list( hover = list( linkOpacity = 0.8 # Increase opacity on hover ) ) ) |> hc_plotOptions( sankey = list( nodePadding = 3, curveFactor = 0.6, colors = c(\"#1f77b4\", \"#ff7f0e\", \"#2ca02c\"), # Colors for nodes linkColor = \"#d3d3d3\" # Default link color (can be rgba for transparency) ) ) |> hc_title( text = \"Flow of Electoral Bonds\", align = \"left\", style = list( textDecoration = \"underline\", color = \"#333333\", fontWeight = \"bold\" ) ) |> hc_subtitle( text = \"Electoral bond encashment between Apr 16, 2019 and Jan 24, 2024\" ) |> hc_tooltip( formatter = JS(\" function() { var amount = this.point.weight; // Check if it's a node (will have no 'weight' property) if (typeof amount === 'undefined') { return '' + this.point.name + ''; } // For links if (amount >= 1000000000) { return '' + this.point.from + ' to ' + this.point.to + ': ₹' + (amount/1000000000).toFixed(2) + 'B'; } else { return '' + this.point.from + ' to ' + this.point.to + ': ₹' + (amount/1000000).toFixed(2) + 'M'; } } \") ) |> hc_credits( enabled = TRUE, text = \"Heteroscedasticity\", href = \"https://asitavsen.com\", style = list(fontSize = \"12px\") ) |> hc_add_theme(custom_theme) |> hc_exporting( enabled = TRUE, filename = \"ElectoralBondFlow\" ) 86 % (₹ 105 B) of money went to 5 parties. 91 % (₹ 111 B) of money came from 5 states Code ##| fig-width: 10 # Plot amount distribution by political party plot_hc_pie_chart( amount_by_party, xval = \"standardised_political_party_name\", yval = \"total_amount\", series_name = \"Amount\", theme = custom_theme, title_text = \"Amount by Political Party\", subtitle_text = \"Electoral bond encashment between Apr 16, 2019 and Jan 24, 2024\", output_filename = \"AmountByPoliticalParty\" ) # Plot amount distribution by state plot_hc_pie_chart( amount_by_state, xval = \"issue_branch_state\", yval = \"total_amount\", series_name = \"Amount\", theme = custom_theme, title_text = \"Amount by State\", output_filename = \"AmountByState\", subtitle_text = \"Electoral bond encashment between Apr 16, 2019 and Jan 24, 2024\" ) # Create and plot top purchasers chart plot_hc_pie_chart( rbind( data.comb[, .(total_amount = sum(amount)), by = .(standardised_purchaser_name) ][order(-total_amount)][1:20], data.table( standardised_purchaser_name = \"Others\", total_amount = data.comb[, .(total_amount = sum(amount)), by = .(standardised_purchaser_name) ][order(-total_amount)][21:.N, sum(total_amount)] ) ), xval = \"standardised_purchaser_name\", yval = \"total_amount\", series_name = \"Amount\", theme = custom_theme, title_text = \"Amount by Purchaser\", output_filename = \"AmountByPurchaser\", subtitle_text = \"Electoral bond encashment between Apr 16, 2019 and Jan 24, 2024\" ) >70% of Purchasers are organizations; contributed 96% amount AmountCount of Purchasers Code # Calculate summary statistics total_contribution hc_yAxis(title = list(text = \"Purchase Amount (M)\")) |> hc_xAxis(categories = org.ind$organisation_or_individual) |> hc_tooltip( shared = FALSE, useHTML = TRUE, formatter = JS(\" function() { if (this.series.type === 'column') { return '' + this.point.name + ': ₹' + (this.y / 1000000).toFixed(2) + ' M'; } else if (this.series.type === 'pie') { return '' + this.point.name + ': ' + this.y + '%'; } } \") ) |> hc_title( text = \"Purchase amount by Individuals and Organization\", align = \"left\", style = list( textDecoration = \"underline\", color = \"#333333\", fontWeight = \"bold\" ) ) |> hc_subtitle( text = \"Electoral bond encashment between Apr 16, 2019 and Jan 24, 2024\" ) |> hc_credits( enabled = TRUE, text = \"Heteroscedasticity\", href = \"https://blog.asitavsen.com\", style = list(fontSize = \"12px\") ) |> hc_add_theme(custom_theme) |> hc_exporting(enabled = TRUE, filename = \"OrgvsIndAmt\") Code # Plot purchaser count distribution highchart() |> hc_add_series( org.ind.count, \"column\", hcaes(x = organisation_or_individual, y = N), name = \"Number of Purchasers\", dataLabels = list(enabled = TRUE, align = \"right\") ) |> hc_add_series( org.ind.count, \"pie\", hcaes(name = organisation_or_individual, y = count_percent), name = \"Share of Purchasers\", dataLabels = list(enabled = TRUE, align = \"right\") ) |> hc_plotOptions( series = list(showInLegend = FALSE, colorByPoint = TRUE), pie = list( center = c(\"70%\", \"30%\"), size = 120, dataLabels = list(enabled = FALSE) ) ) |> hc_yAxis(title = list(text = \"Number of Purchasers\")) |> hc_xAxis(categories = org.ind.count$organisation_or_individual) |> hc_tooltip( shared = FALSE, useHTML = TRUE, formatter = JS(\" function() { if (this.series.type === 'column') { return '' + this.point.name + ': ' + this.y + ' purchasers'; } else if (this.series.type === 'pie') { return '' + this.point.name + ': ' + this.y + '%'; } } \") ) |> hc_title( text = \"#Organizational vs Individual purchasers\", align = \"left\", style = list( textDecoration = \"underline\", color = \"#333333\", fontWeight = \"bold\" ) ) |> hc_subtitle( text = \"Electoral bond encashment between Apr 16, 2019 and Jan 24, 2024\" ) |> hc_credits( enabled = TRUE, text = \"Heteroscedasticity\", href = \"https://blog.asitavsen.com\", style = list(fontSize = \"12px\") ) |> hc_add_theme(custom_theme) |> hc_exporting(enabled = TRUE, filename = \"Purchasers\") Individuals Highest encashment by BJP but INC had more purchasers (Individuals). Biggest purchase made by MS S N Mohanty (Encashed by Biju Janta Dal) followed by Lakshmi Niwas Mittal (Encashed by BJP). Most purchases (value) were made in Maharashtra. Amount and countTop purchasersTop StatesHeatmap Code # Calculate individual party contributions and statistics ind_party hc_add_series( ind_party, \"column\", hcaes(x = standardised_political_party_name, y = total_amount), name = \"Amount\" ) |> hc_add_series( ind_party, \"pie\", hcaes(name = standardised_political_party_name, y = count), name = \"#Purchasers\", dataLabels = list(enabled = FALSE) ) |> hc_plotOptions( series = list( showInLegend = FALSE, colorByPoint = TRUE ), pie = list( center = c(\"75%\", \"25%\"), size = 120, innerSize = \"75%\", dataLabels = list(enabled = FALSE) ) ) |> hc_yAxis( title = list(text = \"Total Purchase (in millions)\"), labels = list( formatter = JS(\"function() { return (this.value / 1000000) + ' M'; }\") ) ) |> hc_xAxis(categories = ind_party$standardised_political_party_name) |> hc_tooltip( shared = FALSE, useHTML = TRUE, formatter = JS(\" function() { if (this.series.type === 'column') { return '' + this.point.name + ': ₹' + (this.y / 1000000).toFixed(2) + ' M'; } else if (this.series.type === 'pie') { return '' + this.point.name + ': ' + this.y + ' contributors'; } } \") ) |> hc_title( text = \"Electoral Bond Purchases by Organizations (Amount and Purchasers)\", align = \"left\", style = list( textDecoration = \"underline\", color = \"#333333\", fontWeight = \"bold\" ) ) |> hc_subtitle( text = \"Electoral bond encashment between Apr 16, 2019 and Jan 24, 2024\" ) |> hc_credits( enabled = TRUE, text = \"Heteroscedasticity\", href = \"https://asitavsen.com\", style = list(fontSize = \"12px\") ) |> hc_add_theme(custom_theme) |> hc_exporting( enabled = TRUE, filename = \"Individuals\" ) Code # Calculate individual contributions and statistics by party ind_amount_count_by_party hc_yAxis( title = list(text = \"Number of Contributors\"), labels = list( formatter = JS(\"function() { return this.value / 1000000 + 'M'; }\") ) ) |> hc_title( text = \"Top individual purchasers by Party\", align = \"left\", style = list( textDecoration = \"underline\", color = \"#333333\", fontWeight = \"bold\" ) ) |> hc_plotOptions( scatter = list( color = \"red\", marker = list( radius = 4, symbol = \"circle\", lineWidth = 1 ), jitter = list(x = .2, y = 0) ) ) |> hc_legend(enabled = FALSE) |> hc_tooltip( formatter = JS(\" function() { return 'Purchaser: ' + this.point.standardised_purchaser_name + 'Contribution: ₹' + (this.point.total_amount/1000000).toFixed(2) + 'M'; } \") ) |> hc_subtitle( text = \"Electoral bond encashment between Apr 16, 2019 and Jan 24, 2024\" ) |> hc_credits( enabled = TRUE, text = \"Heteroscedasticity\", href = \"https://asitavsen.com\", style = list(fontSize = \"12px\") ) |> hc_add_theme(custom_theme) |> hc_exporting( enabled = TRUE, filename = \"IndividualsTop\" ) Code # First apply fct_other, then aggregate properly party_ind_state hc_plotOptions(series = list(stacking = \"normal\")) |> hc_tooltip( useHTML = TRUE, formatter = JS(\" function() { return '' + this.point.issue_branch_state + '' + this.point.standardised_political_party_name + ': ₹' + (this.y / 1000000000).toFixed(2) + 'B'; } \") ) |> hc_yAxis( title = list(text = \"Total Contribution (in billions)\"), labels = list( formatter = JS(\"function() { return '₹' + this.value / 1000000000 + 'B'; }\") ) ) |> hc_title( text = \"Purchase in States and parties by Individuals\", align = \"left\", style = list( textDecoration = \"underline\", color = \"#333333\", fontWeight = \"bold\" ) ) |> hc_subtitle( text = \"Electoral bond encashment between Apr 16, 2019 and Jan 24, 2024\" ) |> hc_credits( enabled = TRUE, text = \"Heteroscedasticity\", href = \"https://asitavsen.com\", style = list(fontSize = \"12px\") ) |> hc_add_theme(custom_theme) |> hc_exporting( enabled = TRUE, filename = \"StateIndividuals\" ) Code hchart( party_ind_state, \"heatmap\", hcaes(x = standardised_political_party_name, y = issue_branch_state, value = total_amount) ) |> hc_colorAxis( stops = list( list(0, \"#FFFFFF\"), # White list(0.1, \"#FFE5E5\"), # Very light red list(0.2, \"#FFB3B3\"), # Lighter red list(0.3, \"#FF8080\"), # Light red list(0.4, \"#FF4D4D\"), # Medium light red list(0.5, \"#FF1A1A\"), # Medium red list(0.6, \"#E60000\"), # Medium dark red list(0.7, \"#CC0000\"), # Dark red list(0.8, \"#B30000\"), # Darker red list(0.9, \"#990000\"), # Very dark red list(1, \"#800000\") # Deepest red ), type = \"linear\", min = 1, max = max(party_ind_state$total_amount), labels = list( formatter = JS(\" function() { return '₹' + (this.value/1000000000).toFixed(1) + 'B'; } \") ) ) |> hc_xAxis( categories = sort(unique(party_ind_state$standardised_political_party_name)), # Alphabetical order title = list(text = \"Political Party\"), labels = list(rotation = -45) ) |> hc_yAxis( categories = as.character(state_order), # Keeping states ordered by amount title = list(text = \"State\"), reversed = TRUE ) |> hc_tooltip( formatter = JS(\" function() { return '' + this.point.issue_branch_state + '' + this.point.standardised_political_party_name + '₹' + (this.point.value/1000000000).toFixed(2) + 'B'; } \") ) |> hc_title( text = \"Individual Electoral Bond Purchases: State and Party Distribution\", align = \"left\", style = list( textDecoration = \"underline\", color = \"#333333\", fontWeight = \"bold\" ) ) |> hc_subtitle( text = \"Electoral bond encashment between Apr 16, 2019 and Jan 24, 2024\" ) |> hc_credits( enabled = TRUE, text = \"Heteroscedasticity\", href = \"https://asitavsen.com\", style = list(fontSize = \"12px\") ) |> hc_legend( title = list(text = \"Contribution Amount\") ) |> hc_add_theme(custom_theme) |> hc_exporting( enabled = TRUE, filename = \"StatePartyHeatmap\" ) Organizations Highest encashment by BJP. Highest purchasers also for BJP. Biggest purchase made by Megha Engineering & Infrastructure (Encashed by BJP) followed by Lakshmi Niwas Mittal (Encashed by BJP). Most purchases (value) were made in Telangana. Amount and countTop purchasersTop StatesHeatmap Code # Calculate organizational contributions org_party hc_add_series( org_party, \"column\", hcaes( x = standardised_political_party_name, y = total_amount ), name = \"Amount\", dataLabels = list( enabled = FALSE ) ) |> hc_add_series( org_party, \"pie\", hcaes( name = standardised_political_party_name, y = count ), name = \"#Contributors\", dataLabels = list( enabled = FALSE ) ) |> hc_plotOptions( series = list( showInLegend = FALSE, colorByPoint = TRUE ), pie = list( center = c(\"75%\", \"25%\"), size = 120, innerSize = \"75%\" ) ) |> hc_yAxis( title = list(text = \"Total Contribution (in billions)\"), labels = list( formatter = JS(\" function() { return '₹' + (this.value/1000000000).toFixed(1) + 'B'; } \") ) ) |> hc_xAxis( categories = org_party$standardised_political_party_name, labels = list(rotation = -45) ) |> hc_tooltip( shared = FALSE, useHTML = TRUE, formatter = JS(\" function() { if (this.series.type === 'column') { return '' + this.point.standardised_political_party_name + '' + 'Amount: ₹' + (this.y/1000000000).toFixed(2) + 'B'; } else if (this.series.type === 'pie') { return '' + this.point.name + '' + 'Contributors: ' + this.y; } } \") ) |> hc_title( text = \"Electoral Bond Purchases by Organizations (Amount and Purchasers)\", align = \"left\", style = list( textDecoration = \"underline\", color = \"#333333\", fontWeight = \"bold\" ) ) |> hc_subtitle( text = \"Electoral bond encashment between Apr 16, 2019 and Jan 24, 2024\" ) |> hc_credits( enabled = TRUE, text = \"Heteroscedasticity\", href = \"https://asitavsen.com\", style = list(fontSize = \"12px\") ) |> hc_add_theme(custom_theme) |> hc_exporting( enabled = TRUE, filename = \"Amt by Organizations\" ) Code org_amount_count_by_party arrange(desc(range_diff)) |> pull(standardised_political_party_name) party_org_top$standardised_political_party_name hc_add_series( data = party_org_top, type = \"scatter\", hcaes(x = \"standardised_political_party_name\", y = \"total_amount\", group = \"standardised_political_party_name\") ) |> hc_xAxis( type = \"category\", categories = party_order, labels = list(rotation = -45) ) |> hc_yAxis( title = list(text = \"Amount (in billions)\"), labels = list( formatter = JS(\"function() { return '₹' + (this.value/1000000000).toFixed(1) + 'B'; }\") ) ) |> hc_title( text = \"Top purchasers (Organizations) by party\", align = \"left\", style = list( textDecoration = \"underline\", color = \"#333333\", fontWeight = \"bold\" ) ) |> hc_subtitle( text = \"Electoral bond encashment between Apr 16, 2019 and Jan 24, 2024\" ) |> hc_plotOptions( scatter = list( color = \"red\", marker = list( radius = 4, symbol = \"circle\", lineWidth = 1 ), jitter = list(x = .2, y = 0) ) ) |> hc_legend(enabled = FALSE) |> hc_tooltip( formatter = JS(\"function(){ return ('Purchaser: ' + this.point.standardised_purchaser_name + 'Amount: ₹' + (this.point.total_amount/1000000000).toFixed(2) + 'B') }\") ) |> hc_credits( enabled = TRUE, text = \"Heteroscedasticity\", href = \"https://asitavsen.com\", style = list(fontSize = \"12px\") ) |> hc_add_theme(custom_theme) |> hc_exporting( enabled = TRUE, filename = \"ContributorsOrg\" ) Code # First apply fct_other, then aggregate properly party_org_state hc_plotOptions(series = list(stacking = \"normal\")) |> hc_tooltip( useHTML = TRUE, formatter = JS(\" function() { return '' + this.point.issue_branch_state + '' + this.point.standardised_political_party_name + ': ₹' + (this.y / 1000000000).toFixed(2) + 'B'; } \") ) |> hc_yAxis( title = list(text = \"Total Contribution (in billions)\"), labels = list( formatter = JS(\"function() { return '₹' + this.value / 1000000000 + 'B'; }\") ) ) |> hc_title( text = \"Purchase in States and parties by Individuals\", align = \"left\", style = list( textDecoration = \"underline\", color = \"#333333\", fontWeight = \"bold\" ) ) |> hc_subtitle( text = \"Electoral bond encashment between Apr 16, 2019 and Jan 24, 2024\" ) |> hc_credits( enabled = TRUE, text = \"Heteroscedasticity\", href = \"https://asitavsen.com\", style = list(fontSize = \"12px\") ) |> hc_add_theme(custom_theme) |> hc_exporting( enabled = TRUE, filename = \"StateIOrg\" ) Code # Create heatmap with more colors and alphabetical party order hchart( party_org_state, \"heatmap\", hcaes(x = standardised_political_party_name, y = issue_branch_state, value = total_amount) ) |> hc_colorAxis( stops = list( list(0, \"#FFFFFF\"), # White list(0.1, \"#FFE5E5\"), # Very light red list(0.2, \"#FFB3B3\"), # Lighter red list(0.3, \"#FF8080\"), # Light red list(0.4, \"#FF4D4D\"), # Medium light red list(0.5, \"#FF1A1A\"), # Medium red list(0.6, \"#E60000\"), # Medium dark red list(0.7, \"#CC0000\"), # Dark red list(0.8, \"#B30000\"), # Darker red list(0.9, \"#990000\"), # Very dark red list(1, \"#800000\") # Deepest red ), type = \"linear\", min = 1, max = max(party_org_state$total_amount), labels = list( formatter = JS(\" function() { return '₹' + (this.value/1000000000).toFixed(1) + 'B'; } \") ) ) |> hc_xAxis( categories = sort(unique(party_ind_state$standardised_political_party_name)), # Alphabetical order title = list(text = \"Political Party\"), labels = list(rotation = -45) ) |> hc_yAxis( categories = as.character(state_order), # Keeping states ordered by amount title = list(text = \"State\"), reversed = TRUE ) |> hc_tooltip( formatter = JS(\" function() { return '' + this.point.issue_branch_state + '' + this.point.standardised_political_party_name + '₹' + (this.point.value/1000000000).toFixed(2) + 'B'; } \") ) |> hc_title( text = \"Organisational Electoral Bond Purchases: State and Party Distribution\", align = \"left\", style = list( textDecoration = \"underline\", color = \"#333333\", fontWeight = \"bold\" ) ) |> hc_subtitle( text = \"Electoral bond encashment between Apr 16, 2019 and Jan 24, 2024\" ) |> hc_credits( enabled = TRUE, text = \"Heteroscedasticity\", href = \"https://asitavsen.com\", style = list(fontSize = \"12px\") ) |> hc_legend( title = list(text = \"Encashment Value\") ) |> hc_add_theme(custom_theme) |> hc_exporting( enabled = TRUE, filename = \"StateindHeatmap\" ) Code # Create a new dataframe with reduced parties data_stream # Add distinct colors hc_add_series( data = monthly_data, hcaes(x = date, y = amount, group = party), type = \"streamgraph\" ) |> hc_plotOptions( series = list( label = list( minFontSize = 8, maxFontSize = 16 ) ) ) |> hc_title( text = \"Electoral Bond Encashment Over Time\", align = \"left\", style = list( textDecoration = \"underline\", color = \"#333333\", fontWeight = \"bold\" ) ) |> hc_subtitle( text = \"Monthly amounts by political party\" ) |> hc_tooltip( formatter = JS(\" function() { var amount = this.point.y; if (amount >= 1000000000) { return '' + this.series.name + '' + Highcharts.dateFormat('%b %Y', this.point.x) + '₹' + (amount/1000000000).toFixed(2) + 'B'; } else { return '' + this.series.name + '' + Highcharts.dateFormat('%b %Y', this.point.x) + '₹' + (amount/1000000).toFixed(2) + 'M'; } } \") ) |> hc_credits( enabled = TRUE, text = \"Heteroscedasticity\", href = \"https://asitavsen.com\", style = list(fontSize = \"12px\") ) |> hc_add_theme(custom_theme) |> hc_exporting( enabled = TRUE, filename = \"ElectoralBondStream\" ) Excluded Data Code DT::datatable( excluded_rows, options = list( pageLength = 5, # Show only 5 rows per page dom = 'frtip', # Remove length changing option scrollX = TRUE, # Horizontal scroll if needed scrollY = '300px', # Limit vertical height scrollCollapse = TRUE, # Collapse empty space columnDefs = list( # Limit column width list( targets = '_all', width = '150px' ) ) ), class = 'compact', # Use compact styling rownames = FALSE, # Remove row numbers filter = 'top' # Add filters at top ) |> DT::formatStyle( # Add compact styling columns = 1:ncol(excluded_rows), fontSize = '80%', # Smaller font padding = '3px' # Less padding ) Back to top",
      "meta_keywords": null,
      "og_description": "Bonds worth ₹ 121 Billion purchase between Apr 2019 and Jan 2024 Data was downloaded from dataful. Rows without reference number or with status Expired are not considered in this analysis. Hence, there may be a variation between the numbers.of excluded data is available below Code highchart() |> hc_chart(type = \"sankey\", inverted = FALSE) |> hc_add_series( data = list_parse(sankey.dat), nodes = list_parse(nodes), name = \"Flow\", type = \"sankey\", nodeWidth = 20, linkOpacity = 0.5, # Make links semi-transparent states = list( hover = list( linkOpacity = 0.8 # Increase opacity on hover ) ) ) |> hc_plotOptions( sankey = list( nodePadding = 3, curveFactor = 0.6, colors = c(\"#1f77b4\", \"#ff7f0e\", \"#2ca02c\"), # Colors for nodes linkColor = \"#d3d3d3\" # Default link color (can be rgba for transparency) ) ) |> hc_title( text = \"Flow of Electoral Bonds\", align = \"left\", style = list( textDecoration = \"underline\", color = \"#333333\", fontWeight = \"bold\" ) ) |> hc_subtitle( text = \"Electoral bond encashment between Apr 16, 2019 and Jan 24, 2024\" ) |> hc_tooltip( formatter = JS(\" function() { var amount = this.point.weight; // Check if it's a node (will have no 'weight' property) if (typeof amount === 'undefined') { return '' + this.point.name + ''; } // For links if (amount >= 1000000000) { return '' + this.point.from + ' to ' + this.point.to + ': ₹' + (amount/1000000000).toFixed(2) + 'B'; } else { return '' + this.point.from + ' to ' + this.point.to + ': ₹' + (amount/1000000).toFixed(2) + 'M'; } } \") ) |> hc_credits( enabled = TRUE, text = \"Heteroscedasticity\", href = \"https://asitavsen.com\", style = list(fontSize = \"12px\") ) |> hc_add_theme(custom_theme) |> hc_exporting( enabled = TRUE, filename = \"ElectoralBondFlow\" ) 86 % (₹ 105 B) of money went to 5 parties. 91 % (₹ 111 B) of money came from 5 states Code ##| fig-width: 10 # Plot amount distribution by political party plot_hc_pie_chart( amount_by_party, xval = \"standardised_political_party_name\", yval = \"total_amount\", series_name = \"Amount\", theme = custom_theme, title_text = \"Amount by Political Party\", subtitle_text = \"Electoral bond encashment between Apr 16, 2019 and Jan 24, 2024\", output_filename = \"AmountByPoliticalParty\" ) # Plot amount distribution by state plot_hc_pie_chart( amount_by_state, xval = \"issue_branch_state\", yval = \"total_amount\", series_name = \"Amount\", theme = custom_theme, title_text = \"Amount by State\", output_filename = \"AmountByState\", subtitle_text = \"Electoral bond encashment between Apr 16, 2019 and Jan 24, 2024\" ) # Create and plot top purchasers chart plot_hc_pie_chart( rbind( data.comb[, .(total_amount = sum(amount)), by = .(standardised_purchaser_name) ][order(-total_amount)][1:20], data.table( standardised_purchaser_name = \"Others\", total_amount = data.comb[, .(total_amount = sum(amount)), by = .(standardised_purchaser_name) ][order(-total_amount)][21:.N, sum(total_amount)] ) ), xval = \"standardised_purchaser_name\", yval = \"total_amount\", series_name = \"Amount\", theme = custom_theme, title_text = \"Amount by Purchaser\", output_filename = \"AmountByPurchaser\", subtitle_text = \"Electoral bond encashment between Apr 16, 2019 and Jan 24, 2024\" ) >70% of Purchasers are organizations; contributed 96% amount AmountCount of Purchasers Code # Calculate summary statistics total_contribution hc_yAxis(title = list(text = \"Purchase Amount (M)\")) |> hc_xAxis(categories = org.ind$organisation_or_individual) |> hc_tooltip( shared = FALSE, useHTML = TRUE, formatter = JS(\" function() { if (this.series.type === 'column') { return '' + this.point.name + ': ₹' + (this.y / 1000000).toFixed(2) + ' M'; } else if (this.series.type === 'pie') { return '' + this.point.name + ': ' + this.y + '%'; } } \") ) |> hc_title( text = \"Purchase amount by Individuals and Organization\", align = \"left\", style = list( textDecoration = \"underline\", color = \"#333333\", fontWeight = \"bold\" ) ) |> hc_subtitle( text = \"Electoral bond encashment between Apr 16, 2019 and Jan 24, 2024\" ) |> hc_credits( enabled = TRUE, text = \"Heteroscedasticity\", href = \"https://blog.asitavsen.com\", style = list(fontSize = \"12px\") ) |> hc_add_theme(custom_theme) |> hc_exporting(enabled = TRUE, filename = \"OrgvsIndAmt\") Code # Plot purchaser count distribution highchart() |> hc_add_series( org.ind.count, \"column\", hcaes(x = organisation_or_individual, y = N), name = \"Number of Purchasers\", dataLabels = list(enabled = TRUE, align = \"right\") ) |> hc_add_series( org.ind.count, \"pie\", hcaes(name = organisation_or_individual, y = count_percent), name = \"Share of Purchasers\", dataLabels = list(enabled = TRUE, align = \"right\") ) |> hc_plotOptions( series = list(showInLegend = FALSE, colorByPoint = TRUE), pie = list( center = c(\"70%\", \"30%\"), size = 120, dataLabels = list(enabled = FALSE) ) ) |> hc_yAxis(title = list(text = \"Number of Purchasers\")) |> hc_xAxis(categories = org.ind.count$organisation_or_individual) |> hc_tooltip( shared = FALSE, useHTML = TRUE, formatter = JS(\" function() { if (this.series.type === 'column') { return '' + this.point.name + ': ' + this.y + ' purchasers'; } else if (this.series.type === 'pie') { return '' + this.point.name + ': ' + this.y + '%'; } } \") ) |> hc_title( text = \"#Organizational vs Individual purchasers\", align = \"left\", style = list( textDecoration = \"underline\", color = \"#333333\", fontWeight = \"bold\" ) ) |> hc_subtitle( text = \"Electoral bond encashment between Apr 16, 2019 and Jan 24, 2024\" ) |> hc_credits( enabled = TRUE, text = \"Heteroscedasticity\", href = \"https://blog.asitavsen.com\", style = list(fontSize = \"12px\") ) |> hc_add_theme(custom_theme) |> hc_exporting(enabled = TRUE, filename = \"Purchasers\") Individuals Highest encashment by BJP but INC had more purchasers (Individuals). Biggest purchase made by MS S N Mohanty (Encashed by Biju Janta Dal) followed by Lakshmi Niwas Mittal (Encashed by BJP). Most purchases (value) were made in Maharashtra. Amount and countTop purchasersTop StatesHeatmap Code # Calculate individual party contributions and statistics ind_party hc_add_series( ind_party, \"column\", hcaes(x = standardised_political_party_name, y = total_amount), name = \"Amount\" ) |> hc_add_series( ind_party, \"pie\", hcaes(name = standardised_political_party_name, y = count), name = \"#Purchasers\", dataLabels = list(enabled = FALSE) ) |> hc_plotOptions( series = list( showInLegend = FALSE, colorByPoint = TRUE ), pie = list( center = c(\"75%\", \"25%\"), size = 120, innerSize = \"75%\", dataLabels = list(enabled = FALSE) ) ) |> hc_yAxis( title = list(text = \"Total Purchase (in millions)\"), labels = list( formatter = JS(\"function() { return (this.value / 1000000) + ' M'; }\") ) ) |> hc_xAxis(categories = ind_party$standardised_political_party_name) |> hc_tooltip( shared = FALSE, useHTML = TRUE, formatter = JS(\" function() { if (this.series.type === 'column') { return '' + this.point.name + ': ₹' + (this.y / 1000000).toFixed(2) + ' M'; } else if (this.series.type === 'pie') { return '' + this.point.name + ': ' + this.y + ' contributors'; } } \") ) |> hc_title( text = \"Electoral Bond Purchases by Organizations (Amount and Purchasers)\", align = \"left\", style = list( textDecoration = \"underline\", color = \"#333333\", fontWeight = \"bold\" ) ) |> hc_subtitle( text = \"Electoral bond encashment between Apr 16, 2019 and Jan 24, 2024\" ) |> hc_credits( enabled = TRUE, text = \"Heteroscedasticity\", href = \"https://asitavsen.com\", style = list(fontSize = \"12px\") ) |> hc_add_theme(custom_theme) |> hc_exporting( enabled = TRUE, filename = \"Individuals\" ) Code # Calculate individual contributions and statistics by party ind_amount_count_by_party hc_yAxis( title = list(text = \"Number of Contributors\"), labels = list( formatter = JS(\"function() { return this.value / 1000000 + 'M'; }\") ) ) |> hc_title( text = \"Top individual purchasers by Party\", align = \"left\", style = list( textDecoration = \"underline\", color = \"#333333\", fontWeight = \"bold\" ) ) |> hc_plotOptions( scatter = list( color = \"red\", marker = list( radius = 4, symbol = \"circle\", lineWidth = 1 ), jitter = list(x = .2, y = 0) ) ) |> hc_legend(enabled = FALSE) |> hc_tooltip( formatter = JS(\" function() { return 'Purchaser: ' + this.point.standardised_purchaser_name + 'Contribution: ₹' + (this.point.total_amount/1000000).toFixed(2) + 'M'; } \") ) |> hc_subtitle( text = \"Electoral bond encashment between Apr 16, 2019 and Jan 24, 2024\" ) |> hc_credits( enabled = TRUE, text = \"Heteroscedasticity\", href = \"https://asitavsen.com\", style = list(fontSize = \"12px\") ) |> hc_add_theme(custom_theme) |> hc_exporting( enabled = TRUE, filename = \"IndividualsTop\" ) Code # First apply fct_other, then aggregate properly party_ind_state hc_plotOptions(series = list(stacking = \"normal\")) |> hc_tooltip( useHTML = TRUE, formatter = JS(\" function() { return '' + this.point.issue_branch_state + '' + this.point.standardised_political_party_name + ': ₹' + (this.y / 1000000000).toFixed(2) + 'B'; } \") ) |> hc_yAxis( title = list(text = \"Total Contribution (in billions)\"), labels = list( formatter = JS(\"function() { return '₹' + this.value / 1000000000 + 'B'; }\") ) ) |> hc_title( text = \"Purchase in States and parties by Individuals\", align = \"left\", style = list( textDecoration = \"underline\", color = \"#333333\", fontWeight = \"bold\" ) ) |> hc_subtitle( text = \"Electoral bond encashment between Apr 16, 2019 and Jan 24, 2024\" ) |> hc_credits( enabled = TRUE, text = \"Heteroscedasticity\", href = \"https://asitavsen.com\", style = list(fontSize = \"12px\") ) |> hc_add_theme(custom_theme) |> hc_exporting( enabled = TRUE, filename = \"StateIndividuals\" ) Code hchart( party_ind_state, \"heatmap\", hcaes(x = standardised_political_party_name, y = issue_branch_state, value = total_amount) ) |> hc_colorAxis( stops = list( list(0, \"#FFFFFF\"), # White list(0.1, \"#FFE5E5\"), # Very light red list(0.2, \"#FFB3B3\"), # Lighter red list(0.3, \"#FF8080\"), # Light red list(0.4, \"#FF4D4D\"), # Medium light red list(0.5, \"#FF1A1A\"), # Medium red list(0.6, \"#E60000\"), # Medium dark red list(0.7, \"#CC0000\"), # Dark red list(0.8, \"#B30000\"), # Darker red list(0.9, \"#990000\"), # Very dark red list(1, \"#800000\") # Deepest red ), type = \"linear\", min = 1, max = max(party_ind_state$total_amount), labels = list( formatter = JS(\" function() { return '₹' + (this.value/1000000000).toFixed(1) + 'B'; } \") ) ) |> hc_xAxis( categories = sort(unique(party_ind_state$standardised_political_party_name)), # Alphabetical order title = list(text = \"Political Party\"), labels = list(rotation = -45) ) |> hc_yAxis( categories = as.character(state_order), # Keeping states ordered by amount title = list(text = \"State\"), reversed = TRUE ) |> hc_tooltip( formatter = JS(\" function() { return '' + this.point.issue_branch_state + '' + this.point.standardised_political_party_name + '₹' + (this.point.value/1000000000).toFixed(2) + 'B'; } \") ) |> hc_title( text = \"Individual Electoral Bond Purchases: State and Party Distribution\", align = \"left\", style = list( textDecoration = \"underline\", color = \"#333333\", fontWeight = \"bold\" ) ) |> hc_subtitle( text = \"Electoral bond encashment between Apr 16, 2019 and Jan 24, 2024\" ) |> hc_credits( enabled = TRUE, text = \"Heteroscedasticity\", href = \"https://asitavsen.com\", style = list(fontSize = \"12px\") ) |> hc_legend( title = list(text = \"Contribution Amount\") ) |> hc_add_theme(custom_theme) |> hc_exporting( enabled = TRUE, filename = \"StatePartyHeatmap\" ) Organizations Highest encashment by BJP. Highest purchasers also for BJP. Biggest purchase made by Megha Engineering & Infrastructure (Encashed by BJP) followed by Lakshmi Niwas Mittal (Encashed by BJP). Most purchases (value) were made in Telangana. Amount and countTop purchasersTop StatesHeatmap Code # Calculate organizational contributions org_party hc_add_series( org_party, \"column\", hcaes( x = standardised_political_party_name, y = total_amount ), name = \"Amount\", dataLabels = list( enabled = FALSE ) ) |> hc_add_series( org_party, \"pie\", hcaes( name = standardised_political_party_name, y = count ), name = \"#Contributors\", dataLabels = list( enabled = FALSE ) ) |> hc_plotOptions( series = list( showInLegend = FALSE, colorByPoint = TRUE ), pie = list( center = c(\"75%\", \"25%\"), size = 120, innerSize = \"75%\" ) ) |> hc_yAxis( title = list(text = \"Total Contribution (in billions)\"), labels = list( formatter = JS(\" function() { return '₹' + (this.value/1000000000).toFixed(1) + 'B'; } \") ) ) |> hc_xAxis( categories = org_party$standardised_political_party_name, labels = list(rotation = -45) ) |> hc_tooltip( shared = FALSE, useHTML = TRUE, formatter = JS(\" function() { if (this.series.type === 'column') { return '' + this.point.standardised_political_party_name + '' + 'Amount: ₹' + (this.y/1000000000).toFixed(2) + 'B'; } else if (this.series.type === 'pie') { return '' + this.point.name + '' + 'Contributors: ' + this.y; } } \") ) |> hc_title( text = \"Electoral Bond Purchases by Organizations (Amount and Purchasers)\", align = \"left\", style = list( textDecoration = \"underline\", color = \"#333333\", fontWeight = \"bold\" ) ) |> hc_subtitle( text = \"Electoral bond encashment between Apr 16, 2019 and Jan 24, 2024\" ) |> hc_credits( enabled = TRUE, text = \"Heteroscedasticity\", href = \"https://asitavsen.com\", style = list(fontSize = \"12px\") ) |> hc_add_theme(custom_theme) |> hc_exporting( enabled = TRUE, filename = \"Amt by Organizations\" ) Code org_amount_count_by_party arrange(desc(range_diff)) |> pull(standardised_political_party_name) party_org_top$standardised_political_party_name hc_add_series( data = party_org_top, type = \"scatter\", hcaes(x = \"standardised_political_party_name\", y = \"total_amount\", group = \"standardised_political_party_name\") ) |> hc_xAxis( type = \"category\", categories = party_order, labels = list(rotation = -45) ) |> hc_yAxis( title = list(text = \"Amount (in billions)\"), labels = list( formatter = JS(\"function() { return '₹' + (this.value/1000000000).toFixed(1) + 'B'; }\") ) ) |> hc_title( text = \"Top purchasers (Organizations) by party\", align = \"left\", style = list( textDecoration = \"underline\", color = \"#333333\", fontWeight = \"bold\" ) ) |> hc_subtitle( text = \"Electoral bond encashment between Apr 16, 2019 and Jan 24, 2024\" ) |> hc_plotOptions( scatter = list( color = \"red\", marker = list( radius = 4, symbol = \"circle\", lineWidth = 1 ), jitter = list(x = .2, y = 0) ) ) |> hc_legend(enabled = FALSE) |> hc_tooltip( formatter = JS(\"function(){ return ('Purchaser: ' + this.point.standardised_purchaser_name + 'Amount: ₹' + (this.point.total_amount/1000000000).toFixed(2) + 'B') }\") ) |> hc_credits( enabled = TRUE, text = \"Heteroscedasticity\", href = \"https://asitavsen.com\", style = list(fontSize = \"12px\") ) |> hc_add_theme(custom_theme) |> hc_exporting( enabled = TRUE, filename = \"ContributorsOrg\" ) Code # First apply fct_other, then aggregate properly party_org_state hc_plotOptions(series = list(stacking = \"normal\")) |> hc_tooltip( useHTML = TRUE, formatter = JS(\" function() { return '' + this.point.issue_branch_state + '' + this.point.standardised_political_party_name + ': ₹' + (this.y / 1000000000).toFixed(2) + 'B'; } \") ) |> hc_yAxis( title = list(text = \"Total Contribution (in billions)\"), labels = list( formatter = JS(\"function() { return '₹' + this.value / 1000000000 + 'B'; }\") ) ) |> hc_title( text = \"Purchase in States and parties by Individuals\", align = \"left\", style = list( textDecoration = \"underline\", color = \"#333333\", fontWeight = \"bold\" ) ) |> hc_subtitle( text = \"Electoral bond encashment between Apr 16, 2019 and Jan 24, 2024\" ) |> hc_credits( enabled = TRUE, text = \"Heteroscedasticity\", href = \"https://asitavsen.com\", style = list(fontSize = \"12px\") ) |> hc_add_theme(custom_theme) |> hc_exporting( enabled = TRUE, filename = \"StateIOrg\" ) Code # Create heatmap with more colors and alphabetical party order hchart( party_org_state, \"heatmap\", hcaes(x = standardised_political_party_name, y = issue_branch_state, value = total_amount) ) |> hc_colorAxis( stops = list( list(0, \"#FFFFFF\"), # White list(0.1, \"#FFE5E5\"), # Very light red list(0.2, \"#FFB3B3\"), # Lighter red list(0.3, \"#FF8080\"), # Light red list(0.4, \"#FF4D4D\"), # Medium light red list(0.5, \"#FF1A1A\"), # Medium red list(0.6, \"#E60000\"), # Medium dark red list(0.7, \"#CC0000\"), # Dark red list(0.8, \"#B30000\"), # Darker red list(0.9, \"#990000\"), # Very dark red list(1, \"#800000\") # Deepest red ), type = \"linear\", min = 1, max = max(party_org_state$total_amount), labels = list( formatter = JS(\" function() { return '₹' + (this.value/1000000000).toFixed(1) + 'B'; } \") ) ) |> hc_xAxis( categories = sort(unique(party_ind_state$standardised_political_party_name)), # Alphabetical order title = list(text = \"Political Party\"), labels = list(rotation = -45) ) |> hc_yAxis( categories = as.character(state_order), # Keeping states ordered by amount title = list(text = \"State\"), reversed = TRUE ) |> hc_tooltip( formatter = JS(\" function() { return '' + this.point.issue_branch_state + '' + this.point.standardised_political_party_name + '₹' + (this.point.value/1000000000).toFixed(2) + 'B'; } \") ) |> hc_title( text = \"Organisational Electoral Bond Purchases: State and Party Distribution\", align = \"left\", style = list( textDecoration = \"underline\", color = \"#333333\", fontWeight = \"bold\" ) ) |> hc_subtitle( text = \"Electoral bond encashment between Apr 16, 2019 and Jan 24, 2024\" ) |> hc_credits( enabled = TRUE, text = \"Heteroscedasticity\", href = \"https://asitavsen.com\", style = list(fontSize = \"12px\") ) |> hc_legend( title = list(text = \"Encashment Value\") ) |> hc_add_theme(custom_theme) |> hc_exporting( enabled = TRUE, filename = \"StateindHeatmap\" ) Code # Create a new dataframe with reduced parties data_stream # Add distinct colors hc_add_series( data = monthly_data, hcaes(x = date, y = amount, group = party), type = \"streamgraph\" ) |> hc_plotOptions( series = list( label = list( minFontSize = 8, maxFontSize = 16 ) ) ) |> hc_title( text = \"Electoral Bond Encashment Over Time\", align = \"left\", style = list( textDecoration = \"underline\", color = \"#333333\", fontWeight = \"bold\" ) ) |> hc_subtitle( text = \"Monthly amounts by political party\" ) |> hc_tooltip( formatter = JS(\" function() { var amount = this.point.y; if (amount >= 1000000000) { return '' + this.series.name + '' + Highcharts.dateFormat('%b %Y', this.point.x) + '₹' + (amount/1000000000).toFixed(2) + 'B'; } else { return '' + this.series.name + '' + Highcharts.dateFormat('%b %Y', this.point.x) + '₹' + (amount/1000000).toFixed(2) + 'M'; } } \") ) |> hc_credits( enabled = TRUE, text = \"Heteroscedasticity\", href = \"https://asitavsen.com\", style = list(fontSize = \"12px\") ) |> hc_add_theme(custom_theme) |> hc_exporting( enabled = TRUE, filename = \"ElectoralBondStream\" ) Excluded Data Code DT::datatable( excluded_rows, options = list( pageLength = 5, # Show only 5 rows per page dom = 'frtip', # Remove length changing option scrollX = TRUE, # Horizontal scroll if needed scrollY = '300px', # Limit vertical height scrollCollapse = TRUE, # Collapse empty space columnDefs = list( # Limit column width list( targets = '_all', width = '150px' ) ) ), class = 'compact', # Use compact styling rownames = FALSE, # Remove row numbers filter = 'top' # Add filters at top ) |> DT::formatStyle( # Add compact styling columns = 1:ncol(excluded_rows), fontSize = '80%', # Smaller font padding = '3px' # Less padding ) Back to top",
      "og_image": "https://www.r-bloggers.com/wp-content/uploads/2016/04/R_02_2016-05-01.png",
      "og_title": "Electoral bonds data in charts | R-bloggers",
      "raw_jsonld_article": null,
      "reading_time_min": 6.9,
      "sitemap_lastmod": null,
      "twitter_description": "Bonds worth ₹ 121 Billion purchase between Apr 2019 and Jan 2024 Data was downloaded from dataful. Rows without reference number or with status Expired are not considered in this analysis. Hence, there may be a variation between the numbers.of excluded data is available below Code highchart() |> hc_chart(type = \"sankey\", inverted = FALSE) |> hc_add_series( data = list_parse(sankey.dat), nodes = list_parse(nodes), name = \"Flow\", type = \"sankey\", nodeWidth = 20, linkOpacity = 0.5, # Make links semi-transparent states = list( hover = list( linkOpacity = 0.8 # Increase opacity on hover ) ) ) |> hc_plotOptions( sankey = list( nodePadding = 3, curveFactor = 0.6, colors = c(\"#1f77b4\", \"#ff7f0e\", \"#2ca02c\"), # Colors for nodes linkColor = \"#d3d3d3\" # Default link color (can be rgba for transparency) ) ) |> hc_title( text = \"Flow of Electoral Bonds\", align = \"left\", style = list( textDecoration = \"underline\", color = \"#333333\", fontWeight = \"bold\" ) ) |> hc_subtitle( text = \"Electoral bond encashment between Apr 16, 2019 and Jan 24, 2024\" ) |> hc_tooltip( formatter = JS(\" function() { var amount = this.point.weight; // Check if it's a node (will have no 'weight' property) if (typeof amount === 'undefined') { return '' + this.point.name + ''; } // For links if (amount >= 1000000000) { return '' + this.point.from + ' to ' + this.point.to + ': ₹' + (amount/1000000000).toFixed(2) + 'B'; } else { return '' + this.point.from + ' to ' + this.point.to + ': ₹' + (amount/1000000).toFixed(2) + 'M'; } } \") ) |> hc_credits( enabled = TRUE, text = \"Heteroscedasticity\", href = \"https://asitavsen.com\", style = list(fontSize = \"12px\") ) |> hc_add_theme(custom_theme) |> hc_exporting( enabled = TRUE, filename = \"ElectoralBondFlow\" ) 86 % (₹ 105 B) of money went to 5 parties. 91 % (₹ 111 B) of money came from 5 states Code ##| fig-width: 10 # Plot amount distribution by political party plot_hc_pie_chart( amount_by_party, xval = \"standardised_political_party_name\", yval = \"total_amount\", series_name = \"Amount\", theme = custom_theme, title_text = \"Amount by Political Party\", subtitle_text = \"Electoral bond encashment between Apr 16, 2019 and Jan 24, 2024\", output_filename = \"AmountByPoliticalParty\" ) # Plot amount distribution by state plot_hc_pie_chart( amount_by_state, xval = \"issue_branch_state\", yval = \"total_amount\", series_name = \"Amount\", theme = custom_theme, title_text = \"Amount by State\", output_filename = \"AmountByState\", subtitle_text = \"Electoral bond encashment between Apr 16, 2019 and Jan 24, 2024\" ) # Create and plot top purchasers chart plot_hc_pie_chart( rbind( data.comb[, .(total_amount = sum(amount)), by = .(standardised_purchaser_name) ][order(-total_amount)][1:20], data.table( standardised_purchaser_name = \"Others\", total_amount = data.comb[, .(total_amount = sum(amount)), by = .(standardised_purchaser_name) ][order(-total_amount)][21:.N, sum(total_amount)] ) ), xval = \"standardised_purchaser_name\", yval = \"total_amount\", series_name = \"Amount\", theme = custom_theme, title_text = \"Amount by Purchaser\", output_filename = \"AmountByPurchaser\", subtitle_text = \"Electoral bond encashment between Apr 16, 2019 and Jan 24, 2024\" ) >70% of Purchasers are organizations; contributed 96% amount AmountCount of Purchasers Code # Calculate summary statistics total_contribution hc_yAxis(title = list(text = \"Purchase Amount (M)\")) |> hc_xAxis(categories = org.ind$organisation_or_individual) |> hc_tooltip( shared = FALSE, useHTML = TRUE, formatter = JS(\" function() { if (this.series.type === 'column') { return '' + this.point.name + ': ₹' + (this.y / 1000000).toFixed(2) + ' M'; } else if (this.series.type === 'pie') { return '' + this.point.name + ': ' + this.y + '%'; } } \") ) |> hc_title( text = \"Purchase amount by Individuals and Organization\", align = \"left\", style = list( textDecoration = \"underline\", color = \"#333333\", fontWeight = \"bold\" ) ) |> hc_subtitle( text = \"Electoral bond encashment between Apr 16, 2019 and Jan 24, 2024\" ) |> hc_credits( enabled = TRUE, text = \"Heteroscedasticity\", href = \"https://blog.asitavsen.com\", style = list(fontSize = \"12px\") ) |> hc_add_theme(custom_theme) |> hc_exporting(enabled = TRUE, filename = \"OrgvsIndAmt\") Code # Plot purchaser count distribution highchart() |> hc_add_series( org.ind.count, \"column\", hcaes(x = organisation_or_individual, y = N), name = \"Number of Purchasers\", dataLabels = list(enabled = TRUE, align = \"right\") ) |> hc_add_series( org.ind.count, \"pie\", hcaes(name = organisation_or_individual, y = count_percent), name = \"Share of Purchasers\", dataLabels = list(enabled = TRUE, align = \"right\") ) |> hc_plotOptions( series = list(showInLegend = FALSE, colorByPoint = TRUE), pie = list( center = c(\"70%\", \"30%\"), size = 120, dataLabels = list(enabled = FALSE) ) ) |> hc_yAxis(title = list(text = \"Number of Purchasers\")) |> hc_xAxis(categories = org.ind.count$organisation_or_individual) |> hc_tooltip( shared = FALSE, useHTML = TRUE, formatter = JS(\" function() { if (this.series.type === 'column') { return '' + this.point.name + ': ' + this.y + ' purchasers'; } else if (this.series.type === 'pie') { return '' + this.point.name + ': ' + this.y + '%'; } } \") ) |> hc_title( text = \"#Organizational vs Individual purchasers\", align = \"left\", style = list( textDecoration = \"underline\", color = \"#333333\", fontWeight = \"bold\" ) ) |> hc_subtitle( text = \"Electoral bond encashment between Apr 16, 2019 and Jan 24, 2024\" ) |> hc_credits( enabled = TRUE, text = \"Heteroscedasticity\", href = \"https://blog.asitavsen.com\", style = list(fontSize = \"12px\") ) |> hc_add_theme(custom_theme) |> hc_exporting(enabled = TRUE, filename = \"Purchasers\") Individuals Highest encashment by BJP but INC had more purchasers (Individuals). Biggest purchase made by MS S N Mohanty (Encashed by Biju Janta Dal) followed by Lakshmi Niwas Mittal (Encashed by BJP). Most purchases (value) were made in Maharashtra. Amount and countTop purchasersTop StatesHeatmap Code # Calculate individual party contributions and statistics ind_party hc_add_series( ind_party, \"column\", hcaes(x = standardised_political_party_name, y = total_amount), name = \"Amount\" ) |> hc_add_series( ind_party, \"pie\", hcaes(name = standardised_political_party_name, y = count), name = \"#Purchasers\", dataLabels = list(enabled = FALSE) ) |> hc_plotOptions( series = list( showInLegend = FALSE, colorByPoint = TRUE ), pie = list( center = c(\"75%\", \"25%\"), size = 120, innerSize = \"75%\", dataLabels = list(enabled = FALSE) ) ) |> hc_yAxis( title = list(text = \"Total Purchase (in millions)\"), labels = list( formatter = JS(\"function() { return (this.value / 1000000) + ' M'; }\") ) ) |> hc_xAxis(categories = ind_party$standardised_political_party_name) |> hc_tooltip( shared = FALSE, useHTML = TRUE, formatter = JS(\" function() { if (this.series.type === 'column') { return '' + this.point.name + ': ₹' + (this.y / 1000000).toFixed(2) + ' M'; } else if (this.series.type === 'pie') { return '' + this.point.name + ': ' + this.y + ' contributors'; } } \") ) |> hc_title( text = \"Electoral Bond Purchases by Organizations (Amount and Purchasers)\", align = \"left\", style = list( textDecoration = \"underline\", color = \"#333333\", fontWeight = \"bold\" ) ) |> hc_subtitle( text = \"Electoral bond encashment between Apr 16, 2019 and Jan 24, 2024\" ) |> hc_credits( enabled = TRUE, text = \"Heteroscedasticity\", href = \"https://asitavsen.com\", style = list(fontSize = \"12px\") ) |> hc_add_theme(custom_theme) |> hc_exporting( enabled = TRUE, filename = \"Individuals\" ) Code # Calculate individual contributions and statistics by party ind_amount_count_by_party hc_yAxis( title = list(text = \"Number of Contributors\"), labels = list( formatter = JS(\"function() { return this.value / 1000000 + 'M'; }\") ) ) |> hc_title( text = \"Top individual purchasers by Party\", align = \"left\", style = list( textDecoration = \"underline\", color = \"#333333\", fontWeight = \"bold\" ) ) |> hc_plotOptions( scatter = list( color = \"red\", marker = list( radius = 4, symbol = \"circle\", lineWidth = 1 ), jitter = list(x = .2, y = 0) ) ) |> hc_legend(enabled = FALSE) |> hc_tooltip( formatter = JS(\" function() { return 'Purchaser: ' + this.point.standardised_purchaser_name + 'Contribution: ₹' + (this.point.total_amount/1000000).toFixed(2) + 'M'; } \") ) |> hc_subtitle( text = \"Electoral bond encashment between Apr 16, 2019 and Jan 24, 2024\" ) |> hc_credits( enabled = TRUE, text = \"Heteroscedasticity\", href = \"https://asitavsen.com\", style = list(fontSize = \"12px\") ) |> hc_add_theme(custom_theme) |> hc_exporting( enabled = TRUE, filename = \"IndividualsTop\" ) Code # First apply fct_other, then aggregate properly party_ind_state hc_plotOptions(series = list(stacking = \"normal\")) |> hc_tooltip( useHTML = TRUE, formatter = JS(\" function() { return '' + this.point.issue_branch_state + '' + this.point.standardised_political_party_name + ': ₹' + (this.y / 1000000000).toFixed(2) + 'B'; } \") ) |> hc_yAxis( title = list(text = \"Total Contribution (in billions)\"), labels = list( formatter = JS(\"function() { return '₹' + this.value / 1000000000 + 'B'; }\") ) ) |> hc_title( text = \"Purchase in States and parties by Individuals\", align = \"left\", style = list( textDecoration = \"underline\", color = \"#333333\", fontWeight = \"bold\" ) ) |> hc_subtitle( text = \"Electoral bond encashment between Apr 16, 2019 and Jan 24, 2024\" ) |> hc_credits( enabled = TRUE, text = \"Heteroscedasticity\", href = \"https://asitavsen.com\", style = list(fontSize = \"12px\") ) |> hc_add_theme(custom_theme) |> hc_exporting( enabled = TRUE, filename = \"StateIndividuals\" ) Code hchart( party_ind_state, \"heatmap\", hcaes(x = standardised_political_party_name, y = issue_branch_state, value = total_amount) ) |> hc_colorAxis( stops = list( list(0, \"#FFFFFF\"), # White list(0.1, \"#FFE5E5\"), # Very light red list(0.2, \"#FFB3B3\"), # Lighter red list(0.3, \"#FF8080\"), # Light red list(0.4, \"#FF4D4D\"), # Medium light red list(0.5, \"#FF1A1A\"), # Medium red list(0.6, \"#E60000\"), # Medium dark red list(0.7, \"#CC0000\"), # Dark red list(0.8, \"#B30000\"), # Darker red list(0.9, \"#990000\"), # Very dark red list(1, \"#800000\") # Deepest red ), type = \"linear\", min = 1, max = max(party_ind_state$total_amount), labels = list( formatter = JS(\" function() { return '₹' + (this.value/1000000000).toFixed(1) + 'B'; } \") ) ) |> hc_xAxis( categories = sort(unique(party_ind_state$standardised_political_party_name)), # Alphabetical order title = list(text = \"Political Party\"), labels = list(rotation = -45) ) |> hc_yAxis( categories = as.character(state_order), # Keeping states ordered by amount title = list(text = \"State\"), reversed = TRUE ) |> hc_tooltip( formatter = JS(\" function() { return '' + this.point.issue_branch_state + '' + this.point.standardised_political_party_name + '₹' + (this.point.value/1000000000).toFixed(2) + 'B'; } \") ) |> hc_title( text = \"Individual Electoral Bond Purchases: State and Party Distribution\", align = \"left\", style = list( textDecoration = \"underline\", color = \"#333333\", fontWeight = \"bold\" ) ) |> hc_subtitle( text = \"Electoral bond encashment between Apr 16, 2019 and Jan 24, 2024\" ) |> hc_credits( enabled = TRUE, text = \"Heteroscedasticity\", href = \"https://asitavsen.com\", style = list(fontSize = \"12px\") ) |> hc_legend( title = list(text = \"Contribution Amount\") ) |> hc_add_theme(custom_theme) |> hc_exporting( enabled = TRUE, filename = \"StatePartyHeatmap\" ) Organizations Highest encashment by BJP. Highest purchasers also for BJP. Biggest purchase made by Megha Engineering & Infrastructure (Encashed by BJP) followed by Lakshmi Niwas Mittal (Encashed by BJP). Most purchases (value) were made in Telangana. Amount and countTop purchasersTop StatesHeatmap Code # Calculate organizational contributions org_party hc_add_series( org_party, \"column\", hcaes( x = standardised_political_party_name, y = total_amount ), name = \"Amount\", dataLabels = list( enabled = FALSE ) ) |> hc_add_series( org_party, \"pie\", hcaes( name = standardised_political_party_name, y = count ), name = \"#Contributors\", dataLabels = list( enabled = FALSE ) ) |> hc_plotOptions( series = list( showInLegend = FALSE, colorByPoint = TRUE ), pie = list( center = c(\"75%\", \"25%\"), size = 120, innerSize = \"75%\" ) ) |> hc_yAxis( title = list(text = \"Total Contribution (in billions)\"), labels = list( formatter = JS(\" function() { return '₹' + (this.value/1000000000).toFixed(1) + 'B'; } \") ) ) |> hc_xAxis( categories = org_party$standardised_political_party_name, labels = list(rotation = -45) ) |> hc_tooltip( shared = FALSE, useHTML = TRUE, formatter = JS(\" function() { if (this.series.type === 'column') { return '' + this.point.standardised_political_party_name + '' + 'Amount: ₹' + (this.y/1000000000).toFixed(2) + 'B'; } else if (this.series.type === 'pie') { return '' + this.point.name + '' + 'Contributors: ' + this.y; } } \") ) |> hc_title( text = \"Electoral Bond Purchases by Organizations (Amount and Purchasers)\", align = \"left\", style = list( textDecoration = \"underline\", color = \"#333333\", fontWeight = \"bold\" ) ) |> hc_subtitle( text = \"Electoral bond encashment between Apr 16, 2019 and Jan 24, 2024\" ) |> hc_credits( enabled = TRUE, text = \"Heteroscedasticity\", href = \"https://asitavsen.com\", style = list(fontSize = \"12px\") ) |> hc_add_theme(custom_theme) |> hc_exporting( enabled = TRUE, filename = \"Amt by Organizations\" ) Code org_amount_count_by_party arrange(desc(range_diff)) |> pull(standardised_political_party_name) party_org_top$standardised_political_party_name hc_add_series( data = party_org_top, type = \"scatter\", hcaes(x = \"standardised_political_party_name\", y = \"total_amount\", group = \"standardised_political_party_name\") ) |> hc_xAxis( type = \"category\", categories = party_order, labels = list(rotation = -45) ) |> hc_yAxis( title = list(text = \"Amount (in billions)\"), labels = list( formatter = JS(\"function() { return '₹' + (this.value/1000000000).toFixed(1) + 'B'; }\") ) ) |> hc_title( text = \"Top purchasers (Organizations) by party\", align = \"left\", style = list( textDecoration = \"underline\", color = \"#333333\", fontWeight = \"bold\" ) ) |> hc_subtitle( text = \"Electoral bond encashment between Apr 16, 2019 and Jan 24, 2024\" ) |> hc_plotOptions( scatter = list( color = \"red\", marker = list( radius = 4, symbol = \"circle\", lineWidth = 1 ), jitter = list(x = .2, y = 0) ) ) |> hc_legend(enabled = FALSE) |> hc_tooltip( formatter = JS(\"function(){ return ('Purchaser: ' + this.point.standardised_purchaser_name + 'Amount: ₹' + (this.point.total_amount/1000000000).toFixed(2) + 'B') }\") ) |> hc_credits( enabled = TRUE, text = \"Heteroscedasticity\", href = \"https://asitavsen.com\", style = list(fontSize = \"12px\") ) |> hc_add_theme(custom_theme) |> hc_exporting( enabled = TRUE, filename = \"ContributorsOrg\" ) Code # First apply fct_other, then aggregate properly party_org_state hc_plotOptions(series = list(stacking = \"normal\")) |> hc_tooltip( useHTML = TRUE, formatter = JS(\" function() { return '' + this.point.issue_branch_state + '' + this.point.standardised_political_party_name + ': ₹' + (this.y / 1000000000).toFixed(2) + 'B'; } \") ) |> hc_yAxis( title = list(text = \"Total Contribution (in billions)\"), labels = list( formatter = JS(\"function() { return '₹' + this.value / 1000000000 + 'B'; }\") ) ) |> hc_title( text = \"Purchase in States and parties by Individuals\", align = \"left\", style = list( textDecoration = \"underline\", color = \"#333333\", fontWeight = \"bold\" ) ) |> hc_subtitle( text = \"Electoral bond encashment between Apr 16, 2019 and Jan 24, 2024\" ) |> hc_credits( enabled = TRUE, text = \"Heteroscedasticity\", href = \"https://asitavsen.com\", style = list(fontSize = \"12px\") ) |> hc_add_theme(custom_theme) |> hc_exporting( enabled = TRUE, filename = \"StateIOrg\" ) Code # Create heatmap with more colors and alphabetical party order hchart( party_org_state, \"heatmap\", hcaes(x = standardised_political_party_name, y = issue_branch_state, value = total_amount) ) |> hc_colorAxis( stops = list( list(0, \"#FFFFFF\"), # White list(0.1, \"#FFE5E5\"), # Very light red list(0.2, \"#FFB3B3\"), # Lighter red list(0.3, \"#FF8080\"), # Light red list(0.4, \"#FF4D4D\"), # Medium light red list(0.5, \"#FF1A1A\"), # Medium red list(0.6, \"#E60000\"), # Medium dark red list(0.7, \"#CC0000\"), # Dark red list(0.8, \"#B30000\"), # Darker red list(0.9, \"#990000\"), # Very dark red list(1, \"#800000\") # Deepest red ), type = \"linear\", min = 1, max = max(party_org_state$total_amount), labels = list( formatter = JS(\" function() { return '₹' + (this.value/1000000000).toFixed(1) + 'B'; } \") ) ) |> hc_xAxis( categories = sort(unique(party_ind_state$standardised_political_party_name)), # Alphabetical order title = list(text = \"Political Party\"), labels = list(rotation = -45) ) |> hc_yAxis( categories = as.character(state_order), # Keeping states ordered by amount title = list(text = \"State\"), reversed = TRUE ) |> hc_tooltip( formatter = JS(\" function() { return '' + this.point.issue_branch_state + '' + this.point.standardised_political_party_name + '₹' + (this.point.value/1000000000).toFixed(2) + 'B'; } \") ) |> hc_title( text = \"Organisational Electoral Bond Purchases: State and Party Distribution\", align = \"left\", style = list( textDecoration = \"underline\", color = \"#333333\", fontWeight = \"bold\" ) ) |> hc_subtitle( text = \"Electoral bond encashment between Apr 16, 2019 and Jan 24, 2024\" ) |> hc_credits( enabled = TRUE, text = \"Heteroscedasticity\", href = \"https://asitavsen.com\", style = list(fontSize = \"12px\") ) |> hc_legend( title = list(text = \"Encashment Value\") ) |> hc_add_theme(custom_theme) |> hc_exporting( enabled = TRUE, filename = \"StateindHeatmap\" ) Code # Create a new dataframe with reduced parties data_stream # Add distinct colors hc_add_series( data = monthly_data, hcaes(x = date, y = amount, group = party), type = \"streamgraph\" ) |> hc_plotOptions( series = list( label = list( minFontSize = 8, maxFontSize = 16 ) ) ) |> hc_title( text = \"Electoral Bond Encashment Over Time\", align = \"left\", style = list( textDecoration = \"underline\", color = \"#333333\", fontWeight = \"bold\" ) ) |> hc_subtitle( text = \"Monthly amounts by political party\" ) |> hc_tooltip( formatter = JS(\" function() { var amount = this.point.y; if (amount >= 1000000000) { return '' + this.series.name + '' + Highcharts.dateFormat('%b %Y', this.point.x) + '₹' + (amount/1000000000).toFixed(2) + 'B'; } else { return '' + this.series.name + '' + Highcharts.dateFormat('%b %Y', this.point.x) + '₹' + (amount/1000000).toFixed(2) + 'M'; } } \") ) |> hc_credits( enabled = TRUE, text = \"Heteroscedasticity\", href = \"https://asitavsen.com\", style = list(fontSize = \"12px\") ) |> hc_add_theme(custom_theme) |> hc_exporting( enabled = TRUE, filename = \"ElectoralBondStream\" ) Excluded Data Code DT::datatable( excluded_rows, options = list( pageLength = 5, # Show only 5 rows per page dom = 'frtip', # Remove length changing option scrollX = TRUE, # Horizontal scroll if needed scrollY = '300px', # Limit vertical height scrollCollapse = TRUE, # Collapse empty space columnDefs = list( # Limit column width list( targets = '_all', width = '150px' ) ) ), class = 'compact', # Use compact styling rownames = FALSE, # Remove row numbers filter = 'top' # Add filters at top ) |> DT::formatStyle( # Add compact styling columns = 1:ncol(excluded_rows), fontSize = '80%', # Smaller font padding = '3px' # Less padding ) Back to top",
      "twitter_title": "Electoral bonds data in charts | R-bloggers",
      "url": "https://www.r-bloggers.com/2025/04/electoral-bonds-data-in-charts/",
      "word_count": 1375
    }
  }
}