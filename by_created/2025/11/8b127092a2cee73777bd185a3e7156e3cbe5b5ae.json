{
  "id": "8b127092a2cee73777bd185a3e7156e3cbe5b5ae",
  "url": "https://www.r-bloggers.com/2009/12/abstract-data-type-operations-in-r/",
  "created_at_utc": "2025-11-17T20:39:48Z",
  "data": null,
  "raw_original": {
    "uuid": "2ed01c13-4f90-4dee-8f09-b2f4e657a93c",
    "created_at": "2025-11-17 20:39:48",
    "raw_json": {
      "article_author": null,
      "article_headline": null,
      "article_modified": null,
      "article_published": null,
      "article_section": null,
      "article_tags": null,
      "canonical_url": "https://www.r-bloggers.com/2009/12/abstract-data-type-operations-in-r/",
      "crawled_at": "2025-11-17T10:13:02.368166",
      "external_links": [
        {
          "href": "http://www.johnmyleswhite.com/notebook/2009/12/09/abstract-data-type-operations-in-r/",
          "text": "John Myles White: Die Sudelbücher » Statistics"
        },
        {
          "href": "http://r-posts.com/",
          "text": "here"
        },
        {
          "href": "http://cran.r-project.org/doc/manuals/R-lang.pdf",
          "text": "R Language Definition"
        },
        {
          "href": "http://www.johnmyleswhite.com/notebook/2009/12/09/abstract-data-type-operations-in-r/",
          "text": "John Myles White: Die Sudelbücher » Statistics"
        },
        {
          "href": "https://feedburner.google.com/fb/a/mailverify?uri=RBloggers",
          "text": "daily e-mail updates"
        },
        {
          "href": "https://www.r-project.org/",
          "text": "R"
        },
        {
          "href": "https://www.r-users.com/",
          "text": "Click here if you're looking to post or find an R/data-science job"
        },
        {
          "href": "http://r-posts.com/",
          "text": "here"
        }
      ],
      "h1_title": "R-bloggers",
      "html_title": "Abstract Data Type Operations in R | R-bloggers",
      "images": [],
      "internal_links": [
        {
          "href": "https://www.r-bloggers.com/author/john-myles-white/",
          "text": "John Myles White"
        },
        {
          "href": "https://www.r-bloggers.com/category/r-bloggers/",
          "text": "R bloggers"
        },
        {
          "href": "https://www.r-bloggers.com/",
          "text": "R-bloggers"
        },
        {
          "href": "https://www.r-bloggers.com/contact-us/",
          "text": "here"
        },
        {
          "href": "https://www.r-bloggers.com/add-your-blog/",
          "text": "click here"
        },
        {
          "href": "https://www.r-bloggers.com/",
          "text": "R-bloggers.com"
        },
        {
          "href": "https://www.r-bloggers.com/how-to-learn-r-2/",
          "text": "learning R"
        },
        {
          "href": "https://www.r-bloggers.com/add-your-blog/",
          "text": "click here"
        },
        {
          "href": "https://www.r-bloggers.com/tag/statistics/",
          "text": "statistics"
        }
      ],
      "lang": "en-US",
      "main_html": "<article class=\"post-275 post type-post status-publish format-standard hentry category-r-bloggers tag-statistics\">\n<header class=\"post-header\">\n<h1 class=\"entry-title\">Abstract Data Type Operations in R</h1>\n<p class=\"meta post-meta\">Posted on <span class=\"updated\">December 9, 2009</span>  by <span class=\"vcard author\"><a class=\"fn\" href=\"https://www.r-bloggers.com/author/john-myles-white/\">John Myles White</a></span>  in <a href=\"https://www.r-bloggers.com/category/r-bloggers/\" rel=\"category tag\">R bloggers</a> | 0 Comments</p>\n</header>\n<div class=\"entry clearfix\">\n<p class=\"syndicated-attribution\"><!-- \r\n<div style=\"min-height: 30px;\">\r\n[social4i size=\"small\" align=\"align-left\"]\r\n</div>\r\n-->\n<div style=\"border: 1px solid; background: none repeat scroll 0 0 #EDEDED; margin: 1px; font-size: 12px;\">\r\n[This article was first published on  <strong><a href=\"http://www.johnmyleswhite.com/notebook/2009/12/09/abstract-data-type-operations-in-r/\"> John Myles White: Die Sudelbücher » Statistics</a></strong>, and kindly contributed to <a href=\"https://www.r-bloggers.com/\" rel=\"nofollow\">R-bloggers</a>].  (You can report issue about the content on this page <a href=\"https://www.r-bloggers.com/contact-us/\">here</a>)\r\n<hr/>Want to share your content on R-bloggers?<a href=\"https://www.r-bloggers.com/add-your-blog/\" rel=\"nofollow\"> click here</a> if you have a blog, or <a href=\"http://r-posts.com/\" rel=\"nofollow\"> here</a> if you don't.\r\n</div></p>\n\n<!-- Share buttons by mashshare.net - Version: 3.8.0--><p>This morning, I got a chance to read enough of the <a href=\"http://cran.r-project.org/doc/manuals/R-lang.pdf\" rel=\"nofollow\" target=\"_blank\">R Language Definition</a> to finish my implementations of <code>push</code> and <code>pop</code>. While I was at it, I also wrote implementations of <code>unshift</code>, <code>shift</code>, <code>queue</code> and <code>dequeue</code>. Here they are:</p>\n<div class=\"wp_codebox\"><table><tr id=\"p3649143\"><td class=\"line_numbers\"><pre>1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n43\n44\n45\n46\n47\n48\n49\n50\n51\n52\n53\n54\n55\n56\n57\n58\n59\n60\n61\n62\n63\n64\n65\n66\n67\n68\n69\n70\n71\n72\n73\n74\n75\n76\n77\n78\n</pre></td><td class=\"code\" id=\"p3649code143\"><pre>push &lt;- function(vector, item)\n{\n  vector.lvalue.symbol &lt;- substitute(vector)\n  new.expression &lt;- paste(vector.lvalue.symbol,\n                          ' &lt;- c(', vector.lvalue.symbol, ', ', item, ')',\n                          sep = '')\n  eval(parse(text = new.expression),\n       sys.frame(sys.parent()))\n}\n \npop &lt;- function(vector)\n{\n  vector.lvalue.symbol &lt;- substitute(vector)\n  temp.env &lt;- new.env()\n  last.element &lt;- eval(parse(text = paste(vector.lvalue.symbol,\n                                          '[length(', vector.lvalue.symbol, ')]',\n                                          sep = '')),\n                       sys.frame(sys.parent()))\n  assign('tmp', last.element, envir = temp.env)\n  eval(parse(text = paste(vector.lvalue.symbol,\n                          ' &lt;- ', vector.lvalue.symbol,\n                          '[-length(', vector.lvalue.symbol, ')]',\n                          sep = '')),\n       sys.frame(sys.parent()))\n  return(get('tmp', envir = temp.env))\n}\n \nunshift &lt;- function(vector, item)\n{\n  vector.lvalue.symbol &lt;- substitute(vector)\n  new.expression &lt;- paste(vector.lvalue.symbol,\n                          ' &lt;- c(', item, ', ', vector.lvalue.symbol, ')',\n                          sep = '')\n  eval(parse(text = new.expression), sys.frame(sys.parent()))\n}\n \nshift &lt;- function(vector)\n{\n  vector.lvalue.symbol &lt;- substitute(vector)\n  temp.env &lt;- new.env()\n  last.element &lt;- eval(parse(text = paste(vector.lvalue.symbol,\n                                          '[1]',\n                                          sep = '')),\n                       sys.frame(sys.parent()))\n  assign('tmp', last.element, envir = temp.env)\n  eval(parse(text = paste(vector.lvalue.symbol,\n                          ' &lt;- ', vector.lvalue.symbol,\n                          '[-1]',\n                          sep = '')),\n       sys.frame(sys.parent()))\n  return(get('tmp', envir = temp.env))\n}\n \nqueue &lt;- function(vector, item)\n{\n  vector.lvalue.symbol &lt;- substitute(vector)\n  new.expression &lt;- paste(vector.lvalue.symbol,\n                          ' &lt;- c(', vector.lvalue.symbol, ', ', item, ')',\n                          sep = '')\n  eval(parse(text = new.expression), sys.frame(sys.parent()))\n}\n \ndequeue &lt;- function(vector)\n{\n  vector.lvalue.symbol &lt;- substitute(vector)\n  temp.env &lt;- new.env()\n  last.element &lt;- eval(parse(text = paste(vector.lvalue.symbol,\n                                          '[1]',\n                                          sep = '')),\n                       sys.frame(sys.parent()))\n  assign('tmp', last.element, envir = temp.env)\n  eval(parse(text = paste(vector.lvalue.symbol,\n                          ' &lt;- ', vector.lvalue.symbol,\n                          '[-1]',\n                          sep = '')),\n       sys.frame(sys.parent()))\n  return(get('tmp', envir = temp.env))\n}</pre></td></tr></table></div>\n<p>In general, the secret to writing these pseudo-macros is to use <code>substitute</code>. For the three functions that need to return a value as well as edit the passed parameter, you also need to use <code>new.env</code>, <code>assign</code> and <code>get</code> to edit the relevant symbol tables during function execution.</p>\n<p>To check that these functions work, try the following examples after defining the functions above:</p>\n<div class=\"wp_codebox\"><table><tr id=\"p3649144\"><td class=\"line_numbers\"><pre>1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n</pre></td><td class=\"code\" id=\"p3649code144\"><pre>v &lt;- c(1)\npush(v, 2)\nv\npop(v) == 2\nv\nunshift(v, 0)\nv\nshift(v) == 0\nv\nqueue(v, 2)\nv\ndequeue(v) == 1\nv</pre></td></tr></table></div>\n\n<div class=\"jp-relatedposts\" id=\"jp-relatedposts\">\n<h3 class=\"jp-relatedposts-headline\"><em>Related</em></h3>\n</div>\n<!-- Share buttons by mashshare.net - Version: 3.8.0-->\n<p class=\"syndicated-attribution\"><div style=\"border: 1px solid; background: none repeat scroll 0 0 #EDEDED; margin: 1px; font-size: 13px;\">\n<div style=\"text-align: center;\">To <strong>leave a comment</strong> for the author, please follow the link and comment on their blog: <strong><a href=\"http://www.johnmyleswhite.com/notebook/2009/12/09/abstract-data-type-operations-in-r/\"> John Myles White: Die Sudelbücher » Statistics</a></strong>.</div>\n<hr>\n<a href=\"https://www.r-bloggers.com/\" rel=\"nofollow\">R-bloggers.com</a> offers <strong><a href=\"https://feedburner.google.com/fb/a/mailverify?uri=RBloggers\" rel=\"nofollow\">daily e-mail updates</a></strong> about <a href=\"https://www.r-project.org/\" rel=\"nofollow\" title=\"The R Project for Statistical Computing\">R</a> news and tutorials about <a href=\"https://www.r-bloggers.com/how-to-learn-r-2/\" rel=\"nofollow\" title=\"R tutorials\">learning R</a> and many other topics. <a href=\"https://www.r-users.com/\" rel=\"nofollow\" title=\"Data science jobs\">Click here if you're looking to post or find an R/data-science job</a>.\r\n\r\n<hr/>Want to share your content on R-bloggers?<a href=\"https://www.r-bloggers.com/add-your-blog/\" rel=\"nofollow\"> click here</a> if you have a blog, or <a href=\"http://r-posts.com/\" rel=\"nofollow\"> here</a> if you don't.\r\n</hr></div></p> </div>\n<div class=\"post-tags clearfix\"><ul><li class=\"round-corners\"><a href=\"https://www.r-bloggers.com/tag/statistics/\" rel=\"tag\">statistics</a></li></ul></div></article>",
      "main_text": "Abstract Data Type Operations in R\nPosted on\nDecember 9, 2009\nby\nJohn Myles White\nin\nR bloggers\n| 0 Comments\n[This article was first published on\nJohn Myles White: Die Sudelbücher » Statistics\n, and kindly contributed to\nR-bloggers\n].  (You can report issue about the content on this page\nhere\n)\nWant to share your content on R-bloggers?\nclick here\nif you have a blog, or\nhere\nif you don't.\nThis morning, I got a chance to read enough of the\nR Language Definition\nto finish my implementations of\npush\nand\npop\n. While I was at it, I also wrote implementations of\nunshift\n,\nshift\n,\nqueue\nand\ndequeue\n. Here they are:\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n43\n44\n45\n46\n47\n48\n49\n50\n51\n52\n53\n54\n55\n56\n57\n58\n59\n60\n61\n62\n63\n64\n65\n66\n67\n68\n69\n70\n71\n72\n73\n74\n75\n76\n77\n78\npush <- function(vector, item)\n{\n  vector.lvalue.symbol <- substitute(vector)\n  new.expression <- paste(vector.lvalue.symbol,\n                          ' <- c(', vector.lvalue.symbol, ', ', item, ')',\n                          sep = '')\n  eval(parse(text = new.expression),\n       sys.frame(sys.parent()))\n}\n \npop <- function(vector)\n{\n  vector.lvalue.symbol <- substitute(vector)\n  temp.env <- new.env()\n  last.element <- eval(parse(text = paste(vector.lvalue.symbol,\n                                          '[length(', vector.lvalue.symbol, ')]',\n                                          sep = '')),\n                       sys.frame(sys.parent()))\n  assign('tmp', last.element, envir = temp.env)\n  eval(parse(text = paste(vector.lvalue.symbol,\n                          ' <- ', vector.lvalue.symbol,\n                          '[-length(', vector.lvalue.symbol, ')]',\n                          sep = '')),\n       sys.frame(sys.parent()))\n  return(get('tmp', envir = temp.env))\n}\n \nunshift <- function(vector, item)\n{\n  vector.lvalue.symbol <- substitute(vector)\n  new.expression <- paste(vector.lvalue.symbol,\n                          ' <- c(', item, ', ', vector.lvalue.symbol, ')',\n                          sep = '')\n  eval(parse(text = new.expression), sys.frame(sys.parent()))\n}\n \nshift <- function(vector)\n{\n  vector.lvalue.symbol <- substitute(vector)\n  temp.env <- new.env()\n  last.element <- eval(parse(text = paste(vector.lvalue.symbol,\n                                          '[1]',\n                                          sep = '')),\n                       sys.frame(sys.parent()))\n  assign('tmp', last.element, envir = temp.env)\n  eval(parse(text = paste(vector.lvalue.symbol,\n                          ' <- ', vector.lvalue.symbol,\n                          '[-1]',\n                          sep = '')),\n       sys.frame(sys.parent()))\n  return(get('tmp', envir = temp.env))\n}\n \nqueue <- function(vector, item)\n{\n  vector.lvalue.symbol <- substitute(vector)\n  new.expression <- paste(vector.lvalue.symbol,\n                          ' <- c(', vector.lvalue.symbol, ', ', item, ')',\n                          sep = '')\n  eval(parse(text = new.expression), sys.frame(sys.parent()))\n}\n \ndequeue <- function(vector)\n{\n  vector.lvalue.symbol <- substitute(vector)\n  temp.env <- new.env()\n  last.element <- eval(parse(text = paste(vector.lvalue.symbol,\n                                          '[1]',\n                                          sep = '')),\n                       sys.frame(sys.parent()))\n  assign('tmp', last.element, envir = temp.env)\n  eval(parse(text = paste(vector.lvalue.symbol,\n                          ' <- ', vector.lvalue.symbol,\n                          '[-1]',\n                          sep = '')),\n       sys.frame(sys.parent()))\n  return(get('tmp', envir = temp.env))\n}\nIn general, the secret to writing these pseudo-macros is to use\nsubstitute\n. For the three functions that need to return a value as well as edit the passed parameter, you also need to use\nnew.env\n,\nassign\nand\nget\nto edit the relevant symbol tables during function execution.\nTo check that these functions work, try the following examples after defining the functions above:\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\nv <- c(1)\npush(v, 2)\nv\npop(v) == 2\nv\nunshift(v, 0)\nv\nshift(v) == 0\nv\nqueue(v, 2)\nv\ndequeue(v) == 1\nv\nRelated\nTo\nleave a comment\nfor the author, please follow the link and comment on their blog:\nJohn Myles White: Die Sudelbücher » Statistics\n.\nR-bloggers.com\noffers\ndaily e-mail updates\nabout\nR\nnews and tutorials about\nlearning R\nand many other topics.\nClick here if you're looking to post or find an R/data-science job\n.\nWant to share your content on R-bloggers?\nclick here\nif you have a blog, or\nhere\nif you don't.\nstatistics",
      "meta_description": "This morning, I got a chance to read enough of the R Language Definition to finish my implementations of push and pop. While I was at it, I also wrote implementations of unshift, shift, queue and dequeue. Here they are: 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 76 77 78 push",
      "meta_keywords": "statistics",
      "og_description": "This morning, I got a chance to read enough of the R Language Definition to finish my implementations of push and pop. While I was at it, I also wrote implementations of unshift, shift, queue and dequeue. Here they are: 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 76 77 78 push",
      "og_image": "https://www.r-bloggers.com/wp-content/uploads/2016/04/R_02_2016-05-01.png",
      "og_title": "Abstract Data Type Operations in R | R-bloggers",
      "raw_jsonld_article": null,
      "reading_time_min": 3.2,
      "sitemap_lastmod": "2009-12-09T17:24:16+00:00",
      "twitter_description": "This morning, I got a chance to read enough of the R Language Definition to finish my implementations of push and pop. While I was at it, I also wrote implementations of unshift, shift, queue and dequeue. Here they are: 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 76 77 78 push",
      "twitter_title": "Abstract Data Type Operations in R | R-bloggers",
      "url": "https://www.r-bloggers.com/2009/12/abstract-data-type-operations-in-r/",
      "word_count": 636
    }
  }
}