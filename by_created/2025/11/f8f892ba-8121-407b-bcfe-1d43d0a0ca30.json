{
  "uuid": "f8f892ba-8121-407b-bcfe-1d43d0a0ca30",
  "created_at": "2025-11-22 19:59:10",
  "raw_json": {
    "article_author": null,
    "article_headline": null,
    "article_modified": null,
    "article_published": null,
    "article_section": null,
    "article_tags": null,
    "canonical_url": "https://www.r-bloggers.com/2025/02/working-with-clinical-trial-data-theres-a-pharmaverse-package-for-that/",
    "crawled_at": "2025-11-22T10:53:13.935822",
    "external_links": [
      {
        "href": "https://pharmaverse.github.io/blog/posts/2025-02-28_theres_a_pharmaverse_package_for_that/managing-clinical-trial-data.html",
        "text": "pharmaverse blog"
      },
      {
        "href": "http://r-posts.com/",
        "text": "here"
      },
      {
        "href": "https://pharmaverse.org/",
        "text": "pharmaverse"
      },
      {
        "href": "https://www.tidyverse.org/",
        "text": "Tidyverse"
      },
      {
        "href": "https://pharmaverse.org/e2eclinical/tlg/",
        "text": "TLGs page"
      },
      {
        "href": "https://www.tidyverse.org/",
        "text": "Tidyverse"
      },
      {
        "href": "https://pharmaverse.org/",
        "text": "Pharmaverse website"
      },
      {
        "href": "https://cran.r-project.org/web/packages/admiral/vignettes/adsl.html",
        "text": "ADSL template"
      },
      {
        "href": "https://cran.r-project.org/web/packages/admiral/vignettes/adsl.html",
        "text": "ADSL Implementation Guide"
      },
      {
        "href": "https://phuse.global/",
        "text": "PHUSE"
      },
      {
        "href": "https://www.tidyverse.org/",
        "text": "Tidyverse"
      },
      {
        "href": "https://pharmaverse.github.io/examples/",
        "text": "start with Pharmaverse Examples"
      },
      {
        "href": "https://phuse.global/Events_Calendar",
        "text": "PHUSE events and webinars"
      },
      {
        "href": "https://rinpharma.com/",
        "text": "R/Pharma conferences and events"
      },
      {
        "href": "https://www.cdisc.org/events",
        "text": "CDISC events"
      },
      {
        "href": "https://www.youtube.com/playlist?list=PLexAKolMzPcpzPAXNU6KlQ_UpIFsuEPCx",
        "text": "Shiny Gatherings x Pharmaverse webinars"
      },
      {
        "href": "https://pharmaverse.github.io/blog/posts/2025-02-28_theres_a_pharmaverse_package_for_that/managing-clinical-trial-data.html",
        "text": "You can join the pharmaverse community to get started."
      },
      {
        "href": "https://pharmaverse.org/",
        "text": "pharmaverse website"
      },
      {
        "href": "https://cran.r-project.org/web/packages/admiral/vignettes/adsl.html",
        "text": "ADSL Implementation Guide"
      },
      {
        "href": "https://r-guru.com/pharma",
        "text": "this grid for guidance on using Tidyverse or pharmaverse"
      },
      {
        "href": "https://phuse.s3.eu-central-1.amazonaws.com/Archive/2024/SDE/US/Mississauga/PRE_Mississauga05.pdf",
        "text": "R and pharmaverse: The New Frontier for Today’s Statistical Programmers"
      },
      {
        "href": "https://www.lexjansen.com/phuse-us/2024/pd/PAP_PD05.pdf",
        "text": "R-Guru Resource Hub for Rapid R Learning"
      },
      {
        "href": "https://pharmaverse.github.io/blog/",
        "text": "Explore more posts in the pharmaverse blog"
      },
      {
        "href": "https://forms.office.com/pages/responsepage.aspx?id=xeEJLj1cykuXxFc6VpX1UAPF0grflaRJu8z6VC7-hy5UMTE0M0lXR1JON1Q0MkRIRlA1TlZSNDhUSC4u&route=shorturl",
        "text": "Subscribe to the pharmaverse newsletter"
      },
      {
        "href": "https://creativecommons.org/licenses/by/4.0/",
        "text": "CC BY 4.0"
      },
      {
        "href": "https://pharmaverse.github.io/blog/posts/2025-02-28_theres_a_pharmaverse_package_for_that/managing-clinical-trial-data.html",
        "text": "https://pharmaverse.github.io/blog/posts/2025-02-28_theres_a_pharmaverse_package_for_that/managing-clinical-trial-data.html"
      },
      {
        "href": "https://pharmaverse.github.io/blog/posts/2025-02-28_theres_a_pharmaverse_package_for_that/managing-clinical-trial-data.html",
        "text": "pharmaverse blog"
      },
      {
        "href": "https://feedburner.google.com/fb/a/mailverify?uri=RBloggers",
        "text": "daily e-mail updates"
      },
      {
        "href": "https://www.r-project.org/",
        "text": "R"
      },
      {
        "href": "https://www.r-users.com/",
        "text": "Click here if you're looking to post or find an R/data-science job"
      },
      {
        "href": "http://r-posts.com/",
        "text": "here"
      }
    ],
    "h1_title": "R-bloggers",
    "html_title": "Working with Clinical Trial Data? There’s a Pharmaverse Package for That | R-bloggers",
    "images": [],
    "internal_links": [
      {
        "href": "https://www.r-bloggers.com/author/gift-kenneth/",
        "text": "Gift Kenneth"
      },
      {
        "href": "https://www.r-bloggers.com/category/r-bloggers/",
        "text": "R bloggers"
      },
      {
        "href": "https://www.r-bloggers.com/",
        "text": "R-bloggers"
      },
      {
        "href": "https://www.r-bloggers.com/contact-us/",
        "text": "here"
      },
      {
        "href": "https://www.r-bloggers.com/add-your-blog/",
        "text": "click here"
      },
      {
        "href": "https://www.r-bloggers.com/",
        "text": "R-bloggers.com"
      },
      {
        "href": "https://www.r-bloggers.com/how-to-learn-r-2/",
        "text": "learning R"
      },
      {
        "href": "https://www.r-bloggers.com/add-your-blog/",
        "text": "click here"
      }
    ],
    "lang": "en-US",
    "main_html": "<article class=\"post-390886 post type-post status-publish format-standard hentry category-r-bloggers\">\n<header class=\"post-header\">\n<h1 class=\"entry-title\">Working with Clinical Trial Data? There’s a Pharmaverse Package for That</h1>\n<p class=\"meta post-meta\">Posted on <span class=\"updated\">February 27, 2025</span>  by <span class=\"vcard author\"><a class=\"fn\" href=\"https://www.r-bloggers.com/author/gift-kenneth/\">Gift Kenneth</a></span>  in <a href=\"https://www.r-bloggers.com/category/r-bloggers/\" rel=\"category tag\">R bloggers</a> | 0 Comments</p>\n</header>\n<div class=\"entry clearfix\">\n<!-- \n<div style=\"min-height: 30px;\">\n[social4i size=\"small\" align=\"align-left\"]\n</div>\n-->\n<div style=\"border: 1px solid; background: none repeat scroll 0 0 #EDEDED; margin: 1px; font-size: 12px;\">\n[This article was first published on  <strong><a href=\"https://pharmaverse.github.io/blog/posts/2025-02-28_theres_a_pharmaverse_package_for_that/managing-clinical-trial-data.html\"> pharmaverse blog</a></strong>, and kindly contributed to <a href=\"https://www.r-bloggers.com/\" rel=\"nofollow\">R-bloggers</a>].  (You can report issue about the content on this page <a href=\"https://www.r-bloggers.com/contact-us/\">here</a>)\n<hr/>Want to share your content on R-bloggers?<a href=\"https://www.r-bloggers.com/add-your-blog/\" rel=\"nofollow\"> click here</a> if you have a blog, or <a href=\"http://r-posts.com/\" rel=\"nofollow\"> here</a> if you don't.\n</div>\n\n<!-- Share buttons by mashshare.net - Version: 4.0.47-->\n<!--------------- typical setup ----------------->\n<!--------------- post begins here ----------------->\n<p>Working with clinical trial data is no small task. It needs to be precise, compliant, and efficient. Traditionally, this meant using proprietary tools and working within siloed systems, which often made the process more complicated and expensive than necessary. But we think there’s a better way.</p>\n<p>The <a href=\"https://pharmaverse.org/\" rel=\"nofollow\" target=\"_blank\"><strong>pharmaverse</strong></a> is an open-source ecosystem of R packages built specifically for clinical trials. These tools integrate seamlessly with the <a href=\"https://www.tidyverse.org/\" rel=\"nofollow\" target=\"_blank\">Tidyverse</a>, making data management more flexible, efficient, and transparent.</p>\n<p>Whether you’re collecting, validating, analyzing, or preparing data for regulatory submission, there’s a pharmaverse package designed to support your workflow and help you work smarter.</p>\n<p>This post covers:</p>\n<ul>\n<li><p>Key stages of clinical trials and the R packages that support them</p></li>\n<li><p>Creating ADSL datasets and essential programming steps</p></li>\n<li><p>Key players in pharmaverse and whether you need all packages</p></li>\n<li><p>How pharmaverse compares to Tidyverse and how to learn it</p></li>\n</ul>\n<p>By the end, you’ll have a clear understanding of how pharmaverse supports clinical trial operations and how to apply these tools in your work.</p>\n<section class=\"level2\" id=\"key-stages-of-clinical-reporting\">\n<h2 class=\"anchored\" data-anchor-id=\"key-stages-of-clinical-reporting\">Key Stages of Clinical Reporting</h2>\n<p>Managing clinical trial data involves multiple stages, each with its own challenges. <strong>Pharmaverse</strong> provides a range of R packages that support different parts of the process, sometimes even offering multiple options for the same task. This flexibility allows organizations to choose the best tools for their specific needs rather than sticking to a one-size-fits-all approach.</p>\n<p>A <strong>metadata-driven approach</strong> helps ensure that clinical trial data is consistently structured and aligned with regulatory standards. The typical process follows this sequence:</p>\n<p><strong>Metadata</strong> ➝ <strong>OAK</strong> ➝ <strong>Admiral</strong> ➝ <strong>Define.xml</strong> ➝ <strong>TLGs</strong> ➝ <strong>Submissions</strong></p>\n<p>Some examples of <strong>pharmaverse</strong> packages that support clinical reporting include:</p>\n<ul>\n<li>{diffdf} – Tracking differences in datasets.</li>\n<li>{metatools} – Metadata management and transformation.</li>\n<li>{sdtm.oak} – The primary <strong>pharmaverse</strong> package for SDTM dataset creation.</li>\n<li>{datacutr} – Performing data cuts.</li>\n<li>{admiral} – Standardized data derivations.</li>\n<li>{metacore} – Metadata-driven structures.</li>\n<li>The <strong>pharmaverse</strong> provides multiple table-making packages, such as {chevron} (which builds on {rtables}), {Tplyr}, {pharmaRTF}, {gtsummary}, {cards}, {tfrmt}, and {tidytlg}. More tools are listed on the <a href=\"https://pharmaverse.org/e2eclinical/tlg/\" rel=\"nofollow\" target=\"_blank\">TLGs page</a>.</li>\n<li>{xportr} – CDISC-compliant dataset export.</li>\n<li>{pkglite} – Package management and tracking.</li>\n<li>{metacore} and {metatools} – For standardized metadata structures and validation.</li>\n<li>{logrx} – For logging R scripts.</li>\n</ul>\n<p>Pharmaverse packages are built on top of <strong><a href=\"https://www.tidyverse.org/\" rel=\"nofollow\" target=\"_blank\">Tidyverse</a></strong> tools and integrate seamlessly with packages like {dplyr} for data manipulation and {ggplot2} for visualization.</p>\n<blockquote class=\"blockquote\">\n<p><strong>Note:</strong> This post highlights some key <strong>pharmaverse</strong> packages relevant to clinical reporting. For a full and up-to-date list, visit the <a href=\"https://pharmaverse.org/\" rel=\"nofollow\" target=\"_blank\">Pharmaverse website</a>. If there’s a package we missed that should be included, let us know, and we’d be happy to update this post.</p>\n</blockquote>\n<p>By using these tools, organizations can optimize their data pipeline, ensuring clinical data is well-structured and ready for regulatory submission with ease.</p>\n</section>\n<section class=\"level2\" id=\"example-creating-adsl\">\n<h2 class=\"anchored\" data-anchor-id=\"example-creating-adsl\"><strong>Example: Creating ADSL</strong></h2>\n<p>Building an ADSL dataset involves several key steps, from reading in data to deriving treatment variables and population flags. While these steps apply regardless of the tools used, <strong>pharmaverse packages like {admiral} simplify the process</strong> with functions designed for CDISC-compliant datasets.</p>\n<p>This example is based on the <a href=\"https://cran.r-project.org/web/packages/admiral/vignettes/adsl.html\" rel=\"nofollow\" target=\"_blank\">ADSL template</a>, which provides a structured approach to creating an ADSL dataset.</p>\n<section class=\"level4\" id=\"step-1-read-in-data\">\n<h4 class=\"anchored\" data-anchor-id=\"step-1-read-in-data\"><strong>Step 1: Read in Data</strong></h4>\n<p>To begin, clinical trial datasets such as <strong>DM, EX, DS, AE, and LB</strong> are loaded. The {pharmaversesdtm} package provides sample CDISC SDTM datasets:</p>\n<div class=\"cell\">\n<pre>library(admiral)\nlibrary(dplyr, warn.conflicts = FALSE)\nlibrary(pharmaversesdtm)\nlibrary(stringr)\n\n# Load sample data\ndata(\"dm\", package = \"pharmaversesdtm\")\ndata(\"ex\", package = \"pharmaversesdtm\")\ndata(\"ds\", package = \"pharmaversesdtm\")</pre>\n</div>\n<p>ADSL is typically <strong>built from the DM dataset</strong>, removing unnecessary columns and adding treatment variables in one step:</p>\n<div class=\"cell\">\n<pre>adsl &lt;- dm %&gt;%\n  select(-DOMAIN) %&gt;%\n  mutate(\n    TRT01P = ARM,\n    TRT01A = ACTARM\n  )</pre>\n</div>\n</section>\n<section class=\"level4\" id=\"step-2-derive-treatment-variables\">\n<h4 class=\"anchored\" data-anchor-id=\"step-2-derive-treatment-variables\"><strong>Step 2: Derive Treatment Variables</strong></h4>\n<p>Using {admiral}, we extract and standardize treatment dates from the EX dataset:</p>\n<div class=\"cell\">\n<pre>ex_ext &lt;- ex %&gt;%\n  filter(!is.na(USUBJID)) %&gt;%\n  derive_vars_dt(\n    dtc = EXSTDTC,\n    new_vars_prefix = \"EXST\"\n  ) %&gt;%\n  derive_vars_dt(\n    dtc = EXENDTC,\n    new_vars_prefix = \"EXEN\"\n  )</pre>\n</div>\n<p>Then merge these dates into ADSL:</p>\n<div class=\"cell\">\n<pre>adsl &lt;- adsl %&gt;%\n  derive_vars_merged(\n    dataset_add = ex_ext,\n    filter_add = (EXDOSE &gt; 0 |\n      (EXDOSE == 0 &amp;\n        str_detect(EXTRT, \"PLACEBO\"))) &amp; !is.na(EXSTDT),\n    new_vars = exprs(TRTSDT = EXSTDT),\n    order = exprs(EXSTDT, EXSEQ),\n    mode = \"first\",\n    by_vars = exprs(STUDYID, USUBJID)\n  ) %&gt;%\n  derive_vars_merged(\n    dataset_add = ex_ext,\n    filter_add = (EXDOSE &gt; 0 |\n      (EXDOSE == 0 &amp;\n        str_detect(EXTRT, \"PLACEBO\"))) &amp; !is.na(EXENDT),\n    new_vars = exprs(TRTEDT = EXENDT),\n    order = exprs(EXENDT, EXSEQ),\n    mode = \"last\",\n    by_vars = exprs(STUDYID, USUBJID)\n  )</pre>\n</div>\n</section>\n<section class=\"level4\" id=\"step-3-derive-end-of-study-eos-status\">\n<h4 class=\"anchored\" data-anchor-id=\"step-3-derive-end-of-study-eos-status\"><strong>Step 3: Derive End of Study (EOS) Status</strong></h4>\n<p>The disposition dataset (DS) is used to determine when a patient exited the study:</p>\n<div class=\"cell\">\n<pre>ds_ext &lt;- ds %&gt;%\n  filter(!is.na(DSSTDTC)) %&gt;%\n  derive_vars_dt(\n    dtc = DSSTDTC,\n    new_vars_prefix = \"DSST\"\n  )\n\nadsl &lt;- adsl %&gt;%\n  derive_vars_merged(\n    dataset_add = ds_ext,\n    by_vars = exprs(STUDYID, USUBJID),\n    new_vars = exprs(EOSDT = DSSTDT),\n    filter_add = DSCAT == \"DISPOSITION EVENT\" &amp; DSDECOD != \"SCREEN FAILURE\"\n  )</pre>\n</div>\n</section>\n<section class=\"level4\" id=\"step-4-assign-population-flags\">\n<h4 class=\"anchored\" data-anchor-id=\"step-4-assign-population-flags\"><strong>Step 4: Assign Population Flags</strong></h4>\n<p>For safety population (<code>SAFFL</code>), we check if the patient received a treatment dose:</p>\n<div class=\"cell\">\n<pre>adsl &lt;- adsl %&gt;%\n  derive_var_merged_exist_flag(\n    dataset_add = ex,\n    by_vars = exprs(STUDYID, USUBJID),\n    new_var = SAFFL,\n    condition = EXDOSE &gt; 0 | str_detect(EXTRT, \"PLACEBO\")\n  )</pre>\n</div>\n</section>\n<section class=\"level4\" id=\"step-5-generate-and-save-results\">\n<h4 class=\"anchored\" data-anchor-id=\"step-5-generate-and-save-results\"><strong>Step 5: Generate and Save Results</strong></h4>\n<p>Finally, we save the dataset CSV and can view some of its columns:</p>\n<div class=\"cell\">\n<pre># Save to a CSV file\nwrite.csv(adsl, \"adsl_output.csv\", row.names = FALSE)\n\nadsl</pre>\n</div>\n<div class=\"cell\">\n<div class=\"cell-output-display\">\n<table class=\"caption-top table table-sm table-striped small\">\n<colgroup>\n<col style=\"width: 14%\"/>\n<col style=\"width: 25%\"/>\n<col style=\"width: 25%\"/>\n<col style=\"width: 13%\"/>\n<col style=\"width: 13%\"/>\n<col style=\"width: 7%\"/>\n</colgroup>\n<thead>\n<tr class=\"header\">\n<th style=\"text-align: left;\">USUBJID</th>\n<th style=\"text-align: left;\">TRT01P</th>\n<th style=\"text-align: left;\">TRT01A</th>\n<th style=\"text-align: left;\">TRTSDT</th>\n<th style=\"text-align: left;\">TRTEDT</th>\n<th style=\"text-align: left;\">SAFFL</th>\n</tr>\n</thead>\n<tbody>\n<tr class=\"odd\">\n<td style=\"text-align: left;\">01-701-1015</td>\n<td style=\"text-align: left;\">Placebo</td>\n<td style=\"text-align: left;\">Placebo</td>\n<td style=\"text-align: left;\">2014-01-02</td>\n<td style=\"text-align: left;\">2014-07-02</td>\n<td style=\"text-align: left;\">Y</td>\n</tr>\n<tr class=\"even\">\n<td style=\"text-align: left;\">01-701-1023</td>\n<td style=\"text-align: left;\">Placebo</td>\n<td style=\"text-align: left;\">Placebo</td>\n<td style=\"text-align: left;\">2012-08-05</td>\n<td style=\"text-align: left;\">2012-09-01</td>\n<td style=\"text-align: left;\">Y</td>\n</tr>\n<tr class=\"odd\">\n<td style=\"text-align: left;\">01-701-1028</td>\n<td style=\"text-align: left;\">Xanomeline High Dose</td>\n<td style=\"text-align: left;\">Xanomeline High Dose</td>\n<td style=\"text-align: left;\">2013-07-19</td>\n<td style=\"text-align: left;\">2014-01-14</td>\n<td style=\"text-align: left;\">Y</td>\n</tr>\n<tr class=\"even\">\n<td style=\"text-align: left;\">01-701-1033</td>\n<td style=\"text-align: left;\">Xanomeline Low Dose</td>\n<td style=\"text-align: left;\">Xanomeline Low Dose</td>\n<td style=\"text-align: left;\">2014-03-18</td>\n<td style=\"text-align: left;\">2014-03-31</td>\n<td style=\"text-align: left;\">Y</td>\n</tr>\n<tr class=\"odd\">\n<td style=\"text-align: left;\">01-701-1034</td>\n<td style=\"text-align: left;\">Xanomeline High Dose</td>\n<td style=\"text-align: left;\">Xanomeline High Dose</td>\n<td style=\"text-align: left;\">2014-07-01</td>\n<td style=\"text-align: left;\">2014-12-30</td>\n<td style=\"text-align: left;\">Y</td>\n</tr>\n<tr class=\"even\">\n<td style=\"text-align: left;\">01-701-1047</td>\n<td style=\"text-align: left;\">Placebo</td>\n<td style=\"text-align: left;\">Placebo</td>\n<td style=\"text-align: left;\">2013-02-12</td>\n<td style=\"text-align: left;\">2013-03-09</td>\n<td style=\"text-align: left;\">Y</td>\n</tr>\n<tr class=\"odd\">\n<td style=\"text-align: left;\">01-701-1057</td>\n<td style=\"text-align: left;\">Screen Failure</td>\n<td style=\"text-align: left;\">Screen Failure</td>\n<td style=\"text-align: left;\">NA</td>\n<td style=\"text-align: left;\">NA</td>\n<td style=\"text-align: left;\">NA</td>\n</tr>\n<tr class=\"even\">\n<td style=\"text-align: left;\">01-701-1097</td>\n<td style=\"text-align: left;\">Xanomeline Low Dose</td>\n<td style=\"text-align: left;\">Xanomeline Low Dose</td>\n<td style=\"text-align: left;\">2014-01-01</td>\n<td style=\"text-align: left;\">2014-07-09</td>\n<td style=\"text-align: left;\">Y</td>\n</tr>\n<tr class=\"odd\">\n<td style=\"text-align: left;\">01-701-1111</td>\n<td style=\"text-align: left;\">Xanomeline Low Dose</td>\n<td style=\"text-align: left;\">Xanomeline Low Dose</td>\n<td style=\"text-align: left;\">2012-09-07</td>\n<td style=\"text-align: left;\">2012-09-16</td>\n<td style=\"text-align: left;\">Y</td>\n</tr>\n<tr class=\"even\">\n<td style=\"text-align: left;\">01-701-1115</td>\n<td style=\"text-align: left;\">Xanomeline Low Dose</td>\n<td style=\"text-align: left;\">Xanomeline Low Dose</td>\n<td style=\"text-align: left;\">2012-11-30</td>\n<td style=\"text-align: left;\">2013-01-23</td>\n<td style=\"text-align: left;\">Y</td>\n</tr>\n</tbody>\n</table>\n</div>\n</div>\n</section>\n<section class=\"level4\" id=\"more-details-on-adsl-creation\">\n<h4 class=\"anchored\" data-anchor-id=\"more-details-on-adsl-creation\"><strong>More Details on ADSL Creation</strong></h4>\n<p>This is just a <strong>high-level example</strong>; the full process includes deriving death variables, grouping populations, and applying labels. For a deeper dive, check out the <a href=\"https://cran.r-project.org/web/packages/admiral/vignettes/adsl.html\" rel=\"nofollow\" target=\"_blank\">ADSL Implementation Guide</a>.</p>\n</section>\n</section>\n<section class=\"level2\" id=\"who-are-the-key-players-in-pharmaverse-and-do-you-need-to-use-all-packages\">\n<h2 class=\"anchored\" data-anchor-id=\"who-are-the-key-players-in-pharmaverse-and-do-you-need-to-use-all-packages\"><strong>Who Are the Key Players in Pharmaverse, and Do You Need to Use All Packages?</strong></h2>\n<section class=\"level3\" id=\"key-players-in-pharmaverse\">\n<h3 class=\"anchored\" data-anchor-id=\"key-players-in-pharmaverse\"><strong>Key Players in pharmaverse</strong></h3>\n<ul>\n<li><strong>Pharmaverse Council and Community</strong> – A collaborative group of developers, industry experts, and contributors maintaining and expanding the ecosystem.</li>\n<li><strong>Open-Source Contributors</strong> – Individuals and organizations developing and refining <strong>pharmaverse</strong> packages.</li>\n<li><strong>Pharmaverse is part of <a href=\"https://phuse.global/\" rel=\"nofollow\" target=\"_blank\">PHUSE</a></strong> – PHUSE plays an active role in supporting and advancing the <strong>pharmaverse</strong> initiative.</li>\n<li><strong>The pharmaverse community collaborates with organizations like the FDA, EMA, R Consortium, and CDISC</strong> to align with industry standards and best practices for clinical data reporting.</li>\n</ul>\n</section>\n<section class=\"level3\" id=\"do-you-need-to-use-all-pharmaverse-packages\">\n<h3 class=\"anchored\" data-anchor-id=\"do-you-need-to-use-all-pharmaverse-packages\"><strong>Do You Need to Use All Pharmaverse Packages?</strong></h3>\n<ul>\n<li><p>No, organizations can select only the packages that fit their needs.</p></li>\n<li><p>Many packages are modular and independent, allowing selective integration.</p></li>\n<li><p>Pharmaverse hosts multiple packages with similar aims, giving users the flexibility to choose what works best for them rather than prescribing a single approach.</p></li>\n<li><p>Pharmaverse complements <a href=\"https://www.tidyverse.org/\" rel=\"nofollow\" target=\"_blank\">Tidyverse</a>, allowing organizations to continue using familiar R workflows.</p></li>\n</ul>\n</section>\n</section>\n<section class=\"level2\" id=\"how-pharmaverse-differs-from-tidyverse-how-to-learn-it-effectively\">\n<h2 class=\"anchored\" data-anchor-id=\"how-pharmaverse-differs-from-tidyverse-how-to-learn-it-effectively\"><strong>How Pharmaverse Differs from Tidyverse &amp; How to Learn It Effectively</strong></h2>\n<section class=\"level4\" id=\"differences-between-pharmaverse-and-tidyverse\">\n<h4 class=\"anchored\" data-anchor-id=\"differences-between-pharmaverse-and-tidyverse\"><strong>Differences Between pharmaverse and Tidyverse</strong></h4>\n<ul>\n<li><p>Tidyverse provides general-purpose data science tools such as data wrangling and visualization…</p></li>\n<li><p>… Whereas pharmaverse integrates Tidyverse functions but adds compliance, validation, and reporting features for pharma-specific clinical data structuring, reporting and regulatory submissions.</p></li>\n</ul>\n</section>\n</section>\n<section class=\"level2\" id=\"getting-started-with-the-pharmaverse\">\n<h2 class=\"anchored\" data-anchor-id=\"getting-started-with-the-pharmaverse\"><strong>Getting Started with the Pharmaverse</strong></h2>\n<p>Pharmaverse provides an open-source ecosystem for clinical reporting, extending Tidyverse with validation, compliance, and regulatory submission capabilities. By following a structured approach from raw data to ADaMs, organizations can enhance efficiency while maintaining data integrity.</p>\n<ul>\n<li><p>You can <a href=\"https://pharmaverse.github.io/examples/\" rel=\"nofollow\" target=\"_blank\">start with Pharmaverse Examples</a> – A curated set of documentation and tutorials.</p></li>\n<li><p>Attend Pharma Industry Webinars and Conferences – Stay updated on new developments through events like <a href=\"https://phuse.global/Events_Calendar\" rel=\"nofollow\" target=\"_blank\">PHUSE events and webinars</a>, <a href=\"https://rinpharma.com/\" rel=\"nofollow\" target=\"_blank\">R/Pharma conferences and events</a>, <a href=\"https://www.cdisc.org/events\" rel=\"nofollow\" target=\"_blank\">CDISC events</a>, <a href=\"https://www.youtube.com/playlist?list=PLexAKolMzPcpzPAXNU6KlQ_UpIFsuEPCx\" rel=\"nofollow\" target=\"_blank\">Shiny Gatherings x Pharmaverse webinars</a>, etc.</p></li>\n<li><p>Engage with the Open-Source Community – Contribute to package improvements or discussions. <a href=\"https://pharmaverse.github.io/blog/posts/2025-02-28_theres_a_pharmaverse_package_for_that/managing-clinical-trial-data.html\" rel=\"nofollow\" target=\"_blank\">You can join the pharmaverse community to get started.</a>.</p></li>\n<li><p>Explore packages on the <a href=\"https://pharmaverse.org/\" rel=\"nofollow\" target=\"_blank\">pharmaverse website</a>.</p></li>\n<li><p>Try implementing an ADSL dataset using following the <a href=\"https://cran.r-project.org/web/packages/admiral/vignettes/adsl.html\" rel=\"nofollow\" target=\"_blank\">ADSL Implementation Guide</a>.</p></li>\n<li><p>Refer to <a href=\"https://r-guru.com/pharma\" rel=\"nofollow\" target=\"_blank\">this grid for guidance on using Tidyverse or pharmaverse</a> to complete tasks in the submission process. </p></li>\n</ul>\n<section class=\"level3\" id=\"resources\">\n<h3 class=\"anchored\" data-anchor-id=\"resources\"><strong>Resources</strong></h3>\n<ul>\n<li><p>This blog post was based on this presentation by Sunil Gupta: <a href=\"https://phuse.s3.eu-central-1.amazonaws.com/Archive/2024/SDE/US/Mississauga/PRE_Mississauga05.pdf\" rel=\"nofollow\" target=\"_blank\">R and pharmaverse: The New Frontier for Today’s Statistical Programmers</a></p></li>\n<li><p><a href=\"https://www.lexjansen.com/phuse-us/2024/pd/PAP_PD05.pdf\" rel=\"nofollow\" target=\"_blank\">R-Guru Resource Hub for Rapid R Learning</a></p></li>\n<li><p><a href=\"https://pharmaverse.github.io/blog/\" rel=\"nofollow\" target=\"_blank\">Explore more posts in the pharmaverse blog</a></p></li>\n<li><p><a href=\"https://forms.office.com/pages/responsepage.aspx?id=xeEJLj1cykuXxFc6VpX1UAPF0grflaRJu8z6VC7-hy5UMTE0M0lXR1JON1Q0MkRIRlA1TlZSNDhUSC4u&amp;route=shorturl\" rel=\"nofollow\" target=\"_blank\">Subscribe to the pharmaverse newsletter</a></p></li>\n</ul>\n</section>\n</section>\n<div class=\"default\" id=\"quarto-appendix\"><section class=\"quarto-appendix-contents\" id=\"quarto-reuse\"><h2 class=\"anchored quarto-appendix-heading\">Reuse</h2><div class=\"quarto-appendix-contents\"><div><a href=\"https://creativecommons.org/licenses/by/4.0/\" rel=\"nofollow\" target=\"_blank\">CC BY 4.0</a></div></div></section><section class=\"quarto-appendix-contents\" id=\"quarto-citation\"><h2 class=\"anchored quarto-appendix-heading\">Citation</h2><div><div class=\"quarto-appendix-secondary-label\">BibTeX citation:</div><pre>@online{kenneth2025,\n  author = {Kenneth, Gift and Gupta, Sunil and , APPSILON},\n  title = {Working with {Clinical} {Trial} {Data?} {There’s} a\n    {Pharmaverse} {Package} for {That}},\n  date = {2025-02-28},\n  url = {https://pharmaverse.github.io/blog/posts/2025-02-28_theres_a_pharmaverse_package_for_that/managing-clinical-trial-data.html},\n  langid = {en}\n}\n</pre><div class=\"quarto-appendix-secondary-label\">For attribution, please cite this work as:</div><div class=\"csl-entry quarto-appendix-citeas\" id=\"ref-kenneth2025\">\nKenneth, Gift, Sunil Gupta, and APPSILON. 2025. <span>“Working with\nClinical Trial Data? There’s a Pharmaverse Package for That.”</span>\nFebruary 28, 2025. <a href=\"https://pharmaverse.github.io/blog/posts/2025-02-28_theres_a_pharmaverse_package_for_that/managing-clinical-trial-data.html\" rel=\"nofollow\" target=\"_blank\">https://pharmaverse.github.io/blog/posts/2025-02-28_theres_a_pharmaverse_package_for_that/managing-clinical-trial-data.html</a>.\n</div></div></section></div>\n<div class=\"jp-relatedposts\" id=\"jp-relatedposts\">\n<h3 class=\"jp-relatedposts-headline\"><em>Related</em></h3>\n</div>\n<!-- Share buttons by mashshare.net - Version: 4.0.47-->\n<div style=\"border: 1px solid; background: none repeat scroll 0 0 #EDEDED; margin: 1px; font-size: 13px;\">\n<div style=\"text-align: center;\">To <strong>leave a comment</strong> for the author, please follow the link and comment on their blog: <strong><a href=\"https://pharmaverse.github.io/blog/posts/2025-02-28_theres_a_pharmaverse_package_for_that/managing-clinical-trial-data.html\"> pharmaverse blog</a></strong>.</div>\n<hr/>\n<a href=\"https://www.r-bloggers.com/\" rel=\"nofollow\">R-bloggers.com</a> offers <strong><a href=\"https://feedburner.google.com/fb/a/mailverify?uri=RBloggers\" rel=\"nofollow\">daily e-mail updates</a></strong> about <a href=\"https://www.r-project.org/\" rel=\"nofollow\" title=\"The R Project for Statistical Computing\">R</a> news and tutorials about <a href=\"https://www.r-bloggers.com/how-to-learn-r-2/\" rel=\"nofollow\" title=\"R tutorials\">learning R</a> and many other topics. <a href=\"https://www.r-users.com/\" rel=\"nofollow\" title=\"Data science jobs\">Click here if you're looking to post or find an R/data-science job</a>.\n\n<hr/>Want to share your content on R-bloggers?<a href=\"https://www.r-bloggers.com/add-your-blog/\" rel=\"nofollow\"> click here</a> if you have a blog, or <a href=\"http://r-posts.com/\" rel=\"nofollow\"> here</a> if you don't.\n</div> </div>\n</article>",
    "main_text": "Working with Clinical Trial Data? There’s a Pharmaverse Package for That\nPosted on\nFebruary 27, 2025\nby\nGift Kenneth\nin\nR bloggers\n| 0 Comments\n[This article was first published on\npharmaverse blog\n, and kindly contributed to\nR-bloggers\n].  (You can report issue about the content on this page\nhere\n)\nWant to share your content on R-bloggers?\nclick here\nif you have a blog, or\nhere\nif you don't.\nWorking with clinical trial data is no small task. It needs to be precise, compliant, and efficient. Traditionally, this meant using proprietary tools and working within siloed systems, which often made the process more complicated and expensive than necessary. But we think there’s a better way.\nThe\npharmaverse\nis an open-source ecosystem of R packages built specifically for clinical trials. These tools integrate seamlessly with the\nTidyverse\n, making data management more flexible, efficient, and transparent.\nWhether you’re collecting, validating, analyzing, or preparing data for regulatory submission, there’s a pharmaverse package designed to support your workflow and help you work smarter.\nThis post covers:\nKey stages of clinical trials and the R packages that support them\nCreating ADSL datasets and essential programming steps\nKey players in pharmaverse and whether you need all packages\nHow pharmaverse compares to Tidyverse and how to learn it\nBy the end, you’ll have a clear understanding of how pharmaverse supports clinical trial operations and how to apply these tools in your work.\nKey Stages of Clinical Reporting\nManaging clinical trial data involves multiple stages, each with its own challenges.\nPharmaverse\nprovides a range of R packages that support different parts of the process, sometimes even offering multiple options for the same task. This flexibility allows organizations to choose the best tools for their specific needs rather than sticking to a one-size-fits-all approach.\nA\nmetadata-driven approach\nhelps ensure that clinical trial data is consistently structured and aligned with regulatory standards. The typical process follows this sequence:\nMetadata\n➝\nOAK\n➝\nAdmiral\n➝\nDefine.xml\n➝\nTLGs\n➝\nSubmissions\nSome examples of\npharmaverse\npackages that support clinical reporting include:\n{diffdf} – Tracking differences in datasets.\n{metatools} – Metadata management and transformation.\n{sdtm.oak} – The primary\npharmaverse\npackage for SDTM dataset creation.\n{datacutr} – Performing data cuts.\n{admiral} – Standardized data derivations.\n{metacore} – Metadata-driven structures.\nThe\npharmaverse\nprovides multiple table-making packages, such as {chevron} (which builds on {rtables}), {Tplyr}, {pharmaRTF}, {gtsummary}, {cards}, {tfrmt}, and {tidytlg}. More tools are listed on the\nTLGs page\n.\n{xportr} – CDISC-compliant dataset export.\n{pkglite} – Package management and tracking.\n{metacore} and {metatools} – For standardized metadata structures and validation.\n{logrx} – For logging R scripts.\nPharmaverse packages are built on top of\nTidyverse\ntools and integrate seamlessly with packages like {dplyr} for data manipulation and {ggplot2} for visualization.\nNote:\nThis post highlights some key\npharmaverse\npackages relevant to clinical reporting. For a full and up-to-date list, visit the\nPharmaverse website\n. If there’s a package we missed that should be included, let us know, and we’d be happy to update this post.\nBy using these tools, organizations can optimize their data pipeline, ensuring clinical data is well-structured and ready for regulatory submission with ease.\nExample: Creating ADSL\nBuilding an ADSL dataset involves several key steps, from reading in data to deriving treatment variables and population flags. While these steps apply regardless of the tools used,\npharmaverse packages like {admiral} simplify the process\nwith functions designed for CDISC-compliant datasets.\nThis example is based on the\nADSL template\n, which provides a structured approach to creating an ADSL dataset.\nStep 1: Read in Data\nTo begin, clinical trial datasets such as\nDM, EX, DS, AE, and LB\nare loaded. The {pharmaversesdtm} package provides sample CDISC SDTM datasets:\nlibrary(admiral)\nlibrary(dplyr, warn.conflicts = FALSE)\nlibrary(pharmaversesdtm)\nlibrary(stringr)\n\n# Load sample data\ndata(\"dm\", package = \"pharmaversesdtm\")\ndata(\"ex\", package = \"pharmaversesdtm\")\ndata(\"ds\", package = \"pharmaversesdtm\")\nADSL is typically\nbuilt from the DM dataset\n, removing unnecessary columns and adding treatment variables in one step:\nadsl <- dm %>%\n  select(-DOMAIN) %>%\n  mutate(\n    TRT01P = ARM,\n    TRT01A = ACTARM\n  )\nStep 2: Derive Treatment Variables\nUsing {admiral}, we extract and standardize treatment dates from the EX dataset:\nex_ext <- ex %>%\n  filter(!is.na(USUBJID)) %>%\n  derive_vars_dt(\n    dtc = EXSTDTC,\n    new_vars_prefix = \"EXST\"\n  ) %>%\n  derive_vars_dt(\n    dtc = EXENDTC,\n    new_vars_prefix = \"EXEN\"\n  )\nThen merge these dates into ADSL:\nadsl <- adsl %>%\n  derive_vars_merged(\n    dataset_add = ex_ext,\n    filter_add = (EXDOSE > 0 |\n      (EXDOSE == 0 &\n        str_detect(EXTRT, \"PLACEBO\"))) & !is.na(EXSTDT),\n    new_vars = exprs(TRTSDT = EXSTDT),\n    order = exprs(EXSTDT, EXSEQ),\n    mode = \"first\",\n    by_vars = exprs(STUDYID, USUBJID)\n  ) %>%\n  derive_vars_merged(\n    dataset_add = ex_ext,\n    filter_add = (EXDOSE > 0 |\n      (EXDOSE == 0 &\n        str_detect(EXTRT, \"PLACEBO\"))) & !is.na(EXENDT),\n    new_vars = exprs(TRTEDT = EXENDT),\n    order = exprs(EXENDT, EXSEQ),\n    mode = \"last\",\n    by_vars = exprs(STUDYID, USUBJID)\n  )\nStep 3: Derive End of Study (EOS) Status\nThe disposition dataset (DS) is used to determine when a patient exited the study:\nds_ext <- ds %>%\n  filter(!is.na(DSSTDTC)) %>%\n  derive_vars_dt(\n    dtc = DSSTDTC,\n    new_vars_prefix = \"DSST\"\n  )\n\nadsl <- adsl %>%\n  derive_vars_merged(\n    dataset_add = ds_ext,\n    by_vars = exprs(STUDYID, USUBJID),\n    new_vars = exprs(EOSDT = DSSTDT),\n    filter_add = DSCAT == \"DISPOSITION EVENT\" & DSDECOD != \"SCREEN FAILURE\"\n  )\nStep 4: Assign Population Flags\nFor safety population (\nSAFFL\n), we check if the patient received a treatment dose:\nadsl <- adsl %>%\n  derive_var_merged_exist_flag(\n    dataset_add = ex,\n    by_vars = exprs(STUDYID, USUBJID),\n    new_var = SAFFL,\n    condition = EXDOSE > 0 | str_detect(EXTRT, \"PLACEBO\")\n  )\nStep 5: Generate and Save Results\nFinally, we save the dataset CSV and can view some of its columns:\n# Save to a CSV file\nwrite.csv(adsl, \"adsl_output.csv\", row.names = FALSE)\n\nadsl\nUSUBJID\nTRT01P\nTRT01A\nTRTSDT\nTRTEDT\nSAFFL\n01-701-1015\nPlacebo\nPlacebo\n2014-01-02\n2014-07-02\nY\n01-701-1023\nPlacebo\nPlacebo\n2012-08-05\n2012-09-01\nY\n01-701-1028\nXanomeline High Dose\nXanomeline High Dose\n2013-07-19\n2014-01-14\nY\n01-701-1033\nXanomeline Low Dose\nXanomeline Low Dose\n2014-03-18\n2014-03-31\nY\n01-701-1034\nXanomeline High Dose\nXanomeline High Dose\n2014-07-01\n2014-12-30\nY\n01-701-1047\nPlacebo\nPlacebo\n2013-02-12\n2013-03-09\nY\n01-701-1057\nScreen Failure\nScreen Failure\nNA\nNA\nNA\n01-701-1097\nXanomeline Low Dose\nXanomeline Low Dose\n2014-01-01\n2014-07-09\nY\n01-701-1111\nXanomeline Low Dose\nXanomeline Low Dose\n2012-09-07\n2012-09-16\nY\n01-701-1115\nXanomeline Low Dose\nXanomeline Low Dose\n2012-11-30\n2013-01-23\nY\nMore Details on ADSL Creation\nThis is just a\nhigh-level example\n; the full process includes deriving death variables, grouping populations, and applying labels. For a deeper dive, check out the\nADSL Implementation Guide\n.\nWho Are the Key Players in Pharmaverse, and Do You Need to Use All Packages?\nKey Players in pharmaverse\nPharmaverse Council and Community\n– A collaborative group of developers, industry experts, and contributors maintaining and expanding the ecosystem.\nOpen-Source Contributors\n– Individuals and organizations developing and refining\npharmaverse\npackages.\nPharmaverse is part of\nPHUSE\n– PHUSE plays an active role in supporting and advancing the\npharmaverse\ninitiative.\nThe pharmaverse community collaborates with organizations like the FDA, EMA, R Consortium, and CDISC\nto align with industry standards and best practices for clinical data reporting.\nDo You Need to Use All Pharmaverse Packages?\nNo, organizations can select only the packages that fit their needs.\nMany packages are modular and independent, allowing selective integration.\nPharmaverse hosts multiple packages with similar aims, giving users the flexibility to choose what works best for them rather than prescribing a single approach.\nPharmaverse complements\nTidyverse\n, allowing organizations to continue using familiar R workflows.\nHow Pharmaverse Differs from Tidyverse & How to Learn It Effectively\nDifferences Between pharmaverse and Tidyverse\nTidyverse provides general-purpose data science tools such as data wrangling and visualization…\n… Whereas pharmaverse integrates Tidyverse functions but adds compliance, validation, and reporting features for pharma-specific clinical data structuring, reporting and regulatory submissions.\nGetting Started with the Pharmaverse\nPharmaverse provides an open-source ecosystem for clinical reporting, extending Tidyverse with validation, compliance, and regulatory submission capabilities. By following a structured approach from raw data to ADaMs, organizations can enhance efficiency while maintaining data integrity.\nYou can\nstart with Pharmaverse Examples\n– A curated set of documentation and tutorials.\nAttend Pharma Industry Webinars and Conferences – Stay updated on new developments through events like\nPHUSE events and webinars\n,\nR/Pharma conferences and events\n,\nCDISC events\n,\nShiny Gatherings x Pharmaverse webinars\n, etc.\nEngage with the Open-Source Community – Contribute to package improvements or discussions.\nYou can join the pharmaverse community to get started.\n.\nExplore packages on the\npharmaverse website\n.\nTry implementing an ADSL dataset using following the\nADSL Implementation Guide\n.\nRefer to\nthis grid for guidance on using Tidyverse or pharmaverse\nto complete tasks in the submission process.\nResources\nThis blog post was based on this presentation by Sunil Gupta:\nR and pharmaverse: The New Frontier for Today’s Statistical Programmers\nR-Guru Resource Hub for Rapid R Learning\nExplore more posts in the pharmaverse blog\nSubscribe to the pharmaverse newsletter\nReuse\nCC BY 4.0\nCitation\nBibTeX citation:\n@online{kenneth2025,\n  author = {Kenneth, Gift and Gupta, Sunil and , APPSILON},\n  title = {Working with {Clinical} {Trial} {Data?} {There’s} a\n    {Pharmaverse} {Package} for {That}},\n  date = {2025-02-28},\n  url = {https://pharmaverse.github.io/blog/posts/2025-02-28_theres_a_pharmaverse_package_for_that/managing-clinical-trial-data.html},\n  langid = {en}\n}\nFor attribution, please cite this work as:\nKenneth, Gift, Sunil Gupta, and APPSILON. 2025.\n“Working with\nClinical Trial Data? There’s a Pharmaverse Package for That.”\nFebruary 28, 2025.\nhttps://pharmaverse.github.io/blog/posts/2025-02-28_theres_a_pharmaverse_package_for_that/managing-clinical-trial-data.html\n.\nRelated\nTo\nleave a comment\nfor the author, please follow the link and comment on their blog:\npharmaverse blog\n.\nR-bloggers.com\noffers\ndaily e-mail updates\nabout\nR\nnews and tutorials about\nlearning R\nand many other topics.\nClick here if you're looking to post or find an R/data-science job\n.\nWant to share your content on R-bloggers?\nclick here\nif you have a blog, or\nhere\nif you don't.",
    "meta_description": "Working with clinical trial data is no small task. It needs to be precise, compliant, and efficient. Traditionally, this meant using proprietary tools and working within siloed systems, which often made the process more complicated and expensi...",
    "meta_keywords": null,
    "og_description": "Working with clinical trial data is no small task. It needs to be precise, compliant, and efficient. Traditionally, this meant using proprietary tools and working within siloed systems, which often made the process more complicated and expensi...",
    "og_image": "https://www.r-bloggers.com/wp-content/uploads/2016/04/R_02_2016-05-01.png",
    "og_title": "Working with Clinical Trial Data? There’s a Pharmaverse Package for That | R-bloggers",
    "raw_jsonld_article": null,
    "reading_time_min": 8.1,
    "sitemap_lastmod": null,
    "twitter_description": "Working with clinical trial data is no small task. It needs to be precise, compliant, and efficient. Traditionally, this meant using proprietary tools and working within siloed systems, which often made the process more complicated and expensi...",
    "twitter_title": "Working with Clinical Trial Data? There’s a Pharmaverse Package for That | R-bloggers",
    "url": "https://www.r-bloggers.com/2025/02/working-with-clinical-trial-data-theres-a-pharmaverse-package-for-that/",
    "word_count": 1626
  }
}