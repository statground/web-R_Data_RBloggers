{
  "id": "439f40d4fd0f131b711a7c3fa16f396da310dc99",
  "url": "https://www.r-bloggers.com/2025/01/comparing-pipes-base-r-vs-magrittr/",
  "created_at_utc": "2025-11-22T19:59:32Z",
  "data": null,
  "raw_original": {
    "uuid": "c34b1282-b2b2-4c3f-94f0-84a7bb2a0783",
    "created_at": "2025-11-22 19:59:32",
    "raw_json": {
      "article_author": null,
      "article_headline": null,
      "article_modified": null,
      "article_published": null,
      "article_section": null,
      "article_tags": null,
      "canonical_url": "https://www.r-bloggers.com/2025/01/comparing-pipes-base-r-vs-magrittr/",
      "crawled_at": "2025-11-22T10:56:16.900725",
      "external_links": [
        {
          "href": "https://albert-rapp.de/posts/31_pipes_compared/31_pipes_compared.html",
          "text": "Albert Rapp"
        },
        {
          "href": "http://r-posts.com/",
          "text": "here"
        },
        {
          "href": "https://i2.wp.com/albert-rapp.de/posts/31_pipes_compared/pipe-setting.png?ssl=1",
          "text": null
        },
        {
          "href": "https://i0.wp.com/albert-rapp.de/posts/31_pipes_compared/31_pipes_compared_files/figure-html/unnamed-chunk-8-1.png?ssl=1",
          "text": null
        },
        {
          "href": "https://i2.wp.com/albert-rapp.de/posts/31_pipes_compared/31_pipes_compared_files/figure-html/unnamed-chunk-10-1.png?ssl=1",
          "text": null
        },
        {
          "href": "https://towardsdatascience.com/understanding-the-native-r-pipe-98dea6d8b61b",
          "text": "Isabella Velásquez’s blog post"
        },
        {
          "href": "https://albert-rapp.de/posts/31_pipes_compared/31_pipes_compared.html",
          "text": "Albert Rapp"
        },
        {
          "href": "https://feedburner.google.com/fb/a/mailverify?uri=RBloggers",
          "text": "daily e-mail updates"
        },
        {
          "href": "https://www.r-project.org/",
          "text": "R"
        },
        {
          "href": "https://www.r-users.com/",
          "text": "Click here if you're looking to post or find an R/data-science job"
        },
        {
          "href": "http://r-posts.com/",
          "text": "here"
        }
      ],
      "h1_title": "R-bloggers",
      "html_title": "Comparing pipes: Base-R |> vs {magrittr} %>% | R-bloggers",
      "images": [
        {
          "alt": null,
          "base64": "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",
          "src": "https://www.r-bloggers.com/wp-content/plugins/jetpack/modules/lazy-images/images/1x1.trans.gif"
        },
        {
          "alt": null,
          "base64": null,
          "src": "https://i2.wp.com/albert-rapp.de/posts/31_pipes_compared/pipe-setting.png?w=578&ssl=1"
        },
        {
          "alt": null,
          "base64": "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",
          "src": "https://www.r-bloggers.com/wp-content/plugins/jetpack/modules/lazy-images/images/1x1.trans.gif"
        },
        {
          "alt": null,
          "base64": null,
          "src": "https://i0.wp.com/albert-rapp.de/posts/31_pipes_compared/31_pipes_compared_files/figure-html/unnamed-chunk-8-1.png?w=578&ssl=1"
        },
        {
          "alt": null,
          "base64": "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",
          "src": "https://www.r-bloggers.com/wp-content/plugins/jetpack/modules/lazy-images/images/1x1.trans.gif"
        },
        {
          "alt": null,
          "base64": null,
          "src": "https://i2.wp.com/albert-rapp.de/posts/31_pipes_compared/31_pipes_compared_files/figure-html/unnamed-chunk-10-1.png?w=578&ssl=1"
        }
      ],
      "internal_links": [
        {
          "href": "https://www.r-bloggers.com/author/albert-rapp/",
          "text": "Albert Rapp"
        },
        {
          "href": "https://www.r-bloggers.com/category/r-bloggers/",
          "text": "R bloggers"
        },
        {
          "href": "https://www.r-bloggers.com/",
          "text": "R-bloggers"
        },
        {
          "href": "https://www.r-bloggers.com/contact-us/",
          "text": "here"
        },
        {
          "href": "https://www.r-bloggers.com/add-your-blog/",
          "text": "click here"
        },
        {
          "href": "https://www.r-bloggers.com/",
          "text": "R-bloggers.com"
        },
        {
          "href": "https://www.r-bloggers.com/how-to-learn-r-2/",
          "text": "learning R"
        },
        {
          "href": "https://www.r-bloggers.com/add-your-blog/",
          "text": "click here"
        }
      ],
      "lang": "en-US",
      "main_html": "<article class=\"post-394578 post type-post status-publish format-standard hentry category-r-bloggers\">\n<header class=\"post-header\">\n<h1 class=\"entry-title\">Comparing pipes: Base-R |&gt; vs {magrittr} %&gt;%</h1>\n<p class=\"meta post-meta\">Posted on <span class=\"updated\">January 11, 2025</span>  by <span class=\"vcard author\"><a class=\"fn\" href=\"https://www.r-bloggers.com/author/albert-rapp/\">Albert Rapp</a></span>  in <a href=\"https://www.r-bloggers.com/category/r-bloggers/\" rel=\"category tag\">R bloggers</a> | 0 Comments</p>\n</header>\n<div class=\"entry clearfix\">\n<!-- \n<div style=\"min-height: 30px;\">\n[social4i size=\"small\" align=\"align-left\"]\n</div>\n-->\n<div style=\"border: 1px solid; background: none repeat scroll 0 0 #EDEDED; margin: 1px; font-size: 12px;\">\n[This article was first published on  <strong><a href=\"https://albert-rapp.de/posts/31_pipes_compared/31_pipes_compared.html\"> Albert Rapp</a></strong>, and kindly contributed to <a href=\"https://www.r-bloggers.com/\" rel=\"nofollow\">R-bloggers</a>].  (You can report issue about the content on this page <a href=\"https://www.r-bloggers.com/contact-us/\">here</a>)\n<hr/>Want to share your content on R-bloggers?<a href=\"https://www.r-bloggers.com/add-your-blog/\" rel=\"nofollow\"> click here</a> if you have a blog, or <a href=\"http://r-posts.com/\" rel=\"nofollow\"> here</a> if you don't.\n</div>\n\n<!-- Share buttons by mashshare.net - Version: 4.0.47-->\n<p><link href=\"https://albert-rapp.de/new_code_theme.css\" rel=\"stylesheet\"/></p>\n<p>Beginners are sometimes confused by the fact that</p>\n<ul>\n<li>some R users use the native Base R pipe <code>|&gt;</code> and</li>\n<li>others use the <code>{magrittr}</code> pipe <code>%&gt;%</code>.</li>\n</ul>\n<p>So in today’s video, I want to compare the two and show you the strengths and weaknesses of each one. Let’s dive in.</p>\n<div class=\"quarto-video ratio ratio-16x9\"><iframe allow=\"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture\" allowfullscreen=\"\" data-external=\"1\" frameborder=\"0\" src=\"https://www.youtube.com/embed/uIL9gMjn40Y\" title=\"\"></iframe></div>\n<section class=\"level2\" id=\"keyboard-shortcut\">\n<h2 class=\"anchored\" data-anchor-id=\"keyboard-shortcut\">Keyboard shortcut</h2>\n<p>Whatever pipe you use, you should definitely use the RStudio shortcut <code>ctrl</code> + <code>shift</code> + <code>M</code>. This is much quicker than writing it out. By default, this will throw the <code>{magrittr}</code> pipe. But you can change that in the settings.</p>\n<p><a class=\"lightbox\" data-gallery=\"quarto-lightbox-gallery-1\" href=\"https://i2.wp.com/albert-rapp.de/posts/31_pipes_compared/pipe-setting.png?ssl=1\" rel=\"nofollow\" target=\"_blank\"><img class=\"img-fluid\" data-lazy-src=\"https://i2.wp.com/albert-rapp.de/posts/31_pipes_compared/pipe-setting.png?w=578&amp;ssl=1\" data-recalc-dims=\"1\" src=\"https://www.r-bloggers.com/wp-content/plugins/jetpack/modules/lazy-images/images/1x1.trans.gif\"/><noscript><img class=\"img-fluid\" data-recalc-dims=\"1\" src=\"https://i2.wp.com/albert-rapp.de/posts/31_pipes_compared/pipe-setting.png?w=578&amp;ssl=1\"/></noscript></a></p>\n</section>\n<section class=\"level2\" id=\"simple-function-chaining\">\n<h2 class=\"anchored\" data-anchor-id=\"simple-function-chaining\">Simple function chaining</h2>\n<p>The big advantage of the base-R pipe is that it can easily chain together a couple of functions whether any packages are loaded or not.</p>\n<div class=\"cell\">\n<pre>runif(100) |&gt; round() |&gt; mean()\n## [1] 0.48</pre>\n</div>\n<p>The same doesn’t work with the <code>{magrittr}</code> pipe because I have to load the package first.</p>\n<div class=\"cell\">\n<pre>runif(100) %&gt;% round() %&gt;%  mean()\n## Error in runif(100) %&gt;% round() %&gt;% mean(): could not find function \"%&gt;%\"</pre>\n</div>\n<p>But if I do load something like the Tidyverse that contains <code>{magrittr}</code> it works fine.</p>\n<div class=\"cell\">\n<pre>library(tidyverse) \n## ── Attaching core tidyverse packages ──────────────────────── tidyverse 2.0.0 ──\n## ✔ dplyr     1.1.4     ✔ readr     2.1.5\n## ✔ forcats   1.0.0     ✔ stringr   1.5.1\n## ✔ ggplot2   3.5.1     ✔ tibble    3.2.1\n## ✔ lubridate 1.9.3     ✔ tidyr     1.3.1\n## ✔ purrr     1.0.2     \n## ── Conflicts ────────────────────────────────────────── tidyverse_conflicts() ──\n## ✖ dplyr::filter() masks stats::filter()\n## ✖ dplyr::lag()    masks stats::lag()\n## ℹ Use the conflicted package (&lt;http://conflicted.r-lib.org/&gt;) to force all conflicts to become errors\nrunif(100) %&gt;% round() %&gt;% mean()\n## [1] 0.53</pre>\n</div>\n</section>\n<section class=\"level2\" id=\"form-strictness\">\n<h2 class=\"anchored\" data-anchor-id=\"form-strictness\">Form strictness</h2>\n<p>The nice thing about the <code>{magrittr}</code> pipe is that it isn’t as strict as the base-R pipe. For example, <code>{magrittr}</code> allows you to forget function calls and just use the function name.</p>\n<div class=\"cell\">\n<pre>runif(100) %&gt;% round # works\nrunif(100) |&gt; round  # Error function call with () is enforced\n## Error: The pipe operator requires a function call as RHS (&lt;text&gt;:2:15)</pre>\n</div>\n</section>\n<section class=\"level2\" id=\"standard-scenario\">\n<h2 class=\"anchored\" data-anchor-id=\"standard-scenario\">Standard scenario</h2>\n<p>I don’t think the strictness is much of a disadvantage, though. In most cases (at least in my 90% of pipe use cases), you’ll likely use the pipe with something like <code>mutate()</code> where you specify additional arguments anyway. In that scenario, both pipes work pretty much the same.</p>\n<div class=\"cell\">\n<pre>dat_with_super_long_name &lt;- tibble(x = 1:3, y = 10:12)\ndat_with_super_long_name |&gt; \n  mutate(z = x + y)\n## # A tibble: 3 × 3\n##       x     y     z\n##   &lt;int&gt; &lt;int&gt; &lt;int&gt;\n## 1     1    10    11\n## 2     2    11    13\n## 3     3    12    15\ndat_with_super_long_name %&gt;%\n  mutate(z = x + y)\n## # A tibble: 3 × 3\n##       x     y     z\n##   &lt;int&gt; &lt;int&gt; &lt;int&gt;\n## 1     1    10    11\n## 2     2    11    13\n## 3     3    12    15</pre>\n</div>\n</section>\n<section class=\"level2\" id=\"using-a-placeholder\">\n<h2 class=\"anchored\" data-anchor-id=\"using-a-placeholder\">Using a placeholder</h2>\n<p>Fans of the original <code>{magrittr}</code> pipe will tell you that it’s really cool to use the <code>.</code> operator as a placeholder. Rightfully so, this is a neat feature.</p>\n<div class=\"cell\">\n<pre>dat_with_super_long_name %&gt;% lm(y ~ x, data = .)\n## \n## Call:\n## lm(formula = y ~ x, data = .)\n## \n## Coefficients:\n## (Intercept)            x  \n##           9            1</pre>\n</div>\n<p>Initially, the base-R pipe could not pull of such a stunt. However, since R 4.3.0. it has a placeholder too.</p>\n<div class=\"cell\">\n<pre>dat_with_super_long_name |&gt; lm(y ~ x, data = _)\n## \n## Call:\n## lm(formula = y ~ x, data = dat_with_super_long_name)\n## \n## Coefficients:\n## (Intercept)            x  \n##           9            1</pre>\n</div>\n</section>\n<section class=\"level2\" id=\"using-multiple-placeholders\">\n<h2 class=\"anchored\" data-anchor-id=\"using-multiple-placeholders\">Using multiple placeholders</h2>\n<p>At this point, fans of the <code>.</code> operator will shout <em>“The dot operator is even cooler. It can be used multiple times!”</em> And they are absolutely right about that. That’s pretty dope.</p>\n<p>And for the unenlightened: By wrapping a subsequent function call into <code>{}</code>, you can use the <code>.</code> operator as many times as you’d like over there. In each instance, <code>.</code> will then represent the data that went into <code>{}</code>.</p>\n<div class=\"cell\">\n<pre>dat_with_super_long_name %&gt;% {plot(.$x, .$y, cex = 3, lwd = 5)}</pre>\n<div class=\"cell-output-display\">\n<div>\n<figure class=\"figure\">\n<p><a class=\"lightbox\" data-gallery=\"quarto-lightbox-gallery-2\" href=\"https://i0.wp.com/albert-rapp.de/posts/31_pipes_compared/31_pipes_compared_files/figure-html/unnamed-chunk-8-1.png?ssl=1\" rel=\"nofollow\" target=\"_blank\"><img class=\"img-fluid figure-img\" data-lazy-src=\"https://i0.wp.com/albert-rapp.de/posts/31_pipes_compared/31_pipes_compared_files/figure-html/unnamed-chunk-8-1.png?w=578&amp;ssl=1\" data-recalc-dims=\"1\" src=\"https://www.r-bloggers.com/wp-content/plugins/jetpack/modules/lazy-images/images/1x1.trans.gif\" style=\"width:80.0%\"/><noscript><img class=\"img-fluid figure-img\" data-recalc-dims=\"1\" src=\"https://i0.wp.com/albert-rapp.de/posts/31_pipes_compared/31_pipes_compared_files/figure-html/unnamed-chunk-8-1.png?w=578&amp;ssl=1\" style=\"width:80.0%\"/></noscript></a></p>\n</figure>\n</div>\n</div>\n</div>\n<p>Sadly, the base pipe cannot do such a thing. Its strictness forbids <code>{}</code>.</p>\n<div class=\"cell\">\n<pre>## Error: { not allowed\ndat_with_super_long_name |&gt; {plot(_$x, _$y, cex = 3, lwd = 5)} \n## Error: function '{' not supported in RHS call of a pipe (&lt;text&gt;:2:29)</pre>\n</div>\n<p>A workaround for that would be to</p>\n<ul>\n<li>define an anonymous function with <code>\\(.)</code>,</li>\n<li>wrap that into parentheses, and then</li>\n<li>call that function.</li>\n</ul>\n<div class=\"cell\">\n<pre>dat_with_super_long_name |&gt; \n  (\\(.) plot(.$x, .$y, cex = 3, lwd = 5))()</pre>\n<div class=\"cell-output-display\">\n<div>\n<figure class=\"figure\">\n<p><a class=\"lightbox\" data-gallery=\"quarto-lightbox-gallery-3\" href=\"https://i2.wp.com/albert-rapp.de/posts/31_pipes_compared/31_pipes_compared_files/figure-html/unnamed-chunk-10-1.png?ssl=1\" rel=\"nofollow\" target=\"_blank\"><img class=\"img-fluid figure-img\" data-lazy-src=\"https://i2.wp.com/albert-rapp.de/posts/31_pipes_compared/31_pipes_compared_files/figure-html/unnamed-chunk-10-1.png?w=578&amp;ssl=1\" data-recalc-dims=\"1\" src=\"https://www.r-bloggers.com/wp-content/plugins/jetpack/modules/lazy-images/images/1x1.trans.gif\" style=\"width:80.0%\"/><noscript><img class=\"img-fluid figure-img\" data-recalc-dims=\"1\" src=\"https://i2.wp.com/albert-rapp.de/posts/31_pipes_compared/31_pipes_compared_files/figure-html/unnamed-chunk-10-1.png?w=578&amp;ssl=1\" style=\"width:80.0%\"/></noscript></a></p>\n</figure>\n</div>\n</div>\n</div>\n<p>Shoutout to <a href=\"https://towardsdatascience.com/understanding-the-native-r-pipe-98dea6d8b61b\" rel=\"nofollow\" target=\"_blank\">Isabella Velásquez’s blog post</a> that taught me about this little trick.</p>\n</section>\n<section class=\"level2\" id=\"conditional-flows\">\n<h2 class=\"anchored\" data-anchor-id=\"conditional-flows\">Conditional flows</h2>\n<p>Now, sometimes people like to use if-statements in their pipe-chains. By combining the <code>{magrittr}</code> pipe with curly brackets and the <code>.</code> operator, this could look like this.</p>\n<div class=\"tabset-margin-container\"></div><div class=\"panel-tabset\">\n<ul class=\"nav nav-tabs\"><li class=\"nav-item\"><a aria-controls=\"tabset-1-1\" aria-selected=\"true\" class=\"nav-link active\" data-bs-=\"\" data-bs-toggle=\"tab\" id=\"tabset-1-1-tab\">TRUE</a></li><li class=\"nav-item\"><a aria-controls=\"tabset-1-2\" aria-selected=\"false\" class=\"nav-link\" data-bs-=\"\" data-bs-toggle=\"tab\" id=\"tabset-1-2-tab\">FALSE</a></li></ul>\n<div class=\"tab-content\">\n<div aria-labelledby=\"tabset-1-1-tab\" class=\"tab-pane active\" id=\"tabset-1-1\">\n<div class=\"cell\">\n<pre>duplicate_flag &lt;- TRUE\nduplicates &lt;- tibble(x = 1:3, z = 21:23)\ndat_with_super_long_name %&gt;%\n  {\n    if (duplicate_flag) {\n      . |&gt; left_join(duplicates, by = 'x')\n    } else {\n      .\n    }\n  } %&gt;%\n  summarize(across(everything(), mean))\n## # A tibble: 1 × 3\n##       x     y     z\n##   &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt;\n## 1     2    11    22</pre>\n</div>\n</div>\n<div aria-labelledby=\"tabset-1-2-tab\" class=\"tab-pane\" id=\"tabset-1-2\">\n<div class=\"cell\">\n<pre>duplicate_flag &lt;- FALSE\nduplicates &lt;- tibble(x = 1:3, z = 21:23)\ndat_with_super_long_name %&gt;%\n  {\n    if (duplicate_flag) {\n      . |&gt; left_join(duplicates, by = 'x')\n    } else {\n      .\n    }\n  } %&gt;%\n  summarize(across(everything(), mean))\n## # A tibble: 1 × 2\n##       x     y\n##   &lt;dbl&gt; &lt;dbl&gt;\n## 1     2    11</pre>\n</div>\n</div>\n</div>\n</div>\n<p>In the past, I have written code like this too. Nowadays, though, I try to break out such things into their own functions. Preferably, one with a descriptive function name.</p>\n<p>That way,</p>\n<ul>\n<li>the base-R pipe can handle this much better,</li>\n<li>my original chain hopefully stays short, and</li>\n<li>when I outsource the helper functions to a separate script, the function name hopefully still tells me what it does.</li>\n</ul>\n<div class=\"tabset-margin-container\"></div><div class=\"panel-tabset\">\n<ul class=\"nav nav-tabs\"><li class=\"nav-item\"><a aria-controls=\"tabset-2-1\" aria-selected=\"true\" class=\"nav-link active\" data-bs-=\"\" data-bs-toggle=\"tab\" id=\"tabset-2-1-tab\">TRUE</a></li><li class=\"nav-item\"><a aria-controls=\"tabset-2-2\" aria-selected=\"false\" class=\"nav-link\" data-bs-=\"\" data-bs-toggle=\"tab\" id=\"tabset-2-2-tab\">FALSE</a></li></ul>\n<div class=\"tab-content\">\n<div aria-labelledby=\"tabset-2-1-tab\" class=\"tab-pane active\" id=\"tabset-2-1\">\n<div class=\"cell\">\n<pre>left_join_if_duplicate &lt;- function(dat, duplicate_flag) {\n  if (duplicate_flag) {\n    dat |&gt; left_join(duplicates, by = 'x') \n  } else {\n    dat\n  }\n}\nduplicate_flag &lt;- TRUE\ndat_with_super_long_name |&gt; \n  left_join_if_duplicate(duplicate_flag) |&gt; \n  summarize(across(everything(), mean))\n## # A tibble: 1 × 3\n##       x     y     z\n##   &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt;\n## 1     2    11    22</pre>\n</div>\n</div>\n<div aria-labelledby=\"tabset-2-2-tab\" class=\"tab-pane\" id=\"tabset-2-2\">\n<div class=\"cell\">\n<pre>left_join_if_duplicate &lt;- function(dat, duplicate_flag) {\n  if (duplicate_flag) {\n    dat |&gt; left_join(duplicates, by = 'x') \n  } else {\n    dat\n  }\n}\nduplicate_flag &lt;- FALSE\ndat_with_super_long_name |&gt; \n  left_join_if_duplicate(duplicate_flag) |&gt; \n  summarize(across(everything(), mean))\n## # A tibble: 1 × 2\n##       x     y\n##   &lt;dbl&gt; &lt;dbl&gt;\n## 1     2    11</pre>\n</div>\n</div>\n</div>\n</div>\n</section>\n<div class=\"jp-relatedposts\" id=\"jp-relatedposts\">\n<h3 class=\"jp-relatedposts-headline\"><em>Related</em></h3>\n</div>\n<!-- Share buttons by mashshare.net - Version: 4.0.47-->\n<div style=\"border: 1px solid; background: none repeat scroll 0 0 #EDEDED; margin: 1px; font-size: 13px;\">\n<div style=\"text-align: center;\">To <strong>leave a comment</strong> for the author, please follow the link and comment on their blog: <strong><a href=\"https://albert-rapp.de/posts/31_pipes_compared/31_pipes_compared.html\"> Albert Rapp</a></strong>.</div>\n<hr/>\n<a href=\"https://www.r-bloggers.com/\" rel=\"nofollow\">R-bloggers.com</a> offers <strong><a href=\"https://feedburner.google.com/fb/a/mailverify?uri=RBloggers\" rel=\"nofollow\">daily e-mail updates</a></strong> about <a href=\"https://www.r-project.org/\" rel=\"nofollow\" title=\"The R Project for Statistical Computing\">R</a> news and tutorials about <a href=\"https://www.r-bloggers.com/how-to-learn-r-2/\" rel=\"nofollow\" title=\"R tutorials\">learning R</a> and many other topics. <a href=\"https://www.r-users.com/\" rel=\"nofollow\" title=\"Data science jobs\">Click here if you're looking to post or find an R/data-science job</a>.\n\n<hr/>Want to share your content on R-bloggers?<a href=\"https://www.r-bloggers.com/add-your-blog/\" rel=\"nofollow\"> click here</a> if you have a blog, or <a href=\"http://r-posts.com/\" rel=\"nofollow\"> here</a> if you don't.\n</div> </div>\n</article>",
      "main_text": "Comparing pipes: Base-R |> vs {magrittr} %>%\nPosted on\nJanuary 11, 2025\nby\nAlbert Rapp\nin\nR bloggers\n| 0 Comments\n[This article was first published on\nAlbert Rapp\n, and kindly contributed to\nR-bloggers\n].  (You can report issue about the content on this page\nhere\n)\nWant to share your content on R-bloggers?\nclick here\nif you have a blog, or\nhere\nif you don't.\nBeginners are sometimes confused by the fact that\nsome R users use the native Base R pipe\n|>\nand\nothers use the\n{magrittr}\npipe\n%>%\n.\nSo in today’s video, I want to compare the two and show you the strengths and weaknesses of each one. Let’s dive in.\nKeyboard shortcut\nWhatever pipe you use, you should definitely use the RStudio shortcut\nctrl\n+\nshift\n+\nM\n. This is much quicker than writing it out. By default, this will throw the\n{magrittr}\npipe. But you can change that in the settings.\nSimple function chaining\nThe big advantage of the base-R pipe is that it can easily chain together a couple of functions whether any packages are loaded or not.\nrunif(100) |> round() |> mean()\n## [1] 0.48\nThe same doesn’t work with the\n{magrittr}\npipe because I have to load the package first.\nrunif(100) %>% round() %>%  mean()\n## Error in runif(100) %>% round() %>% mean(): could not find function \"%>%\"\nBut if I do load something like the Tidyverse that contains\n{magrittr}\nit works fine.\nlibrary(tidyverse) \n## ── Attaching core tidyverse packages ──────────────────────── tidyverse 2.0.0 ──\n## ✔ dplyr     1.1.4     ✔ readr     2.1.5\n## ✔ forcats   1.0.0     ✔ stringr   1.5.1\n## ✔ ggplot2   3.5.1     ✔ tibble    3.2.1\n## ✔ lubridate 1.9.3     ✔ tidyr     1.3.1\n## ✔ purrr     1.0.2     \n## ── Conflicts ────────────────────────────────────────── tidyverse_conflicts() ──\n## ✖ dplyr::filter() masks stats::filter()\n## ✖ dplyr::lag()    masks stats::lag()\n## ℹ Use the conflicted package (<http://conflicted.r-lib.org/>) to force all conflicts to become errors\nrunif(100) %>% round() %>% mean()\n## [1] 0.53\nForm strictness\nThe nice thing about the\n{magrittr}\npipe is that it isn’t as strict as the base-R pipe. For example,\n{magrittr}\nallows you to forget function calls and just use the function name.\nrunif(100) %>% round # works\nrunif(100) |> round  # Error function call with () is enforced\n## Error: The pipe operator requires a function call as RHS (<text>:2:15)\nStandard scenario\nI don’t think the strictness is much of a disadvantage, though. In most cases (at least in my 90% of pipe use cases), you’ll likely use the pipe with something like\nmutate()\nwhere you specify additional arguments anyway. In that scenario, both pipes work pretty much the same.\ndat_with_super_long_name <- tibble(x = 1:3, y = 10:12)\ndat_with_super_long_name |> \n  mutate(z = x + y)\n## # A tibble: 3 × 3\n##       x     y     z\n##   <int> <int> <int>\n## 1     1    10    11\n## 2     2    11    13\n## 3     3    12    15\ndat_with_super_long_name %>%\n  mutate(z = x + y)\n## # A tibble: 3 × 3\n##       x     y     z\n##   <int> <int> <int>\n## 1     1    10    11\n## 2     2    11    13\n## 3     3    12    15\nUsing a placeholder\nFans of the original\n{magrittr}\npipe will tell you that it’s really cool to use the\n.\noperator as a placeholder. Rightfully so, this is a neat feature.\ndat_with_super_long_name %>% lm(y ~ x, data = .)\n## \n## Call:\n## lm(formula = y ~ x, data = .)\n## \n## Coefficients:\n## (Intercept)            x  \n##           9            1\nInitially, the base-R pipe could not pull of such a stunt. However, since R 4.3.0. it has a placeholder too.\ndat_with_super_long_name |> lm(y ~ x, data = _)\n## \n## Call:\n## lm(formula = y ~ x, data = dat_with_super_long_name)\n## \n## Coefficients:\n## (Intercept)            x  \n##           9            1\nUsing multiple placeholders\nAt this point, fans of the\n.\noperator will shout\n“The dot operator is even cooler. It can be used multiple times!”\nAnd they are absolutely right about that. That’s pretty dope.\nAnd for the unenlightened: By wrapping a subsequent function call into\n{}\n, you can use the\n.\noperator as many times as you’d like over there. In each instance,\n.\nwill then represent the data that went into\n{}\n.\ndat_with_super_long_name %>% {plot(.$x, .$y, cex = 3, lwd = 5)}\nSadly, the base pipe cannot do such a thing. Its strictness forbids\n{}\n.\n## Error: { not allowed\ndat_with_super_long_name |> {plot(_$x, _$y, cex = 3, lwd = 5)} \n## Error: function '{' not supported in RHS call of a pipe (<text>:2:29)\nA workaround for that would be to\ndefine an anonymous function with\n\\(.)\n,\nwrap that into parentheses, and then\ncall that function.\ndat_with_super_long_name |> \n  (\\(.) plot(.$x, .$y, cex = 3, lwd = 5))()\nShoutout to\nIsabella Velásquez’s blog post\nthat taught me about this little trick.\nConditional flows\nNow, sometimes people like to use if-statements in their pipe-chains. By combining the\n{magrittr}\npipe with curly brackets and the\n.\noperator, this could look like this.\nTRUE\nFALSE\nduplicate_flag <- TRUE\nduplicates <- tibble(x = 1:3, z = 21:23)\ndat_with_super_long_name %>%\n  {\n    if (duplicate_flag) {\n      . |> left_join(duplicates, by = 'x')\n    } else {\n      .\n    }\n  } %>%\n  summarize(across(everything(), mean))\n## # A tibble: 1 × 3\n##       x     y     z\n##   <dbl> <dbl> <dbl>\n## 1     2    11    22\nduplicate_flag <- FALSE\nduplicates <- tibble(x = 1:3, z = 21:23)\ndat_with_super_long_name %>%\n  {\n    if (duplicate_flag) {\n      . |> left_join(duplicates, by = 'x')\n    } else {\n      .\n    }\n  } %>%\n  summarize(across(everything(), mean))\n## # A tibble: 1 × 2\n##       x     y\n##   <dbl> <dbl>\n## 1     2    11\nIn the past, I have written code like this too. Nowadays, though, I try to break out such things into their own functions. Preferably, one with a descriptive function name.\nThat way,\nthe base-R pipe can handle this much better,\nmy original chain hopefully stays short, and\nwhen I outsource the helper functions to a separate script, the function name hopefully still tells me what it does.\nTRUE\nFALSE\nleft_join_if_duplicate <- function(dat, duplicate_flag) {\n  if (duplicate_flag) {\n    dat |> left_join(duplicates, by = 'x') \n  } else {\n    dat\n  }\n}\nduplicate_flag <- TRUE\ndat_with_super_long_name |> \n  left_join_if_duplicate(duplicate_flag) |> \n  summarize(across(everything(), mean))\n## # A tibble: 1 × 3\n##       x     y     z\n##   <dbl> <dbl> <dbl>\n## 1     2    11    22\nleft_join_if_duplicate <- function(dat, duplicate_flag) {\n  if (duplicate_flag) {\n    dat |> left_join(duplicates, by = 'x') \n  } else {\n    dat\n  }\n}\nduplicate_flag <- FALSE\ndat_with_super_long_name |> \n  left_join_if_duplicate(duplicate_flag) |> \n  summarize(across(everything(), mean))\n## # A tibble: 1 × 2\n##       x     y\n##   <dbl> <dbl>\n## 1     2    11\nRelated\nTo\nleave a comment\nfor the author, please follow the link and comment on their blog:\nAlbert Rapp\n.\nR-bloggers.com\noffers\ndaily e-mail updates\nabout\nR\nnews and tutorials about\nlearning R\nand many other topics.\nClick here if you're looking to post or find an R/data-science job\n.\nWant to share your content on R-bloggers?\nclick here\nif you have a blog, or\nhere\nif you don't.",
      "meta_description": "Beginners are sometimes confused by the fact that some R users use the native Base R pipe |> and others use the {magrittr} pipe %>%. So in today’s video, I want to compare the two and show you the strengths and weaknesses of each one. Le...",
      "meta_keywords": null,
      "og_description": "Beginners are sometimes confused by the fact that some R users use the native Base R pipe |> and others use the {magrittr} pipe %>%. So in today’s video, I want to compare the two and show you the strengths and weaknesses of each one. Le...",
      "og_image": "https://albert-rapp.de/posts/31_pipes_compared/pipe-setting.png",
      "og_title": "Comparing pipes: Base-R |> vs {magrittr} %>% | R-bloggers",
      "raw_jsonld_article": null,
      "reading_time_min": 5.3,
      "sitemap_lastmod": null,
      "twitter_description": "Beginners are sometimes confused by the fact that some R users use the native Base R pipe |> and others use the {magrittr} pipe %>%. So in today’s video, I want to compare the two and show you the strengths and weaknesses of each one. Le...",
      "twitter_title": "Comparing pipes: Base-R |> vs {magrittr} %>% | R-bloggers",
      "url": "https://www.r-bloggers.com/2025/01/comparing-pipes-base-r-vs-magrittr/",
      "word_count": 1056
    }
  }
}