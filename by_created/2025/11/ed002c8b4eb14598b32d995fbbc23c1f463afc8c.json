{
  "id": "ed002c8b4eb14598b32d995fbbc23c1f463afc8c",
  "url": "https://www.r-bloggers.com/2023/10/sine-wave-plotting-with-digits/",
  "created_at_utc": "2025-11-17T20:39:35Z",
  "data": null,
  "raw_original": {
    "uuid": "07f784c8-fa2b-4642-8276-b1aca47d9f65",
    "created_at": "2025-11-17 20:39:35",
    "raw_json": {
      "article_author": null,
      "article_headline": null,
      "article_modified": null,
      "article_published": null,
      "article_section": null,
      "article_tags": null,
      "canonical_url": "https://www.r-bloggers.com/2023/10/sine-wave-plotting-with-digits/",
      "crawled_at": "2025-11-17T10:07:49.810063",
      "external_links": [
        {
          "href": "https://medium.com/number-around-us/sine-wave-plotting-with-digits-6f007f5ff2af",
          "text": "Numbers around us - Medium"
        },
        {
          "href": "http://r-posts.com/",
          "text": "here"
        },
        {
          "href": "https://www.linkedin.com/in/excelbi",
          "text": "ExcelBI"
        },
        {
          "href": "https://www.linkedin.com/feed/update/urn:li:activity:7119894800329261058/",
          "text": "link"
        },
        {
          "href": "https://medium.com/number-around-us/sine-wave-plotting-with-digits-6f007f5ff2af",
          "text": "Sine Wave (plotting with digits)"
        },
        {
          "href": "https://medium.com/number-around-us",
          "text": "Numbers around us"
        },
        {
          "href": "https://medium.com/number-around-us/sine-wave-plotting-with-digits-6f007f5ff2af",
          "text": "Numbers around us - Medium"
        },
        {
          "href": "https://feedburner.google.com/fb/a/mailverify?uri=RBloggers",
          "text": "daily e-mail updates"
        },
        {
          "href": "https://www.r-project.org/",
          "text": "R"
        },
        {
          "href": "https://www.r-users.com/",
          "text": "Click here if you're looking to post or find an R/data-science job"
        },
        {
          "href": "http://r-posts.com/",
          "text": "here"
        }
      ],
      "h1_title": "R-bloggers",
      "html_title": "Sine Wave (plotting with digits) | R-bloggers",
      "images": [
        {
          "alt": null,
          "base64": "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",
          "src": "https://www.r-bloggers.com/wp-content/plugins/jetpack/modules/lazy-images/images/1x1.trans.gif"
        },
        {
          "alt": null,
          "base64": null,
          "src": "https://i1.wp.com/cdn-images-1.medium.com/max/1024/1*a-cq0xBwgDP53gam41c3Kg.png?w=578&ssl=1"
        },
        {
          "alt": null,
          "base64": "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",
          "src": "https://www.r-bloggers.com/wp-content/plugins/jetpack/modules/lazy-images/images/1x1.trans.gif"
        },
        {
          "alt": null,
          "base64": null,
          "src": "https://i2.wp.com/cdn-images-1.medium.com/max/557/1*Ks5gG9AfR_9kpUFVfhi6lw.png?w=578&ssl=1"
        },
        {
          "alt": null,
          "base64": "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",
          "src": "https://www.r-bloggers.com/wp-content/plugins/jetpack/modules/lazy-images/images/1x1.trans.gif"
        },
        {
          "alt": null,
          "base64": null,
          "src": "https://i1.wp.com/cdn-images-1.medium.com/max/636/1*0b3-OmPOrmhWFo4u3C6QOw.png?w=578&ssl=1"
        },
        {
          "alt": null,
          "base64": "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",
          "src": "https://www.r-bloggers.com/wp-content/plugins/jetpack/modules/lazy-images/images/1x1.trans.gif"
        },
        {
          "alt": null,
          "base64": null,
          "src": "https://i0.wp.com/cdn-images-1.medium.com/max/585/1*OjiQQAL2jYo2O4Y7aDWatw.png?w=578&ssl=1"
        },
        {
          "alt": null,
          "base64": "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",
          "src": "https://www.r-bloggers.com/wp-content/plugins/jetpack/modules/lazy-images/images/1x1.trans.gif"
        },
        {
          "alt": null,
          "base64": null,
          "src": "https://i0.wp.com/cdn-images-1.medium.com/max/536/1*ktEKDQIoK4RkMhk0giUAPw.png?w=578&ssl=1"
        },
        {
          "alt": null,
          "base64": "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",
          "src": "https://www.r-bloggers.com/wp-content/plugins/jetpack/modules/lazy-images/images/1x1.trans.gif"
        },
        {
          "alt": null,
          "base64": null,
          "src": "https://i2.wp.com/cdn-images-1.medium.com/max/785/1*KKVesrHEZKqtQFxtyJ7rbA.png?w=578&ssl=1"
        },
        {
          "alt": null,
          "base64": "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",
          "src": "https://www.r-bloggers.com/wp-content/plugins/jetpack/modules/lazy-images/images/1x1.trans.gif"
        },
        {
          "alt": null,
          "base64": null,
          "src": "https://i0.wp.com/cdn-images-1.medium.com/max/696/1*jp-YeN-KXWmsax50dxpX0g.png?w=578&ssl=1"
        },
        {
          "alt": null,
          "base64": "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",
          "src": "https://www.r-bloggers.com/wp-content/plugins/jetpack/modules/lazy-images/images/1x1.trans.gif"
        },
        {
          "alt": null,
          "base64": "data:application/octet-stream;base64,R0lGODlhAQABAO+/vQAA77+977+977+9AAAAIe+/vQQBAAAAACwAAAAAAQABAAACAkQBADs=",
          "src": "https://medium.com/_/stat?event=post.clientViewed&referrerSource=full_rss&postId=6f007f5ff2af"
        }
      ],
      "internal_links": [
        {
          "href": "https://www.r-bloggers.com/author/numbers-around-us/",
          "text": "Numbers around us"
        },
        {
          "href": "https://www.r-bloggers.com/category/r-bloggers/",
          "text": "R bloggers"
        },
        {
          "href": "https://www.r-bloggers.com/",
          "text": "R-bloggers"
        },
        {
          "href": "https://www.r-bloggers.com/contact-us/",
          "text": "here"
        },
        {
          "href": "https://www.r-bloggers.com/add-your-blog/",
          "text": "click here"
        },
        {
          "href": "https://www.r-bloggers.com/",
          "text": "R-bloggers.com"
        },
        {
          "href": "https://www.r-bloggers.com/how-to-learn-r-2/",
          "text": "learning R"
        },
        {
          "href": "https://www.r-bloggers.com/add-your-blog/",
          "text": "click here"
        }
      ],
      "lang": "en-US",
      "main_html": "<article class=\"post-379209 post type-post status-publish format-standard hentry category-r-bloggers\">\n<header class=\"post-header\">\n<h1 class=\"entry-title\">Sine Wave (plotting with digits)</h1>\n<p class=\"meta post-meta\">Posted on <span class=\"updated\">October 17, 2023</span>  by <span class=\"vcard author\"><a class=\"fn\" href=\"https://www.r-bloggers.com/author/numbers-around-us/\">Numbers around us</a></span>  in <a href=\"https://www.r-bloggers.com/category/r-bloggers/\" rel=\"category tag\">R bloggers</a> | 0 Comments</p>\n</header>\n<div class=\"entry clearfix\">\n<!-- \r\n<div style=\"min-height: 30px;\">\r\n[social4i size=\"small\" align=\"align-left\"]\r\n</div>\r\n-->\n<div style=\"border: 1px solid; background: none repeat scroll 0 0 #EDEDED; margin: 1px; font-size: 12px;\">\r\n[This article was first published on  <strong><a href=\"https://medium.com/number-around-us/sine-wave-plotting-with-digits-6f007f5ff2af\"> Numbers around us - Medium</a></strong>, and kindly contributed to <a href=\"https://www.r-bloggers.com/\" rel=\"nofollow\">R-bloggers</a>].  (You can report issue about the content on this page <a href=\"https://www.r-bloggers.com/contact-us/\">here</a>)\r\n<hr/>Want to share your content on R-bloggers?<a href=\"https://www.r-bloggers.com/add-your-blog/\" rel=\"nofollow\"> click here</a> if you have a blog, or <a href=\"http://r-posts.com/\" rel=\"nofollow\"> here</a> if you don't.\r\n</div>\n\n<!-- Share buttons by mashshare.net - Version: 3.8.9--><p>Excel BI’s Excel Challenge #305 — solved in R</p><figure><img alt=\"\" data-lazy-src=\"https://i1.wp.com/cdn-images-1.medium.com/max/1024/1*a-cq0xBwgDP53gam41c3Kg.png?w=578&amp;ssl=1\" data-recalc-dims=\"1\" src=\"https://www.r-bloggers.com/wp-content/plugins/jetpack/modules/lazy-images/images/1x1.trans.gif\"/><noscript><img alt=\"\" data-recalc-dims=\"1\" src=\"https://i1.wp.com/cdn-images-1.medium.com/max/1024/1*a-cq0xBwgDP53gam41c3Kg.png?w=578&amp;ssl=1\"/></noscript></figure><h3>Defining the Puzzle</h3><p>Today task from <a href=\"https://www.linkedin.com/in/excelbi\" rel=\"nofollow\" target=\"_blank\">ExcelBI</a> which is under this <a href=\"https://www.linkedin.com/feed/update/urn:li:activity:7119894800329261058/\" rel=\"nofollow\" target=\"_blank\">link</a> has another approach. We are not manipulate numbers or string to check their properties, but we are painting with them. That is why I will not upload exercise file today. Here it is:<br/>Print Sine Wave for Amplitudes given in B2<br/>Example for Amplitudes 2, 3 and 4 are given.<br/>Always 5 columns only need to be filled in.</p><p>And it looks like this when ready:</p><figure><img alt=\"\" data-lazy-src=\"https://i2.wp.com/cdn-images-1.medium.com/max/557/1*Ks5gG9AfR_9kpUFVfhi6lw.png?w=578&amp;ssl=1\" data-recalc-dims=\"1\" src=\"https://www.r-bloggers.com/wp-content/plugins/jetpack/modules/lazy-images/images/1x1.trans.gif\"/><noscript><img alt=\"\" data-recalc-dims=\"1\" src=\"https://i2.wp.com/cdn-images-1.medium.com/max/557/1*Ks5gG9AfR_9kpUFVfhi6lw.png?w=578&amp;ssl=1\"/></noscript></figure><p>So let’s start it in R. Our pictures (sine waves) will be printed in console.</p><pre>library(tibble)\nlibrary(purrr)\nlibrary(data.table)</pre><h3>Approach 1: Tidyverse with purrr</h3><pre>generate_wave &lt;- function(amp) {\n n_rows &lt;- 2 * amp — 1\n generate_palindrome &lt;- function(base) {\n sequence &lt;- base:1\n number &lt;- c(sequence, rev(sequence[-length(sequence)]))\n return(paste0(number, collapse = “”))\n }\n\nsingle_column &lt;- rep(NA, n_rows)\n seq = c(1:amp, (amp-1):1)\n table = tibble(row = seq) %&gt;%\n mutate(row_number = row_number(),\n col1 = map_chr(row, ~generate_palindrome(.x)),\n col2 = col1,\n col3 = col1,\n col4 = col1,\n col5 = col1) %&gt;%\n mutate_at(vars(col1, col3, col5), \n ~ifelse(row_number &gt; amp, “ “, .)) %&gt;%\n mutate_at(vars(col2, col4), \n ~ifelse(row_number &lt; amp, “ “, .)) %&gt;%\n mutate_at(vars(col1, col2, col3, col4, col5), \n ~str_pad(., max(nchar(.), na.rm = TRUE), side = “both”)) %&gt;%\n select(-c(row_number, row))\n return(table)\n}\n\nx &lt;- generate_wave(6)\nprint(x, n = Inf)</pre><figure><img alt=\"\" data-lazy-src=\"https://i1.wp.com/cdn-images-1.medium.com/max/636/1*0b3-OmPOrmhWFo4u3C6QOw.png?w=578&amp;ssl=1\" data-recalc-dims=\"1\" src=\"https://www.r-bloggers.com/wp-content/plugins/jetpack/modules/lazy-images/images/1x1.trans.gif\"/><noscript><img alt=\"\" data-recalc-dims=\"1\" src=\"https://i1.wp.com/cdn-images-1.medium.com/max/636/1*0b3-OmPOrmhWFo4u3C6QOw.png?w=578&amp;ssl=1\"/></noscript></figure><h3>Approach 2: Base R</h3><pre>generate_wave_base &lt;- function(amp) {\n n_rows &lt;- 2 * amp — 1\n \n generate_palindrome &lt;- function(base) {\n sequence &lt;- base:1\n number &lt;- c(sequence, rev(sequence[-length(sequence)]))\n return(paste0(number, collapse = “”))\n }\n \n seq &lt;- c(1:amp, (amp-1):1)\n table &lt;- data.frame(row = seq)\n table$row_number &lt;- seq_along(table$row)\n \n table$col1 &lt;- sapply(table$row, generate_palindrome)\n table$col2 &lt;- table$col1\n table$col3 &lt;- table$col1\n table$col4 &lt;- table$col1\n table$col5 &lt;- table$col1\n \n condition_space &lt;- table$row_number &gt; amp\n condition_empty &lt;- table$row_number &lt; amp\n \n table$col1[condition_space] &lt;- “ “\n table$col3[condition_space] &lt;- “ “\n table$col5[condition_space] &lt;- “ “\n \n table$col2[condition_empty] &lt;- “ “\n table$col4[condition_empty] &lt;- “ “\n \n max_length &lt;- max(nchar(c(table$col1, table$col2, table$col3, table$col4, table$col5)), na.rm = TRUE)\n \n pad_string &lt;- function(string, max_length) {\n current_length &lt;- nchar(string)\n side_length &lt;- (max_length — current_length) %/% 2\n return(paste0(paste(rep(“ “, side_length), collapse = “”), string))\n }\n \n table$col1 &lt;- sapply(table$col1, pad_string, max_length = max_length)\n table$col2 &lt;- sapply(table$col2, pad_string, max_length = max_length)\n table$col3 &lt;- sapply(table$col3, pad_string, max_length = max_length)\n table$col4 &lt;- sapply(table$col4, pad_string, max_length = max_length)\n table$col5 &lt;- sapply(table$col5, pad_string, max_length = max_length)\n \n table$row_number &lt;- NULL\n table$row &lt;- NULL\n \n table = as_tibble(table)\n \n return(table)\n}\n\nx_base = generate_wave_base(6)\nprint(x_base)</pre><figure><img alt=\"\" data-lazy-src=\"https://i0.wp.com/cdn-images-1.medium.com/max/585/1*OjiQQAL2jYo2O4Y7aDWatw.png?w=578&amp;ssl=1\" data-recalc-dims=\"1\" src=\"https://www.r-bloggers.com/wp-content/plugins/jetpack/modules/lazy-images/images/1x1.trans.gif\"/><noscript><img alt=\"\" data-recalc-dims=\"1\" src=\"https://i0.wp.com/cdn-images-1.medium.com/max/585/1*OjiQQAL2jYo2O4Y7aDWatw.png?w=578&amp;ssl=1\"/></noscript></figure><h3>Approach 3: Data.table</h3><pre>generate_wave_dt &lt;- function(amp) {\n n_rows &lt;- 2 * amp — 1\n \n generate_palindrome &lt;- function(base) {\n sequence &lt;- base:1\n number &lt;- c(sequence, rev(sequence[-length(sequence)]))\n return(paste0(number, collapse = “”))\n }\n \n seq &lt;- c(1:amp, (amp-1):1)\n table &lt;- data.table(row = seq)\n \n table[, row_number := .I] \n table[, col1 := sapply(row, generate_palindrome)]\n \n table[, `:=` (col2 = col1, col3 = col1, col4 = col1, col5 = col1)]\n \n table[row_number &gt; amp, `:=` (col1 = “ “, col3 = “ “, col5 = “ “)]\n table[row_number &lt; amp, `:=` (col2 = “ “, col4 = “ “)]\n\nmax_length &lt;- max(nchar(c(table$col1, table$col2, table$col3, table$col4, table$col5)), na.rm = TRUE\n\npad_string &lt;- function(strings, max_length) {\n padded_strings &lt;- vapply(strings, function(string) {\n current_length &lt;- nchar(string)\n \n total_padding &lt;- max_length — current_length\n \n if (total_padding &lt;= 0) return(string)\n \n side_padding &lt;- floor(total_padding / 2)\n\npadded_string &lt;- paste0(\n strrep(“ “, side_padding), \n string, \n strrep(“ “, total_padding — side_padding) \n )\n return(padded_string)\n }, FUN.VALUE = character(1)) \n return(padded_strings)\n }\n \n table[, (c(“col1”, “col2”, “col3”, “col4”, “col5”)) := lapply(.SD, function(x) pad_string(x, max_length)), .SDcols = c(“col1”, “col2”, “col3”, “col4”, “col5”)]\n table[, c(“row_number”, “row”) := NULL]\n \n return(table)\n}\n\nx_dt = generate_wave_dt(6)\nprint(x_dt)</pre><figure><img alt=\"\" data-lazy-src=\"https://i0.wp.com/cdn-images-1.medium.com/max/536/1*ktEKDQIoK4RkMhk0giUAPw.png?w=578&amp;ssl=1\" data-recalc-dims=\"1\" src=\"https://www.r-bloggers.com/wp-content/plugins/jetpack/modules/lazy-images/images/1x1.trans.gif\"/><noscript><img alt=\"\" data-recalc-dims=\"1\" src=\"https://i0.wp.com/cdn-images-1.medium.com/max/536/1*ktEKDQIoK4RkMhk0giUAPw.png?w=578&amp;ssl=1\"/></noscript></figure><h3>Validation</h3><p>As we don’t have to validate it another way than looking at them and confirm that it looks like sine wave, I can say, it works well. Let check how it will look with not 6 but 9 digits.</p><figure><img alt=\"\" data-lazy-src=\"https://i2.wp.com/cdn-images-1.medium.com/max/785/1*KKVesrHEZKqtQFxtyJ7rbA.png?w=578&amp;ssl=1\" data-recalc-dims=\"1\" src=\"https://www.r-bloggers.com/wp-content/plugins/jetpack/modules/lazy-images/images/1x1.trans.gif\"/><noscript><img alt=\"\" data-recalc-dims=\"1\" src=\"https://i2.wp.com/cdn-images-1.medium.com/max/785/1*KKVesrHEZKqtQFxtyJ7rbA.png?w=578&amp;ssl=1\"/></noscript></figure><p>However I make little bechmark as well to check which is best in time consumption:</p><pre>library(microbenchmark)\nmicrobenchmark(generate_wave(6), generate_wave_base(6), generate_wave_dt(6), times\n = 100)</pre><figure><img alt=\"\" data-lazy-src=\"https://i0.wp.com/cdn-images-1.medium.com/max/696/1*jp-YeN-KXWmsax50dxpX0g.png?w=578&amp;ssl=1\" data-recalc-dims=\"1\" src=\"https://www.r-bloggers.com/wp-content/plugins/jetpack/modules/lazy-images/images/1x1.trans.gif\"/><noscript><img alt=\"\" data-recalc-dims=\"1\" src=\"https://i0.wp.com/cdn-images-1.medium.com/max/696/1*jp-YeN-KXWmsax50dxpX0g.png?w=578&amp;ssl=1\"/></noscript></figure><p>And what we see? Easiest to do are ussually not fast enough. Fastest one is base R approach, but it has very important cause: base approach is basing on simple, but computationally powerful data structure: matrix.</p><p>Do not hesitate to show your approaches in R or even Python. Comment, share and come back for next puzzles.</p><img alt=\"\" data-lazy-src=\"https://medium.com/_/stat?event=post.clientViewed&amp;referrerSource=full_rss&amp;postId=6f007f5ff2af\" height=\"1\" loading=\"lazy\" src=\"https://www.r-bloggers.com/wp-content/plugins/jetpack/modules/lazy-images/images/1x1.trans.gif\" width=\"1\"/><noscript><img alt=\"\" height=\"1\" loading=\"lazy\" src=\"https://medium.com/_/stat?event=post.clientViewed&amp;referrerSource=full_rss&amp;postId=6f007f5ff2af\" width=\"1\"/></noscript><hr/><p><a href=\"https://medium.com/number-around-us/sine-wave-plotting-with-digits-6f007f5ff2af\" rel=\"nofollow\" target=\"_blank\">Sine Wave (plotting with digits)</a> was originally published in <a href=\"https://medium.com/number-around-us\" rel=\"nofollow\" target=\"_blank\">Numbers around us</a> on Medium, where people are continuing the conversation by highlighting and responding to this story.</p>\n<div class=\"jp-relatedposts\" id=\"jp-relatedposts\">\n<h3 class=\"jp-relatedposts-headline\"><em>Related</em></h3>\n</div>\n<!-- Share buttons by mashshare.net - Version: 3.8.9-->\n<div style=\"border: 1px solid; background: none repeat scroll 0 0 #EDEDED; margin: 1px; font-size: 13px;\">\n<div style=\"text-align: center;\">To <strong>leave a comment</strong> for the author, please follow the link and comment on their blog: <strong><a href=\"https://medium.com/number-around-us/sine-wave-plotting-with-digits-6f007f5ff2af\"> Numbers around us - Medium</a></strong>.</div>\n<hr>\n<a href=\"https://www.r-bloggers.com/\" rel=\"nofollow\">R-bloggers.com</a> offers <strong><a href=\"https://feedburner.google.com/fb/a/mailverify?uri=RBloggers\" rel=\"nofollow\">daily e-mail updates</a></strong> about <a href=\"https://www.r-project.org/\" rel=\"nofollow\" title=\"The R Project for Statistical Computing\">R</a> news and tutorials about <a href=\"https://www.r-bloggers.com/how-to-learn-r-2/\" rel=\"nofollow\" title=\"R tutorials\">learning R</a> and many other topics. <a href=\"https://www.r-users.com/\" rel=\"nofollow\" title=\"Data science jobs\">Click here if you're looking to post or find an R/data-science job</a>.\r\n\r\n<hr/>Want to share your content on R-bloggers?<a href=\"https://www.r-bloggers.com/add-your-blog/\" rel=\"nofollow\"> click here</a> if you have a blog, or <a href=\"http://r-posts.com/\" rel=\"nofollow\"> here</a> if you don't.\r\n</hr></div> </div>\n</article>",
      "main_text": "Sine Wave (plotting with digits)\nPosted on\nOctober 17, 2023\nby\nNumbers around us\nin\nR bloggers\n| 0 Comments\n[This article was first published on\nNumbers around us - Medium\n, and kindly contributed to\nR-bloggers\n].  (You can report issue about the content on this page\nhere\n)\nWant to share your content on R-bloggers?\nclick here\nif you have a blog, or\nhere\nif you don't.\nExcel BI’s Excel Challenge #305 — solved in R\nDefining the Puzzle\nToday task from\nExcelBI\nwhich is under this\nlink\nhas another approach. We are not manipulate numbers or string to check their properties, but we are painting with them. That is why I will not upload exercise file today. Here it is:\nPrint Sine Wave for Amplitudes given in B2\nExample for Amplitudes 2, 3 and 4 are given.\nAlways 5 columns only need to be filled in.\nAnd it looks like this when ready:\nSo let’s start it in R. Our pictures (sine waves) will be printed in console.\nlibrary(tibble)\nlibrary(purrr)\nlibrary(data.table)\nApproach 1: Tidyverse with purrr\ngenerate_wave <- function(amp) {\n n_rows <- 2 * amp — 1\n generate_palindrome <- function(base) {\n sequence <- base:1\n number <- c(sequence, rev(sequence[-length(sequence)]))\n return(paste0(number, collapse = “”))\n }\n\nsingle_column <- rep(NA, n_rows)\n seq = c(1:amp, (amp-1):1)\n table = tibble(row = seq) %>%\n mutate(row_number = row_number(),\n col1 = map_chr(row, ~generate_palindrome(.x)),\n col2 = col1,\n col3 = col1,\n col4 = col1,\n col5 = col1) %>%\n mutate_at(vars(col1, col3, col5), \n ~ifelse(row_number > amp, “ “, .)) %>%\n mutate_at(vars(col2, col4), \n ~ifelse(row_number < amp, “ “, .)) %>%\n mutate_at(vars(col1, col2, col3, col4, col5), \n ~str_pad(., max(nchar(.), na.rm = TRUE), side = “both”)) %>%\n select(-c(row_number, row))\n return(table)\n}\n\nx <- generate_wave(6)\nprint(x, n = Inf)\nApproach 2: Base R\ngenerate_wave_base <- function(amp) {\n n_rows <- 2 * amp — 1\n \n generate_palindrome <- function(base) {\n sequence <- base:1\n number <- c(sequence, rev(sequence[-length(sequence)]))\n return(paste0(number, collapse = “”))\n }\n \n seq <- c(1:amp, (amp-1):1)\n table <- data.frame(row = seq)\n table$row_number <- seq_along(table$row)\n \n table$col1 <- sapply(table$row, generate_palindrome)\n table$col2 <- table$col1\n table$col3 <- table$col1\n table$col4 <- table$col1\n table$col5 <- table$col1\n \n condition_space <- table$row_number > amp\n condition_empty <- table$row_number < amp\n \n table$col1[condition_space] <- “ “\n table$col3[condition_space] <- “ “\n table$col5[condition_space] <- “ “\n \n table$col2[condition_empty] <- “ “\n table$col4[condition_empty] <- “ “\n \n max_length <- max(nchar(c(table$col1, table$col2, table$col3, table$col4, table$col5)), na.rm = TRUE)\n \n pad_string <- function(string, max_length) {\n current_length <- nchar(string)\n side_length <- (max_length — current_length) %/% 2\n return(paste0(paste(rep(“ “, side_length), collapse = “”), string))\n }\n \n table$col1 <- sapply(table$col1, pad_string, max_length = max_length)\n table$col2 <- sapply(table$col2, pad_string, max_length = max_length)\n table$col3 <- sapply(table$col3, pad_string, max_length = max_length)\n table$col4 <- sapply(table$col4, pad_string, max_length = max_length)\n table$col5 <- sapply(table$col5, pad_string, max_length = max_length)\n \n table$row_number <- NULL\n table$row <- NULL\n \n table = as_tibble(table)\n \n return(table)\n}\n\nx_base = generate_wave_base(6)\nprint(x_base)\nApproach 3: Data.table\ngenerate_wave_dt <- function(amp) {\n n_rows <- 2 * amp — 1\n \n generate_palindrome <- function(base) {\n sequence <- base:1\n number <- c(sequence, rev(sequence[-length(sequence)]))\n return(paste0(number, collapse = “”))\n }\n \n seq <- c(1:amp, (amp-1):1)\n table <- data.table(row = seq)\n \n table[, row_number := .I] \n table[, col1 := sapply(row, generate_palindrome)]\n \n table[, `:=` (col2 = col1, col3 = col1, col4 = col1, col5 = col1)]\n \n table[row_number > amp, `:=` (col1 = “ “, col3 = “ “, col5 = “ “)]\n table[row_number < amp, `:=` (col2 = “ “, col4 = “ “)]\n\nmax_length <- max(nchar(c(table$col1, table$col2, table$col3, table$col4, table$col5)), na.rm = TRUE\n\npad_string <- function(strings, max_length) {\n padded_strings <- vapply(strings, function(string) {\n current_length <- nchar(string)\n \n total_padding <- max_length — current_length\n \n if (total_padding <= 0) return(string)\n \n side_padding <- floor(total_padding / 2)\n\npadded_string <- paste0(\n strrep(“ “, side_padding), \n string, \n strrep(“ “, total_padding — side_padding) \n )\n return(padded_string)\n }, FUN.VALUE = character(1)) \n return(padded_strings)\n }\n \n table[, (c(“col1”, “col2”, “col3”, “col4”, “col5”)) := lapply(.SD, function(x) pad_string(x, max_length)), .SDcols = c(“col1”, “col2”, “col3”, “col4”, “col5”)]\n table[, c(“row_number”, “row”) := NULL]\n \n return(table)\n}\n\nx_dt = generate_wave_dt(6)\nprint(x_dt)\nValidation\nAs we don’t have to validate it another way than looking at them and confirm that it looks like sine wave, I can say, it works well. Let check how it will look with not 6 but 9 digits.\nHowever I make little bechmark as well to check which is best in time consumption:\nlibrary(microbenchmark)\nmicrobenchmark(generate_wave(6), generate_wave_base(6), generate_wave_dt(6), times\n = 100)\nAnd what we see? Easiest to do are ussually not fast enough. Fastest one is base R approach, but it has very important cause: base approach is basing on simple, but computationally powerful data structure: matrix.\nDo not hesitate to show your approaches in R or even Python. Comment, share and come back for next puzzles.\nSine Wave (plotting with digits)\nwas originally published in\nNumbers around us\non Medium, where people are continuing the conversation by highlighting and responding to this story.\nRelated\nTo\nleave a comment\nfor the author, please follow the link and comment on their blog:\nNumbers around us - Medium\n.\nR-bloggers.com\noffers\ndaily e-mail updates\nabout\nR\nnews and tutorials about\nlearning R\nand many other topics.\nClick here if you're looking to post or find an R/data-science job\n.\nWant to share your content on R-bloggers?\nclick here\nif you have a blog, or\nhere\nif you don't.",
      "meta_description": "Excel BI’s Excel Challenge #305 — solved in RDefining the PuzzleToday task from ExcelBI which is under this link has another approach. We are not manipulate numbers or string to check their properties, but we are painting with them. That is why I will ...",
      "meta_keywords": null,
      "og_description": "Excel BI’s Excel Challenge #305 — solved in RDefining the PuzzleToday task from ExcelBI which is under this link has another approach. We are not manipulate numbers or string to check their properties, but we are painting with them. That is why I will ...",
      "og_image": "https://cdn-images-1.medium.com/max/1024/1*a-cq0xBwgDP53gam41c3Kg.png",
      "og_title": "Sine Wave (plotting with digits) | R-bloggers",
      "raw_jsonld_article": null,
      "reading_time_min": 4.2,
      "sitemap_lastmod": "2023-10-17T08:51:37+00:00",
      "twitter_description": "Excel BI’s Excel Challenge #305 — solved in RDefining the PuzzleToday task from ExcelBI which is under this link has another approach. We are not manipulate numbers or string to check their properties, but we are painting with them. That is why I will ...",
      "twitter_title": "Sine Wave (plotting with digits) | R-bloggers",
      "url": "https://www.r-bloggers.com/2023/10/sine-wave-plotting-with-digits/",
      "word_count": 846
    }
  }
}