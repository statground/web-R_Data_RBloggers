{
  "uuid": "5d084ab6-9580-4261-8c24-b943e220dbb5",
  "created_at": "2025-11-17 20:39:24",
  "raw_json": {
    "article_author": null,
    "article_headline": null,
    "article_modified": null,
    "article_published": null,
    "article_section": null,
    "article_tags": null,
    "canonical_url": "https://www.r-bloggers.com/2023/11/sluggish-system-or-client-code/",
    "crawled_at": "2025-11-17T10:00:57.397930",
    "external_links": [
      {
        "href": "https://www.jumpingrivers.com/blog/dplyr-debugging-posit-diffify/",
        "text": "The Jumping Rivers Blog"
      },
      {
        "href": "http://r-posts.com/",
        "text": "here"
      },
      {
        "href": "https://www.jumpingrivers.com/blog/dplyr-debugging-posit-diffify/",
        "text": null
      },
      {
        "href": "https://www.jumpingrivers.com/consultancy/managed-rstudio-rsconnect-cloud-production/?utm_source=blog&utm_medium=banner&utm_campaign=2023-dplyr-debugging-posit-diffify",
        "text": "managed Posit"
      },
      {
        "href": "https://www.nngroup.com/articles/response-times-3-important-limits/",
        "text": "distract from"
      },
      {
        "href": "https://www.jumpingrivers.com/blog/improving-responsiveness-shiny-applications/",
        "text": "they may not use it"
      },
      {
        "href": "https://dplyr.tidyverse.org/",
        "text": "{dplyr}"
      },
      {
        "href": "https://diffify.com/R/dplyr/1.0.10/1.1.0",
        "text": "Diffify"
      },
      {
        "href": "https://cran.r-project.org/",
        "text": "CRAN"
      },
      {
        "href": "https://pypi.org/",
        "text": "PyPI"
      },
      {
        "href": "https://www.jumpingrivers.com/contact/",
        "text": "get in touch"
      },
      {
        "href": "https://www.jumpingrivers.com/posit/",
        "text": "Full Service Certified Posit Partners"
      },
      {
        "href": "https://posit.co/certified-partners/",
        "text": "Posit"
      },
      {
        "href": "https://www.jumpingrivers.com/blog/dplyr-debugging-posit-diffify/",
        "text": "original post"
      },
      {
        "href": "https://www.jumpingrivers.com/blog/dplyr-debugging-posit-diffify/",
        "text": "The Jumping Rivers Blog"
      },
      {
        "href": "https://feedburner.google.com/fb/a/mailverify?uri=RBloggers",
        "text": "daily e-mail updates"
      },
      {
        "href": "https://www.r-project.org/",
        "text": "R"
      },
      {
        "href": "https://www.r-users.com/",
        "text": "Click here if you're looking to post or find an R/data-science job"
      },
      {
        "href": "http://r-posts.com/",
        "text": "here"
      }
    ],
    "h1_title": "R-bloggers",
    "html_title": "Sluggish system or client code? | R-bloggers",
    "images": [
      {
        "alt": null,
        "base64": "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",
        "src": "https://www.r-bloggers.com/wp-content/plugins/jetpack/modules/lazy-images/images/1x1.trans.gif"
      },
      {
        "alt": null,
        "base64": null,
        "src": "https://i1.wp.com/www.jumpingrivers.com/blog/dplyr-debugging-posit-diffify/featured.png?w=400&ssl=1"
      },
      {
        "alt": "Screenshot of Diffify showing the News updates comparing dplyr version 1.1.1 with 1.0.10.",
        "base64": "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",
        "src": "https://www.r-bloggers.com/wp-content/plugins/jetpack/modules/lazy-images/images/1x1.trans.gif"
      },
      {
        "alt": "Screenshot of Diffify showing the News updates comparing dplyr version 1.1.1 with 1.0.10.",
        "base64": null,
        "src": "https://i2.wp.com/www.jumpingrivers.com/blog/dplyr-debugging-posit-diffify/diffify-screenshot.png?w=578&ssl=1"
      }
    ],
    "internal_links": [
      {
        "href": "https://www.r-bloggers.com/author/the-jumping-rivers-blog/",
        "text": "The Jumping Rivers Blog"
      },
      {
        "href": "https://www.r-bloggers.com/category/r-bloggers/",
        "text": "R bloggers"
      },
      {
        "href": "https://www.r-bloggers.com/",
        "text": "R-bloggers"
      },
      {
        "href": "https://www.r-bloggers.com/contact-us/",
        "text": "here"
      },
      {
        "href": "https://www.r-bloggers.com/add-your-blog/",
        "text": "click here"
      },
      {
        "href": "https://www.r-bloggers.com/",
        "text": "R-bloggers.com"
      },
      {
        "href": "https://www.r-bloggers.com/how-to-learn-r-2/",
        "text": "learning R"
      },
      {
        "href": "https://www.r-bloggers.com/add-your-blog/",
        "text": "click here"
      }
    ],
    "lang": "en-US",
    "main_html": "<article class=\"post-379576 post type-post status-publish format-standard hentry category-r-bloggers\">\n<header class=\"post-header\">\n<h1 class=\"entry-title\">Sluggish system or client code?</h1>\n<p class=\"meta post-meta\">Posted on <span class=\"updated\">November 2, 2023</span>  by <span class=\"vcard author\"><a class=\"fn\" href=\"https://www.r-bloggers.com/author/the-jumping-rivers-blog/\">The Jumping Rivers Blog</a></span>  in <a href=\"https://www.r-bloggers.com/category/r-bloggers/\" rel=\"category tag\">R bloggers</a> | 0 Comments</p>\n</header>\n<div class=\"entry clearfix\">\n<!-- \r\n<div style=\"min-height: 30px;\">\r\n[social4i size=\"small\" align=\"align-left\"]\r\n</div>\r\n-->\n<div style=\"border: 1px solid; background: none repeat scroll 0 0 #EDEDED; margin: 1px; font-size: 12px;\">\r\n[This article was first published on  <strong><a href=\"https://www.jumpingrivers.com/blog/dplyr-debugging-posit-diffify/\"> The Jumping Rivers Blog</a></strong>, and kindly contributed to <a href=\"https://www.r-bloggers.com/\" rel=\"nofollow\">R-bloggers</a>].  (You can report issue about the content on this page <a href=\"https://www.r-bloggers.com/contact-us/\">here</a>)\r\n<hr/>Want to share your content on R-bloggers?<a href=\"https://www.r-bloggers.com/add-your-blog/\" rel=\"nofollow\"> click here</a> if you have a blog, or <a href=\"http://r-posts.com/\" rel=\"nofollow\"> here</a> if you don't.\r\n</div>\n\n<!-- Share buttons by mashshare.net - Version: 3.8.9-->\n<p>\n<a href=\"https://www.jumpingrivers.com/blog/dplyr-debugging-posit-diffify/\">\n<img class=\"image-center\" data-lazy-src=\"https://i1.wp.com/www.jumpingrivers.com/blog/dplyr-debugging-posit-diffify/featured.png?w=400&amp;ssl=1\" data-recalc-dims=\"1\" src=\"https://www.r-bloggers.com/wp-content/plugins/jetpack/modules/lazy-images/images/1x1.trans.gif\" style=\"width:400px\"/><noscript><img class=\"image-center\" data-recalc-dims=\"1\" src=\"https://i1.wp.com/www.jumpingrivers.com/blog/dplyr-debugging-posit-diffify/featured.png?w=400&amp;ssl=1\" style=\"display: block; margin: auto;\"/></noscript>\n</a>\n</p>\n<p>Over the course of several weeks, we worked to deploy a one-stop data science platform for data analysis and visualisation for one of our clients. This platform consisted of interconnected applications, which are the motor that enables the productivity of the data scientists sitting at the wheel.</p>\n<p>The components of the platform were:</p>\n<ul>\n<li><em>Gitlab</em>: where data scientists can develop and share their code using all the benefits of Git version control.</li>\n<li><em>Posit Workbench</em>: which hosts development environments such as RStudio on beefy servers, with far more computational power compared to IDEs on local machines.</li>\n<li><em>Posit Connect</em>: which allows data scientists to easily share data, dashboards and reports. It allows the sharing of documents, reports, interactive web applications, as well as hosting Application Programmatic Interfaces (APIs).</li>\n<li><em>Posit Package Manger</em>: which allows for the organisation, centralisation and distribution of code packages. It provides a mirror of R and Python packages, downloaded from external sources such as CRAN (the Comprehensive R Archive Network). It also provides a way for internally-developed R and Python packages to be shared, if the client wishes.</li>\n</ul>\n<hr>\n<p>\n\tDo you use Professional Posit Products? If so, check out our <a href=\"https://www.jumpingrivers.com/consultancy/managed-rstudio-rsconnect-cloud-production/?utm_source=blog&amp;utm_medium=banner&amp;utm_campaign=2023-dplyr-debugging-posit-diffify\" rel=\"nofollow\" target=\"_blank\">managed Posit</a> services\n\t</p>\n<hr/>\n<h3 id=\"our-deployment-philosophy\">Our deployment philosophy</h3>\n<p>When we deploy these components together, we do so in such a way that they enhance each other’s functionality; the sum is greater than its parts. For instance, we:</p>\n<ul>\n<li>Allow users to use the same authentication across all of these applications.</li>\n<li>Ensure that users are able to publish documents from Workbench to Connect out-of-the-box. Users don’t have to worry about specifying the correct URLs or ports for all of this to work.</li>\n<li>Ensure that users in Workbench can access any package they need (developed internally, or from popular external package repositories such as CRAN) via Package Manager, without any extra configurations required.</li>\n</ul>\n<p>Having all of these setup out-of-the-box means users can get straight to enjoying exploring and utilising the many ways in which Posit can increase productivity, without spending time on set-up.</p>\n<p>We also carry out disaster recovery, ensuring that in the event of the unexpected (server failure or data corruption, for example), we can recover all data from a backup.</p>\n<p>Finally, we carry out security hardening. Each component in our system is checked to ensure it operates to appropriate security standards. This means our infrastructure is secured to UK Government (National Cyber Security Centre) standards, and certified by CREST-accredited cloud security professionals.</p>\n<h3 id=\"workbench-system-performance\">Workbench system performance</h3>\n<p>One of the key selling points of doing computations on a cloud-hosted server – as opposed to a data scientist’s laptop – is that it’s possible to access very powerful machines in the cloud. This improves the speed at which data scientists’ code gets executed, meaning quicker iterations on analysis. Where commands take longer than a few seconds, it can <a href=\"https://www.nngroup.com/articles/response-times-3-important-limits/\" rel=\"nofollow\" target=\"_blank\">distract from</a> analysts’ train of thought.</p>\n<p>If users perceive that the system provided to them is less-than-performant, <a href=\"https://www.jumpingrivers.com/blog/improving-responsiveness-shiny-applications/\" rel=\"nofollow\" target=\"_blank\">they may not use it</a>. It is important that we demonstrate to our users that the platform we provide has excellent performance.</p>\n<h3 id=\"fast-feedback\">Fast Feedback</h3>\n<p>Now, back to the client project. We had nearly finished the project, and had given the client a testing environment. Out of the blue, we received this message:</p>\n<blockquote>\n<p>Hi all, is there any reason why rowwise() is performing particularly slow in Workbench?</p>\n<p>Time on Workbench: 5.3 minutes</p>\n<p>Time to execute example code on client’s laptop: 8 seconds</p>\n</blockquote>\n<h3 id=\"oh-no\">Oh no!</h3>\n<p>We were shocked. We pride ourselves on providing applications that are useful to our data scientist users. It seemed that – even though the CPUs in our cloud instance are far more powerful than those in a typical laptop – our system was the less performant. Clearly there must be some configuration wrong – something we can change to put things right!</p>\n<h3 id=\"what-we-tried-first\">What we tried first</h3>\n<p>We tried everything we could think of to trace the root cause of the problem. We tried evaluating the code on our laptops. We tried other Workbench servers.</p>\n<p>… Both showed that running on Workbench on powerful machines was much slower than on laptops. We tested across many Workbench servers and against laptops! It perplexed us!</p>\n<h3 id=\"ok-what-next\">Ok, what next?</h3>\n<p>There were a few more places that we could look:</p>\n<ul>\n<li>The specifications of the CPUs involved on our servers, compared to our laptops, to see if it would explain the slowdown. It did not.</li>\n<li>Trying in R sessions outside of Workbench, to see if somehow it was a slowdown related to the RStudio Workbench application. It was not.</li>\n</ul>\n<h3 id=\"r-packages\">R packages</h3>\n<p>One thing left to try: was the version of the R package in question, <a href=\"https://dplyr.tidyverse.org/\" rel=\"nofollow\" target=\"_blank\"><code>{dplyr}</code></a>, the same on all machines?</p>\n<p>The Workbench servers we provided had newer versions of that package past v1.1.0, while on all of our laptops, we had older versions cached. This may have been because we had just set up the server and users were just getting started with using it and installing the packages they needed, so they would tend to have the later versions of packages installed. On their laptops, they may have installed <code>{dplyr}</code> or <code>{tidyverse}</code> some time ago.</p>\n<p>By downgrading the version of <code>{dplyr}</code>, it turned out we were able to execute the given reproducible example in 3 seconds – faster than the client’s existing solution!</p>\n<h3 id=\"obvious-solution-downgrade-check-diffify-first\">Obvious solution: downgrade? Check Diffify first</h3>\n<p>You may think that the obvious solution would be to encourage the client to downgrade the version of <code>{dplyr}</code> that they use in production to one before v1.1.0, which would be much faster in using <code>dplyr::rowwise()</code>.</p>\n<p>However, we had one last thing to check: what features would be lost if we did this? Potentially there could be improvements in the later versions, which we could lose by downgrading? Would this break existing code?</p>\n<p>Enter <a href=\"https://diffify.com/R/dplyr/1.0.10/1.1.0\" rel=\"nofollow\" target=\"_blank\">Diffify</a>.</p>\n<p>Diffify provides a comparison between different versions of R packages stored on <a href=\"https://cran.r-project.org/\" rel=\"nofollow\" target=\"_blank\">CRAN</a> or Python packages stored on <a href=\"https://pypi.org/\" rel=\"nofollow\" target=\"_blank\">PyPI</a>. It allows users to select the versions of packages that they want to compare, and presents the differences in a human readable way, making it easy to pick out anything relevant quickly.</p>\n<p>It does this by looking at things such as:</p>\n<ul>\n<li>NEWS files included with packages,</li>\n<li>Changes in functions included as part of the package</li>\n<li>Arguments which functions take.</li>\n</ul>\n<p>Diffify was useful in this case! Had we downgraded <code>{dplyr}</code>, we would have removed recent performance improvements in other dplyr functions. A patricular example to note is with the <code>case_when()</code> function. In version 1.1.0, this function would be significantly slower, an important fact to note given that the client was moving across to using <code>case_when()</code> as an alternative to using rowwise(), which is being deprecated. Downgrading to version 1.1.0 would have had the result of not allowing us to access these improvements.</p>\n<p>The release notes said:</p>\n<blockquote>\n<p>Fixed a major performance regression in case_when(). It is still a little slower than in dplyr 1.0.10, but we plan to improve this further in the future (#6674).</p>\n</blockquote>\n<p>So, perhaps both the client’s current approach of using <code>rowwise()</code> and future approach of using <code>case_when()</code> would both perform well on v1.0.10. But this has to be tested.</p>\n<img alt=\"Screenshot of Diffify showing the News updates comparing dplyr version 1.1.1 with 1.0.10.\" data-lazy-src=\"https://i2.wp.com/www.jumpingrivers.com/blog/dplyr-debugging-posit-diffify/diffify-screenshot.png?w=578&amp;ssl=1\" data-recalc-dims=\"1\" src=\"https://www.r-bloggers.com/wp-content/plugins/jetpack/modules/lazy-images/images/1x1.trans.gif\" style=\"width: 400px; display: block; margin-left: auto; margin-right: auto\"/><noscript><img alt=\"Screenshot of Diffify showing the News updates comparing dplyr version 1.1.1 with 1.0.10.\" data-recalc-dims=\"1\" src=\"https://i2.wp.com/www.jumpingrivers.com/blog/dplyr-debugging-posit-diffify/diffify-screenshot.png?w=578&amp;ssl=1\" style=\"width: 400px; display: block; margin-left: auto; margin-right: auto\"/></noscript>\n<h3 id=\"final-recommendation-we-made-to-client\">Final recommendation we made to client</h3>\n<p>For this particular function, <code>rowwise()</code>, it turns out the key determinant of performance is the version of the <code>{dplyr}</code> package being used. Although downgrading the version would solve this particular problem, it’s important to make sure that doing so doesn’t affect other functions under active development, such as <code>case_when()</code>.</p>\n<p>In fact, the functions used in the client’s previous approach were moving to a suspended development stage. In this case, downgrading would have solved a problem that would soon no longer exist, and introduce a new problem for the code migrated to the better supported <code>case_when()</code> function.</p>\n<h3 id=\"summary\">Summary</h3>\n<p>Here we see some extra support we provided our client for a problem we hadn’t anticipated at the beginning of our project. Sometimes the issue appears to be in one place, but further investigation reveals it’s in another. We are glad we have a good relationship with our client, who mentioned the slowdown to us, allowing us to get to problem solving.</p>\n<h3 id=\"how-can-we-help\">How can we help?</h3>\n<p>If you are looking for a data science platform, or require support maintaining your existing set-up, <a href=\"https://www.jumpingrivers.com/contact/\" rel=\"nofollow\" target=\"_blank\">get in touch</a>! As <a href=\"https://www.jumpingrivers.com/posit/\" rel=\"nofollow\" target=\"_blank\">Full Service Certified Posit Partners</a>, we are trusted by <a href=\"https://posit.co/certified-partners/\" rel=\"nofollow\" target=\"_blank\">Posit</a> to provide installation, support and maintenance services on their products, as well as resell Posit licenses at no extra cost, but with great deals on our services.</p>\n<p>\n\t      For updates and revisions to this article, see the <a href=\"https://www.jumpingrivers.com/blog/dplyr-debugging-posit-diffify/\">original post</a>\n</p>\n<div class=\"jp-relatedposts\" id=\"jp-relatedposts\">\n<h3 class=\"jp-relatedposts-headline\"><em>Related</em></h3>\n</div>\n<!-- Share buttons by mashshare.net - Version: 3.8.9-->\n<div style=\"border: 1px solid; background: none repeat scroll 0 0 #EDEDED; margin: 1px; font-size: 13px;\">\n<div style=\"text-align: center;\">To <strong>leave a comment</strong> for the author, please follow the link and comment on their blog: <strong><a href=\"https://www.jumpingrivers.com/blog/dplyr-debugging-posit-diffify/\"> The Jumping Rivers Blog</a></strong>.</div>\n<hr/>\n<a href=\"https://www.r-bloggers.com/\" rel=\"nofollow\">R-bloggers.com</a> offers <strong><a href=\"https://feedburner.google.com/fb/a/mailverify?uri=RBloggers\" rel=\"nofollow\">daily e-mail updates</a></strong> about <a href=\"https://www.r-project.org/\" rel=\"nofollow\" title=\"The R Project for Statistical Computing\">R</a> news and tutorials about <a href=\"https://www.r-bloggers.com/how-to-learn-r-2/\" rel=\"nofollow\" title=\"R tutorials\">learning R</a> and many other topics. <a href=\"https://www.r-users.com/\" rel=\"nofollow\" title=\"Data science jobs\">Click here if you're looking to post or find an R/data-science job</a>.\r\n\r\n<hr/>Want to share your content on R-bloggers?<a href=\"https://www.r-bloggers.com/add-your-blog/\" rel=\"nofollow\"> click here</a> if you have a blog, or <a href=\"http://r-posts.com/\" rel=\"nofollow\"> here</a> if you don't.\r\n</div> </hr></div>\n</article>",
    "main_text": "Sluggish system or client code?\nPosted on\nNovember 2, 2023\nby\nThe Jumping Rivers Blog\nin\nR bloggers\n| 0 Comments\n[This article was first published on\nThe Jumping Rivers Blog\n, and kindly contributed to\nR-bloggers\n].  (You can report issue about the content on this page\nhere\n)\nWant to share your content on R-bloggers?\nclick here\nif you have a blog, or\nhere\nif you don't.\nOver the course of several weeks, we worked to deploy a one-stop data science platform for data analysis and visualisation for one of our clients. This platform consisted of interconnected applications, which are the motor that enables the productivity of the data scientists sitting at the wheel.\nThe components of the platform were:\nGitlab\n: where data scientists can develop and share their code using all the benefits of Git version control.\nPosit Workbench\n: which hosts development environments such as RStudio on beefy servers, with far more computational power compared to IDEs on local machines.\nPosit Connect\n: which allows data scientists to easily share data, dashboards and reports. It allows the sharing of documents, reports, interactive web applications, as well as hosting Application Programmatic Interfaces (APIs).\nPosit Package Manger\n: which allows for the organisation, centralisation and distribution of code packages. It provides a mirror of R and Python packages, downloaded from external sources such as CRAN (the Comprehensive R Archive Network). It also provides a way for internally-developed R and Python packages to be shared, if the client wishes.\nDo you use Professional Posit Products? If so, check out our\nmanaged Posit\nservices\nOur deployment philosophy\nWhen we deploy these components together, we do so in such a way that they enhance each other’s functionality; the sum is greater than its parts. For instance, we:\nAllow users to use the same authentication across all of these applications.\nEnsure that users are able to publish documents from Workbench to Connect out-of-the-box. Users don’t have to worry about specifying the correct URLs or ports for all of this to work.\nEnsure that users in Workbench can access any package they need (developed internally, or from popular external package repositories such as CRAN) via Package Manager, without any extra configurations required.\nHaving all of these setup out-of-the-box means users can get straight to enjoying exploring and utilising the many ways in which Posit can increase productivity, without spending time on set-up.\nWe also carry out disaster recovery, ensuring that in the event of the unexpected (server failure or data corruption, for example), we can recover all data from a backup.\nFinally, we carry out security hardening. Each component in our system is checked to ensure it operates to appropriate security standards. This means our infrastructure is secured to UK Government (National Cyber Security Centre) standards, and certified by CREST-accredited cloud security professionals.\nWorkbench system performance\nOne of the key selling points of doing computations on a cloud-hosted server – as opposed to a data scientist’s laptop – is that it’s possible to access very powerful machines in the cloud. This improves the speed at which data scientists’ code gets executed, meaning quicker iterations on analysis. Where commands take longer than a few seconds, it can\ndistract from\nanalysts’ train of thought.\nIf users perceive that the system provided to them is less-than-performant,\nthey may not use it\n. It is important that we demonstrate to our users that the platform we provide has excellent performance.\nFast Feedback\nNow, back to the client project. We had nearly finished the project, and had given the client a testing environment. Out of the blue, we received this message:\nHi all, is there any reason why rowwise() is performing particularly slow in Workbench?\nTime on Workbench: 5.3 minutes\nTime to execute example code on client’s laptop: 8 seconds\nOh no!\nWe were shocked. We pride ourselves on providing applications that are useful to our data scientist users. It seemed that – even though the CPUs in our cloud instance are far more powerful than those in a typical laptop – our system was the less performant. Clearly there must be some configuration wrong – something we can change to put things right!\nWhat we tried first\nWe tried everything we could think of to trace the root cause of the problem. We tried evaluating the code on our laptops. We tried other Workbench servers.\n… Both showed that running on Workbench on powerful machines was much slower than on laptops. We tested across many Workbench servers and against laptops! It perplexed us!\nOk, what next?\nThere were a few more places that we could look:\nThe specifications of the CPUs involved on our servers, compared to our laptops, to see if it would explain the slowdown. It did not.\nTrying in R sessions outside of Workbench, to see if somehow it was a slowdown related to the RStudio Workbench application. It was not.\nR packages\nOne thing left to try: was the version of the R package in question,\n{dplyr}\n, the same on all machines?\nThe Workbench servers we provided had newer versions of that package past v1.1.0, while on all of our laptops, we had older versions cached. This may have been because we had just set up the server and users were just getting started with using it and installing the packages they needed, so they would tend to have the later versions of packages installed. On their laptops, they may have installed\n{dplyr}\nor\n{tidyverse}\nsome time ago.\nBy downgrading the version of\n{dplyr}\n, it turned out we were able to execute the given reproducible example in 3 seconds – faster than the client’s existing solution!\nObvious solution: downgrade? Check Diffify first\nYou may think that the obvious solution would be to encourage the client to downgrade the version of\n{dplyr}\nthat they use in production to one before v1.1.0, which would be much faster in using\ndplyr::rowwise()\n.\nHowever, we had one last thing to check: what features would be lost if we did this? Potentially there could be improvements in the later versions, which we could lose by downgrading? Would this break existing code?\nEnter\nDiffify\n.\nDiffify provides a comparison between different versions of R packages stored on\nCRAN\nor Python packages stored on\nPyPI\n. It allows users to select the versions of packages that they want to compare, and presents the differences in a human readable way, making it easy to pick out anything relevant quickly.\nIt does this by looking at things such as:\nNEWS files included with packages,\nChanges in functions included as part of the package\nArguments which functions take.\nDiffify was useful in this case! Had we downgraded\n{dplyr}\n, we would have removed recent performance improvements in other dplyr functions. A patricular example to note is with the\ncase_when()\nfunction. In version 1.1.0, this function would be significantly slower, an important fact to note given that the client was moving across to using\ncase_when()\nas an alternative to using rowwise(), which is being deprecated. Downgrading to version 1.1.0 would have had the result of not allowing us to access these improvements.\nThe release notes said:\nFixed a major performance regression in case_when(). It is still a little slower than in dplyr 1.0.10, but we plan to improve this further in the future (#6674).\nSo, perhaps both the client’s current approach of using\nrowwise()\nand future approach of using\ncase_when()\nwould both perform well on v1.0.10. But this has to be tested.\nFinal recommendation we made to client\nFor this particular function,\nrowwise()\n, it turns out the key determinant of performance is the version of the\n{dplyr}\npackage being used. Although downgrading the version would solve this particular problem, it’s important to make sure that doing so doesn’t affect other functions under active development, such as\ncase_when()\n.\nIn fact, the functions used in the client’s previous approach were moving to a suspended development stage. In this case, downgrading would have solved a problem that would soon no longer exist, and introduce a new problem for the code migrated to the better supported\ncase_when()\nfunction.\nSummary\nHere we see some extra support we provided our client for a problem we hadn’t anticipated at the beginning of our project. Sometimes the issue appears to be in one place, but further investigation reveals it’s in another. We are glad we have a good relationship with our client, who mentioned the slowdown to us, allowing us to get to problem solving.\nHow can we help?\nIf you are looking for a data science platform, or require support maintaining your existing set-up,\nget in touch\n! As\nFull Service Certified Posit Partners\n, we are trusted by\nPosit\nto provide installation, support and maintenance services on their products, as well as resell Posit licenses at no extra cost, but with great deals on our services.\nFor updates and revisions to this article, see the\noriginal post\nRelated\nTo\nleave a comment\nfor the author, please follow the link and comment on their blog:\nThe Jumping Rivers Blog\n.\nR-bloggers.com\noffers\ndaily e-mail updates\nabout\nR\nnews and tutorials about\nlearning R\nand many other topics.\nClick here if you're looking to post or find an R/data-science job\n.\nWant to share your content on R-bloggers?\nclick here\nif you have a blog, or\nhere\nif you don't.",
    "meta_description": "Over the course of several weeks, we worked to deploy a one-stop data science platform for data analysis and visualisation for one of our clients. This platform consisted of interconnected applica...",
    "meta_keywords": null,
    "og_description": "Over the course of several weeks, we worked to deploy a one-stop data science platform for data analysis and visualisation for one of our clients. This platform consisted of interconnected applica...",
    "og_image": "https://www.jumpingrivers.com/blog/dplyr-debugging-posit-diffify/featured.png",
    "og_title": "Sluggish system or client code? | R-bloggers",
    "raw_jsonld_article": null,
    "reading_time_min": 7.9,
    "sitemap_lastmod": "2023-11-02T23:59:00+00:00",
    "twitter_description": "Over the course of several weeks, we worked to deploy a one-stop data science platform for data analysis and visualisation for one of our clients. This platform consisted of interconnected applica...",
    "twitter_title": "Sluggish system or client code? | R-bloggers",
    "url": "https://www.r-bloggers.com/2023/11/sluggish-system-or-client-code/",
    "word_count": 1586
  }
}