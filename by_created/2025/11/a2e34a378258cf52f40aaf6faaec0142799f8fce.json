{
  "id": "a2e34a378258cf52f40aaf6faaec0142799f8fce",
  "url": "https://www.r-bloggers.com/2025/06/from-lab-to-real-life-how-your-shiny-application-can-survive-its-users/",
  "created_at_utc": "2025-11-22T19:58:22Z",
  "data": null,
  "raw_original": {
    "uuid": "ee488752-c939-4e33-acda-2110f0c60908",
    "created_at": "2025-11-22 19:58:22",
    "raw_json": {
      "article_author": null,
      "article_headline": null,
      "article_modified": null,
      "article_published": null,
      "article_section": null,
      "article_tags": null,
      "canonical_url": "https://www.r-bloggers.com/2025/06/from-lab-to-real-life-how-your-shiny-application-can-survive-its-users/",
      "crawled_at": "2025-11-22T10:47:24.973024",
      "external_links": [
        {
          "href": "https://rtask.thinkr.fr/from-lab-to-real-life-how-your-shiny-application-can-survive-its-users/",
          "text": "Rtask"
        },
        {
          "href": "http://r-posts.com/",
          "text": "here"
        },
        {
          "href": "https://rtask.thinkr.fr/",
          "text": "Rtask"
        },
        {
          "href": "https://rtask.thinkr.fr/from-lab-to-real-life-how-your-shiny-application-can-survive-its-users/",
          "text": "From lab to real life: How your Shiny application can survive its users"
        },
        {
          "href": "https://thinkr.fr/dessinez-pour-gagner-limpact-des-maquettes-sur-vos-apps-shiny/",
          "text": "You’ve created a fantastic mockup and your client is delighted"
        },
        {
          "href": "https://rr2025.sciencesconf.org/",
          "text": "Rencontres R 2025"
        },
        {
          "href": "https://arthurdata.github.io/rencontresR2025",
          "text": "testing in a Shiny application"
        },
        {
          "href": "https://engineering-shiny.org/structuring-project.html?q=module#using-shiny-modules",
          "text": "modules"
        },
        {
          "href": "https://github.com/ThinkR-open/pw",
          "text": "{pw}package developed by ThinkR"
        },
        {
          "href": "https://shiny-in-production.jumpingrivers.com/",
          "text": "Shiny In Production"
        },
        {
          "href": "https://www.jumpingrivers.com/",
          "text": "Jumping Rivers"
        },
        {
          "href": "https://thinkr.fr/catalogue-formations/formation-shiny/",
          "text": "here"
        },
        {
          "href": "https://rtask.thinkr.fr/from-lab-to-real-life-how-your-shiny-application-can-survive-its-users/",
          "text": "From lab to real life: How your Shiny application can survive its users"
        },
        {
          "href": "https://rtask.thinkr.fr/from-lab-to-real-life-how-your-shiny-application-can-survive-its-users/",
          "text": "Rtask"
        },
        {
          "href": "https://feedburner.google.com/fb/a/mailverify?uri=RBloggers",
          "text": "daily e-mail updates"
        },
        {
          "href": "https://www.r-project.org/",
          "text": "R"
        },
        {
          "href": "https://www.r-users.com/",
          "text": "Click here if you're looking to post or find an R/data-science job"
        },
        {
          "href": "http://r-posts.com/",
          "text": "here"
        }
      ],
      "h1_title": "R-bloggers",
      "html_title": "From lab to real life: How your Shiny application can survive its users | R-bloggers",
      "images": [
        {
          "alt": "e2e tests",
          "base64": "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",
          "src": "https://www.r-bloggers.com/wp-content/plugins/jetpack/modules/lazy-images/images/1x1.trans.gif"
        },
        {
          "alt": "e2e tests",
          "base64": null,
          "src": "https://i2.wp.com/rtask.thinkr.fr/wp-content/uploads/e2e_tests.png?w=450&ssl=1"
        },
        {
          "alt": "Unit test",
          "base64": "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",
          "src": "https://www.r-bloggers.com/wp-content/plugins/jetpack/modules/lazy-images/images/1x1.trans.gif"
        },
        {
          "alt": "Unit test",
          "base64": null,
          "src": "https://i1.wp.com/rtask.thinkr.fr/wp-content/uploads/unit_tests.png?w=450&ssl=1"
        },
        {
          "alt": "test result 1",
          "base64": "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",
          "src": "https://www.r-bloggers.com/wp-content/plugins/jetpack/modules/lazy-images/images/1x1.trans.gif"
        },
        {
          "alt": "test result 1",
          "base64": null,
          "src": "https://i2.wp.com/rtask.thinkr.fr/wp-content/uploads/result_tests.png?w=450&ssl=1"
        },
        {
          "alt": "Integration tests",
          "base64": "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",
          "src": "https://www.r-bloggers.com/wp-content/plugins/jetpack/modules/lazy-images/images/1x1.trans.gif"
        },
        {
          "alt": "Integration tests",
          "base64": null,
          "src": "https://i0.wp.com/rtask.thinkr.fr/wp-content/uploads/inte_tests.png?w=450&ssl=1"
        },
        {
          "alt": "Result test 2",
          "base64": "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",
          "src": "https://www.r-bloggers.com/wp-content/plugins/jetpack/modules/lazy-images/images/1x1.trans.gif"
        },
        {
          "alt": "Result test 2",
          "base64": null,
          "src": "https://i2.wp.com/rtask.thinkr.fr/wp-content/uploads/result_tests2.png?w=450&ssl=1"
        },
        {
          "alt": "e2e tests",
          "base64": "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",
          "src": "https://www.r-bloggers.com/wp-content/plugins/jetpack/modules/lazy-images/images/1x1.trans.gif"
        },
        {
          "alt": "e2e tests",
          "base64": null,
          "src": "https://i2.wp.com/rtask.thinkr.fr/wp-content/uploads/e2e_tests.png?w=450&ssl=1"
        },
        {
          "alt": "Pw tests",
          "base64": "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",
          "src": "https://www.r-bloggers.com/wp-content/plugins/jetpack/modules/lazy-images/images/1x1.trans.gif"
        },
        {
          "alt": "Pw tests",
          "base64": null,
          "src": "https://i1.wp.com/rtask.thinkr.fr/wp-content/uploads/pw_test.png?w=450&ssl=1"
        },
        {
          "alt": "Pw report",
          "base64": "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",
          "src": "https://www.r-bloggers.com/wp-content/plugins/jetpack/modules/lazy-images/images/1x1.trans.gif"
        },
        {
          "alt": "Pw report",
          "base64": null,
          "src": "https://i2.wp.com/rtask.thinkr.fr/wp-content/uploads/pw_report-1024x360.png?w=450&ssl=1"
        },
        {
          "alt": "codegen 1",
          "base64": "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",
          "src": "https://www.r-bloggers.com/wp-content/plugins/jetpack/modules/lazy-images/images/1x1.trans.gif"
        },
        {
          "alt": "codegen 1",
          "base64": null,
          "src": "https://i0.wp.com/rtask.thinkr.fr/wp-content/uploads/pw_codegen1-1024x571.png?w=450&ssl=1"
        },
        {
          "alt": "Codegen 2",
          "base64": "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",
          "src": "https://www.r-bloggers.com/wp-content/plugins/jetpack/modules/lazy-images/images/1x1.trans.gif"
        },
        {
          "alt": "Codegen 2",
          "base64": null,
          "src": "https://i2.wp.com/rtask.thinkr.fr/wp-content/uploads/pw_codegen2-1024x582.png?w=450&ssl=1"
        },
        {
          "alt": "Codegen 3",
          "base64": "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",
          "src": "https://www.r-bloggers.com/wp-content/plugins/jetpack/modules/lazy-images/images/1x1.trans.gif"
        },
        {
          "alt": "Codegen 3",
          "base64": null,
          "src": "https://i0.wp.com/rtask.thinkr.fr/wp-content/uploads/pw_codegen3-1024x536.png?w=450&ssl=1"
        },
        {
          "alt": "Codegen 4",
          "base64": "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",
          "src": "https://www.r-bloggers.com/wp-content/plugins/jetpack/modules/lazy-images/images/1x1.trans.gif"
        },
        {
          "alt": "Codegen 4",
          "base64": null,
          "src": "https://i2.wp.com/rtask.thinkr.fr/wp-content/uploads/pw_codegen4-1024x546.png?w=450&ssl=1"
        },
        {
          "alt": "Result tests 3",
          "base64": "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",
          "src": "https://www.r-bloggers.com/wp-content/plugins/jetpack/modules/lazy-images/images/1x1.trans.gif"
        },
        {
          "alt": "Result tests 3",
          "base64": null,
          "src": "https://i0.wp.com/rtask.thinkr.fr/wp-content/uploads/result_tests3-1024x849.png?w=450&ssl=1"
        }
      ],
      "internal_links": [
        {
          "href": "https://www.r-bloggers.com/author/arthur-breant/",
          "text": "Arthur Bréant"
        },
        {
          "href": "https://www.r-bloggers.com/category/r-bloggers/",
          "text": "R bloggers"
        },
        {
          "href": "https://www.r-bloggers.com/",
          "text": "R-bloggers"
        },
        {
          "href": "https://www.r-bloggers.com/contact-us/",
          "text": "here"
        },
        {
          "href": "https://www.r-bloggers.com/add-your-blog/",
          "text": "click here"
        },
        {
          "href": "https://www.r-bloggers.com/",
          "text": "R-bloggers.com"
        },
        {
          "href": "https://www.r-bloggers.com/how-to-learn-r-2/",
          "text": "learning R"
        },
        {
          "href": "https://www.r-bloggers.com/add-your-blog/",
          "text": "click here"
        }
      ],
      "lang": "en-US",
      "main_html": "<article class=\"post-393007 post type-post status-publish format-standard hentry category-r-bloggers\">\n<header class=\"post-header\">\n<h1 class=\"entry-title\">From lab to real life: How your Shiny application can survive its users</h1>\n<p class=\"meta post-meta\">Posted on <span class=\"updated\">June 12, 2025</span>  by <span class=\"vcard author\"><a class=\"fn\" href=\"https://www.r-bloggers.com/author/arthur-breant/\">Arthur Bréant</a></span>  in <a href=\"https://www.r-bloggers.com/category/r-bloggers/\" rel=\"category tag\">R bloggers</a> | 0 Comments</p>\n</header>\n<div class=\"entry clearfix\">\n<!-- \n<div style=\"min-height: 30px;\">\n[social4i size=\"small\" align=\"align-left\"]\n</div>\n-->\n<div style=\"border: 1px solid; background: none repeat scroll 0 0 #EDEDED; margin: 1px; font-size: 12px;\">\n[This article was first published on  <strong><a href=\"https://rtask.thinkr.fr/from-lab-to-real-life-how-your-shiny-application-can-survive-its-users/\"> Rtask</a></strong>, and kindly contributed to <a href=\"https://www.r-bloggers.com/\" rel=\"nofollow\">R-bloggers</a>].  (You can report issue about the content on this page <a href=\"https://www.r-bloggers.com/contact-us/\">here</a>)\n<hr/>Want to share your content on R-bloggers?<a href=\"https://www.r-bloggers.com/add-your-blog/\" rel=\"nofollow\"> click here</a> if you have a blog, or <a href=\"http://r-posts.com/\" rel=\"nofollow\"> here</a> if you don't.\n</div>\n\n<!-- Share buttons by mashshare.net - Version: 4.0.47--><p>You can read the original post in its original format on <a href=\"https://rtask.thinkr.fr/\" rel=\"nofollow\" target=\"_blank\">Rtask</a> website by ThinkR here: <a href=\"https://rtask.thinkr.fr/from-lab-to-real-life-how-your-shiny-application-can-survive-its-users/\" rel=\"nofollow\" target=\"_blank\">From lab to real life: How your Shiny application can survive its users</a></p>\n<p><em>From prototype to production, make sure nothing breaks…</em></p>\n<p><a href=\"https://thinkr.fr/dessinez-pour-gagner-limpact-des-maquettes-sur-vos-apps-shiny/\" rel=\"nofollow\" target=\"_blank\">You’ve created a fantastic mockup and your client is delighted</a>. You’re ready to move to production with your application. But one question haunts you: how can you ensure that your application will remain stable and functional through modifications and evolutions?</p>\n<p>The answer comes down to one word: <strong>testing</strong>.</p>\n<p>Three weeks ago, part of the ThinkR team was in Belgium to participate in the <a href=\"https://rr2025.sciencesconf.org/\" rel=\"nofollow\" target=\"_blank\">Rencontres R 2025</a>. A conference around R whose objective is to offer the French-speaking community a place for exchange and sharing of ideas on the use of the <strong>R</strong> language across all disciplines.</p>\n<p>On Tuesday afternoon, during a 15-minute presentation, I presented the use of <a href=\"https://arthurdata.github.io/rencontresR2025\" rel=\"nofollow\" target=\"_blank\">testing in a Shiny application</a> (presentation available in English and French). After several hours of preparation and a presentation, my mind was then <strong><em>test-oriented</em></strong>. At the end of the 3-day conference, I indulged in my second hobby (after R development): running. While I was running, a song played in my ears: <em>Let’s Talk About Sex</em> by Salt-N-Pepa. I could only hear: “Let’s talk about you and me […] Let’s talk about tests”. Professional bias? Surely.</p>\n<p>Music at full volume, Let’s talk about tests!</p>\n<blockquote><p><strong><em>Yo, I don’t think we should talk about this</em></strong><br/>\n<strong><em>Come on, why not ?</em></strong><br/>\n<strong><em>People might misunderstand what we’re tryin’ to say, you know ?</em></strong><br/>\n<strong><em>No, but that’s a part of life</em></strong><br/>\n[…]<br/>\n<strong><em>Let’s talk about [tests], baby</em></strong></p></blockquote>\n<p><iframe allowfullscreen=\"allowfullscreen\" frameborder=\"0\" src=\"https://www.youtube.com/embed/ydrtF45-y-g?si=Z7u0ZimuWs1ggPVn\" title=\"YouTube video player\" width=\"450\"></iframe></p>\n<p>Too often neglected in the R ecosystem, tests are nonetheless essential for guaranteeing the robustness and sustainability of your Shiny applications. In this article, we’ll explore a three-level testing strategy that will allow you to secure your code from development to production.</p>\n<h3>Why test your Shiny applications?</h3>\n<p>The development of a Shiny application often follows the same path: you start with a quick prototype, you iterate with your client (or yourself), you add features… and suddenly, you realize that your code has become complex and fragile.</p>\n<p>Each new modification risks breaking an existing functionality. Each feature addition makes you fear introducing regressions. This is where tests become your best ally.</p>\n<h4>The advantages of a testing strategy</h4>\n<p>A well-thought-out testing strategy allows you to:</p>\n<ul>\n<li><strong>Progressively validate your code</strong> at each development stage</li>\n<li><strong>Detect regressions</strong> before they reach your users</li>\n<li><strong>Refactor with peace of mind</strong> knowing that your tests will alert you in case of problems</li>\n<li><strong>Document the expected behavior</strong> of your application</li>\n<li><strong>Facilitate maintenance</strong> and future evolutions</li>\n</ul>\n<h5>Overview</h5>\n<p>To effectively secure a Shiny application, we recommend a three-level approach:</p>\n<ol style=\"list-style-type: decimal;\">\n<li><strong>Unit tests</strong>: Validate each function individually</li>\n<li><strong>Integration tests</strong>: Verify interactions between components</li>\n<li><strong>End-to-End tests</strong>: Simulate a real user in a real browser</li>\n</ol>\n<p><img alt=\"e2e tests\" class=\"aligncenter wp-image-8922 size-full\" data-lazy-sizes=\"(max-width: 547px) 100vw, 547px\" data-lazy-src=\"https://i2.wp.com/rtask.thinkr.fr/wp-content/uploads/e2e_tests.png?w=450&amp;ssl=1\" data-recalc-dims=\"1\" decoding=\"async\" fetchpriority=\"high\" loading=\"lazy\" src=\"https://www.r-bloggers.com/wp-content/plugins/jetpack/modules/lazy-images/images/1x1.trans.gif\" srcset_temp=\"https://i2.wp.com/rtask.thinkr.fr/wp-content/uploads/e2e_tests.png?w=450&amp;ssl=1 547w, https://rtask.thinkr.fr/wp-content/uploads/e2e_tests-300x229.png 300w\"/><noscript><img alt=\"e2e tests\" class=\"aligncenter wp-image-8922 size-full\" data-recalc-dims=\"1\" decoding=\"async\" fetchpriority=\"high\" loading=\"lazy\" sizes=\"(max-width: 547px) 100vw, 547px\" src=\"https://i2.wp.com/rtask.thinkr.fr/wp-content/uploads/e2e_tests.png?w=450&amp;ssl=1\" srcset_temp=\"https://i2.wp.com/rtask.thinkr.fr/wp-content/uploads/e2e_tests.png?w=450&amp;ssl=1 547w, https://rtask.thinkr.fr/wp-content/uploads/e2e_tests-300x229.png 300w\"/></noscript></p>\n<p>Each level has its role and specificities. Together, they form a complete safety net for your application.</p>\n<h2>Level 1: Unit tests</h2>\n<h3>The principle</h3>\n<p>Unit tests consist of testing each function in isolation, independently of the rest of the application.</p>\n<p><strong>It’s like checking that a drawer opens correctly before installing it in a kitchen</strong>.</p>\n<p><img alt=\"Unit test\" class=\"aligncenter size-full wp-image-8921\" data-lazy-sizes=\"(max-width: 547px) 100vw, 547px\" data-lazy-src=\"https://i1.wp.com/rtask.thinkr.fr/wp-content/uploads/unit_tests.png?w=450&amp;ssl=1\" data-recalc-dims=\"1\" decoding=\"async\" loading=\"lazy\" src=\"https://www.r-bloggers.com/wp-content/plugins/jetpack/modules/lazy-images/images/1x1.trans.gif\" srcset_temp=\"https://i1.wp.com/rtask.thinkr.fr/wp-content/uploads/unit_tests.png?w=450&amp;ssl=1 547w, https://rtask.thinkr.fr/wp-content/uploads/unit_tests-300x229.png 300w\"/><noscript><img alt=\"Unit test\" class=\"aligncenter size-full wp-image-8921\" data-recalc-dims=\"1\" decoding=\"async\" loading=\"lazy\" sizes=\"(max-width: 547px) 100vw, 547px\" src=\"https://i1.wp.com/rtask.thinkr.fr/wp-content/uploads/unit_tests.png?w=450&amp;ssl=1\" srcset_temp=\"https://i1.wp.com/rtask.thinkr.fr/wp-content/uploads/unit_tests.png?w=450&amp;ssl=1 547w, https://rtask.thinkr.fr/wp-content/uploads/unit_tests-300x229.png 300w\"/></noscript></p>\n<h3>Implementation</h3>\n<p>If you follow best practices and develop your Shiny application as a package (with <code>{golem}</code>), unit tests integrate naturally into your workflow.</p>\n<p>Let’s create our first application:</p>\n<pre># install.packages(\"golem\")\ngolem::create_golem(path = \"myShinyApp\")</pre>\n<p>Once this code is executed, your package will open in a new session. You can immediately verify that your application launches correctly:</p>\n<pre># Launch application in dev mode\ngolem::run_dev()</pre>\n<p>In <code>{golem}</code>, the development cycle is found in the <code>/dev</code> folder. You’ll find all the functions you’ll need for development there.</p>\n<p>The first file to follow is the <code>dev/01_start.R</code> file. It contains all the functions you’ll need to start your project. Among them is the function: <code>golem::use_recommended_tests()</code>. This function will create the test structure in your package, with tests recommended by <code>{golem}</code> including one that verifies that your application will launch correctly. Convenient!</p>\n<p>Let’s imagine we need a function in our application: <code>calculate_average()</code>. We can execute: <code>usethis::use_r(\"calculate_average\")</code> to create the file that will contain our function.</p>\n<pre># In R/calculate_average.R \ncalculate_average &lt;- function(values) { \n    if (!is.numeric(values)) { \n        stop(\"values must be numeric\") \n    } \n    if (length(values) == 0) { \n        return(0) \n    } \n    sum(values) / length(values) \n}</pre>\n<p>This function calculates an average. It has some “validators” to check the function inputs. To associate a unit test with it, we can execute: <code>usethis::use_test(name = \"calculate_average\")</code></p>\n<pre># In tests/testthat/test-calculate_average.R\ntest_that(\"calculate_average works correctly\", {\n  # Test with numeric values\n  expect_equal(\n    object = calculate_average(\n      values = c(10, 20, 30)\n    ),\n    expected = 20\n  )\n  # Test with empty vector\n  expect_equal(\n    object = calculate_average(\n      values = 0\n    ),\n    expected = 0\n  )\n  # Test with non-numeric input\n  expect_error(\n    object = calculate_average(\n      values = c(\"a\", \"b\")\n    ),\n    \"values must be numeric\"\n  )\n})</pre>\n<p>To verify that the <code>calculate_average</code> function works as expected, we run the tests:</p>\n<pre>devtools::test()</pre>\n<p>If the tests are successful, we get:</p>\n<p><img alt=\"test result 1\" class=\"aligncenter size-full wp-image-8920\" data-lazy-sizes=\"auto, (max-width: 852px) 100vw, 852px\" data-lazy-src=\"https://i2.wp.com/rtask.thinkr.fr/wp-content/uploads/result_tests.png?w=450&amp;ssl=1\" data-recalc-dims=\"1\" decoding=\"async\" loading=\"lazy\" src=\"https://www.r-bloggers.com/wp-content/plugins/jetpack/modules/lazy-images/images/1x1.trans.gif\" srcset_temp=\"https://i2.wp.com/rtask.thinkr.fr/wp-content/uploads/result_tests.png?w=450&amp;ssl=1 852w, https://rtask.thinkr.fr/wp-content/uploads/result_tests-300x181.png 300w, https://rtask.thinkr.fr/wp-content/uploads/result_tests-768x463.png 768w\"/><noscript><img alt=\"test result 1\" class=\"aligncenter size-full wp-image-8920\" data-recalc-dims=\"1\" decoding=\"async\" loading=\"lazy\" sizes=\"auto, (max-width: 852px) 100vw, 852px\" src=\"https://i2.wp.com/rtask.thinkr.fr/wp-content/uploads/result_tests.png?w=450&amp;ssl=1\" srcset_temp=\"https://i2.wp.com/rtask.thinkr.fr/wp-content/uploads/result_tests.png?w=450&amp;ssl=1 852w, https://rtask.thinkr.fr/wp-content/uploads/result_tests-300x181.png 300w, https://rtask.thinkr.fr/wp-content/uploads/result_tests-768x463.png 768w\"/></noscript></p>\n<blockquote><p>You can modify/break a test to see and experiment with a failing test!<br/>\nReplace <code>calculate_average(values = c(10, 20, 30))</code> with <code>calculate_average(values = c(10, 20, 1))</code> to see the result.</p></blockquote>\n<p>At this stage, unit tests allow us to test the business functions of our application. We don’t test the application per se, but we ensure good behavior of its business logic.</p>\n<h2>Level 2: Integration tests</h2>\n<h3>The principle</h3>\n<p>Integration tests verify that the different components of your application work correctly together. In Shiny, this means testing reactive flows, interactions between modules, and server logic.</p>\n<p><strong>We’ve checked if the drawer could open correctly. We’re now going to verify that it integrates correctly with the rest of the kitchen furniture: the other drawers, the worktop, etc…</strong></p>\n<p><img alt=\"Integration tests\" class=\"aligncenter size-full wp-image-8919\" data-lazy-sizes=\"auto, (max-width: 547px) 100vw, 547px\" data-lazy-src=\"https://i0.wp.com/rtask.thinkr.fr/wp-content/uploads/inte_tests.png?w=450&amp;ssl=1\" data-recalc-dims=\"1\" decoding=\"async\" loading=\"lazy\" src=\"https://www.r-bloggers.com/wp-content/plugins/jetpack/modules/lazy-images/images/1x1.trans.gif\" srcset_temp=\"https://i0.wp.com/rtask.thinkr.fr/wp-content/uploads/inte_tests.png?w=450&amp;ssl=1 547w, https://rtask.thinkr.fr/wp-content/uploads/inte_tests-300x229.png 300w\"/><noscript><img alt=\"Integration tests\" class=\"aligncenter size-full wp-image-8919\" data-recalc-dims=\"1\" decoding=\"async\" loading=\"lazy\" sizes=\"auto, (max-width: 547px) 100vw, 547px\" src=\"https://i0.wp.com/rtask.thinkr.fr/wp-content/uploads/inte_tests.png?w=450&amp;ssl=1\" srcset_temp=\"https://i0.wp.com/rtask.thinkr.fr/wp-content/uploads/inte_tests.png?w=450&amp;ssl=1 547w, https://rtask.thinkr.fr/wp-content/uploads/inte_tests-300x229.png 300w\"/></noscript></p>\n<h3>Implementation</h3>\n<p>Let’s modify our application a bit!</p>\n<p>In the <code>R/app_ui.R</code> file, replace the <code>golem::golem_welcome_page()</code> function with the following code:</p>\n<pre>numericInput(inputId = \"num1\", label = \"First value\", value = 10), \nnumericInput(inputId = \"num2\", label = \"Second value\", value = 10), \nnumericInput(inputId = \"num3\", label = \"Third value\", value = 10), \nnumericInput(inputId = \"num4\", label = \"Fourth value\", value = 10), \nactionButton(inputId = \"go\", label = \"Calculate!\"), \ntextOutput(outputId = \"result\")</pre>\n<p>This should give:</p>\n<pre>app_ui &lt;- function(request) {\n  tagList(\n    golem_add_external_resources(),\n    fluidPage(\n      numericInput(inputId = \"num1\", label = \"First value\", value = 10), \n      numericInput(inputId = \"num2\", label = \"Second value\", value = 10), \n      numericInput(inputId = \"num3\", label = \"Third value\", value = 10), \n      numericInput(inputId = \"num4\", label = \"Fourth value\", value = 10), \n      actionButton(inputId = \"go\", label = \"Calculate!\"), \n      textOutput(outputId = \"result\")\n    )\n  )\n}</pre>\n<p>We’ve just added 5 inputs including 4 inputs to enter a numeric value and an action button. Finally, a <code>textOutput</code> will allow us to display text.</p>\n<blockquote><p>Be careful to put a comma between the different elements of your UI.</p></blockquote>\n<p>To verify that this code works, we can launch the application:</p>\n<pre># Launch application in dev mode\ngolem::run_dev()</pre>\n<p>It’s time to connect the UI part of our application with the server part. For this, in <code>R/app_server.R</code>:</p>\n<pre>app_server &lt;- function(input, output, session) {\n  rv &lt;- reactiveValues()\n  observeEvent(input$go, {\n    rv$avg &lt;- calculate_average(\n      c(input$num1, input$num2, input$num3, input$num4)\n    )\n    showNotification(\n      \"Calculation completed!\",\n      duration = 3\n    )\n  })\n  output$result &lt;- renderText({\n    req(rv$avg)\n    paste(\"Average:\", rv$avg)\n  })\n}</pre>\n<p>This code just created a <code>reactiveValues()</code>, a box that will store the different results in our application. When the button is clicked, the code inside the <code>observeEvent</code> will be executed. We store the result of our <code>calculate_average</code> function in the <code>reactiveValues</code>.</p>\n<pre># Launch application in dev mode\ngolem::run_dev()</pre>\n<h3>The testServer() function</h3>\n<p>Shiny provides the <code>testServer()</code> function which allows testing server logic without launching the user interface.</p>\n<p>In a new file <code>usethis::use_test(name = \"server\")</code>, copy the following code:</p>\n<pre>testServer(app_server, {\n  session$setInputs(num1 = 5)\n  session$setInputs(num2 = 5)\n  session$setInputs(num3 = 5)\n  session$setInputs(num4 = 5)\n  session$setInputs(go = 1)\n  expect_equal(\n    object = rv$avg,\n    expected = 5\n  )\n  session$setInputs(num1 = 10)\n  session$setInputs(num2 = 20)\n  session$setInputs(num3 = 30)\n  session$setInputs(num4 = 12)\n  session$setInputs(go = 2)\n  expect_equal(\n    object = rv$avg,\n    expected = 18\n  )\n})</pre>\n<p>This test simulates values for the different inputs in the server and also simulates a click on the button <code>session$setInputs(go = 1)</code>.</p>\n<p>We then expect the result stored in the <code>reactiveValues</code> to be 5:</p>\n<pre>expect_equal(\n  object = rv$avg,\n  expected = 5\n)</pre>\n<p>As before, to run the tests in our application, we execute:</p>\n<pre>devtools::test()</pre>\n<p><img alt=\"Result test 2\" class=\"aligncenter size-full wp-image-8911\" data-lazy-sizes=\"auto, (max-width: 902px) 100vw, 902px\" data-lazy-src=\"https://i2.wp.com/rtask.thinkr.fr/wp-content/uploads/result_tests2.png?w=450&amp;ssl=1\" data-recalc-dims=\"1\" decoding=\"async\" loading=\"lazy\" src=\"https://www.r-bloggers.com/wp-content/plugins/jetpack/modules/lazy-images/images/1x1.trans.gif\" srcset_temp=\"https://i2.wp.com/rtask.thinkr.fr/wp-content/uploads/result_tests2.png?w=450&amp;ssl=1 902w, https://rtask.thinkr.fr/wp-content/uploads/result_tests2-300x169.png 300w, https://rtask.thinkr.fr/wp-content/uploads/result_tests2-768x433.png 768w\"/><noscript><img alt=\"Result test 2\" class=\"aligncenter size-full wp-image-8911\" data-recalc-dims=\"1\" decoding=\"async\" loading=\"lazy\" sizes=\"auto, (max-width: 902px) 100vw, 902px\" src=\"https://i2.wp.com/rtask.thinkr.fr/wp-content/uploads/result_tests2.png?w=450&amp;ssl=1\" srcset_temp=\"https://i2.wp.com/rtask.thinkr.fr/wp-content/uploads/result_tests2.png?w=450&amp;ssl=1 902w, https://rtask.thinkr.fr/wp-content/uploads/result_tests2-300x169.png 300w, https://rtask.thinkr.fr/wp-content/uploads/result_tests2-768x433.png 768w\"/></noscript></p>\n<blockquote><p>You can always break a test to experiment with a failing test!<br/>\nReplace <code>session$setInputs(num3 = 30)</code> with <code>session$setInputs(num3 = 2)</code> to see the result.</p></blockquote>\n<p>This integration testing logic with <code>testServer</code> can also be used with <a href=\"https://engineering-shiny.org/structuring-project.html?q=module#using-shiny-modules\" rel=\"nofollow\" target=\"_blank\">modules</a> in Shiny! Complete and more complex applications can therefore be tested.</p>\n<p>We’ve just tested the nested interactions in the application and particularly the different interactions. However, this remains very “<em>programmatic</em>” and doesn’t reflect the real experience of a user in a browser.</p>\n<h2>Level 3: End-to-End tests</h2>\n<h3>The principle</h3>\n<p>End-to-End tests simulate a real user interacting with your application in a real browser. This is the testing level closest to the final user experience.</p>\n<p>The objectives are multiple here:</p>\n<ul>\n<li>Simulate real user interactions</li>\n<li>Test the application in a real browser</li>\n<li>Verify the complete user experience</li>\n</ul>\n<p><strong>We’ve checked the drawers individually. We’ve also verified that they could all be assembled together. Now, it’s time to test cooking a real meal in the kitchen!</strong></p>\n<p><img alt=\"e2e tests\" class=\"aligncenter size-full wp-image-8922\" data-lazy-sizes=\"auto, (max-width: 547px) 100vw, 547px\" data-lazy-src=\"https://i2.wp.com/rtask.thinkr.fr/wp-content/uploads/e2e_tests.png?w=450&amp;ssl=1\" data-recalc-dims=\"1\" decoding=\"async\" loading=\"lazy\" src=\"https://www.r-bloggers.com/wp-content/plugins/jetpack/modules/lazy-images/images/1x1.trans.gif\" srcset_temp=\"https://i2.wp.com/rtask.thinkr.fr/wp-content/uploads/e2e_tests.png?w=450&amp;ssl=1 547w, https://rtask.thinkr.fr/wp-content/uploads/e2e_tests-300x229.png 300w\"/><noscript><img alt=\"e2e tests\" class=\"aligncenter size-full wp-image-8922\" data-recalc-dims=\"1\" decoding=\"async\" loading=\"lazy\" sizes=\"auto, (max-width: 547px) 100vw, 547px\" src=\"https://i2.wp.com/rtask.thinkr.fr/wp-content/uploads/e2e_tests.png?w=450&amp;ssl=1\" srcset_temp=\"https://i2.wp.com/rtask.thinkr.fr/wp-content/uploads/e2e_tests.png?w=450&amp;ssl=1 547w, https://rtask.thinkr.fr/wp-content/uploads/e2e_tests-300x229.png 300w\"/></noscript></p>\n<h3>Playwright and the <code>{pw}</code> package</h3>\n<p>For E2E (End-to-End) tests in the R ecosystem, we recommend using <strong>Playwright</strong> via the <a href=\"https://github.com/ThinkR-open/pw\" rel=\"nofollow\" target=\"_blank\"><code>{pw}</code> package developed by ThinkR</a>.</p>\n<p><strong>Installation and configuration:</strong></p>\n<pre># Package installation (in development)\ndevtools::install_github(\"ThinkR-open/pw\")\n# Initialize test structure\npw::pw_init()</pre>\n<p>This command creates the following structure:</p>\n<pre>tests/\n├── playwright/\n    ├── tests/\n        ├── default.test.ts\n└── testthat/\n    ├── test-calculate_average.R\n    ├── test-golem-recommended.R\n    ├── test-server.R\n    └── test-playwright.R</pre>\n<p>E2E tests should be placed in the <code>playwright/tests/</code> folder. A test is already available, it contains:</p>\n<pre>import { test, expect } from '@playwright/test';\ntest('has body', async ({ page }) =&gt; {\n  await page.goto('http://127.0.0.1:3000');\n  await expect(page.locator('body')).toBeVisible();\n});</pre>\n<p>This code will launch the application in a browser and verify the presence of our <code>body</code>. We can already run this test:</p>\n<pre>pw::pw_test()</pre>\n<p><img alt=\"Pw tests\" class=\"aligncenter size-full wp-image-8918\" data-lazy-sizes=\"auto, (max-width: 790px) 100vw, 790px\" data-lazy-src=\"https://i1.wp.com/rtask.thinkr.fr/wp-content/uploads/pw_test.png?w=450&amp;ssl=1\" data-recalc-dims=\"1\" decoding=\"async\" loading=\"lazy\" src=\"https://www.r-bloggers.com/wp-content/plugins/jetpack/modules/lazy-images/images/1x1.trans.gif\" srcset_temp=\"https://i1.wp.com/rtask.thinkr.fr/wp-content/uploads/pw_test.png?w=450&amp;ssl=1 790w, https://rtask.thinkr.fr/wp-content/uploads/pw_test-300x235.png 300w, https://rtask.thinkr.fr/wp-content/uploads/pw_test-768x603.png 768w\"/><noscript><img alt=\"Pw tests\" class=\"aligncenter size-full wp-image-8918\" data-recalc-dims=\"1\" decoding=\"async\" loading=\"lazy\" sizes=\"auto, (max-width: 790px) 100vw, 790px\" src=\"https://i1.wp.com/rtask.thinkr.fr/wp-content/uploads/pw_test.png?w=450&amp;ssl=1\" srcset_temp=\"https://i1.wp.com/rtask.thinkr.fr/wp-content/uploads/pw_test.png?w=450&amp;ssl=1 790w, https://rtask.thinkr.fr/wp-content/uploads/pw_test-300x235.png 300w, https://rtask.thinkr.fr/wp-content/uploads/pw_test-768x603.png 768w\"/></noscript></p>\n<p><strong>Playwright</strong> also provides a report that we can consult:</p>\n<pre>pw::pw_show_report()</pre>\n<p><img alt=\"Pw report\" class=\"aligncenter size-large wp-image-8917\" data-lazy-sizes=\"auto, (max-width: 1024px) 100vw, 1024px\" data-lazy-src=\"https://i2.wp.com/rtask.thinkr.fr/wp-content/uploads/pw_report-1024x360.png?w=450&amp;ssl=1\" data-recalc-dims=\"1\" decoding=\"async\" loading=\"lazy\" src=\"https://www.r-bloggers.com/wp-content/plugins/jetpack/modules/lazy-images/images/1x1.trans.gif\" srcset_temp=\"https://i2.wp.com/rtask.thinkr.fr/wp-content/uploads/pw_report-1024x360.png?w=450&amp;ssl=1 1024w, https://rtask.thinkr.fr/wp-content/uploads/pw_report-300x106.png 300w, https://rtask.thinkr.fr/wp-content/uploads/pw_report-768x270.png 768w, https://rtask.thinkr.fr/wp-content/uploads/pw_report-1536x541.png 1536w, https://rtask.thinkr.fr/wp-content/uploads/pw_report-2048x721.png 2048w\"/><noscript><img alt=\"Pw report\" class=\"aligncenter size-large wp-image-8917\" data-recalc-dims=\"1\" decoding=\"async\" loading=\"lazy\" sizes=\"auto, (max-width: 1024px) 100vw, 1024px\" src=\"https://i2.wp.com/rtask.thinkr.fr/wp-content/uploads/pw_report-1024x360.png?w=450&amp;ssl=1\" srcset_temp=\"https://i2.wp.com/rtask.thinkr.fr/wp-content/uploads/pw_report-1024x360.png?w=450&amp;ssl=1 1024w, https://rtask.thinkr.fr/wp-content/uploads/pw_report-300x106.png 300w, https://rtask.thinkr.fr/wp-content/uploads/pw_report-768x270.png 768w, https://rtask.thinkr.fr/wp-content/uploads/pw_report-1536x541.png 1536w, https://rtask.thinkr.fr/wp-content/uploads/pw_report-2048x721.png 2048w\"/></noscript></p>\n<p><strong>Playwright</strong> runs this test in 3 different browsers: <code>chromium</code>, <code>firefox</code> and <code>webkit</code>.</p>\n<p>OK, but how do we test our application?</p>\n<p>Good news, you don’t necessarily need to learn <code>TypeScript</code> to produce E2E tests with <strong>Playwright</strong>:</p>\n<pre>pw::pw_codegen()</pre>\n<p>This function will open a browser, in which we’ll be able to simulate clicks and actions, as a user.</p>\n<p><img alt=\"codegen 1\" class=\"aligncenter size-large wp-image-8915\" data-lazy-sizes=\"auto, (max-width: 1024px) 100vw, 1024px\" data-lazy-src=\"https://i0.wp.com/rtask.thinkr.fr/wp-content/uploads/pw_codegen1-1024x571.png?w=450&amp;ssl=1\" data-recalc-dims=\"1\" decoding=\"async\" loading=\"lazy\" src=\"https://www.r-bloggers.com/wp-content/plugins/jetpack/modules/lazy-images/images/1x1.trans.gif\" srcset_temp=\"https://i0.wp.com/rtask.thinkr.fr/wp-content/uploads/pw_codegen1-1024x571.png?w=450&amp;ssl=1 1024w, https://rtask.thinkr.fr/wp-content/uploads/pw_codegen1-300x167.png 300w, https://rtask.thinkr.fr/wp-content/uploads/pw_codegen1-768x428.png 768w, https://rtask.thinkr.fr/wp-content/uploads/pw_codegen1-1536x857.png 1536w, https://rtask.thinkr.fr/wp-content/uploads/pw_codegen1-2048x1142.png 2048w\"/><noscript><img alt=\"codegen 1\" class=\"aligncenter size-large wp-image-8915\" data-recalc-dims=\"1\" decoding=\"async\" loading=\"lazy\" sizes=\"auto, (max-width: 1024px) 100vw, 1024px\" src=\"https://i0.wp.com/rtask.thinkr.fr/wp-content/uploads/pw_codegen1-1024x571.png?w=450&amp;ssl=1\" srcset_temp=\"https://i0.wp.com/rtask.thinkr.fr/wp-content/uploads/pw_codegen1-1024x571.png?w=450&amp;ssl=1 1024w, https://rtask.thinkr.fr/wp-content/uploads/pw_codegen1-300x167.png 300w, https://rtask.thinkr.fr/wp-content/uploads/pw_codegen1-768x428.png 768w, https://rtask.thinkr.fr/wp-content/uploads/pw_codegen1-1536x857.png 1536w, https://rtask.thinkr.fr/wp-content/uploads/pw_codegen1-2048x1142.png 2048w\"/></noscript></p>\n<p> </p>\n<p><img alt=\"Codegen 2\" class=\"aligncenter size-large wp-image-8914\" data-lazy-sizes=\"auto, (max-width: 1024px) 100vw, 1024px\" data-lazy-src=\"https://i2.wp.com/rtask.thinkr.fr/wp-content/uploads/pw_codegen2-1024x582.png?w=450&amp;ssl=1\" data-recalc-dims=\"1\" decoding=\"async\" loading=\"lazy\" src=\"https://www.r-bloggers.com/wp-content/plugins/jetpack/modules/lazy-images/images/1x1.trans.gif\" srcset_temp=\"https://i2.wp.com/rtask.thinkr.fr/wp-content/uploads/pw_codegen2-1024x582.png?w=450&amp;ssl=1 1024w, https://rtask.thinkr.fr/wp-content/uploads/pw_codegen2-300x171.png 300w, https://rtask.thinkr.fr/wp-content/uploads/pw_codegen2-768x437.png 768w, https://rtask.thinkr.fr/wp-content/uploads/pw_codegen2-1536x873.png 1536w, https://rtask.thinkr.fr/wp-content/uploads/pw_codegen2-2048x1164.png 2048w\"/><noscript><img alt=\"Codegen 2\" class=\"aligncenter size-large wp-image-8914\" data-recalc-dims=\"1\" decoding=\"async\" loading=\"lazy\" sizes=\"auto, (max-width: 1024px) 100vw, 1024px\" src=\"https://i2.wp.com/rtask.thinkr.fr/wp-content/uploads/pw_codegen2-1024x582.png?w=450&amp;ssl=1\" srcset_temp=\"https://i2.wp.com/rtask.thinkr.fr/wp-content/uploads/pw_codegen2-1024x582.png?w=450&amp;ssl=1 1024w, https://rtask.thinkr.fr/wp-content/uploads/pw_codegen2-300x171.png 300w, https://rtask.thinkr.fr/wp-content/uploads/pw_codegen2-768x437.png 768w, https://rtask.thinkr.fr/wp-content/uploads/pw_codegen2-1536x873.png 1536w, https://rtask.thinkr.fr/wp-content/uploads/pw_codegen2-2048x1164.png 2048w\"/></noscript></p>\n<p> </p>\n<p><img alt=\"Codegen 3\" class=\"aligncenter size-large wp-image-8913\" data-lazy-sizes=\"auto, (max-width: 1024px) 100vw, 1024px\" data-lazy-src=\"https://i0.wp.com/rtask.thinkr.fr/wp-content/uploads/pw_codegen3-1024x536.png?w=450&amp;ssl=1\" data-recalc-dims=\"1\" decoding=\"async\" loading=\"lazy\" src=\"https://www.r-bloggers.com/wp-content/plugins/jetpack/modules/lazy-images/images/1x1.trans.gif\" srcset_temp=\"https://i0.wp.com/rtask.thinkr.fr/wp-content/uploads/pw_codegen3-1024x536.png?w=450&amp;ssl=1 1024w, https://rtask.thinkr.fr/wp-content/uploads/pw_codegen3-300x157.png 300w, https://rtask.thinkr.fr/wp-content/uploads/pw_codegen3-768x402.png 768w, https://rtask.thinkr.fr/wp-content/uploads/pw_codegen3-1536x803.png 1536w, https://rtask.thinkr.fr/wp-content/uploads/pw_codegen3-2048x1071.png 2048w\"/><noscript><img alt=\"Codegen 3\" class=\"aligncenter size-large wp-image-8913\" data-recalc-dims=\"1\" decoding=\"async\" loading=\"lazy\" sizes=\"auto, (max-width: 1024px) 100vw, 1024px\" src=\"https://i0.wp.com/rtask.thinkr.fr/wp-content/uploads/pw_codegen3-1024x536.png?w=450&amp;ssl=1\" srcset_temp=\"https://i0.wp.com/rtask.thinkr.fr/wp-content/uploads/pw_codegen3-1024x536.png?w=450&amp;ssl=1 1024w, https://rtask.thinkr.fr/wp-content/uploads/pw_codegen3-300x157.png 300w, https://rtask.thinkr.fr/wp-content/uploads/pw_codegen3-768x402.png 768w, https://rtask.thinkr.fr/wp-content/uploads/pw_codegen3-1536x803.png 1536w, https://rtask.thinkr.fr/wp-content/uploads/pw_codegen3-2048x1071.png 2048w\"/></noscript></p>\n<p> </p>\n<p><img alt=\"Codegen 4\" class=\"aligncenter size-large wp-image-8916\" data-lazy-sizes=\"auto, (max-width: 1024px) 100vw, 1024px\" data-lazy-src=\"https://i2.wp.com/rtask.thinkr.fr/wp-content/uploads/pw_codegen4-1024x546.png?w=450&amp;ssl=1\" data-recalc-dims=\"1\" decoding=\"async\" loading=\"lazy\" src=\"https://www.r-bloggers.com/wp-content/plugins/jetpack/modules/lazy-images/images/1x1.trans.gif\" srcset_temp=\"https://i2.wp.com/rtask.thinkr.fr/wp-content/uploads/pw_codegen4-1024x546.png?w=450&amp;ssl=1 1024w, https://rtask.thinkr.fr/wp-content/uploads/pw_codegen4-300x160.png 300w, https://rtask.thinkr.fr/wp-content/uploads/pw_codegen4-768x409.png 768w, https://rtask.thinkr.fr/wp-content/uploads/pw_codegen4-1536x818.png 1536w, https://rtask.thinkr.fr/wp-content/uploads/pw_codegen4-2048x1091.png 2048w\"/><noscript><img alt=\"Codegen 4\" class=\"aligncenter size-large wp-image-8916\" data-recalc-dims=\"1\" decoding=\"async\" loading=\"lazy\" sizes=\"auto, (max-width: 1024px) 100vw, 1024px\" src=\"https://i2.wp.com/rtask.thinkr.fr/wp-content/uploads/pw_codegen4-1024x546.png?w=450&amp;ssl=1\" srcset_temp=\"https://i2.wp.com/rtask.thinkr.fr/wp-content/uploads/pw_codegen4-1024x546.png?w=450&amp;ssl=1 1024w, https://rtask.thinkr.fr/wp-content/uploads/pw_codegen4-300x160.png 300w, https://rtask.thinkr.fr/wp-content/uploads/pw_codegen4-768x409.png 768w, https://rtask.thinkr.fr/wp-content/uploads/pw_codegen4-1536x818.png 1536w, https://rtask.thinkr.fr/wp-content/uploads/pw_codegen4-2048x1091.png 2048w\"/></noscript></p>\n<p><strong>Playwright</strong> will record our actions and store them in a new file in <code>tests/playwright/tests</code>:</p>\n<pre>import { test, expect } from '@playwright/test';\ntest('test', async ({ page }) =&gt; {\n  await page.goto('http://localhost:3000/');\n  await page.getByRole('spinbutton', { name: 'First value' }).click();\n  await page.getByRole('spinbutton', { name: 'First value' }).fill('20');\n  await page.getByText('First value Second').click();\n  await page.getByRole('button', { name: 'Calculate!' }).click();\n  await page.getByText('Average:').click();\n});</pre>\n<p>This test is far from perfect and we’ll return in a future article to the syntax of tests with <strong>Playwright</strong> and how to optimize them. E2E tests also work in CI and we’ll also return to this in a future article.</p>\n<p>Meanwhile, our application here is tested in a context that comes closest to the reality of our future users. We’ve just secured the proper functioning of the application, both on business logic and on the UI part.</p>\n<p>We can run all the tests in our application:</p>\n<pre>devtools::test()</pre>\n<p><img alt=\"Result tests 3\" class=\"aligncenter size-large wp-image-8912\" data-lazy-sizes=\"auto, (max-width: 1024px) 100vw, 1024px\" data-lazy-src=\"https://i0.wp.com/rtask.thinkr.fr/wp-content/uploads/result_tests3-1024x849.png?w=450&amp;ssl=1\" data-recalc-dims=\"1\" decoding=\"async\" loading=\"lazy\" src=\"https://www.r-bloggers.com/wp-content/plugins/jetpack/modules/lazy-images/images/1x1.trans.gif\" srcset_temp=\"https://i0.wp.com/rtask.thinkr.fr/wp-content/uploads/result_tests3-1024x849.png?w=450&amp;ssl=1 1024w, https://rtask.thinkr.fr/wp-content/uploads/result_tests3-300x249.png 300w, https://rtask.thinkr.fr/wp-content/uploads/result_tests3-768x637.png 768w, https://rtask.thinkr.fr/wp-content/uploads/result_tests3.png 1332w\"/><noscript><img alt=\"Result tests 3\" class=\"aligncenter size-large wp-image-8912\" data-recalc-dims=\"1\" decoding=\"async\" loading=\"lazy\" sizes=\"auto, (max-width: 1024px) 100vw, 1024px\" src=\"https://i0.wp.com/rtask.thinkr.fr/wp-content/uploads/result_tests3-1024x849.png?w=450&amp;ssl=1\" srcset_temp=\"https://i0.wp.com/rtask.thinkr.fr/wp-content/uploads/result_tests3-1024x849.png?w=450&amp;ssl=1 1024w, https://rtask.thinkr.fr/wp-content/uploads/result_tests3-300x249.png 300w, https://rtask.thinkr.fr/wp-content/uploads/result_tests3-768x637.png 768w, https://rtask.thinkr.fr/wp-content/uploads/result_tests3.png 1332w\"/></noscript></p>\n<h3>Recommended testing strategy</h3>\n<h3>Effort distribution</h3>\n<p>A commonly accepted rule in the industry is the <strong>test pyramid</strong>:</p>\n<ul>\n<li><strong>70% unit tests</strong>: Fast, reliable, numerous</li>\n<li><strong>20% integration tests</strong>: Focus on critical interactions</li>\n<li><strong>10% E2E tests</strong>: Essential user journeys</li>\n</ul>\n<h3>What to test at each level?</h3>\n<p><strong>Unit tests:</strong></p>\n<ul>\n<li>All utility and business logic functions</li>\n<li>Data transformation functions</li>\n<li>Calculation algorithms</li>\n<li>Input validation functions</li>\n</ul>\n<p><strong>Integration tests:</strong></p>\n<ul>\n<li>Main reactive flows of the application</li>\n<li>Interactions between Shiny modules</li>\n<li>Complex server logic</li>\n<li>Reactive values updates</li>\n</ul>\n<p><strong>End-to-End tests:</strong></p>\n<ul>\n<li>Critical user journeys</li>\n<li>Complete workflows (login, calculation, export)</li>\n<li>Complex features involving multiple interactions</li>\n<li>Regression tests on major bugs</li>\n</ul>\n<h2>Conclusion</h2>\n<p>Implementing a three-level testing strategy radically transforms how you develop and maintain your Shiny applications.</p>\n<p><strong>Concrete benefits:</strong></p>\n<ul>\n<li><strong>Confidence</strong> in your code and modifications</li>\n<li><strong>Speed</strong> of problem detection</li>\n<li><strong>Ease</strong> of maintenance and evolution</li>\n<li><strong>Improved</strong> user quality</li>\n</ul>\n<p><strong>To start today:</strong></p>\n<ol style=\"list-style-type: decimal;\">\n<li>Structure your Shiny application as a package with <code>{golem}</code></li>\n<li>Add unit tests for your critical functions</li>\n<li>Implement some integration tests with <code>testServer()</code></li>\n<li>Experiment with E2E tests via <code>{pw}</code> for your main user journeys</li>\n</ol>\n<p>Don’t hesitate to contact us if you want to deepen the implementation of tests in your Shiny applications!</p>\n<p>You can also find Colin Fay who will lead a workshop on Wednesday, October 8, 2025 during the <a href=\"https://shiny-in-production.jumpingrivers.com/\" rel=\"nofollow\" target=\"_blank\">Shiny In Production</a> conference organized by <a href=\"https://www.jumpingrivers.com/\" rel=\"nofollow\" target=\"_blank\">Jumping Rivers</a>.</p>\n<p>You can also find all our training courses on Shiny application development <a href=\"https://thinkr.fr/catalogue-formations/formation-shiny/\" rel=\"nofollow\" target=\"_blank\">here</a>!</p>\n<p>This post is better presented on its original ThinkR website here: <a href=\"https://rtask.thinkr.fr/from-lab-to-real-life-how-your-shiny-application-can-survive-its-users/\" rel=\"nofollow\" target=\"_blank\">From lab to real life: How your Shiny application can survive its users</a></p>\n<div class=\"jp-relatedposts\" id=\"jp-relatedposts\">\n<h3 class=\"jp-relatedposts-headline\"><em>Related</em></h3>\n</div>\n<!-- Share buttons by mashshare.net - Version: 4.0.47-->\n<div style=\"border: 1px solid; background: none repeat scroll 0 0 #EDEDED; margin: 1px; font-size: 13px;\">\n<div style=\"text-align: center;\">To <strong>leave a comment</strong> for the author, please follow the link and comment on their blog: <strong><a href=\"https://rtask.thinkr.fr/from-lab-to-real-life-how-your-shiny-application-can-survive-its-users/\"> Rtask</a></strong>.</div>\n<hr/>\n<a href=\"https://www.r-bloggers.com/\" rel=\"nofollow\">R-bloggers.com</a> offers <strong><a href=\"https://feedburner.google.com/fb/a/mailverify?uri=RBloggers\" rel=\"nofollow\">daily e-mail updates</a></strong> about <a href=\"https://www.r-project.org/\" rel=\"nofollow\" title=\"The R Project for Statistical Computing\">R</a> news and tutorials about <a href=\"https://www.r-bloggers.com/how-to-learn-r-2/\" rel=\"nofollow\" title=\"R tutorials\">learning R</a> and many other topics. <a href=\"https://www.r-users.com/\" rel=\"nofollow\" title=\"Data science jobs\">Click here if you're looking to post or find an R/data-science job</a>.\n\n<hr/>Want to share your content on R-bloggers?<a href=\"https://www.r-bloggers.com/add-your-blog/\" rel=\"nofollow\"> click here</a> if you have a blog, or <a href=\"http://r-posts.com/\" rel=\"nofollow\"> here</a> if you don't.\n</div> </div>\n</article>",
      "main_text": "From lab to real life: How your Shiny application can survive its users\nPosted on\nJune 12, 2025\nby\nArthur Bréant\nin\nR bloggers\n| 0 Comments\n[This article was first published on\nRtask\n, and kindly contributed to\nR-bloggers\n].  (You can report issue about the content on this page\nhere\n)\nWant to share your content on R-bloggers?\nclick here\nif you have a blog, or\nhere\nif you don't.\nYou can read the original post in its original format on\nRtask\nwebsite by ThinkR here:\nFrom lab to real life: How your Shiny application can survive its users\nFrom prototype to production, make sure nothing breaks…\nYou’ve created a fantastic mockup and your client is delighted\n. You’re ready to move to production with your application. But one question haunts you: how can you ensure that your application will remain stable and functional through modifications and evolutions?\nThe answer comes down to one word:\ntesting\n.\nThree weeks ago, part of the ThinkR team was in Belgium to participate in the\nRencontres R 2025\n. A conference around R whose objective is to offer the French-speaking community a place for exchange and sharing of ideas on the use of the\nR\nlanguage across all disciplines.\nOn Tuesday afternoon, during a 15-minute presentation, I presented the use of\ntesting in a Shiny application\n(presentation available in English and French). After several hours of preparation and a presentation, my mind was then\ntest-oriented\n. At the end of the 3-day conference, I indulged in my second hobby (after R development): running. While I was running, a song played in my ears:\nLet’s Talk About Sex\nby Salt-N-Pepa. I could only hear: “Let’s talk about you and me […] Let’s talk about tests”. Professional bias? Surely.\nMusic at full volume, Let’s talk about tests!\nYo, I don’t think we should talk about this\nCome on, why not ?\nPeople might misunderstand what we’re tryin’ to say, you know ?\nNo, but that’s a part of life\n[…]\nLet’s talk about [tests], baby\nToo often neglected in the R ecosystem, tests are nonetheless essential for guaranteeing the robustness and sustainability of your Shiny applications. In this article, we’ll explore a three-level testing strategy that will allow you to secure your code from development to production.\nWhy test your Shiny applications?\nThe development of a Shiny application often follows the same path: you start with a quick prototype, you iterate with your client (or yourself), you add features… and suddenly, you realize that your code has become complex and fragile.\nEach new modification risks breaking an existing functionality. Each feature addition makes you fear introducing regressions. This is where tests become your best ally.\nThe advantages of a testing strategy\nA well-thought-out testing strategy allows you to:\nProgressively validate your code\nat each development stage\nDetect regressions\nbefore they reach your users\nRefactor with peace of mind\nknowing that your tests will alert you in case of problems\nDocument the expected behavior\nof your application\nFacilitate maintenance\nand future evolutions\nOverview\nTo effectively secure a Shiny application, we recommend a three-level approach:\nUnit tests\n: Validate each function individually\nIntegration tests\n: Verify interactions between components\nEnd-to-End tests\n: Simulate a real user in a real browser\nEach level has its role and specificities. Together, they form a complete safety net for your application.\nLevel 1: Unit tests\nThe principle\nUnit tests consist of testing each function in isolation, independently of the rest of the application.\nIt’s like checking that a drawer opens correctly before installing it in a kitchen\n.\nImplementation\nIf you follow best practices and develop your Shiny application as a package (with\n{golem}\n), unit tests integrate naturally into your workflow.\nLet’s create our first application:\n# install.packages(\"golem\")\ngolem::create_golem(path = \"myShinyApp\")\nOnce this code is executed, your package will open in a new session. You can immediately verify that your application launches correctly:\n# Launch application in dev mode\ngolem::run_dev()\nIn\n{golem}\n, the development cycle is found in the\n/dev\nfolder. You’ll find all the functions you’ll need for development there.\nThe first file to follow is the\ndev/01_start.R\nfile. It contains all the functions you’ll need to start your project. Among them is the function:\ngolem::use_recommended_tests()\n. This function will create the test structure in your package, with tests recommended by\n{golem}\nincluding one that verifies that your application will launch correctly. Convenient!\nLet’s imagine we need a function in our application:\ncalculate_average()\n. We can execute:\nusethis::use_r(\"calculate_average\")\nto create the file that will contain our function.\n# In R/calculate_average.R \ncalculate_average <- function(values) { \n    if (!is.numeric(values)) { \n        stop(\"values must be numeric\") \n    } \n    if (length(values) == 0) { \n        return(0) \n    } \n    sum(values) / length(values) \n}\nThis function calculates an average. It has some “validators” to check the function inputs. To associate a unit test with it, we can execute:\nusethis::use_test(name = \"calculate_average\")\n# In tests/testthat/test-calculate_average.R\ntest_that(\"calculate_average works correctly\", {\n  # Test with numeric values\n  expect_equal(\n    object = calculate_average(\n      values = c(10, 20, 30)\n    ),\n    expected = 20\n  )\n  # Test with empty vector\n  expect_equal(\n    object = calculate_average(\n      values = 0\n    ),\n    expected = 0\n  )\n  # Test with non-numeric input\n  expect_error(\n    object = calculate_average(\n      values = c(\"a\", \"b\")\n    ),\n    \"values must be numeric\"\n  )\n})\nTo verify that the\ncalculate_average\nfunction works as expected, we run the tests:\ndevtools::test()\nIf the tests are successful, we get:\nYou can modify/break a test to see and experiment with a failing test!\nReplace\ncalculate_average(values = c(10, 20, 30))\nwith\ncalculate_average(values = c(10, 20, 1))\nto see the result.\nAt this stage, unit tests allow us to test the business functions of our application. We don’t test the application per se, but we ensure good behavior of its business logic.\nLevel 2: Integration tests\nThe principle\nIntegration tests verify that the different components of your application work correctly together. In Shiny, this means testing reactive flows, interactions between modules, and server logic.\nWe’ve checked if the drawer could open correctly. We’re now going to verify that it integrates correctly with the rest of the kitchen furniture: the other drawers, the worktop, etc…\nImplementation\nLet’s modify our application a bit!\nIn the\nR/app_ui.R\nfile, replace the\ngolem::golem_welcome_page()\nfunction with the following code:\nnumericInput(inputId = \"num1\", label = \"First value\", value = 10), \nnumericInput(inputId = \"num2\", label = \"Second value\", value = 10), \nnumericInput(inputId = \"num3\", label = \"Third value\", value = 10), \nnumericInput(inputId = \"num4\", label = \"Fourth value\", value = 10), \nactionButton(inputId = \"go\", label = \"Calculate!\"), \ntextOutput(outputId = \"result\")\nThis should give:\napp_ui <- function(request) {\n  tagList(\n    golem_add_external_resources(),\n    fluidPage(\n      numericInput(inputId = \"num1\", label = \"First value\", value = 10), \n      numericInput(inputId = \"num2\", label = \"Second value\", value = 10), \n      numericInput(inputId = \"num3\", label = \"Third value\", value = 10), \n      numericInput(inputId = \"num4\", label = \"Fourth value\", value = 10), \n      actionButton(inputId = \"go\", label = \"Calculate!\"), \n      textOutput(outputId = \"result\")\n    )\n  )\n}\nWe’ve just added 5 inputs including 4 inputs to enter a numeric value and an action button. Finally, a\ntextOutput\nwill allow us to display text.\nBe careful to put a comma between the different elements of your UI.\nTo verify that this code works, we can launch the application:\n# Launch application in dev mode\ngolem::run_dev()\nIt’s time to connect the UI part of our application with the server part. For this, in\nR/app_server.R\n:\napp_server <- function(input, output, session) {\n  rv <- reactiveValues()\n  observeEvent(input$go, {\n    rv$avg <- calculate_average(\n      c(input$num1, input$num2, input$num3, input$num4)\n    )\n    showNotification(\n      \"Calculation completed!\",\n      duration = 3\n    )\n  })\n  output$result <- renderText({\n    req(rv$avg)\n    paste(\"Average:\", rv$avg)\n  })\n}\nThis code just created a\nreactiveValues()\n, a box that will store the different results in our application. When the button is clicked, the code inside the\nobserveEvent\nwill be executed. We store the result of our\ncalculate_average\nfunction in the\nreactiveValues\n.\n# Launch application in dev mode\ngolem::run_dev()\nThe testServer() function\nShiny provides the\ntestServer()\nfunction which allows testing server logic without launching the user interface.\nIn a new file\nusethis::use_test(name = \"server\")\n, copy the following code:\ntestServer(app_server, {\n  session$setInputs(num1 = 5)\n  session$setInputs(num2 = 5)\n  session$setInputs(num3 = 5)\n  session$setInputs(num4 = 5)\n  session$setInputs(go = 1)\n  expect_equal(\n    object = rv$avg,\n    expected = 5\n  )\n  session$setInputs(num1 = 10)\n  session$setInputs(num2 = 20)\n  session$setInputs(num3 = 30)\n  session$setInputs(num4 = 12)\n  session$setInputs(go = 2)\n  expect_equal(\n    object = rv$avg,\n    expected = 18\n  )\n})\nThis test simulates values for the different inputs in the server and also simulates a click on the button\nsession$setInputs(go = 1)\n.\nWe then expect the result stored in the\nreactiveValues\nto be 5:\nexpect_equal(\n  object = rv$avg,\n  expected = 5\n)\nAs before, to run the tests in our application, we execute:\ndevtools::test()\nYou can always break a test to experiment with a failing test!\nReplace\nsession$setInputs(num3 = 30)\nwith\nsession$setInputs(num3 = 2)\nto see the result.\nThis integration testing logic with\ntestServer\ncan also be used with\nmodules\nin Shiny! Complete and more complex applications can therefore be tested.\nWe’ve just tested the nested interactions in the application and particularly the different interactions. However, this remains very “\nprogrammatic\n” and doesn’t reflect the real experience of a user in a browser.\nLevel 3: End-to-End tests\nThe principle\nEnd-to-End tests simulate a real user interacting with your application in a real browser. This is the testing level closest to the final user experience.\nThe objectives are multiple here:\nSimulate real user interactions\nTest the application in a real browser\nVerify the complete user experience\nWe’ve checked the drawers individually. We’ve also verified that they could all be assembled together. Now, it’s time to test cooking a real meal in the kitchen!\nPlaywright and the\n{pw}\npackage\nFor E2E (End-to-End) tests in the R ecosystem, we recommend using\nPlaywright\nvia the\n{pw}\npackage developed by ThinkR\n.\nInstallation and configuration:\n# Package installation (in development)\ndevtools::install_github(\"ThinkR-open/pw\")\n# Initialize test structure\npw::pw_init()\nThis command creates the following structure:\ntests/\n├── playwright/\n    ├── tests/\n        ├── default.test.ts\n└── testthat/\n    ├── test-calculate_average.R\n    ├── test-golem-recommended.R\n    ├── test-server.R\n    └── test-playwright.R\nE2E tests should be placed in the\nplaywright/tests/\nfolder. A test is already available, it contains:\nimport { test, expect } from '@playwright/test';\ntest('has body', async ({ page }) => {\n  await page.goto('http://127.0.0.1:3000');\n  await expect(page.locator('body')).toBeVisible();\n});\nThis code will launch the application in a browser and verify the presence of our\nbody\n. We can already run this test:\npw::pw_test()\nPlaywright\nalso provides a report that we can consult:\npw::pw_show_report()\nPlaywright\nruns this test in 3 different browsers:\nchromium\n,\nfirefox\nand\nwebkit\n.\nOK, but how do we test our application?\nGood news, you don’t necessarily need to learn\nTypeScript\nto produce E2E tests with\nPlaywright\n:\npw::pw_codegen()\nThis function will open a browser, in which we’ll be able to simulate clicks and actions, as a user.\nPlaywright\nwill record our actions and store them in a new file in\ntests/playwright/tests\n:\nimport { test, expect } from '@playwright/test';\ntest('test', async ({ page }) => {\n  await page.goto('http://localhost:3000/');\n  await page.getByRole('spinbutton', { name: 'First value' }).click();\n  await page.getByRole('spinbutton', { name: 'First value' }).fill('20');\n  await page.getByText('First value Second').click();\n  await page.getByRole('button', { name: 'Calculate!' }).click();\n  await page.getByText('Average:').click();\n});\nThis test is far from perfect and we’ll return in a future article to the syntax of tests with\nPlaywright\nand how to optimize them. E2E tests also work in CI and we’ll also return to this in a future article.\nMeanwhile, our application here is tested in a context that comes closest to the reality of our future users. We’ve just secured the proper functioning of the application, both on business logic and on the UI part.\nWe can run all the tests in our application:\ndevtools::test()\nRecommended testing strategy\nEffort distribution\nA commonly accepted rule in the industry is the\ntest pyramid\n:\n70% unit tests\n: Fast, reliable, numerous\n20% integration tests\n: Focus on critical interactions\n10% E2E tests\n: Essential user journeys\nWhat to test at each level?\nUnit tests:\nAll utility and business logic functions\nData transformation functions\nCalculation algorithms\nInput validation functions\nIntegration tests:\nMain reactive flows of the application\nInteractions between Shiny modules\nComplex server logic\nReactive values updates\nEnd-to-End tests:\nCritical user journeys\nComplete workflows (login, calculation, export)\nComplex features involving multiple interactions\nRegression tests on major bugs\nConclusion\nImplementing a three-level testing strategy radically transforms how you develop and maintain your Shiny applications.\nConcrete benefits:\nConfidence\nin your code and modifications\nSpeed\nof problem detection\nEase\nof maintenance and evolution\nImproved\nuser quality\nTo start today:\nStructure your Shiny application as a package with\n{golem}\nAdd unit tests for your critical functions\nImplement some integration tests with\ntestServer()\nExperiment with E2E tests via\n{pw}\nfor your main user journeys\nDon’t hesitate to contact us if you want to deepen the implementation of tests in your Shiny applications!\nYou can also find Colin Fay who will lead a workshop on Wednesday, October 8, 2025 during the\nShiny In Production\nconference organized by\nJumping Rivers\n.\nYou can also find all our training courses on Shiny application development\nhere\n!\nThis post is better presented on its original ThinkR website here:\nFrom lab to real life: How your Shiny application can survive its users\nRelated\nTo\nleave a comment\nfor the author, please follow the link and comment on their blog:\nRtask\n.\nR-bloggers.com\noffers\ndaily e-mail updates\nabout\nR\nnews and tutorials about\nlearning R\nand many other topics.\nClick here if you're looking to post or find an R/data-science job\n.\nWant to share your content on R-bloggers?\nclick here\nif you have a blog, or\nhere\nif you don't.",
      "meta_description": "You can read the original post in its original format on Rtask website by ThinkR here: From lab to real life: How your Shiny application can survive its users From prototype to production, make sure nothing breaks… You’ve created a fantastic mockup and your client is delighted. You’re ready to move to production with your application. But one question haunts you: how can you ensure that your application will remain stable and functional through modifications and evolutions? The answer comes down to one word: testing. Three weeks ago, part This post is better presented on its original ThinkR website here: From lab to real life: How your Shiny application can survive its users",
      "meta_keywords": null,
      "og_description": "You can read the original post in its original format on Rtask website by ThinkR here: From lab to real life: How your Shiny application can survive its users From prototype to production, make sure nothing breaks… You’ve created a fantastic mockup and your client is delighted. You’re ready to move to production with your application. But one question haunts you: how can you ensure that your application will remain stable and functional through modifications and evolutions? The answer comes down to one word: testing. Three weeks ago, part This post is better presented on its original ThinkR website here: From lab to real life: How your Shiny application can survive its users",
      "og_image": "https://rtask.thinkr.fr/wp-content/uploads/e2e_tests.png",
      "og_title": "From lab to real life: How your Shiny application can survive its users | R-bloggers",
      "raw_jsonld_article": null,
      "reading_time_min": 11.5,
      "sitemap_lastmod": null,
      "twitter_description": "You can read the original post in its original format on Rtask website by ThinkR here: From lab to real life: How your Shiny application can survive its users From prototype to production, make sure nothing breaks… You’ve created a fantastic mockup and your client is delighted. You’re ready to move to production with your application. But one question haunts you: how can you ensure that your application will remain stable and functional through modifications and evolutions? The answer comes down to one word: testing. Three weeks ago, part This post is better presented on its original ThinkR website here: From lab to real life: How your Shiny application can survive its users",
      "twitter_title": "From lab to real life: How your Shiny application can survive its users | R-bloggers",
      "url": "https://www.r-bloggers.com/2025/06/from-lab-to-real-life-how-your-shiny-application-can-survive-its-users/",
      "word_count": 2308
    }
  }
}