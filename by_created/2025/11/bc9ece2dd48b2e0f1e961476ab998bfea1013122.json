{
  "id": "bc9ece2dd48b2e0f1e961476ab998bfea1013122",
  "url": "https://www.r-bloggers.com/2009/11/memory-management-in-r-a-few-tips-and-tricks/",
  "created_at_utc": "2025-11-17T20:39:56Z",
  "data": null,
  "raw_original": {
    "uuid": "597a4312-91c1-4e99-9e5e-715673fd3a06",
    "created_at": "2025-11-17 20:39:56",
    "raw_json": {
      "article_author": null,
      "article_headline": null,
      "article_modified": null,
      "article_published": null,
      "article_section": null,
      "article_tags": null,
      "canonical_url": "https://www.r-bloggers.com/2009/11/memory-management-in-r-a-few-tips-and-tricks/",
      "crawled_at": "2025-11-17T10:15:51.926490",
      "external_links": [
        {
          "href": "https://jeromyanglim.blogspot.com/2009/11/memory-management-in-r-few-tips-and.html",
          "text": "Jeromy Anglim's Blog: Psychology and Statistics"
        },
        {
          "href": "http://r-posts.com/",
          "text": "here"
        },
        {
          "href": "http://stackoverflow.com/questions/1358003/tricks-to-manage-the-available-memory-in-an-r-session",
          "text": "Memory Management Tricks"
        },
        {
          "href": "http://www.ats.ucla.edu/stat/R/faq/memory_usage_pc.htm",
          "text": "UCLA's page"
        },
        {
          "href": "https://jeromyanglim.blogspot.com/2009/11/memory-management-in-r-few-tips-and.html",
          "text": "Jeromy Anglim's Blog: Psychology and Statistics"
        },
        {
          "href": "https://feedburner.google.com/fb/a/mailverify?uri=RBloggers",
          "text": "daily e-mail updates"
        },
        {
          "href": "https://www.r-project.org/",
          "text": "R"
        },
        {
          "href": "https://www.r-users.com/",
          "text": "Click here if you're looking to post or find an R/data-science job"
        },
        {
          "href": "http://r-posts.com/",
          "text": "here"
        }
      ],
      "h1_title": "R-bloggers",
      "html_title": "Memory Management in R: A Few Tips and Tricks | R-bloggers",
      "images": [
        {
          "alt": null,
          "base64": null,
          "src": "https://blogger.googleusercontent.com/tracker/8909074830238091680-1274564272299424401?l=jeromyanglim.blogspot.com"
        },
        {
          "alt": null,
          "base64": null,
          "src": "https://blogger.googleusercontent.com/tracker/8909074830238091680-1274564272299424401?l=jeromyanglim.blogspot.com"
        }
      ],
      "internal_links": [
        {
          "href": "https://www.r-bloggers.com/author/jeromy-anglim/",
          "text": "Jeromy Anglim"
        },
        {
          "href": "https://www.r-bloggers.com/",
          "text": "R-bloggers"
        },
        {
          "href": "https://www.r-bloggers.com/contact-us/",
          "text": "here"
        },
        {
          "href": "https://www.r-bloggers.com/add-your-blog/",
          "text": "click here"
        },
        {
          "href": "https://www.r-bloggers.com/",
          "text": "R-bloggers.com"
        },
        {
          "href": "https://www.r-bloggers.com/how-to-learn-r-2/",
          "text": "learning R"
        },
        {
          "href": "https://www.r-bloggers.com/add-your-blog/",
          "text": "click here"
        }
      ],
      "lang": "en-US",
      "main_html": "<article class=\"post-532 post type-post status-publish format-standard hentry\">\n<header class=\"post-header\">\n<h1 class=\"entry-title\">Memory Management in R: A Few Tips and Tricks</h1>\n<p class=\"meta post-meta\">Posted on <span class=\"updated\">November 23, 2009</span>  by <span class=\"vcard author\"><a class=\"fn\" href=\"https://www.r-bloggers.com/author/jeromy-anglim/\">Jeromy Anglim</a></span>  in Uncategorized | 0 Comments</p>\n</header>\n<div class=\"entry clearfix\">\n<p class=\"syndicated-attribution\"><!-- \r\n<div style=\"min-height: 30px;\">\r\n[social4i size=\"small\" align=\"align-left\"]\r\n</div>\r\n-->\n<div style=\"border: 1px solid; background: none repeat scroll 0 0 #EDEDED; margin: 1px; font-size: 12px;\">\r\n[This article was first published on  <strong><a href=\"https://jeromyanglim.blogspot.com/2009/11/memory-management-in-r-few-tips-and.html\"> Jeromy Anglim's Blog: Psychology and Statistics</a></strong>, and kindly contributed to <a href=\"https://www.r-bloggers.com/\" rel=\"nofollow\">R-bloggers</a>].  (You can report issue about the content on this page <a href=\"https://www.r-bloggers.com/contact-us/\">here</a>)\r\n<hr/>Want to share your content on R-bloggers?<a href=\"https://www.r-bloggers.com/add-your-blog/\" rel=\"nofollow\"> click here</a> if you have a blog, or <a href=\"http://r-posts.com/\" rel=\"nofollow\"> here</a> if you don't.\r\n</div></p>\n\n<!-- Share buttons by mashshare.net - Version: 3.8.0-->This post discusses a few strategies that I have used to to manage memory in  R.<br/><a name=\"more\"></a><div style=\"text-align: center;\"><b>Stack Overflow Tips</b><br/></div>Stack Overflow has a thread on <a href=\"http://stackoverflow.com/questions/1358003/tricks-to-manage-the-available-memory-in-an-r-session\" rel=\"nofollow\" target=\"_blank\">Memory Management Tricks</a>. I tend to follow these suggestions:<br/><ul><li><b>.ls.objects(): </b>There’s a nice function (.ls.objects()) that lists the memory usage of the objects in the workspace using the most memory. It’s good for flagging memory hogging objects that can be deleted.</li><li><b>Use scripts: </b>Hadley Wickham suggests recording all R actions as a script and rerunning the script to restore all objects and thus remove temporary objects created in the process of programming the script.</li><li><b>Import and Save: </b>Josh Reich mentions the strategy of importing data and then saving these imported objects to disk (see post for details).</li></ul><div><div style=\"text-align: center;\"><b>Additional Tricks that I use</b><br/></div></div><div><b><span style=\"font-weight: normal;\"><b><br/></b></span></b><br/></div><div><b><span style=\"font-weight: normal;\"><b>Develop code on subset of data: </b>I’ve recently been processing logs of key presses from an experiment on skill acquisition. There are a million records. In order to speed up the process of testing and developing my code, I extract a subset of the data for the purposes of writing the code. A lot of people use this approach within the model testing area where models on the full dataset would take hours to run. Thus, the strategy is to build the model on a subset and then run it on the full dataset.</span></b><br/></div><div><br/></div><div><b>A tweaked version .ls.objects:</b><br/></div><div>I slightly tweaked the .ls.objects() function. I find it useful to see the size of objects in terms of megabytes. Thus, when I run into the issue of using too much memory, I’ll run this function and see if any of the objects using a lot of memory should be removed from the workspace (optionally saving to disk first).<br/><br/></div><pre>.ls.objects &lt;- function (pos = 1, pattern, order.by = \"Size\", decreasing=TRUE, head = TRUE, n = 10) {\n  # based on postings by Petr Pikal and David Hinds to the r-help list in 2004\n  # modified by: Dirk Eddelbuettel (http://stackoverflow.com/questions/1358003/tricks-to-manage-the-available-memory-in-an-r-session) \n  # I then gave it a few tweaks (show size as megabytes and use defaults that I like)\n  # a data frame of the objects and their associated storage needs.\n  napply &lt;- function(names, fn) sapply(names, function(x)\n          fn(get(x, pos = pos)))\n  names &lt;- ls(pos = pos, pattern = pattern)\n  obj.class &lt;- napply(names, function(x) as.character(class(x))[1])\n  obj.mode &lt;- napply(names, mode)\n  obj.type &lt;- ifelse(is.na(obj.class), obj.mode, obj.class)\n  obj.size &lt;- napply(names, object.size) / 10^6 # megabytes\n  obj.dim &lt;- t(napply(names, function(x)\n            as.numeric(dim(x))[1:2]))\n  vec &lt;- is.na(obj.dim)[, 1] &amp; (obj.type != \"function\")\n  obj.dim[vec, 1] &lt;- napply(names, length)[vec]\n  out &lt;- data.frame(obj.type, obj.size, obj.dim)\n  names(out) &lt;- c(\"Type\", \"Size\", \"Rows\", \"Columns\")\n  out &lt;- out[order(out[[order.by]], decreasing=decreasing), ]\n  if (head)\n    out &lt;- head(out, n)\n  out\n}\n</pre><br/><b>Additional Resources</b><br/><ul><li><a href=\"http://www.ats.ucla.edu/stat/R/faq/memory_usage_pc.htm\" rel=\"nofollow\" target=\"_blank\">UCLA's page</a> on memory management in R.</li></ul><div class=\"blogger-post-footer\"><img alt=\"\" class=\"jetpack-lazy-image\" data-lazy-src=\"https://blogger.googleusercontent.com/tracker/8909074830238091680-1274564272299424401?l=jeromyanglim.blogspot.com&amp;is-pending-load=1\" height=\"1\" src=\"https://blogger.googleusercontent.com/tracker/8909074830238091680-1274564272299424401?l=jeromyanglim.blogspot.com\" srcset=\"data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7\" width=\"1\"/><noscript><img alt=\"\" height=\"1\" src=\"https://blogger.googleusercontent.com/tracker/8909074830238091680-1274564272299424401?l=jeromyanglim.blogspot.com\" width=\"1\"/></noscript></div>\n\n<div class=\"jp-relatedposts\" id=\"jp-relatedposts\">\n<h3 class=\"jp-relatedposts-headline\"><em>Related</em></h3>\n</div>\n<!-- Share buttons by mashshare.net - Version: 3.8.0-->\n<p class=\"syndicated-attribution\"><div style=\"border: 1px solid; background: none repeat scroll 0 0 #EDEDED; margin: 1px; font-size: 13px;\">\n<div style=\"text-align: center;\">To <strong>leave a comment</strong> for the author, please follow the link and comment on their blog: <strong><a href=\"https://jeromyanglim.blogspot.com/2009/11/memory-management-in-r-few-tips-and.html\"> Jeromy Anglim's Blog: Psychology and Statistics</a></strong>.</div>\n<hr>\n<a href=\"https://www.r-bloggers.com/\" rel=\"nofollow\">R-bloggers.com</a> offers <strong><a href=\"https://feedburner.google.com/fb/a/mailverify?uri=RBloggers\" rel=\"nofollow\">daily e-mail updates</a></strong> about <a href=\"https://www.r-project.org/\" rel=\"nofollow\" title=\"The R Project for Statistical Computing\">R</a> news and tutorials about <a href=\"https://www.r-bloggers.com/how-to-learn-r-2/\" rel=\"nofollow\" title=\"R tutorials\">learning R</a> and many other topics. <a href=\"https://www.r-users.com/\" rel=\"nofollow\" title=\"Data science jobs\">Click here if you're looking to post or find an R/data-science job</a>.\r\n\r\n<hr/>Want to share your content on R-bloggers?<a href=\"https://www.r-bloggers.com/add-your-blog/\" rel=\"nofollow\"> click here</a> if you have a blog, or <a href=\"http://r-posts.com/\" rel=\"nofollow\"> here</a> if you don't.\r\n</hr></div></p> </div>\n</article>",
      "main_text": "Memory Management in R: A Few Tips and Tricks\nPosted on\nNovember 23, 2009\nby\nJeromy Anglim\nin Uncategorized | 0 Comments\n[This article was first published on\nJeromy Anglim's Blog: Psychology and Statistics\n, and kindly contributed to\nR-bloggers\n].  (You can report issue about the content on this page\nhere\n)\nWant to share your content on R-bloggers?\nclick here\nif you have a blog, or\nhere\nif you don't.\nThis post discusses a few strategies that I have used to to manage memory in  R.\nStack Overflow Tips\nStack Overflow has a thread on\nMemory Management Tricks\n. I tend to follow these suggestions:\n.ls.objects():\nThere’s a nice function (.ls.objects()) that lists the memory usage of the objects in the workspace using the most memory. It’s good for flagging memory hogging objects that can be deleted.\nUse scripts:\nHadley Wickham suggests recording all R actions as a script and rerunning the script to restore all objects and thus remove temporary objects created in the process of programming the script.\nImport and Save:\nJosh Reich mentions the strategy of importing data and then saving these imported objects to disk (see post for details).\nAdditional Tricks that I use\nDevelop code on subset of data:\nI’ve recently been processing logs of key presses from an experiment on skill acquisition. There are a million records. In order to speed up the process of testing and developing my code, I extract a subset of the data for the purposes of writing the code. A lot of people use this approach within the model testing area where models on the full dataset would take hours to run. Thus, the strategy is to build the model on a subset and then run it on the full dataset.\nA tweaked version .ls.objects:\nI slightly tweaked the .ls.objects() function. I find it useful to see the size of objects in terms of megabytes. Thus, when I run into the issue of using too much memory, I’ll run this function and see if any of the objects using a lot of memory should be removed from the workspace (optionally saving to disk first).\n.ls.objects <- function (pos = 1, pattern, order.by = \"Size\", decreasing=TRUE, head = TRUE, n = 10) {\n  # based on postings by Petr Pikal and David Hinds to the r-help list in 2004\n  # modified by: Dirk Eddelbuettel (http://stackoverflow.com/questions/1358003/tricks-to-manage-the-available-memory-in-an-r-session) \n  # I then gave it a few tweaks (show size as megabytes and use defaults that I like)\n  # a data frame of the objects and their associated storage needs.\n  napply <- function(names, fn) sapply(names, function(x)\n          fn(get(x, pos = pos)))\n  names <- ls(pos = pos, pattern = pattern)\n  obj.class <- napply(names, function(x) as.character(class(x))[1])\n  obj.mode <- napply(names, mode)\n  obj.type <- ifelse(is.na(obj.class), obj.mode, obj.class)\n  obj.size <- napply(names, object.size) / 10^6 # megabytes\n  obj.dim <- t(napply(names, function(x)\n            as.numeric(dim(x))[1:2]))\n  vec <- is.na(obj.dim)[, 1] & (obj.type != \"function\")\n  obj.dim[vec, 1] <- napply(names, length)[vec]\n  out <- data.frame(obj.type, obj.size, obj.dim)\n  names(out) <- c(\"Type\", \"Size\", \"Rows\", \"Columns\")\n  out <- out[order(out[[order.by]], decreasing=decreasing), ]\n  if (head)\n    out <- head(out, n)\n  out\n}\nAdditional Resources\nUCLA's page\non memory management in R.\nRelated\nTo\nleave a comment\nfor the author, please follow the link and comment on their blog:\nJeromy Anglim's Blog: Psychology and Statistics\n.\nR-bloggers.com\noffers\ndaily e-mail updates\nabout\nR\nnews and tutorials about\nlearning R\nand many other topics.\nClick here if you're looking to post or find an R/data-science job\n.\nWant to share your content on R-bloggers?\nclick here\nif you have a blog, or\nhere\nif you don't.",
      "meta_description": "This post discusses a few strategies that I have used to to manage memory in R.Stack Overflow TipsStack Overflow has a thread on Memory Management Tricks. I tend to follow these suggestions:.ls.objects(): There's a nice function (.ls.objects...",
      "meta_keywords": null,
      "og_description": "This post discusses a few strategies that I have used to to manage memory in R.Stack Overflow TipsStack Overflow has a thread on Memory Management Tricks. I tend to follow these suggestions:.ls.objects(): There's a nice function (.ls.objects...",
      "og_image": "https://blogger.googleusercontent.com/tracker/8909074830238091680-1274564272299424401?l=jeromyanglim.blogspot.com",
      "og_title": "Memory Management in R: A Few Tips and Tricks | R-bloggers",
      "raw_jsonld_article": null,
      "reading_time_min": 3.2,
      "sitemap_lastmod": "2010-09-06T20:56:09+00:00",
      "twitter_description": "This post discusses a few strategies that I have used to to manage memory in R.Stack Overflow TipsStack Overflow has a thread on Memory Management Tricks. I tend to follow these suggestions:.ls.objects(): There's a nice function (.ls.objects...",
      "twitter_title": "Memory Management in R: A Few Tips and Tricks | R-bloggers",
      "url": "https://www.r-bloggers.com/2009/11/memory-management-in-r-a-few-tips-and-tricks/",
      "word_count": 648
    }
  }
}