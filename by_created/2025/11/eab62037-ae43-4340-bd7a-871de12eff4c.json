{
  "uuid": "eab62037-ae43-4340-bd7a-871de12eff4c",
  "created_at": "2025-11-22 19:57:39",
  "raw_json": {
    "article_author": null,
    "article_headline": null,
    "article_modified": null,
    "article_published": null,
    "article_section": null,
    "article_tags": null,
    "canonical_url": "https://www.r-bloggers.com/2025/09/how-much-can-president-trumps-tariffs-impact-canadian-households-2/",
    "crawled_at": "2025-11-22T10:42:50.809449",
    "external_links": [
      {
        "href": "https://pacha.dev/blog/2025/09/12/tariffs/",
        "text": "pacha.dev/blog"
      },
      {
        "href": "http://r-posts.com/",
        "text": "here"
      },
      {
        "href": "https://buymeacoffee.com/pacha/e/80976",
        "text": "Buy Me a Coffee"
      },
      {
        "href": "https://pacha.dev/blog/2025/08/11/",
        "text": "A Personal Message from an Open Source Contributor"
      },
      {
        "href": "https://docs.google.com/forms/d/e/1FAIpQLScMpMtKjDe2h53iHUvlYHDdBNMD1_x9WO5wg5wi_EO7ak_DRA/viewform?usp=sharing&ouid=115091451666829859711",
        "text": "this form"
      },
      {
        "href": "https://www150.statcan.gc.ca/n1/daily-quotidien/250521/dq250521a-eng.htm",
        "text": "Statistics Canada’s Survey of Household Spending, 2023"
      },
      {
        "href": "https://www.canada.ca/en/department-finance/programs/international-trade-finance-policy/canadas-response-us-tariffs/complete-list-us-products-subject-to-counter-tariffs.html",
        "text": "Government of Canada"
      },
      {
        "href": "https://buymeacoffee.com/pacha/e/456610",
        "text": "Buy me a Coffee"
      },
      {
        "href": "https://pacha.dev/blog/2025/09/12/tariffs/",
        "text": "pacha.dev/blog"
      },
      {
        "href": "https://feedburner.google.com/fb/a/mailverify?uri=RBloggers",
        "text": "daily e-mail updates"
      },
      {
        "href": "https://www.r-project.org/",
        "text": "R"
      },
      {
        "href": "https://www.r-users.com/",
        "text": "Click here if you're looking to post or find an R/data-science job"
      },
      {
        "href": "http://r-posts.com/",
        "text": "here"
      }
    ],
    "h1_title": "R-bloggers",
    "html_title": "How much can President Trump’s Tariffs Impact Canadian Households? | R-bloggers",
    "images": [
      {
        "alt": null,
        "base64": "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",
        "src": "https://www.r-bloggers.com/wp-content/plugins/jetpack/modules/lazy-images/images/1x1.trans.gif"
      },
      {
        "alt": null,
        "base64": null,
        "src": "https://i0.wp.com/pacha.dev/blog/2025/09/12/tariffs/index_files/figure-html/plot-1.png?w=450&ssl=1"
      }
    ],
    "internal_links": [
      {
        "href": "https://www.r-bloggers.com/author/pacha-dev-blog/",
        "text": "pacha.dev/blog"
      },
      {
        "href": "https://www.r-bloggers.com/category/r-bloggers/",
        "text": "R bloggers"
      },
      {
        "href": "https://www.r-bloggers.com/",
        "text": "R-bloggers"
      },
      {
        "href": "https://www.r-bloggers.com/contact-us/",
        "text": "here"
      },
      {
        "href": "https://www.r-bloggers.com/add-your-blog/",
        "text": "click here"
      },
      {
        "href": "https://www.r-bloggers.com/",
        "text": "R-bloggers.com"
      },
      {
        "href": "https://www.r-bloggers.com/how-to-learn-r-2/",
        "text": "learning R"
      },
      {
        "href": "https://www.r-bloggers.com/add-your-blog/",
        "text": "click here"
      }
    ],
    "lang": "en-US",
    "main_html": "<article class=\"post-395417 post type-post status-publish format-standard hentry category-r-bloggers\">\n<header class=\"post-header\">\n<h1 class=\"entry-title\">How much can President Trump’s Tariffs Impact Canadian Households?</h1>\n<p class=\"meta post-meta\">Posted on <span class=\"updated\">September 11, 2025</span>  by <span class=\"vcard author\"><a class=\"fn\" href=\"https://www.r-bloggers.com/author/pacha-dev-blog/\">pacha.dev/blog</a></span>  in <a href=\"https://www.r-bloggers.com/category/r-bloggers/\" rel=\"category tag\">R bloggers</a> | 0 Comments</p>\n</header>\n<div class=\"entry clearfix\">\n<!-- \n<div style=\"min-height: 30px;\">\n[social4i size=\"small\" align=\"align-left\"]\n</div>\n-->\n<div style=\"border: 1px solid; background: none repeat scroll 0 0 #EDEDED; margin: 1px; font-size: 12px;\">\n[This article was first published on  <strong><a href=\"https://pacha.dev/blog/2025/09/12/tariffs/\"> pacha.dev/blog</a></strong>, and kindly contributed to <a href=\"https://www.r-bloggers.com/\" rel=\"nofollow\">R-bloggers</a>].  (You can report issue about the content on this page <a href=\"https://www.r-bloggers.com/contact-us/\">here</a>)\n<hr/>Want to share your content on R-bloggers?<a href=\"https://www.r-bloggers.com/add-your-blog/\" rel=\"nofollow\"> click here</a> if you have a blog, or <a href=\"http://r-posts.com/\" rel=\"nofollow\"> here</a> if you don't.\n</div>\n\n<!-- Share buttons by mashshare.net - Version: 4.0.47-->\n<p><em>If this post is useful to you I kindly ask a minimal donation on <a href=\"https://buymeacoffee.com/pacha/e/80976\" rel=\"nofollow\" target=\"_blank\">Buy Me a Coffee</a>. It shall be used to continue my Open Source efforts. The full explanation is here: <a href=\"https://pacha.dev/blog/2025/08/11/\" rel=\"nofollow\" target=\"_blank\">A Personal Message from an Open Source Contributor</a>.</em></p>\n<p><em>You can send me questions for the blog using <a href=\"https://docs.google.com/forms/d/e/1FAIpQLScMpMtKjDe2h53iHUvlYHDdBNMD1_x9WO5wg5wi_EO7ak_DRA/viewform?usp=sharing&amp;ouid=115091451666829859711\" rel=\"nofollow\" target=\"_blank\">this form</a> and subscribe to receive an email when there is a new post.</em></p>\n<p>I have been working on my own research, and after three days of downloading and cleaning data from UN Comtrade Plus, I was ableto create a tidy database in Postgres.</p>\n<p>I had to go through 65 GB of data to organize this into a something communicable.</p>\n<p>Connecting to my local PostgreSQL database (otherwise reading and filtering this would be insane):</p>\n<div class=\"cell\">\n<pre># remember to load postgres first\n\nlibrary(RPostgres)\n\ncon &lt;- dbConnect(\n  Postgres(),\n  dbname = Sys.getenv(\"COMTRADE_NAME\"),\n  host = Sys.getenv(\"COMTRADE_HOST\"),\n  user = Sys.getenv(\"COMTRADE_USER\"),\n  password = Sys.getenv(\"COMTRADE_PASSWORD\"),\n  port = Sys.getenv(\"COMTRADE_PORT\")\n)\n\ndbListTables(con)</pre>\n<div class=\"cell-output cell-output-stdout\">\n<pre> [1] \"classification_codes\"   \"commodities\"            \"commodities_short\"     \n [4] \"commodity_codes\"        \"commodity_correlations\" \"countries\"             \n [7] \"country_codes\"          \"customs_codes\"          \"exports\"               \n[10] \"flow_codes\"             \"gdp_deflator\"           \"imports\"               \n[13] \"mos_codes\"              \"mot_codes\"              \"unit_codes\"            \n[16] \"yc\"                     \"yr\"                     \"yrc\"                   \n[19] \"yrp\"                    \"yrpc\"                  </pre>\n</div>\n</div>\n<p>As you can see in the previous chunk, it is a good practice to use environment variables to store sensitive information like database credentials even for local databases with no external access (e.g., this database is stored on my laptop). I manage these credentials with <code>usethis::edit_r_environ()</code>.</p>\n<p>Now I can use the Tidyverse for efficient filtering and analysis of my data:</p>\n<div class=\"cell\">\n<pre>library(dplyr)\n\ntbl(con, \"commodities\") %&gt;%\n  glimpse()</pre>\n<div class=\"cell-output cell-output-stdout\">\n<pre>Rows: ??\nColumns: 8\nDatabase: postgres  [pacha@localhost:5432/comtrade]\n$ commodity_code       &lt;chr&gt; \"010121\", \"010129\", \"010130\", \"010190\", \"010221\",…\n$ commodity_code_short &lt;chr&gt; \"0101\", \"0101\", \"0101\", \"0101\", \"0102\", \"0102\", \"…\n$ commodity_name       &lt;chr&gt; \"Horses; live, pure-bred breeding animals\", \"Hors…\n$ chapter_code         &lt;chr&gt; \"01\", \"01\", \"01\", \"01\", \"01\", \"01\", \"01\", \"01\", \"…\n$ chapter_name         &lt;chr&gt; \"Animals; live\", \"Animals; live\", \"Animals; live\"…\n$ section_code         &lt;chr&gt; \"01\", \"01\", \"01\", \"01\", \"01\", \"01\", \"01\", \"01\", \"…\n$ section_name         &lt;chr&gt; \"Live Animals; Animal Products\", \"Live Animals; A…\n$ section_color        &lt;chr&gt; \"#74c0e2\", \"#74c0e2\", \"#74c0e2\", \"#74c0e2\", \"#74c…</pre>\n</div>\n</div>\n<p>In the Harmonized System (HS), the international customs codes are used to classify traded products, and this dataset uses the HS revision 2022. The HS codes are constantly expanded to reflect changes in technology (e.g., the HS revision 2002 has fewer codes for “cellphones” than the HS revision 2022 that distinguished between different types of cellphones). These codes are hierarchical, the first two digits represent the chapter, and in total this data has 99 chapters with the 99th chapter being my addition covering “unknown/unspecified” products (e.g., code “999999”).</p>\n<p>The section code comprises 21 codes plus one “unknown/unspecified” addition I made. These are also hierarchical but cannot be generalized in the same way as the chapter codes by trimming the product code. For example, section one contains chapters one to five. I had to add this with my own R scripts after finding a webpage that lists the section codes and their chapter ranges from the World Customs Organization (WCO). I had to get it from the Internet Wayback Machine as the original page was not available.</p>\n<p>Because of how the sections are presented, I had to do this:</p>\n<pre>section_names &lt;- str_to_title(c(\n  \"LIVE ANIMALS; ANIMAL PRODUCTS\",\n  \"VEGETABLE PRODUCTS\",\n  \"ANIMAL, VEGETABLE OR MICROBIAL FATS AND OILS AND THEIR CLEAVAGE PRODUCTS; PREPARED EDIBLE FATS; ANIMAL OR VEGETABLE WAXES\",\n  ...\n))\n\nd &lt;- d %&gt;%\n  mutate(\n    section_name = case_when(\n      section_code == \"01\" ~ section_names[1],\n      section_code == \"02\" ~ section_names[2],\n      section_code == \"03\" ~ section_names[3],\n      ...</pre>\n<p>And something similar for the colours, which are my addition and correspond to 22 colours I found visually appealing.</p>\n<p>With this in mind, it is simpler to represent 22 sections than 99 chapters visually. The sections are:</p>\n<div class=\"cell\">\n<pre>tbl(con, \"commodities\") %&gt;%\n  distinct(section_code, section_name) %&gt;%\n  arrange(section_code) %&gt;%\n  collect() %&gt;%\n  print(n = 22)</pre>\n<div class=\"cell-output cell-output-stdout\">\n<pre># A tibble: 22 × 2\n   section_code section_name                                                    \n   &lt;chr&gt;        &lt;chr&gt;                                                           \n 1 01           Live Animals; Animal Products                                   \n 2 02           Vegetable Products                                              \n 3 03           Animal, Vegetable Or Microbial Fats And Oils And Their Cleavage…\n 4 04           Prepared Foodstuffs; Beverages, Spirits And Vinegar; Tobacco An…\n 5 05           Mineral Products                                                \n 6 06           Products Of The Chemical Or Allied Industries                   \n 7 07           Plastics And Articles Thereof; Rubber And Articles Thereof      \n 8 08           Raw Hides And Skins, Leather, Furskins And Articles Thereof; Sa…\n 9 09           Wood And Articles Of Wood; Wood Charcoal; Cork And Articles Of …\n10 10           Pulp Of Wood Or Of Other Fibrous Cellulosic Material; Recovered…\n11 11           Textiles And Textile Articles                                   \n12 12           Footwear, Headgear, Umbrellas, Sun Umbrellas, Walking-Sticks, S…\n13 13           Articles Of Stone, Plaster, Cement, Asbestos, Mica Or Similar M…\n14 14           Natural Or Cultured Pearls, Precious Or Semi-Precious Stones, P…\n15 15           Base Metals And Articles Of Base Metal                          \n16 16           Machinery And Mechanical Appliances; Electrical Equipment; Part…\n17 17           Vehicles, Aircraft, Vessels And Associated Transport Equipment  \n18 18           Optical, Photographic, Cinematographic, Measuring, Checking, Pr…\n19 19           Arms And Ammunition; Parts And Accessories Thereof              \n20 20           Miscellaneous Manufactured Articles                             \n21 21           Works Of Art, Collectors' Pieces And Antiques                   \n22 99           Unknown Or Unspecified                                          </pre>\n</div>\n</div>\n<p>According to <a href=\"https://www150.statcan.gc.ca/n1/daily-quotidien/250521/dq250521a-eng.htm\" rel=\"nofollow\" target=\"_blank\">Statistics Canada’s Survey of Household Spending, 2023</a>: “Shelter accounted for 32.1% of total consumption of goods and services in 2023, followed by transportation (15.8%) and food (15.7%), which remained the three largest spending categories.” Because of this, let’s focus solely on sections one to four.</p>\n<p>How much do American products represented from Canadian food (and food related) products in 2023? We can go to the YRPC (year-reporter-partner-commodity) table. The HS presents products as commodities, but for simplicity, I refer to them as products. This table is not a part of the official UN Comtrade data, it is my own creation with extra steps to include ISO-3 Alpha codes for countries and the section and chapter codes I mentioned previously.</p>\n<div class=\"cell\">\n<pre>can_foods &lt;- tbl(con, \"yrpc\") %&gt;%\n  filter(\n    year == 2023L,\n    partner_iso == \"CAN\",\n    section_code %in% c(\"01\", \"02\", \"03\", \"04\")\n  ) %&gt;%\n  mutate(\n    exporter = case_when(\n      reporter_iso == \"USA\" ~ \"United States\",\n      TRUE ~ \"Rest of the World\"\n    )\n  ) %&gt;%\n  group_by(exporter) %&gt;%\n  summarise(\n    imports = sum(trade_value_usd_exp, na.rm = TRUE)\n  ) %&gt;%\n  ungroup() %&gt;%\n  mutate(\n    share = imports / sum(imports) * 100\n  ) %&gt;%\n  collect()\n\ncan_foods</pre>\n<div class=\"cell-output cell-output-stdout\">\n<pre># A tibble: 2 × 3\n  exporter               imports share\n  &lt;chr&gt;                    &lt;dbl&gt; &lt;dbl&gt;\n1 Rest of the World 44360282786.  57.4\n2 United States     32885888490   42.6</pre>\n</div>\n</div>\n<p>In the previous chunk I used the exporter-based figures to exclude the cost of freight and insurance from the importer-based values. This gives a clearer picture of the actual trade flows between the countries involved without considering logistics costs.</p>\n<p>We can refine this a bit more by grouping by section code as well:</p>\n<div class=\"cell\">\n<pre>can_foods_refined &lt;-  tbl(con, \"yrpc\") %&gt;%\n  filter(\n    year == 2023L,\n    partner_iso == \"CAN\",\n    section_code %in% c(\"01\", \"02\", \"03\", \"04\")\n  ) %&gt;%\n  mutate(\n    exporter = case_when(\n      reporter_iso == \"USA\" ~ \"United States\",\n      TRUE ~ \"Rest of the World\"\n    )\n  ) %&gt;%\n  inner_join(\n    tbl(con, \"commodities\") %&gt;%\n      select(commodity_code, section_code, section_name, section_color)\n  ) %&gt;%\n  group_by(exporter, section_name, section_color) %&gt;%\n  summarise(\n    imports = sum(trade_value_usd_exp, na.rm = TRUE)\n  ) %&gt;%\n  ungroup() %&gt;%\n  group_by(section_name, section_color) %&gt;%\n  mutate(\n    share = imports / sum(imports) * 100\n  ) %&gt;%\n  ungroup() %&gt;%\n  arrange(section_name, exporter) %&gt;%\n  collect()\n\ncan_foods_refined</pre>\n<div class=\"cell-output cell-output-stdout\">\n<pre># A tibble: 8 × 5\n  exporter          section_name                     section_color imports share\n  &lt;chr&gt;             &lt;chr&gt;                            &lt;chr&gt;           &lt;dbl&gt; &lt;dbl&gt;\n1 Rest of the World Animal, Vegetable Or Microbial … #549e95       1.85e 9  66.8\n2 United States     Animal, Vegetable Or Microbial … #549e95       9.19e 8  33.2\n3 Rest of the World Live Animals; Animal Products    #74c0e2       6.13e 9  60.7\n4 United States     Live Animals; Animal Products    #74c0e2       3.97e 9  39.3\n5 Rest of the World Prepared Foodstuffs; Beverages,… #8abdb6       2.57e10  60.0\n6 United States     Prepared Foodstuffs; Beverages,… #8abdb6       1.71e10  40.0\n7 Rest of the World Vegetable Products               #406662       1.07e10  49.7\n8 United States     Vegetable Products               #406662       1.09e10  50.3</pre>\n</div>\n</div>\n<p>A plot of the previous table can show how much of the food products (and food related) imported by Canada come from the United States:</p>\n<div class=\"cell\">\n<pre>library(stringr)\nlibrary(ggplot2)\n\n# trim section name to 40 characters\ncan_foods_refined &lt;- can_foods_refined %&gt;%\n  mutate(section_name = paste0(str_sub(section_name, 1, 40), \"...\"))\n\nggplot(can_foods_refined, aes(x = exporter, y = share, fill = section_color)) +\n  geom_col(width = 0.7) +\n  facet_wrap(~ section_name, ncol = 1) +\n  scale_fill_identity() +\n  labs(\n    title = \"Share of Food Products Imported by Canada (2023)\",\n    subtitle = \"Source: Own creation based on UN Comtrade data\",\n    x = \"\",\n    y = \"Share (%)\"\n  ) +\n  theme_minimal(base_size = 13) +\n  theme(\n    axis.text.x = element_text(angle = 30, hjust = 1),\n    legend.position = \"none\"\n  )</pre>\n<div class=\"cell-output-display\">\n<div>\n<figure class=\"figure\">\n<p><img class=\"img-fluid figure-img\" data-lazy-src=\"https://i0.wp.com/pacha.dev/blog/2025/09/12/tariffs/index_files/figure-html/plot-1.png?w=450&amp;ssl=1\" data-recalc-dims=\"1\" src=\"https://www.r-bloggers.com/wp-content/plugins/jetpack/modules/lazy-images/images/1x1.trans.gif\"/><noscript><img class=\"img-fluid figure-img\" data-recalc-dims=\"1\" src=\"https://i0.wp.com/pacha.dev/blog/2025/09/12/tariffs/index_files/figure-html/plot-1.png?w=450&amp;ssl=1\"/></noscript></p>\n</figure>\n</div>\n</div>\n</div>\n<p>The reciprocal tariffs of 25% applied to some animal and vegetable products effective as of September 12, 2025 (Source: <a href=\"https://www.canada.ca/en/department-finance/programs/international-trade-finance-policy/canadas-response-us-tariffs/complete-list-us-products-subject-to-counter-tariffs.html\" rel=\"nofollow\" target=\"_blank\">Government of Canada</a>) are directly affecting Canadian households’ pocket by a rough magnitude of an extra 25% x 15.7% x 60% ~= 2.5% on food products alone. Food is now 25% x 60% ~= 15% more expensive for Canadian families. This is a significant impact on the cost of living for many families if we start adding other affected products into the mix and the additional impact on employment as these tariffs also affect steel and other Canadian industries. Of course, this ignores general equilibrium effects such as trade diversion and changes in other exporters and consumer behaviour.</p>\n<p>If you read up to here, I have put my international trade data for sale, it covers 1988-2023 for all countries at commodity level (HS 6 digits) and is already cleaned and organized in a PostgreSQL database. You can get 65 GB of clean data from <a href=\"https://buymeacoffee.com/pacha/e/456610\" rel=\"nofollow\" target=\"_blank\">Buy me a Coffee</a> with documentation and support.</p>\n<div class=\"jp-relatedposts\" id=\"jp-relatedposts\">\n<h3 class=\"jp-relatedposts-headline\"><em>Related</em></h3>\n</div>\n<!-- Share buttons by mashshare.net - Version: 4.0.47-->\n<div style=\"border: 1px solid; background: none repeat scroll 0 0 #EDEDED; margin: 1px; font-size: 13px;\">\n<div style=\"text-align: center;\">To <strong>leave a comment</strong> for the author, please follow the link and comment on their blog: <strong><a href=\"https://pacha.dev/blog/2025/09/12/tariffs/\"> pacha.dev/blog</a></strong>.</div>\n<hr/>\n<a href=\"https://www.r-bloggers.com/\" rel=\"nofollow\">R-bloggers.com</a> offers <strong><a href=\"https://feedburner.google.com/fb/a/mailverify?uri=RBloggers\" rel=\"nofollow\">daily e-mail updates</a></strong> about <a href=\"https://www.r-project.org/\" rel=\"nofollow\" title=\"The R Project for Statistical Computing\">R</a> news and tutorials about <a href=\"https://www.r-bloggers.com/how-to-learn-r-2/\" rel=\"nofollow\" title=\"R tutorials\">learning R</a> and many other topics. <a href=\"https://www.r-users.com/\" rel=\"nofollow\" title=\"Data science jobs\">Click here if you're looking to post or find an R/data-science job</a>.\n\n<hr/>Want to share your content on R-bloggers?<a href=\"https://www.r-bloggers.com/add-your-blog/\" rel=\"nofollow\"> click here</a> if you have a blog, or <a href=\"http://r-posts.com/\" rel=\"nofollow\"> here</a> if you don't.\n</div> </div>\n</article>",
    "main_text": "How much can President Trump’s Tariffs Impact Canadian Households?\nPosted on\nSeptember 11, 2025\nby\npacha.dev/blog\nin\nR bloggers\n| 0 Comments\n[This article was first published on\npacha.dev/blog\n, and kindly contributed to\nR-bloggers\n].  (You can report issue about the content on this page\nhere\n)\nWant to share your content on R-bloggers?\nclick here\nif you have a blog, or\nhere\nif you don't.\nIf this post is useful to you I kindly ask a minimal donation on\nBuy Me a Coffee\n. It shall be used to continue my Open Source efforts. The full explanation is here:\nA Personal Message from an Open Source Contributor\n.\nYou can send me questions for the blog using\nthis form\nand subscribe to receive an email when there is a new post.\nI have been working on my own research, and after three days of downloading and cleaning data from UN Comtrade Plus, I was ableto create a tidy database in Postgres.\nI had to go through 65 GB of data to organize this into a something communicable.\nConnecting to my local PostgreSQL database (otherwise reading and filtering this would be insane):\n# remember to load postgres first\n\nlibrary(RPostgres)\n\ncon <- dbConnect(\n  Postgres(),\n  dbname = Sys.getenv(\"COMTRADE_NAME\"),\n  host = Sys.getenv(\"COMTRADE_HOST\"),\n  user = Sys.getenv(\"COMTRADE_USER\"),\n  password = Sys.getenv(\"COMTRADE_PASSWORD\"),\n  port = Sys.getenv(\"COMTRADE_PORT\")\n)\n\ndbListTables(con)\n[1] \"classification_codes\"   \"commodities\"            \"commodities_short\"     \n [4] \"commodity_codes\"        \"commodity_correlations\" \"countries\"             \n [7] \"country_codes\"          \"customs_codes\"          \"exports\"               \n[10] \"flow_codes\"             \"gdp_deflator\"           \"imports\"               \n[13] \"mos_codes\"              \"mot_codes\"              \"unit_codes\"            \n[16] \"yc\"                     \"yr\"                     \"yrc\"                   \n[19] \"yrp\"                    \"yrpc\"\nAs you can see in the previous chunk, it is a good practice to use environment variables to store sensitive information like database credentials even for local databases with no external access (e.g., this database is stored on my laptop). I manage these credentials with\nusethis::edit_r_environ()\n.\nNow I can use the Tidyverse for efficient filtering and analysis of my data:\nlibrary(dplyr)\n\ntbl(con, \"commodities\") %>%\n  glimpse()\nRows: ??\nColumns: 8\nDatabase: postgres  [pacha@localhost:5432/comtrade]\n$ commodity_code       <chr> \"010121\", \"010129\", \"010130\", \"010190\", \"010221\",…\n$ commodity_code_short <chr> \"0101\", \"0101\", \"0101\", \"0101\", \"0102\", \"0102\", \"…\n$ commodity_name       <chr> \"Horses; live, pure-bred breeding animals\", \"Hors…\n$ chapter_code         <chr> \"01\", \"01\", \"01\", \"01\", \"01\", \"01\", \"01\", \"01\", \"…\n$ chapter_name         <chr> \"Animals; live\", \"Animals; live\", \"Animals; live\"…\n$ section_code         <chr> \"01\", \"01\", \"01\", \"01\", \"01\", \"01\", \"01\", \"01\", \"…\n$ section_name         <chr> \"Live Animals; Animal Products\", \"Live Animals; A…\n$ section_color        <chr> \"#74c0e2\", \"#74c0e2\", \"#74c0e2\", \"#74c0e2\", \"#74c…\nIn the Harmonized System (HS), the international customs codes are used to classify traded products, and this dataset uses the HS revision 2022. The HS codes are constantly expanded to reflect changes in technology (e.g., the HS revision 2002 has fewer codes for “cellphones” than the HS revision 2022 that distinguished between different types of cellphones). These codes are hierarchical, the first two digits represent the chapter, and in total this data has 99 chapters with the 99th chapter being my addition covering “unknown/unspecified” products (e.g., code “999999”).\nThe section code comprises 21 codes plus one “unknown/unspecified” addition I made. These are also hierarchical but cannot be generalized in the same way as the chapter codes by trimming the product code. For example, section one contains chapters one to five. I had to add this with my own R scripts after finding a webpage that lists the section codes and their chapter ranges from the World Customs Organization (WCO). I had to get it from the Internet Wayback Machine as the original page was not available.\nBecause of how the sections are presented, I had to do this:\nsection_names <- str_to_title(c(\n  \"LIVE ANIMALS; ANIMAL PRODUCTS\",\n  \"VEGETABLE PRODUCTS\",\n  \"ANIMAL, VEGETABLE OR MICROBIAL FATS AND OILS AND THEIR CLEAVAGE PRODUCTS; PREPARED EDIBLE FATS; ANIMAL OR VEGETABLE WAXES\",\n  ...\n))\n\nd <- d %>%\n  mutate(\n    section_name = case_when(\n      section_code == \"01\" ~ section_names[1],\n      section_code == \"02\" ~ section_names[2],\n      section_code == \"03\" ~ section_names[3],\n      ...\nAnd something similar for the colours, which are my addition and correspond to 22 colours I found visually appealing.\nWith this in mind, it is simpler to represent 22 sections than 99 chapters visually. The sections are:\ntbl(con, \"commodities\") %>%\n  distinct(section_code, section_name) %>%\n  arrange(section_code) %>%\n  collect() %>%\n  print(n = 22)\n# A tibble: 22 × 2\n   section_code section_name                                                    \n   <chr>        <chr>                                                           \n 1 01           Live Animals; Animal Products                                   \n 2 02           Vegetable Products                                              \n 3 03           Animal, Vegetable Or Microbial Fats And Oils And Their Cleavage…\n 4 04           Prepared Foodstuffs; Beverages, Spirits And Vinegar; Tobacco An…\n 5 05           Mineral Products                                                \n 6 06           Products Of The Chemical Or Allied Industries                   \n 7 07           Plastics And Articles Thereof; Rubber And Articles Thereof      \n 8 08           Raw Hides And Skins, Leather, Furskins And Articles Thereof; Sa…\n 9 09           Wood And Articles Of Wood; Wood Charcoal; Cork And Articles Of …\n10 10           Pulp Of Wood Or Of Other Fibrous Cellulosic Material; Recovered…\n11 11           Textiles And Textile Articles                                   \n12 12           Footwear, Headgear, Umbrellas, Sun Umbrellas, Walking-Sticks, S…\n13 13           Articles Of Stone, Plaster, Cement, Asbestos, Mica Or Similar M…\n14 14           Natural Or Cultured Pearls, Precious Or Semi-Precious Stones, P…\n15 15           Base Metals And Articles Of Base Metal                          \n16 16           Machinery And Mechanical Appliances; Electrical Equipment; Part…\n17 17           Vehicles, Aircraft, Vessels And Associated Transport Equipment  \n18 18           Optical, Photographic, Cinematographic, Measuring, Checking, Pr…\n19 19           Arms And Ammunition; Parts And Accessories Thereof              \n20 20           Miscellaneous Manufactured Articles                             \n21 21           Works Of Art, Collectors' Pieces And Antiques                   \n22 99           Unknown Or Unspecified\nAccording to\nStatistics Canada’s Survey of Household Spending, 2023\n: “Shelter accounted for 32.1% of total consumption of goods and services in 2023, followed by transportation (15.8%) and food (15.7%), which remained the three largest spending categories.” Because of this, let’s focus solely on sections one to four.\nHow much do American products represented from Canadian food (and food related) products in 2023? We can go to the YRPC (year-reporter-partner-commodity) table. The HS presents products as commodities, but for simplicity, I refer to them as products. This table is not a part of the official UN Comtrade data, it is my own creation with extra steps to include ISO-3 Alpha codes for countries and the section and chapter codes I mentioned previously.\ncan_foods <- tbl(con, \"yrpc\") %>%\n  filter(\n    year == 2023L,\n    partner_iso == \"CAN\",\n    section_code %in% c(\"01\", \"02\", \"03\", \"04\")\n  ) %>%\n  mutate(\n    exporter = case_when(\n      reporter_iso == \"USA\" ~ \"United States\",\n      TRUE ~ \"Rest of the World\"\n    )\n  ) %>%\n  group_by(exporter) %>%\n  summarise(\n    imports = sum(trade_value_usd_exp, na.rm = TRUE)\n  ) %>%\n  ungroup() %>%\n  mutate(\n    share = imports / sum(imports) * 100\n  ) %>%\n  collect()\n\ncan_foods\n# A tibble: 2 × 3\n  exporter               imports share\n  <chr>                    <dbl> <dbl>\n1 Rest of the World 44360282786.  57.4\n2 United States     32885888490   42.6\nIn the previous chunk I used the exporter-based figures to exclude the cost of freight and insurance from the importer-based values. This gives a clearer picture of the actual trade flows between the countries involved without considering logistics costs.\nWe can refine this a bit more by grouping by section code as well:\ncan_foods_refined <-  tbl(con, \"yrpc\") %>%\n  filter(\n    year == 2023L,\n    partner_iso == \"CAN\",\n    section_code %in% c(\"01\", \"02\", \"03\", \"04\")\n  ) %>%\n  mutate(\n    exporter = case_when(\n      reporter_iso == \"USA\" ~ \"United States\",\n      TRUE ~ \"Rest of the World\"\n    )\n  ) %>%\n  inner_join(\n    tbl(con, \"commodities\") %>%\n      select(commodity_code, section_code, section_name, section_color)\n  ) %>%\n  group_by(exporter, section_name, section_color) %>%\n  summarise(\n    imports = sum(trade_value_usd_exp, na.rm = TRUE)\n  ) %>%\n  ungroup() %>%\n  group_by(section_name, section_color) %>%\n  mutate(\n    share = imports / sum(imports) * 100\n  ) %>%\n  ungroup() %>%\n  arrange(section_name, exporter) %>%\n  collect()\n\ncan_foods_refined\n# A tibble: 8 × 5\n  exporter          section_name                     section_color imports share\n  <chr>             <chr>                            <chr>           <dbl> <dbl>\n1 Rest of the World Animal, Vegetable Or Microbial … #549e95       1.85e 9  66.8\n2 United States     Animal, Vegetable Or Microbial … #549e95       9.19e 8  33.2\n3 Rest of the World Live Animals; Animal Products    #74c0e2       6.13e 9  60.7\n4 United States     Live Animals; Animal Products    #74c0e2       3.97e 9  39.3\n5 Rest of the World Prepared Foodstuffs; Beverages,… #8abdb6       2.57e10  60.0\n6 United States     Prepared Foodstuffs; Beverages,… #8abdb6       1.71e10  40.0\n7 Rest of the World Vegetable Products               #406662       1.07e10  49.7\n8 United States     Vegetable Products               #406662       1.09e10  50.3\nA plot of the previous table can show how much of the food products (and food related) imported by Canada come from the United States:\nlibrary(stringr)\nlibrary(ggplot2)\n\n# trim section name to 40 characters\ncan_foods_refined <- can_foods_refined %>%\n  mutate(section_name = paste0(str_sub(section_name, 1, 40), \"...\"))\n\nggplot(can_foods_refined, aes(x = exporter, y = share, fill = section_color)) +\n  geom_col(width = 0.7) +\n  facet_wrap(~ section_name, ncol = 1) +\n  scale_fill_identity() +\n  labs(\n    title = \"Share of Food Products Imported by Canada (2023)\",\n    subtitle = \"Source: Own creation based on UN Comtrade data\",\n    x = \"\",\n    y = \"Share (%)\"\n  ) +\n  theme_minimal(base_size = 13) +\n  theme(\n    axis.text.x = element_text(angle = 30, hjust = 1),\n    legend.position = \"none\"\n  )\nThe reciprocal tariffs of 25% applied to some animal and vegetable products effective as of September 12, 2025 (Source:\nGovernment of Canada\n) are directly affecting Canadian households’ pocket by a rough magnitude of an extra 25% x 15.7% x 60% ~= 2.5% on food products alone. Food is now 25% x 60% ~= 15% more expensive for Canadian families. This is a significant impact on the cost of living for many families if we start adding other affected products into the mix and the additional impact on employment as these tariffs also affect steel and other Canadian industries. Of course, this ignores general equilibrium effects such as trade diversion and changes in other exporters and consumer behaviour.\nIf you read up to here, I have put my international trade data for sale, it covers 1988-2023 for all countries at commodity level (HS 6 digits) and is already cleaned and organized in a PostgreSQL database. You can get 65 GB of clean data from\nBuy me a Coffee\nwith documentation and support.\nRelated\nTo\nleave a comment\nfor the author, please follow the link and comment on their blog:\npacha.dev/blog\n.\nR-bloggers.com\noffers\ndaily e-mail updates\nabout\nR\nnews and tutorials about\nlearning R\nand many other topics.\nClick here if you're looking to post or find an R/data-science job\n.\nWant to share your content on R-bloggers?\nclick here\nif you have a blog, or\nhere\nif you don't.",
    "meta_description": "If this post is useful to you I kindly ask a minimal donation on Buy Me a Coffee. It shall be used to continue my Open Source efforts. The full explanation is here: A Personal Message from an Open Source Contributor. You can send me questions for...",
    "meta_keywords": null,
    "og_description": "If this post is useful to you I kindly ask a minimal donation on Buy Me a Coffee. It shall be used to continue my Open Source efforts. The full explanation is here: A Personal Message from an Open Source Contributor. You can send me questions for...",
    "og_image": "https://pacha.dev/blog/2025/09/12/tariffs/index_files/figure-html/plot-1.png",
    "og_title": "How much can President Trump’s Tariffs Impact Canadian Households? | R-bloggers",
    "raw_jsonld_article": null,
    "reading_time_min": 8.3,
    "sitemap_lastmod": null,
    "twitter_description": "If this post is useful to you I kindly ask a minimal donation on Buy Me a Coffee. It shall be used to continue my Open Source efforts. The full explanation is here: A Personal Message from an Open Source Contributor. You can send me questions for...",
    "twitter_title": "How much can President Trump’s Tariffs Impact Canadian Households? | R-bloggers",
    "url": "https://www.r-bloggers.com/2025/09/how-much-can-president-trumps-tariffs-impact-canadian-households-2/",
    "word_count": 1669
  }
}