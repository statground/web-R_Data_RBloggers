{
  "id": "18dc090051efa06499e82dfbc63eb748c9a54cfd",
  "url": "https://www.r-bloggers.com/2024/01/quantile-regression-with-random-forests/",
  "created_at_utc": "2025-11-17T20:38:43Z",
  "data": null,
  "raw_original": {
    "uuid": "bd7f6257-a314-47ce-85ec-672835c3c703",
    "created_at": "2025-11-17 20:38:43",
    "raw_json": {
      "article_author": null,
      "article_headline": null,
      "article_modified": null,
      "article_published": null,
      "article_section": null,
      "article_tags": null,
      "canonical_url": "https://www.r-bloggers.com/2024/01/quantile-regression-with-random-forests/",
      "crawled_at": "2025-11-17T09:25:14.009292",
      "external_links": [
        {
          "href": "https://matloff.wordpress.com/2024/01/01/quantile-regression-with-random-forests/",
          "text": "Mad (Data) Scientist"
        },
        {
          "href": "http://r-posts.com/",
          "text": "here"
        },
        {
          "href": "https://matloff.files.wordpress.com/2024/01/wtvsht.png",
          "text": null
        },
        {
          "href": "https://matloff.wordpress.com/2024/01/01/quantile-regression-with-random-forests/",
          "text": "Mad (Data) Scientist"
        },
        {
          "href": "https://feedburner.google.com/fb/a/mailverify?uri=RBloggers",
          "text": "daily e-mail updates"
        },
        {
          "href": "https://www.r-project.org/",
          "text": "R"
        },
        {
          "href": "https://www.r-users.com/",
          "text": "Click here if you're looking to post or find an R/data-science job"
        },
        {
          "href": "http://r-posts.com/",
          "text": "here"
        }
      ],
      "h1_title": "R-bloggers",
      "html_title": "Quantile Regression with Random Forests | R-bloggers",
      "images": [
        {
          "alt": null,
          "base64": "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",
          "src": "https://www.r-bloggers.com/wp-content/plugins/jetpack/modules/lazy-images/images/1x1.trans.gif"
        },
        {
          "alt": null,
          "base64": "data:application/octet-stream;base64,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",
          "src": "https://matloff.files.wordpress.com/2024/01/wtvsht.png?w=450"
        }
      ],
      "internal_links": [
        {
          "href": "https://www.r-bloggers.com/author/matloff/",
          "text": "matloff"
        },
        {
          "href": "https://www.r-bloggers.com/category/r-bloggers/",
          "text": "R bloggers"
        },
        {
          "href": "https://www.r-bloggers.com/",
          "text": "R-bloggers"
        },
        {
          "href": "https://www.r-bloggers.com/contact-us/",
          "text": "here"
        },
        {
          "href": "https://www.r-bloggers.com/add-your-blog/",
          "text": "click here"
        },
        {
          "href": "https://www.r-bloggers.com/",
          "text": "R-bloggers.com"
        },
        {
          "href": "https://www.r-bloggers.com/how-to-learn-r-2/",
          "text": "learning R"
        },
        {
          "href": "https://www.r-bloggers.com/add-your-blog/",
          "text": "click here"
        }
      ],
      "lang": "en-US",
      "main_html": "<article class=\"post-381213 post type-post status-publish format-standard hentry category-r-bloggers\">\n<header class=\"post-header\">\n<h1 class=\"entry-title\">Quantile Regression with Random Forests</h1>\n<p class=\"meta post-meta\">Posted on <span class=\"updated\">January 1, 2024</span>  by <span class=\"vcard author\"><a class=\"fn\" href=\"https://www.r-bloggers.com/author/matloff/\">matloff</a></span>  in <a href=\"https://www.r-bloggers.com/category/r-bloggers/\" rel=\"category tag\">R bloggers</a> | 0 Comments</p>\n</header>\n<div class=\"entry clearfix\">\n<!-- \r\n<div style=\"min-height: 30px;\">\r\n[social4i size=\"small\" align=\"align-left\"]\r\n</div>\r\n-->\n<div style=\"border: 1px solid; background: none repeat scroll 0 0 #EDEDED; margin: 1px; font-size: 12px;\">\r\n[This article was first published on  <strong><a href=\"https://matloff.wordpress.com/2024/01/01/quantile-regression-with-random-forests/\"> Mad (Data) Scientist</a></strong>, and kindly contributed to <a href=\"https://www.r-bloggers.com/\" rel=\"nofollow\">R-bloggers</a>].  (You can report issue about the content on this page <a href=\"https://www.r-bloggers.com/contact-us/\">here</a>)\r\n<hr/>Want to share your content on R-bloggers?<a href=\"https://www.r-bloggers.com/add-your-blog/\" rel=\"nofollow\"> click here</a> if you have a blog, or <a href=\"http://r-posts.com/\" rel=\"nofollow\"> here</a> if you don't.\r\n</div>\n\n<!-- Share buttons by mashshare.net - Version: 3.8.9-->\n<p>In my December 22 blog, I first introduced the classic parametric quantile regression (QR) concept. I then showed how one could use the <strong>qeML</strong> package to perform quantile regression nonparametrically, using the package’s <strong>qeKNN </strong>function for a k-Nearest Neighbors approach. A reader then asked if this could be applied to random forests (RFs). The answer is yes, and this will be the topic of the current post.</p>\n<p>My goals in this post, as in the previous one, are to introduce the capabilities of <strong>qeML</strong> and to point out some general ML issues. The key example of the latter here is the fact that leaves in an RF tree are very similar to neighborhoods in k-NN, which implies that in principle one should be able to do QR in an RFs context, just as we did last time with k-NN.</p>\n<p>However, as the saying goes, “Easier said than done.” What was key in the kNN case last time was that the <strong>qeKNN </strong>function argument <strong>smoothingFtn</strong> gives the user access to the neighborhoods, in that it allows the user to specify a function that performs a user-requested operation in each neighborhood; <strong>smoothingFtn</strong> offers a local-linear option, for instance, and in the last post I showed how one could achieve QR via a user-written function.</p>\n<p>The situation for RFs is not so simple. The problem is that typical RF software does not provide “hooks” directly analogous to <strong>smoothingFtn</strong>. Some implementations do provide some useful hooks that could play a role, such as <strong>randomForests::getTree</strong>, but putting them together for the desired result may not be easy, especially given ambiguities in the documentation.</p>\n<p>Fortunately, the <strong>grf</strong> package includes a QR app. The <strong>qeML</strong> function <strong>qeRFgrf</strong> originally wrapped the “ordinary” and local linear options in <strong>grf</strong>, and I’ve now added QR in v.1.2. </p>\n<p>The name ‘grf’ stands for “Generalized Random Forests,” with the main generalizing being similar to <strong>smoothingFtn</strong>, i.e. to allow functions other than the mean to be applied to the data in the leaves. A second generalization aspect is to tailor the node-splitting process to the type of smoothing done in the leaves.</p>\n<p>In particular, <strong>grf</strong> includes the function <strong>quantile_forest</strong>, providing just what our reader inquired about. One specifies the quantiles of interest in an argument <strong>quantiles</strong>, and later calls the paired <strong>predict</strong> function to obtain the estimated quantiles of “Y” at requested values of the “X” variables.</p>\n<p>The <strong>qeML</strong> package has an interface to <strong>grf</strong>, as the function <strong>qeRFgrf.</strong> To access the QR option (<strong>qeML</strong> v.1.2), set the <strong>qeRFgrf</strong> argument <strong>quantls</strong> to a nonnull value. Here is an example using the North American major league baseball players data (included in <strong>qeML</strong> with the permission of the UCLA Stat Dept.). We find the 20th, 40th, 60th and 80th percentiles of weight, for each height.</p>\n<pre>library(qeML)\ndata(mlb1)\n\nz &lt;-qeRFgrf(mlb1[,2:3],'Weight',quantls=c(0.2,0.4,0.6,0.8),holdout=NULL)\nw &lt;- predict(z,mlb1[,2,drop=F])\ndf1 &lt;- data.frame(x=mlb1[,2,drop=F],y=w[,1],z='0.20')\ndf2 &lt;- data.frame(x=mlb1[,2,drop=F],y=w[,2],z='0.40')\ndf3 &lt;- data.frame(x=mlb1[,2,drop=F],y=w[,3],z='0.60')\ndf4 &lt;- data.frame(x=mlb1[,2,drop=F],y=w[,4],z='0.80')\ndfall &lt;- rbind(df1,df2,df3,df4)\nqeML:::qePlotCurves(dfall,xlab='ht',ylab='wt')\n</pre>\n<figure class=\"wp-block-image size-large\"><a href=\"https://matloff.files.wordpress.com/2024/01/wtvsht.png\" rel=\"nofollow\" target=\"_blank\"><img alt=\"\" class=\"wp-image-2495\" data-attachment-id=\"2495\" data-comments-opened=\"1\" data-image-caption=\"\" data-image-description=\"\" data-image-title=\"wtvsht\" data-large-file=\"https://matloff.files.wordpress.com/2024/01/wtvsht.png?w=474\" data-lazy-sizes=\"(max-width: 480px) 100vw, 480px\" data-lazy-src=\"https://matloff.files.wordpress.com/2024/01/wtvsht.png?w=450\" data-medium-file=\"https://matloff.files.wordpress.com/2024/01/wtvsht.png?w=300\" data-orig-file=\"https://matloff.files.wordpress.com/2024/01/wtvsht.png\" data-orig-size=\"480,480\" data-permalink=\"https://matloff.wordpress.com/2024/01/01/quantile-regression-with-random-forests/wtvsht/\" data-recalc-dims=\"1\" loading=\"lazy\" src=\"https://www.r-bloggers.com/wp-content/plugins/jetpack/modules/lazy-images/images/1x1.trans.gif\" srcset_temp=\"https://matloff.files.wordpress.com/2024/01/wtvsht.png 480w, https://matloff.files.wordpress.com/2024/01/wtvsht.png?w=150 150w, https://matloff.files.wordpress.com/2024/01/wtvsht.png?w=300 300w\"/><noscript><img alt=\"\" aperture\":\"0\",\"credit\":\"\",\"camera\":\"\",\"caption\":\"\",\"created_timestamp\":\"0\",\"copyright\":\"\",\"focal_length\":\"0\",\"iso\":\"0\",\"shutter_speed\":\"0\",\"title\":\"\",\"orientation\":\"0\"}\"=\"\" class=\"wp-image-2495\" data-attachment-id=\"2495\" data-comments-opened=\"1\" data-image-caption=\"\" data-image-description=\"\" data-image-meta=\"{\" data-image-title=\"wtvsht\" data-large-file=\"https://matloff.files.wordpress.com/2024/01/wtvsht.png?w=474\" data-medium-file=\"https://matloff.files.wordpress.com/2024/01/wtvsht.png?w=300\" data-orig-file=\"https://matloff.files.wordpress.com/2024/01/wtvsht.png\" data-orig-size=\"480,480\" data-permalink=\"https://matloff.wordpress.com/2024/01/01/quantile-regression-with-random-forests/wtvsht/\" data-recalc-dims=\"1\" loading=\"lazy\" sizes=\"(max-width: 480px) 100vw, 480px\" src=\"https://matloff.files.wordpress.com/2024/01/wtvsht.png?w=450\" srcset_temp=\"https://matloff.files.wordpress.com/2024/01/wtvsht.png 480w, https://matloff.files.wordpress.com/2024/01/wtvsht.png?w=150 150w, https://matloff.files.wordpress.com/2024/01/wtvsht.png?w=300 300w\"/></noscript></a></figure>\n<p>The convenience function <strong>qePlotCurves</strong> is essentially the code I used in the previous post, now added to v.1.2.</p>\n<p>I highly recommend the <strong>grf </strong>package. My attention was immediately drawn to it when it first came out, as I was pleased to see that I could now do analysis in RFs using non-mean smoothing, as I had been doing with <strong>qeKNN</strong>. It was written by some top researchers, who also developed the supporting theory.</p>\n<div class=\"jp-relatedposts\" id=\"jp-relatedposts\">\n<h3 class=\"jp-relatedposts-headline\"><em>Related</em></h3>\n</div>\n<!-- Share buttons by mashshare.net - Version: 3.8.9-->\n<div style=\"border: 1px solid; background: none repeat scroll 0 0 #EDEDED; margin: 1px; font-size: 13px;\">\n<div style=\"text-align: center;\">To <strong>leave a comment</strong> for the author, please follow the link and comment on their blog: <strong><a href=\"https://matloff.wordpress.com/2024/01/01/quantile-regression-with-random-forests/\"> Mad (Data) Scientist</a></strong>.</div>\n<hr>\n<a href=\"https://www.r-bloggers.com/\" rel=\"nofollow\">R-bloggers.com</a> offers <strong><a href=\"https://feedburner.google.com/fb/a/mailverify?uri=RBloggers\" rel=\"nofollow\">daily e-mail updates</a></strong> about <a href=\"https://www.r-project.org/\" rel=\"nofollow\" title=\"The R Project for Statistical Computing\">R</a> news and tutorials about <a href=\"https://www.r-bloggers.com/how-to-learn-r-2/\" rel=\"nofollow\" title=\"R tutorials\">learning R</a> and many other topics. <a href=\"https://www.r-users.com/\" rel=\"nofollow\" title=\"Data science jobs\">Click here if you're looking to post or find an R/data-science job</a>.\r\n\r\n<hr/>Want to share your content on R-bloggers?<a href=\"https://www.r-bloggers.com/add-your-blog/\" rel=\"nofollow\"> click here</a> if you have a blog, or <a href=\"http://r-posts.com/\" rel=\"nofollow\"> here</a> if you don't.\r\n</hr></div> </div>\n</article>",
      "main_text": "Quantile Regression with Random Forests\nPosted on\nJanuary 1, 2024\nby\nmatloff\nin\nR bloggers\n| 0 Comments\n[This article was first published on\nMad (Data) Scientist\n, and kindly contributed to\nR-bloggers\n].  (You can report issue about the content on this page\nhere\n)\nWant to share your content on R-bloggers?\nclick here\nif you have a blog, or\nhere\nif you don't.\nIn my December 22 blog, I first introduced the classic parametric quantile regression (QR) concept. I then showed how one could use the\nqeML\npackage to perform quantile regression nonparametrically, using the package’s\nqeKNN\nfunction for a k-Nearest Neighbors approach. A reader then asked if this could be applied to random forests (RFs). The answer is yes, and this will be the topic of the current post.\nMy goals in this post, as in the previous one, are to introduce the capabilities of\nqeML\nand to point out some general ML issues. The key example of the latter here is the fact that leaves in an RF tree are very similar to neighborhoods in k-NN, which implies that in principle one should be able to do QR in an RFs context, just as we did last time with k-NN.\nHowever, as the saying goes, “Easier said than done.” What was key in the kNN case last time was that the\nqeKNN\nfunction argument\nsmoothingFtn\ngives the user access to the neighborhoods, in that it allows the user to specify a function that performs a user-requested operation in each neighborhood;\nsmoothingFtn\noffers a local-linear option, for instance, and in the last post I showed how one could achieve QR via a user-written function.\nThe situation for RFs is not so simple. The problem is that typical RF software does not provide “hooks” directly analogous to\nsmoothingFtn\n. Some implementations do provide some useful hooks that could play a role, such as\nrandomForests::getTree\n, but putting them together for the desired result may not be easy, especially given ambiguities in the documentation.\nFortunately, the\ngrf\npackage includes a QR app. The\nqeML\nfunction\nqeRFgrf\noriginally wrapped the “ordinary” and local linear options in\ngrf\n, and I’ve now added QR in v.1.2.\nThe name ‘grf’ stands for “Generalized Random Forests,” with the main generalizing being similar to\nsmoothingFtn\n, i.e. to allow functions other than the mean to be applied to the data in the leaves. A second generalization aspect is to tailor the node-splitting process to the type of smoothing done in the leaves.\nIn particular,\ngrf\nincludes the function\nquantile_forest\n, providing just what our reader inquired about. One specifies the quantiles of interest in an argument\nquantiles\n, and later calls the paired\npredict\nfunction to obtain the estimated quantiles of “Y” at requested values of the “X” variables.\nThe\nqeML\npackage has an interface to\ngrf\n, as the function\nqeRFgrf.\nTo access the QR option (\nqeML\nv.1.2), set the\nqeRFgrf\nargument\nquantls\nto a nonnull value. Here is an example using the North American major league baseball players data (included in\nqeML\nwith the permission of the UCLA Stat Dept.). We find the 20th, 40th, 60th and 80th percentiles of weight, for each height.\nlibrary(qeML)\ndata(mlb1)\n\nz <-qeRFgrf(mlb1[,2:3],'Weight',quantls=c(0.2,0.4,0.6,0.8),holdout=NULL)\nw <- predict(z,mlb1[,2,drop=F])\ndf1 <- data.frame(x=mlb1[,2,drop=F],y=w[,1],z='0.20')\ndf2 <- data.frame(x=mlb1[,2,drop=F],y=w[,2],z='0.40')\ndf3 <- data.frame(x=mlb1[,2,drop=F],y=w[,3],z='0.60')\ndf4 <- data.frame(x=mlb1[,2,drop=F],y=w[,4],z='0.80')\ndfall <- rbind(df1,df2,df3,df4)\nqeML:::qePlotCurves(dfall,xlab='ht',ylab='wt')\nThe convenience function\nqePlotCurves\nis essentially the code I used in the previous post, now added to v.1.2.\nI highly recommend the\ngrf\npackage. My attention was immediately drawn to it when it first came out, as I was pleased to see that I could now do analysis in RFs using non-mean smoothing, as I had been doing with\nqeKNN\n. It was written by some top researchers, who also developed the supporting theory.\nRelated\nTo\nleave a comment\nfor the author, please follow the link and comment on their blog:\nMad (Data) Scientist\n.\nR-bloggers.com\noffers\ndaily e-mail updates\nabout\nR\nnews and tutorials about\nlearning R\nand many other topics.\nClick here if you're looking to post or find an R/data-science job\n.\nWant to share your content on R-bloggers?\nclick here\nif you have a blog, or\nhere\nif you don't.",
      "meta_description": "In my December 22 blog, I first introduced the classic parametric quantile regression (QR) concept. I then showed how one could use the qeML package to perform quantile regression nonparametrically, using the package’s qeKNN function for a k-Nearest Neighbors approach. A reader then asked if this could be applied to random forests (RFs). The answer is yes, … Continue reading Quantile Regression with Random Forests →",
      "meta_keywords": null,
      "og_description": "In my December 22 blog, I first introduced the classic parametric quantile regression (QR) concept. I then showed how one could use the qeML package to perform quantile regression nonparametrically, using the package’s qeKNN function for a k-Nearest Neighbors approach. A reader then asked if this could be applied to random forests (RFs). The answer is yes, … Continue reading Quantile Regression with Random Forests →",
      "og_image": "https://matloff.files.wordpress.com/2024/01/wtvsht.png?w=480",
      "og_title": "Quantile Regression with Random Forests | R-bloggers",
      "raw_jsonld_article": null,
      "reading_time_min": 3.9,
      "sitemap_lastmod": "2024-01-02T00:45:19+00:00",
      "twitter_description": "In my December 22 blog, I first introduced the classic parametric quantile regression (QR) concept. I then showed how one could use the qeML package to perform quantile regression nonparametrically, using the package’s qeKNN function for a k-Nearest Neighbors approach. A reader then asked if this could be applied to random forests (RFs). The answer is yes, … Continue reading Quantile Regression with Random Forests →",
      "twitter_title": "Quantile Regression with Random Forests | R-bloggers",
      "url": "https://www.r-bloggers.com/2024/01/quantile-regression-with-random-forests/",
      "word_count": 789
    }
  }
}