{
  "uuid": "67e051e1-d82a-4b46-8bde-8377f5e618b6",
  "created_at": "2025-11-17 20:38:32",
  "raw_json": {
    "article_author": null,
    "article_headline": null,
    "article_modified": null,
    "article_published": null,
    "article_section": null,
    "article_tags": null,
    "canonical_url": "https://www.r-bloggers.com/2024/01/exploring-the-enhanced-features-of-tidyamls-internal_make_wflw_predictions/",
    "crawled_at": "2025-11-17T09:17:22.372866",
    "external_links": [
      {
        "href": "https://www.spsanderson.com/steveondata/posts/2024-01-18/index.html",
        "text": "Steve's Data Tips and Tricks"
      },
      {
        "href": "http://r-posts.com/",
        "text": "here"
      },
      {
        "href": "https://www.spsanderson.com/steveondata/posts/2024-01-18/index.html",
        "text": "Steve's Data Tips and Tricks"
      },
      {
        "href": "https://feedburner.google.com/fb/a/mailverify?uri=RBloggers",
        "text": "daily e-mail updates"
      },
      {
        "href": "https://www.r-project.org/",
        "text": "R"
      },
      {
        "href": "https://www.r-users.com/",
        "text": "Click here if you're looking to post or find an R/data-science job"
      },
      {
        "href": "http://r-posts.com/",
        "text": "here"
      }
    ],
    "h1_title": "R-bloggers",
    "html_title": "Exploring the Enhanced Features of tidyAML’s internal_make_wflw_predictions() | R-bloggers",
    "images": [],
    "internal_links": [
      {
        "href": "https://www.r-bloggers.com/author/steven-p-sanderson-ii-mph/",
        "text": "Steven P. Sanderson II, MPH"
      },
      {
        "href": "https://www.r-bloggers.com/category/r-bloggers/",
        "text": "R bloggers"
      },
      {
        "href": "https://www.r-bloggers.com/",
        "text": "R-bloggers"
      },
      {
        "href": "https://www.r-bloggers.com/contact-us/",
        "text": "here"
      },
      {
        "href": "https://www.r-bloggers.com/add-your-blog/",
        "text": "click here"
      },
      {
        "href": "https://www.r-bloggers.com/",
        "text": "R-bloggers.com"
      },
      {
        "href": "https://www.r-bloggers.com/how-to-learn-r-2/",
        "text": "learning R"
      },
      {
        "href": "https://www.r-bloggers.com/add-your-blog/",
        "text": "click here"
      }
    ],
    "lang": "en-US",
    "main_html": "<article class=\"post-381582 post type-post status-publish format-standard hentry category-r-bloggers\">\n<header class=\"post-header\">\n<h1 class=\"entry-title\">Exploring the Enhanced Features of tidyAML’s internal_make_wflw_predictions()</h1>\n<p class=\"meta post-meta\">Posted on <span class=\"updated\">January 17, 2024</span>  by <span class=\"vcard author\"><a class=\"fn\" href=\"https://www.r-bloggers.com/author/steven-p-sanderson-ii-mph/\">Steven P. Sanderson II, MPH</a></span>  in <a href=\"https://www.r-bloggers.com/category/r-bloggers/\" rel=\"category tag\">R bloggers</a> | 0 Comments</p>\n</header>\n<div class=\"entry clearfix\">\n<!-- \r\n<div style=\"min-height: 30px;\">\r\n[social4i size=\"small\" align=\"align-left\"]\r\n</div>\r\n-->\n<div style=\"border: 1px solid; background: none repeat scroll 0 0 #EDEDED; margin: 1px; font-size: 12px;\">\r\n[This article was first published on  <strong><a href=\"https://www.spsanderson.com/steveondata/posts/2024-01-18/index.html\"> Steve's Data Tips and Tricks</a></strong>, and kindly contributed to <a href=\"https://www.r-bloggers.com/\" rel=\"nofollow\">R-bloggers</a>].  (You can report issue about the content on this page <a href=\"https://www.r-bloggers.com/contact-us/\">here</a>)\r\n<hr/>Want to share your content on R-bloggers?<a href=\"https://www.r-bloggers.com/add-your-blog/\" rel=\"nofollow\"> click here</a> if you have a blog, or <a href=\"http://r-posts.com/\" rel=\"nofollow\"> here</a> if you don't.\r\n</div>\n\n<!-- Share buttons by mashshare.net - Version: 3.8.9-->\n<section class=\"level1\" id=\"introduction\">\n<h1>Introduction</h1>\n<p>Hey R enthusiasts! Steve here, and today I’m excited to share some fantastic updates about a key function in the tidyAML package – <code>internal_make_wflw_predictions()</code>. The latest version addresses issue #190, ensuring that all crucial data is now included in the predictions. Let’s dive into the details!</p>\n</section>\n<section class=\"level1\" id=\"whats-new\">\n<h1>What’s New?</h1>\n<p>In response to user feedback, we’ve enhanced the <code>internal_make_wflw_predictions()</code> function to provide a comprehensive set of predictions. Now, when you make a call to this function, it includes:</p>\n<ol type=\"1\">\n<li><p><strong>The Actual Data:</strong> This is the real-world data that your model aims to predict. Having access to this information helps you assess how well your model is performing on unseen instances.</p></li>\n<li><p><strong>Training Predictions:</strong> Predictions made on the training dataset. This is essential for understanding how well your model generalizes to the data it was trained on.</p></li>\n<li><p><strong>Testing Predictions:</strong> Predictions made on the testing dataset. This is crucial for evaluating the model’s performance on data it hasn’t seen during the training phase.</p></li>\n</ol>\n</section>\n<section class=\"level1\" id=\"how-to-use-it\">\n<h1>How to Use It</h1>\n<p>To take advantage of these new features, here’s how you can use the updated <code>internal_make_wflw_predictions()</code> function:</p>\n<pre>internal_make_wflw_predictions(.model_tbl, .splits_obj)</pre>\n<section class=\"level2\" id=\"arguments\">\n<h2 class=\"anchored\" data-anchor-id=\"arguments\">Arguments:</h2>\n<ol type=\"1\">\n<li><p><strong>.model_tbl:</strong> The model table generated from a function like <code>fast_regression_parsnip_spec_tbl()</code>. Ensure that it has a class of “tidyaml_mod_spec_tbl.” This is typically used after running the <code>internal_make_fitted_wflw()</code> function and saving the resulting tibble.</p></li>\n<li><p><strong>.splits_obj:</strong> The splits object obtained from the <code>auto_ml</code> function. It is internal to the <code>auto_ml</code> function.</p></li>\n</ol>\n</section>\n</section>\n<section class=\"level1\" id=\"example-usage\">\n<h1>Example Usage</h1>\n<p>Let’s walk through an example using some popular R packages:</p>\n<div class=\"cell\">\n<pre>library(tidymodels)\nlibrary(tidyAML)\nlibrary(tidyverse)\ntidymodels_prefer()\n\n# Create a model specification table\nmod_spec_tbl &lt;- fast_regression_parsnip_spec_tbl(\n  .parsnip_eng = c(\"lm\",\"glm\"),\n  .parsnip_fns = \"linear_reg\"\n)\n\n# Create a recipe\nrec_obj &lt;- recipe(mpg ~ ., data = mtcars)\n\n# Create splits\nsplits_obj &lt;- create_splits(mtcars, \"initial_split\")\n\n# Generate the model table\nmod_tbl &lt;- mod_spec_tbl |&gt;\n  mutate(wflw = full_internal_make_wflw(mod_spec_tbl, rec_obj))\n\n# Generate the fitted model table\nmod_fitted_tbl &lt;- mod_tbl |&gt;\n  mutate(fitted_wflw = internal_make_fitted_wflw(mod_tbl, splits_obj))\n\n# Make predictions with the enhanced function\npreds_list &lt;- internal_make_wflw_predictions(mod_fitted_tbl, splits_obj)</pre>\n</div>\n<p>This example demonstrates how to integrate the updated function into your workflow seamlessly. Typically though one would not use this function directly, but rather use the <code>fast_regression()</code> or <code>fast_classification()</code> function, which calls this function internally. Let’s now take a look at the output of everything.</p>\n<div class=\"cell\">\n<pre>rec_obj</pre>\n<div class=\"cell-output cell-output-stderr\">\n</div>\n<div class=\"cell-output cell-output-stderr\">\n<pre>── Recipe ──────────────────────────────────────────────────────────────────────</pre>\n</div>\n<div class=\"cell-output cell-output-stderr\">\n</div>\n<div class=\"cell-output cell-output-stderr\">\n<pre>── Inputs </pre>\n</div>\n<div class=\"cell-output cell-output-stderr\">\n<pre>Number of variables by role</pre>\n</div>\n<div class=\"cell-output cell-output-stderr\">\n<pre>outcome:    1\npredictor: 10</pre>\n</div>\n<pre>splits_obj</pre>\n<div class=\"cell-output cell-output-stdout\">\n<pre>$splits\n&lt;Training/Testing/Total&gt;\n&lt;24/8/32&gt;\n\n$split_type\n[1] \"initial_split\"</pre>\n</div>\n<pre>mod_spec_tbl</pre>\n<div class=\"cell-output cell-output-stdout\">\n<pre># A tibble: 2 × 5\n  .model_id .parsnip_engine .parsnip_mode .parsnip_fns model_spec\n      &lt;int&gt; &lt;chr&gt;           &lt;chr&gt;         &lt;chr&gt;        &lt;list&gt;    \n1         1 lm              regression    linear_reg   &lt;spec[+]&gt; \n2         2 glm             regression    linear_reg   &lt;spec[+]&gt; </pre>\n</div>\n<pre>mod_tbl</pre>\n<div class=\"cell-output cell-output-stdout\">\n<pre># A tibble: 2 × 6\n  .model_id .parsnip_engine .parsnip_mode .parsnip_fns model_spec wflw      \n      &lt;int&gt; &lt;chr&gt;           &lt;chr&gt;         &lt;chr&gt;        &lt;list&gt;     &lt;list&gt;    \n1         1 lm              regression    linear_reg   &lt;spec[+]&gt;  &lt;workflow&gt;\n2         2 glm             regression    linear_reg   &lt;spec[+]&gt;  &lt;workflow&gt;</pre>\n</div>\n<pre>mod_fitted_tbl</pre>\n<div class=\"cell-output cell-output-stdout\">\n<pre># A tibble: 2 × 7\n  .model_id .parsnip_engine .parsnip_mode .parsnip_fns model_spec wflw      \n      &lt;int&gt; &lt;chr&gt;           &lt;chr&gt;         &lt;chr&gt;        &lt;list&gt;     &lt;list&gt;    \n1         1 lm              regression    linear_reg   &lt;spec[+]&gt;  &lt;workflow&gt;\n2         2 glm             regression    linear_reg   &lt;spec[+]&gt;  &lt;workflow&gt;\n# ℹ 1 more variable: fitted_wflw &lt;list&gt;</pre>\n</div>\n<pre>preds_list</pre>\n<div class=\"cell-output cell-output-stdout\">\n<pre>[[1]]\n# A tibble: 64 × 3\n   .data_category .data_type .value\n   &lt;chr&gt;          &lt;chr&gt;       &lt;dbl&gt;\n 1 actual         actual       15.2\n 2 actual         actual       19.7\n 3 actual         actual       17.8\n 4 actual         actual       15  \n 5 actual         actual       10.4\n 6 actual         actual       15.8\n 7 actual         actual       17.3\n 8 actual         actual       30.4\n 9 actual         actual       15.2\n10 actual         actual       19.2\n# ℹ 54 more rows\n\n[[2]]\n# A tibble: 64 × 3\n   .data_category .data_type .value\n   &lt;chr&gt;          &lt;chr&gt;       &lt;dbl&gt;\n 1 actual         actual       15.2\n 2 actual         actual       19.7\n 3 actual         actual       17.8\n 4 actual         actual       15  \n 5 actual         actual       10.4\n 6 actual         actual       15.8\n 7 actual         actual       17.3\n 8 actual         actual       30.4\n 9 actual         actual       15.2\n10 actual         actual       19.2\n# ℹ 54 more rows</pre>\n</div>\n</div>\n<p>You will notice the names of the preds_list output:</p>\n<div class=\"cell\">\n<pre>names(preds_list[[1]])</pre>\n<div class=\"cell-output cell-output-stdout\">\n<pre>[1] \".data_category\" \".data_type\"     \".value\"        </pre>\n</div>\n</div>\n<p>So we have <code>.data_category</code>, <code>.data_type</code>, and <code>.value</code>. Let’s take a look at the unique values of each column for <code>.data_category</code> and <code>.data_type</code>:</p>\n<div class=\"cell\">\n<pre>unique(preds_list[[1]]$.data_category)</pre>\n<div class=\"cell-output cell-output-stdout\">\n<pre>[1] \"actual\"    \"predicted\"</pre>\n</div>\n</div>\n<p>So we have our <code>actual</code> data the the <code>predicted</code> data. The predicted though has both the <code>training</code> and <code>testing</code> data in it. Let’s take a look at the unique values of <code>.data_type</code>:</p>\n<div class=\"cell\">\n<pre>unique(preds_list[[1]]$.data_type)</pre>\n<div class=\"cell-output cell-output-stdout\">\n<pre>[1] \"actual\"   \"training\" \"testing\" </pre>\n</div>\n</div>\n<p>This will allow you to visualize the data how you please, something we will go over tomorrow!</p>\n<section class=\"level2\" id=\"why-it-matters\">\n<h2 class=\"anchored\" data-anchor-id=\"why-it-matters\">Why It Matters</h2>\n<p>By including actual data along with training and testing predictions, the <code>internal_make_wflw_predictions()</code> function empowers you to perform a more thorough evaluation of your models. This is a significant step towards ensuring the reliability and generalization capability of your machine learning models.</p>\n<p>So, R enthusiasts, update your tidyAML package, explore the enhanced features, and let us know how these improvements elevate your modeling experience. Happy coding!</p>\n</section>\n</section>\n<div class=\"jp-relatedposts\" id=\"jp-relatedposts\">\n<h3 class=\"jp-relatedposts-headline\"><em>Related</em></h3>\n</div>\n<!-- Share buttons by mashshare.net - Version: 3.8.9-->\n<div style=\"border: 1px solid; background: none repeat scroll 0 0 #EDEDED; margin: 1px; font-size: 13px;\">\n<div style=\"text-align: center;\">To <strong>leave a comment</strong> for the author, please follow the link and comment on their blog: <strong><a href=\"https://www.spsanderson.com/steveondata/posts/2024-01-18/index.html\"> Steve's Data Tips and Tricks</a></strong>.</div>\n<hr>\n<a href=\"https://www.r-bloggers.com/\" rel=\"nofollow\">R-bloggers.com</a> offers <strong><a href=\"https://feedburner.google.com/fb/a/mailverify?uri=RBloggers\" rel=\"nofollow\">daily e-mail updates</a></strong> about <a href=\"https://www.r-project.org/\" rel=\"nofollow\" title=\"The R Project for Statistical Computing\">R</a> news and tutorials about <a href=\"https://www.r-bloggers.com/how-to-learn-r-2/\" rel=\"nofollow\" title=\"R tutorials\">learning R</a> and many other topics. <a href=\"https://www.r-users.com/\" rel=\"nofollow\" title=\"Data science jobs\">Click here if you're looking to post or find an R/data-science job</a>.\r\n\r\n<hr/>Want to share your content on R-bloggers?<a href=\"https://www.r-bloggers.com/add-your-blog/\" rel=\"nofollow\"> click here</a> if you have a blog, or <a href=\"http://r-posts.com/\" rel=\"nofollow\"> here</a> if you don't.\r\n</hr></div> </div>\n</article>",
    "main_text": "Exploring the Enhanced Features of tidyAML’s internal_make_wflw_predictions()\nPosted on\nJanuary 17, 2024\nby\nSteven P. Sanderson II, MPH\nin\nR bloggers\n| 0 Comments\n[This article was first published on\nSteve's Data Tips and Tricks\n, and kindly contributed to\nR-bloggers\n].  (You can report issue about the content on this page\nhere\n)\nWant to share your content on R-bloggers?\nclick here\nif you have a blog, or\nhere\nif you don't.\nIntroduction\nHey R enthusiasts! Steve here, and today I’m excited to share some fantastic updates about a key function in the tidyAML package –\ninternal_make_wflw_predictions()\n. The latest version addresses issue #190, ensuring that all crucial data is now included in the predictions. Let’s dive into the details!\nWhat’s New?\nIn response to user feedback, we’ve enhanced the\ninternal_make_wflw_predictions()\nfunction to provide a comprehensive set of predictions. Now, when you make a call to this function, it includes:\nThe Actual Data:\nThis is the real-world data that your model aims to predict. Having access to this information helps you assess how well your model is performing on unseen instances.\nTraining Predictions:\nPredictions made on the training dataset. This is essential for understanding how well your model generalizes to the data it was trained on.\nTesting Predictions:\nPredictions made on the testing dataset. This is crucial for evaluating the model’s performance on data it hasn’t seen during the training phase.\nHow to Use It\nTo take advantage of these new features, here’s how you can use the updated\ninternal_make_wflw_predictions()\nfunction:\ninternal_make_wflw_predictions(.model_tbl, .splits_obj)\nArguments:\n.model_tbl:\nThe model table generated from a function like\nfast_regression_parsnip_spec_tbl()\n. Ensure that it has a class of “tidyaml_mod_spec_tbl.” This is typically used after running the\ninternal_make_fitted_wflw()\nfunction and saving the resulting tibble.\n.splits_obj:\nThe splits object obtained from the\nauto_ml\nfunction. It is internal to the\nauto_ml\nfunction.\nExample Usage\nLet’s walk through an example using some popular R packages:\nlibrary(tidymodels)\nlibrary(tidyAML)\nlibrary(tidyverse)\ntidymodels_prefer()\n\n# Create a model specification table\nmod_spec_tbl <- fast_regression_parsnip_spec_tbl(\n  .parsnip_eng = c(\"lm\",\"glm\"),\n  .parsnip_fns = \"linear_reg\"\n)\n\n# Create a recipe\nrec_obj <- recipe(mpg ~ ., data = mtcars)\n\n# Create splits\nsplits_obj <- create_splits(mtcars, \"initial_split\")\n\n# Generate the model table\nmod_tbl <- mod_spec_tbl |>\n  mutate(wflw = full_internal_make_wflw(mod_spec_tbl, rec_obj))\n\n# Generate the fitted model table\nmod_fitted_tbl <- mod_tbl |>\n  mutate(fitted_wflw = internal_make_fitted_wflw(mod_tbl, splits_obj))\n\n# Make predictions with the enhanced function\npreds_list <- internal_make_wflw_predictions(mod_fitted_tbl, splits_obj)\nThis example demonstrates how to integrate the updated function into your workflow seamlessly. Typically though one would not use this function directly, but rather use the\nfast_regression()\nor\nfast_classification()\nfunction, which calls this function internally. Let’s now take a look at the output of everything.\nrec_obj\n── Recipe ──────────────────────────────────────────────────────────────────────\n── Inputs\nNumber of variables by role\noutcome:    1\npredictor: 10\nsplits_obj\n$splits\n<Training/Testing/Total>\n<24/8/32>\n\n$split_type\n[1] \"initial_split\"\nmod_spec_tbl\n# A tibble: 2 × 5\n  .model_id .parsnip_engine .parsnip_mode .parsnip_fns model_spec\n      <int> <chr>           <chr>         <chr>        <list>    \n1         1 lm              regression    linear_reg   <spec[+]> \n2         2 glm             regression    linear_reg   <spec[+]>\nmod_tbl\n# A tibble: 2 × 6\n  .model_id .parsnip_engine .parsnip_mode .parsnip_fns model_spec wflw      \n      <int> <chr>           <chr>         <chr>        <list>     <list>    \n1         1 lm              regression    linear_reg   <spec[+]>  <workflow>\n2         2 glm             regression    linear_reg   <spec[+]>  <workflow>\nmod_fitted_tbl\n# A tibble: 2 × 7\n  .model_id .parsnip_engine .parsnip_mode .parsnip_fns model_spec wflw      \n      <int> <chr>           <chr>         <chr>        <list>     <list>    \n1         1 lm              regression    linear_reg   <spec[+]>  <workflow>\n2         2 glm             regression    linear_reg   <spec[+]>  <workflow>\n# ℹ 1 more variable: fitted_wflw <list>\npreds_list\n[[1]]\n# A tibble: 64 × 3\n   .data_category .data_type .value\n   <chr>          <chr>       <dbl>\n 1 actual         actual       15.2\n 2 actual         actual       19.7\n 3 actual         actual       17.8\n 4 actual         actual       15  \n 5 actual         actual       10.4\n 6 actual         actual       15.8\n 7 actual         actual       17.3\n 8 actual         actual       30.4\n 9 actual         actual       15.2\n10 actual         actual       19.2\n# ℹ 54 more rows\n\n[[2]]\n# A tibble: 64 × 3\n   .data_category .data_type .value\n   <chr>          <chr>       <dbl>\n 1 actual         actual       15.2\n 2 actual         actual       19.7\n 3 actual         actual       17.8\n 4 actual         actual       15  \n 5 actual         actual       10.4\n 6 actual         actual       15.8\n 7 actual         actual       17.3\n 8 actual         actual       30.4\n 9 actual         actual       15.2\n10 actual         actual       19.2\n# ℹ 54 more rows\nYou will notice the names of the preds_list output:\nnames(preds_list[[1]])\n[1] \".data_category\" \".data_type\"     \".value\"\nSo we have\n.data_category\n,\n.data_type\n, and\n.value\n. Let’s take a look at the unique values of each column for\n.data_category\nand\n.data_type\n:\nunique(preds_list[[1]]$.data_category)\n[1] \"actual\"    \"predicted\"\nSo we have our\nactual\ndata the the\npredicted\ndata. The predicted though has both the\ntraining\nand\ntesting\ndata in it. Let’s take a look at the unique values of\n.data_type\n:\nunique(preds_list[[1]]$.data_type)\n[1] \"actual\"   \"training\" \"testing\"\nThis will allow you to visualize the data how you please, something we will go over tomorrow!\nWhy It Matters\nBy including actual data along with training and testing predictions, the\ninternal_make_wflw_predictions()\nfunction empowers you to perform a more thorough evaluation of your models. This is a significant step towards ensuring the reliability and generalization capability of your machine learning models.\nSo, R enthusiasts, update your tidyAML package, explore the enhanced features, and let us know how these improvements elevate your modeling experience. Happy coding!\nRelated\nTo\nleave a comment\nfor the author, please follow the link and comment on their blog:\nSteve's Data Tips and Tricks\n.\nR-bloggers.com\noffers\ndaily e-mail updates\nabout\nR\nnews and tutorials about\nlearning R\nand many other topics.\nClick here if you're looking to post or find an R/data-science job\n.\nWant to share your content on R-bloggers?\nclick here\nif you have a blog, or\nhere\nif you don't.",
    "meta_description": "Introduction Hey R enthusiasts! Steve here, and today I’m excited to share some fantastic updates about a key function in the tidyAML package – internal_make_wflw_predictions(). The latest version addresses issue #190, ensuring that all crucial ...",
    "meta_keywords": null,
    "og_description": "Introduction Hey R enthusiasts! Steve here, and today I’m excited to share some fantastic updates about a key function in the tidyAML package – internal_make_wflw_predictions(). The latest version addresses issue #190, ensuring that all crucial ...",
    "og_image": "https://www.r-bloggers.com/wp-content/uploads/2016/04/R_02_2016-05-01.png",
    "og_title": "Exploring the Enhanced Features of tidyAML’s internal_make_wflw_predictions() | R-bloggers",
    "raw_jsonld_article": null,
    "reading_time_min": 4.7,
    "sitemap_lastmod": "2024-01-18T05:00:00+00:00",
    "twitter_description": "Introduction Hey R enthusiasts! Steve here, and today I’m excited to share some fantastic updates about a key function in the tidyAML package – internal_make_wflw_predictions(). The latest version addresses issue #190, ensuring that all crucial ...",
    "twitter_title": "Exploring the Enhanced Features of tidyAML’s internal_make_wflw_predictions() | R-bloggers",
    "url": "https://www.r-bloggers.com/2024/01/exploring-the-enhanced-features-of-tidyamls-internal_make_wflw_predictions/",
    "word_count": 935
  }
}