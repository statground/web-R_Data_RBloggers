{
  "id": "f0bf36fff2a0d337916ccdc578ac62b1dca7a2de",
  "url": "https://www.r-bloggers.com/2025/04/setting-up-cross-validation-caret-package-in-r-a-step-by-step-guide/",
  "created_at_utc": "2025-11-22T19:58:51Z",
  "data": null,
  "raw_original": {
    "uuid": "1cdb7ea2-df39-4c26-bfd8-23f74402defd",
    "created_at": "2025-11-22 19:58:51",
    "raw_json": {
      "article_author": null,
      "article_headline": null,
      "article_modified": null,
      "article_published": null,
      "article_section": null,
      "article_tags": null,
      "canonical_url": "https://www.r-bloggers.com/2025/04/setting-up-cross-validation-caret-package-in-r-a-step-by-step-guide/",
      "crawled_at": "2025-11-22T10:50:36.916259",
      "external_links": [
        {
          "href": "http://r-posts.com/setting-up-cross-validation-caret-package-in-r-a-step-by-step-guide/",
          "text": "R-posts.com"
        },
        {
          "href": "http://r-posts.com/",
          "text": "here"
        },
        {
          "href": "http://r-posts.com/setting-up-cross-validation-caret-package-in-r-a-step-by-step-guide/",
          "text": "Setting Up Cross-Validation (caret package) in R: A Step-by-Step Guide"
        },
        {
          "href": "http://r-posts.com/setting-up-cross-validation-caret-package-in-r-a-step-by-step-guide/",
          "text": "R-posts.com"
        },
        {
          "href": "https://feedburner.google.com/fb/a/mailverify?uri=RBloggers",
          "text": "daily e-mail updates"
        },
        {
          "href": "https://www.r-project.org/",
          "text": "R"
        },
        {
          "href": "https://www.r-users.com/",
          "text": "Click here if you're looking to post or find an R/data-science job"
        },
        {
          "href": "http://r-posts.com/",
          "text": "here"
        }
      ],
      "h1_title": "R-bloggers",
      "html_title": "Setting Up Cross-Validation (caret package) in R: A Step-by-Step Guide | R-bloggers",
      "images": [
        {
          "alt": "ðŸ˜Š",
          "base64": "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",
          "src": "https://www.r-bloggers.com/wp-content/plugins/jetpack/modules/lazy-images/images/1x1.trans.gif"
        },
        {
          "alt": "ðŸ˜Š",
          "base64": null,
          "src": "https://i2.wp.com/s.w.org/images/core/emoji/15.0.3/72x72/1f60a.png?w=578&ssl=1"
        }
      ],
      "internal_links": [
        {
          "href": "https://www.r-bloggers.com/author/nick-han/",
          "text": "Nick Han"
        },
        {
          "href": "https://www.r-bloggers.com/category/r-bloggers/",
          "text": "R bloggers"
        },
        {
          "href": "https://www.r-bloggers.com/",
          "text": "R-bloggers"
        },
        {
          "href": "https://www.r-bloggers.com/contact-us/",
          "text": "here"
        },
        {
          "href": "https://www.r-bloggers.com/add-your-blog/",
          "text": "click here"
        },
        {
          "href": "https://www.r-bloggers.com/",
          "text": "R-bloggers.com"
        },
        {
          "href": "https://www.r-bloggers.com/how-to-learn-r-2/",
          "text": "learning R"
        },
        {
          "href": "https://www.r-bloggers.com/add-your-blog/",
          "text": "click here"
        }
      ],
      "lang": "en-US",
      "main_html": "<article class=\"post-391856 post type-post status-publish format-standard hentry category-r-bloggers\">\n<header class=\"post-header\">\n<h1 class=\"entry-title\">Setting Up Cross-Validation (caret package) in R: A Step-by-Step Guide</h1>\n<p class=\"meta post-meta\">Posted on <span class=\"updated\">April 13, 2025</span>  by <span class=\"vcard author\"><a class=\"fn\" href=\"https://www.r-bloggers.com/author/nick-han/\">Nick Han</a></span>  in <a href=\"https://www.r-bloggers.com/category/r-bloggers/\" rel=\"category tag\">R bloggers</a> | 0 Comments</p>\n</header>\n<div class=\"entry clearfix\">\n<!-- \n<div style=\"min-height: 30px;\">\n[social4i size=\"small\" align=\"align-left\"]\n</div>\n-->\n<div style=\"border: 1px solid; background: none repeat scroll 0 0 #EDEDED; margin: 1px; font-size: 12px;\">\n[This article was first published on  <strong><a href=\"http://r-posts.com/setting-up-cross-validation-caret-package-in-r-a-step-by-step-guide/\"> R-posts.com</a></strong>, and kindly contributed to <a href=\"https://www.r-bloggers.com/\" rel=\"nofollow\">R-bloggers</a>].  (You can report issue about the content on this page <a href=\"https://www.r-bloggers.com/contact-us/\">here</a>)\n<hr/>Want to share your content on R-bloggers?<a href=\"https://www.r-bloggers.com/add-your-blog/\" rel=\"nofollow\"> click here</a> if you have a blog, or <a href=\"http://r-posts.com/\" rel=\"nofollow\"> here</a> if you don't.\n</div>\n\n<!-- Share buttons by mashshare.net - Version: 4.0.47--><p>In this blog, we explored how to set up <strong>cross-validation</strong> in R using the <code>caret</code> package, a powerful tool for evaluating machine learning models. Hereâ€™s a quick recap of what we covered:</p>\n<ol start=\"1\">\n<li>\n<p><strong>Introduction to Cross-Validation</strong>:</p>\n<ul>\n<li>\n<p>Cross-validation is a resampling technique that helps assess model performance and prevent overfitting by testing the model on multiple subsets of the data.</p>\n</li>\n</ul>\n</li>\n<li>\n<p><strong>Step-by-Step Setup</strong>:</p>\n<ul>\n<li>\n<p>We loaded the <code>caret</code> package and defined a cross-validation configuration using <code>trainControl</code>, specifying <strong>10-fold repeated cross-validation</strong> with <strong>5 repeats</strong>.</p>\n</li>\n<li>\n<p>We also saved the configuration for reuse using <code>saveRDS</code>.</p>\n</li>\n</ul>\n</li>\n<li>\n<p><strong>Practical Example</strong>:</p>\n<ul>\n<li>\n<p>Using the <code>iris</code> dataset, we trained a <strong>k-nearest neighbors (KNN)</strong> model with cross-validation and evaluated its performance.</p>\n</li>\n</ul>\n</li>\n<li>\n<p><strong>Why It Matters</strong>:</p>\n<ul>\n<li>\n<p>Cross-validation ensures robust model evaluation, avoids overfitting, and improves reproducibility and model selection.</p>\n</li>\n</ul>\n</li>\n<li>\n<p><strong>Conclusion</strong>:</p>\n<ul>\n<li>\n<p>By following this workflow, you can confidently evaluate your machine learning models and ensure they are ready for deployment.</p>\n</li>\n</ul>\n</li>\n</ol>\n<hr/>\n<p>Letâ€™s dive into the details!</p>\n<hr/>\n<h2><strong>1. Introduction to Cross-Validation</strong></h2>\n<p>Cross-validation is a resampling technique used to assess the performance and generalizability of machine learning models. It helps address issues like overfitting and ensures that the modelâ€™s performance is consistent across different subsets of the data. By splitting the data into multiple folds and repeating the process, cross-validation provides a robust estimate of model performance.</p>\n<hr/>\n<h2><strong>2. Step-by-Step Cross-Validation Setup</strong></h2>\n<h3><strong>Step 1: Load Necessary Library</strong></h3>\n<div class=\"md-code-block\">\n<div class=\"md-code-block-banner-wrap\">\n<div class=\"md-code-block-banner\"></div>\n</div>\n<pre>library(caret)</pre>\n</div>\n<ul>\n<li>\n<p><strong>Purpose</strong>: The <code>caret</code> package provides tools for training and evaluating machine learning models, including cross-validation.</p>\n</li>\n</ul>\n<hr/>\n<h3><strong>Step 2: Define Train Control for Cross-Validation</strong></h3>\n<div class=\"md-code-block\">\n<pre>train_control &lt;- trainControl(\n  method = \"repeatedcv\",      # Repeated cross-validation\n  number = 10,                # 10 folds\n  repeats = 5,                # 5 repeats\n  savePredictions = \"final\"   # Save predictions for the final model\n)</pre>\n</div>\n<ul>\n<li>\n<p><strong>Purpose</strong>: Configures the cross-validation process:</p>\n<ul>\n<li>\n<p><strong>Repeated Cross-Validation</strong>: Splits the data into 10 folds and repeats the process 5 times.</p>\n</li>\n<li>\n<p><strong>Saving Predictions</strong>: Ensures that predictions from the final model are saved for evaluation.</p>\n</li>\n</ul>\n</li>\n</ul>\n<hr/>\n<h3><strong>Step 3: Save Train Control Object</strong></h3>\n<div class=\"md-code-block\">\n<pre>saveRDS(train_control, \"./train_control_config.Rds\")</pre>\n</div>\n<ul>\n<li>\n<p><strong>Purpose</strong>: Saves the cross-validation configuration to disk for reuse in future analyses.</p>\n</li>\n</ul>\n<hr/>\n<h2><strong>3. Example: Cross-Validation in Action</strong></h2>\n<p>Letâ€™s walk through a practical example using a sample dataset.</p>\n<h3><strong>Step 1: Load the Dataset</strong></h3>\n<p>For this example, weâ€™ll use the <code>iris</code> dataset, which is included in R.</p>\n<div class=\"md-code-block\">\n<pre>data(iris)</pre>\n</div>\n<hr/>\n<h3><strong>Step 2: Define the Cross-Validation Configuration</strong></h3>\n<div class=\"md-code-block\">\n<pre>library(caret)\n\n# Define the cross-validation configuration\ntrain_control &lt;- trainControl(\n  method = \"repeatedcv\",      # Repeated cross-validation\n  number = 10,                # 10 folds\n  repeats = 5,                # 5 repeats\n  savePredictions = \"final\"   # Save predictions for the final model\n)</pre>\n</div>\n<hr/>\n<h3><strong>Step 3: Train a Model Using Cross-Validation</strong></h3>\n<p>Weâ€™ll train a simple k-nearest neighbors (KNN) model using cross-validation.</p>\n<div class=\"md-code-block\">\n<pre># Train a KNN model using cross-validation\nset.seed(123)\nmodel &lt;- train(\n  Species ~ .,                # Formula: Predict Species using all other variables\n  data = iris,                # Dataset\n  method = \"knn\",             # Model type: K-Nearest Neighbors\n  trControl = train_control   # Cross-validation configuration\n)\n\n# View the model results\nprint(model)</pre>\n</div>\n<p><strong>Output</strong>:</p>\n<div class=\"md-code-block\">\n<pre>k-Nearest Neighbors \n\n150 samples\n  4 predictor\n  3 classes: 'setosa', 'versicolor', 'virginica' \n\nNo pre-processing\nResampling: Cross-Validated (10 fold, repeated 5 times) \nSummary of sample sizes: 135, 135, 135, 135, 135, 135, ... \nResampling results across tuning parameters:\n\n  k  Accuracy   Kappa    \n  5  0.9666667  0.95     \n  7  0.9666667  0.95     \n  9  0.9666667  0.95     \n\nAccuracy was used to select the optimal model using the largest value.\nThe final value used for the model was k = 5.</pre>\n</div>\n<hr/>\n<h3><strong>Step 4: Save the Cross-Validation Configuration</strong></h3>\n<div class=\"md-code-block\">\n<pre>saveRDS(train_control, \"./train_control_config.Rds\")\n\n# (Optional) Load the saved configuration\ntrain_control &lt;- readRDS(\"./train_control_config.Rds\")</pre>\n</div>\n<hr/>\n<h2><strong>4. Why This Workflow Matters</strong></h2>\n<p>This workflow ensures that your model is evaluated robustly and consistently. By using cross-validation, you can:</p>\n<ol start=\"1\">\n<li>\n<p><strong>Avoid Overfitting</strong>: Cross-validation provides a more reliable estimate of model performance by testing on multiple subsets of the data.</p>\n</li>\n<li>\n<p><strong>Ensure Reproducibility</strong>: Saving the cross-validation configuration allows you to reuse the same settings in future analyses.</p>\n</li>\n<li>\n<p><strong>Improve Model Selection</strong>: Cross-validation helps you choose the best model by comparing performance across different configurations.</p>\n</li>\n</ol>\n<hr/>\n<h2><strong>5. Conclusion</strong></h2>\n<p>Cross-validation is an essential technique for evaluating machine learning models. By following this workflow, you can ensure that your models are robust, generalizable, and ready for deployment. Ready to try it out? Install the <code>caret</code> package and start setting up cross-validation in your projects today!</p>\n<div class=\"md-code-block\">\n<pre>install.packages(\"caret\")\nlibrary(caret)</pre>\n</div>\n<p>Happy coding! <img alt=\"ðŸ˜Š\" class=\"wp-smiley\" data-lazy-src=\"https://i2.wp.com/s.w.org/images/core/emoji/15.0.3/72x72/1f60a.png?w=578&amp;ssl=1\" data-recalc-dims=\"1\" src=\"https://www.r-bloggers.com/wp-content/plugins/jetpack/modules/lazy-images/images/1x1.trans.gif\" style=\"height: 1em; max-height: 1em;\"/><noscript><img alt=\"ðŸ˜Š\" class=\"wp-smiley\" data-recalc-dims=\"1\" src=\"https://i2.wp.com/s.w.org/images/core/emoji/15.0.3/72x72/1f60a.png?w=578&amp;ssl=1\" style=\"height: 1em; max-height: 1em;\"/></noscript></p><hr style=\"border-top: black solid 1px\"/><a href=\"http://r-posts.com/setting-up-cross-validation-caret-package-in-r-a-step-by-step-guide/\" rel=\"nofollow\" target=\"_blank\">Setting Up Cross-Validation (caret package) in R: A Step-by-Step Guide</a> was first posted on April 13, 2025 at 7:08 am.<br/>\n<div class=\"jp-relatedposts\" id=\"jp-relatedposts\">\n<h3 class=\"jp-relatedposts-headline\"><em>Related</em></h3>\n</div>\n<!-- Share buttons by mashshare.net - Version: 4.0.47-->\n<div style=\"border: 1px solid; background: none repeat scroll 0 0 #EDEDED; margin: 1px; font-size: 13px;\">\n<div style=\"text-align: center;\">To <strong>leave a comment</strong> for the author, please follow the link and comment on their blog: <strong><a href=\"http://r-posts.com/setting-up-cross-validation-caret-package-in-r-a-step-by-step-guide/\"> R-posts.com</a></strong>.</div>\n<hr/>\n<a href=\"https://www.r-bloggers.com/\" rel=\"nofollow\">R-bloggers.com</a> offers <strong><a href=\"https://feedburner.google.com/fb/a/mailverify?uri=RBloggers\" rel=\"nofollow\">daily e-mail updates</a></strong> about <a href=\"https://www.r-project.org/\" rel=\"nofollow\" title=\"The R Project for Statistical Computing\">R</a> news and tutorials about <a href=\"https://www.r-bloggers.com/how-to-learn-r-2/\" rel=\"nofollow\" title=\"R tutorials\">learning R</a> and many other topics. <a href=\"https://www.r-users.com/\" rel=\"nofollow\" title=\"Data science jobs\">Click here if you're looking to post or find an R/data-science job</a>.\n\n<hr/>Want to share your content on R-bloggers?<a href=\"https://www.r-bloggers.com/add-your-blog/\" rel=\"nofollow\"> click here</a> if you have a blog, or <a href=\"http://r-posts.com/\" rel=\"nofollow\"> here</a> if you don't.\n</div> </div>\n</article>",
      "main_text": "Setting Up Cross-Validation (caret package) in R: A Step-by-Step Guide\nPosted on\nApril 13, 2025\nby\nNick Han\nin\nR bloggers\n| 0 Comments\n[This article was first published on\nR-posts.com\n, and kindly contributed to\nR-bloggers\n].  (You can report issue about the content on this page\nhere\n)\nWant to share your content on R-bloggers?\nclick here\nif you have a blog, or\nhere\nif you don't.\nIn this blog, we explored how to set up\ncross-validation\nin R using the\ncaret\npackage, a powerful tool for evaluating machine learning models. Hereâ€™s a quick recap of what we covered:\nIntroduction to Cross-Validation\n:\nCross-validation is a resampling technique that helps assess model performance and prevent overfitting by testing the model on multiple subsets of the data.\nStep-by-Step Setup\n:\nWe loaded the\ncaret\npackage and defined a cross-validation configuration using\ntrainControl\n, specifying\n10-fold repeated cross-validation\nwith\n5 repeats\n.\nWe also saved the configuration for reuse using\nsaveRDS\n.\nPractical Example\n:\nUsing the\niris\ndataset, we trained a\nk-nearest neighbors (KNN)\nmodel with cross-validation and evaluated its performance.\nWhy It Matters\n:\nCross-validation ensures robust model evaluation, avoids overfitting, and improves reproducibility and model selection.\nConclusion\n:\nBy following this workflow, you can confidently evaluate your machine learning models and ensure they are ready for deployment.\nLetâ€™s dive into the details!\n1. Introduction to Cross-Validation\nCross-validation is a resampling technique used to assess the performance and generalizability of machine learning models. It helps address issues like overfitting and ensures that the modelâ€™s performance is consistent across different subsets of the data. By splitting the data into multiple folds and repeating the process, cross-validation provides a robust estimate of model performance.\n2. Step-by-Step Cross-Validation Setup\nStep 1: Load Necessary Library\nlibrary(caret)\nPurpose\n: The\ncaret\npackage provides tools for training and evaluating machine learning models, including cross-validation.\nStep 2: Define Train Control for Cross-Validation\ntrain_control <- trainControl(\n  method = \"repeatedcv\",      # Repeated cross-validation\n  number = 10,                # 10 folds\n  repeats = 5,                # 5 repeats\n  savePredictions = \"final\"   # Save predictions for the final model\n)\nPurpose\n: Configures the cross-validation process:\nRepeated Cross-Validation\n: Splits the data into 10 folds and repeats the process 5 times.\nSaving Predictions\n: Ensures that predictions from the final model are saved for evaluation.\nStep 3: Save Train Control Object\nsaveRDS(train_control, \"./train_control_config.Rds\")\nPurpose\n: Saves the cross-validation configuration to disk for reuse in future analyses.\n3. Example: Cross-Validation in Action\nLetâ€™s walk through a practical example using a sample dataset.\nStep 1: Load the Dataset\nFor this example, weâ€™ll use the\niris\ndataset, which is included in R.\ndata(iris)\nStep 2: Define the Cross-Validation Configuration\nlibrary(caret)\n\n# Define the cross-validation configuration\ntrain_control <- trainControl(\n  method = \"repeatedcv\",      # Repeated cross-validation\n  number = 10,                # 10 folds\n  repeats = 5,                # 5 repeats\n  savePredictions = \"final\"   # Save predictions for the final model\n)\nStep 3: Train a Model Using Cross-Validation\nWeâ€™ll train a simple k-nearest neighbors (KNN) model using cross-validation.\n# Train a KNN model using cross-validation\nset.seed(123)\nmodel <- train(\n  Species ~ .,                # Formula: Predict Species using all other variables\n  data = iris,                # Dataset\n  method = \"knn\",             # Model type: K-Nearest Neighbors\n  trControl = train_control   # Cross-validation configuration\n)\n\n# View the model results\nprint(model)\nOutput\n:\nk-Nearest Neighbors \n\n150 samples\n  4 predictor\n  3 classes: 'setosa', 'versicolor', 'virginica' \n\nNo pre-processing\nResampling: Cross-Validated (10 fold, repeated 5 times) \nSummary of sample sizes: 135, 135, 135, 135, 135, 135, ... \nResampling results across tuning parameters:\n\n  k  Accuracy   Kappa    \n  5  0.9666667  0.95     \n  7  0.9666667  0.95     \n  9  0.9666667  0.95     \n\nAccuracy was used to select the optimal model using the largest value.\nThe final value used for the model was k = 5.\nStep 4: Save the Cross-Validation Configuration\nsaveRDS(train_control, \"./train_control_config.Rds\")\n\n# (Optional) Load the saved configuration\ntrain_control <- readRDS(\"./train_control_config.Rds\")\n4. Why This Workflow Matters\nThis workflow ensures that your model is evaluated robustly and consistently. By using cross-validation, you can:\nAvoid Overfitting\n: Cross-validation provides a more reliable estimate of model performance by testing on multiple subsets of the data.\nEnsure Reproducibility\n: Saving the cross-validation configuration allows you to reuse the same settings in future analyses.\nImprove Model Selection\n: Cross-validation helps you choose the best model by comparing performance across different configurations.\n5. Conclusion\nCross-validation is an essential technique for evaluating machine learning models. By following this workflow, you can ensure that your models are robust, generalizable, and ready for deployment. Ready to try it out? Install the\ncaret\npackage and start setting up cross-validation in your projects today!\ninstall.packages(\"caret\")\nlibrary(caret)\nHappy coding!\nSetting Up Cross-Validation (caret package) in R: A Step-by-Step Guide\nwas first posted on April 13, 2025 at 7:08 am.\nRelated\nTo\nleave a comment\nfor the author, please follow the link and comment on their blog:\nR-posts.com\n.\nR-bloggers.com\noffers\ndaily e-mail updates\nabout\nR\nnews and tutorials about\nlearning R\nand many other topics.\nClick here if you're looking to post or find an R/data-science job\n.\nWant to share your content on R-bloggers?\nclick here\nif you have a blog, or\nhere\nif you don't.",
      "meta_description": "In this blog, we explored how to set up cross-validation in R using the caret package, a powerful tool for evaluating machine learning models. Hereâ€™s a quick recap of what we covered: Introduction to Cross-Validation: Cross-validation is a resampling technique that helps assess model performance and prevent overfitting by testing the model on multiple subsets â€¦ Continue reading Setting Up Cross-Validation (caret package) in R: A Step-by-Step GuideSetting Up Cross-Validation (caret package) in R: A Step-by-Step Guide was first posted on April 13, 2025 at 7:08 am.",
      "meta_keywords": null,
      "og_description": "In this blog, we explored how to set up cross-validation in R using the caret package, a powerful tool for evaluating machine learning models. Hereâ€™s a quick recap of what we covered: Introduction to Cross-Validation: Cross-validation is a resampling technique that helps assess model performance and prevent overfitting by testing the model on multiple subsets â€¦ Continue reading Setting Up Cross-Validation (caret package) in R: A Step-by-Step GuideSetting Up Cross-Validation (caret package) in R: A Step-by-Step Guide was first posted on April 13, 2025 at 7:08 am.",
      "og_image": "https://s.w.org/images/core/emoji/15.0.3/72x72/1f60a.png",
      "og_title": "Setting Up Cross-Validation (caret package) in R: A Step-by-Step Guide | R-bloggers",
      "raw_jsonld_article": null,
      "reading_time_min": 4.4,
      "sitemap_lastmod": null,
      "twitter_description": "In this blog, we explored how to set up cross-validation in R using the caret package, a powerful tool for evaluating machine learning models. Hereâ€™s a quick recap of what we covered: Introduction to Cross-Validation: Cross-validation is a resampling technique that helps assess model performance and prevent overfitting by testing the model on multiple subsets â€¦ Continue reading Setting Up Cross-Validation (caret package) in R: A Step-by-Step GuideSetting Up Cross-Validation (caret package) in R: A Step-by-Step Guide was first posted on April 13, 2025 at 7:08 am.",
      "twitter_title": "Setting Up Cross-Validation (caret package) in R: A Step-by-Step Guide | R-bloggers",
      "url": "https://www.r-bloggers.com/2025/04/setting-up-cross-validation-caret-package-in-r-a-step-by-step-guide/",
      "word_count": 883
    }
  }
}