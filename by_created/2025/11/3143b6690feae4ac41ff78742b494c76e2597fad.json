{
  "id": "3143b6690feae4ac41ff78742b494c76e2597fad",
  "url": "https://www.r-bloggers.com/2023/10/3-actually-4-neat-r-functions/",
  "created_at_utc": "2025-11-17T20:39:33Z",
  "data": null,
  "raw_original": {
    "uuid": "c6afa395-92bc-4280-a850-2a07760b698b",
    "created_at": "2025-11-17 20:39:33",
    "raw_json": {
      "article_author": null,
      "article_headline": null,
      "article_modified": null,
      "article_published": null,
      "article_section": null,
      "article_tags": null,
      "canonical_url": "https://www.r-bloggers.com/2023/10/3-actually-4-neat-r-functions/",
      "crawled_at": "2025-11-17T10:07:13.800984",
      "external_links": [
        {
          "href": "https://masalmon.eu/2023/10/20/three-neat-functions/",
          "text": "Maëlle's R blog on Maëlle Salmon's personal website"
        },
        {
          "href": "http://r-posts.com/",
          "text": "here"
        },
        {
          "href": "https://rdrr.io/r/base/grep.html",
          "text": "grep()"
        },
        {
          "href": "https://mastodon.social/deck/@grusonh/111181373365621067",
          "text": "explained"
        },
        {
          "href": "https://github.com/r-lib/lintr/issues/884",
          "text": "Google linting suite"
        },
        {
          "href": "https://yihui.org/en/2023/10/three-functions/",
          "text": "blog post inspired by my own series"
        },
        {
          "href": "https://rdrr.io/r/base/strrep.html",
          "text": "strrep()"
        },
        {
          "href": "https://rdrr.io/r/base/strrep.html",
          "text": "strrep()"
        },
        {
          "href": "https://lintr.r-lib.org/reference/paste_linter.html",
          "text": "“Raise lints for several common poor usages ofpaste()”"
        },
        {
          "href": "https://rdrr.io/r/base/paste.html",
          "text": "paste0()"
        },
        {
          "href": "https://rdrr.io/r/base/startsWith.html",
          "text": "startsWith()"
        },
        {
          "href": "https://rdrr.io/r/base/startsWith.html",
          "text": "endsWith()"
        },
        {
          "href": "https://github.com/r-lib/lintr/issues/1482#issuecomment-1198590483",
          "text": "running all linters on your code"
        },
        {
          "href": "https://lintr.r-lib.org/reference/string_boundary_linter.html",
          "text": "Require usage ofstartsWith()andendsWith()overgrepl()/substr()versions"
        },
        {
          "href": "https://rdrr.io/r/base/startsWith.html",
          "text": "startsWith()"
        },
        {
          "href": "https://rdrr.io/r/base/grep.html",
          "text": "grep()"
        },
        {
          "href": "https://rdrr.io/r/base/strrep.html",
          "text": "strrep()"
        },
        {
          "href": "https://rdrr.io/r/base/startsWith.html",
          "text": "startsWith()"
        },
        {
          "href": "https://rdrr.io/r/base/startsWith.html",
          "text": "endsWith()"
        },
        {
          "href": "https://masalmon.eu/2023/10/20/three-neat-functions/",
          "text": "Maëlle's R blog on Maëlle Salmon's personal website"
        },
        {
          "href": "https://feedburner.google.com/fb/a/mailverify?uri=RBloggers",
          "text": "daily e-mail updates"
        },
        {
          "href": "https://www.r-project.org/",
          "text": "R"
        },
        {
          "href": "https://www.r-users.com/",
          "text": "Click here if you're looking to post or find an R/data-science job"
        },
        {
          "href": "http://r-posts.com/",
          "text": "here"
        }
      ],
      "h1_title": "R-bloggers",
      "html_title": "3 (actually 4) neat R functions | R-bloggers",
      "images": [],
      "internal_links": [
        {
          "href": "https://www.r-bloggers.com/author/maelles-r-blog-on-maelle-salmons-personal-website/",
          "text": "Maëlle's R blog on Maëlle Salmon's personal website"
        },
        {
          "href": "https://www.r-bloggers.com/category/r-bloggers/",
          "text": "R bloggers"
        },
        {
          "href": "https://www.r-bloggers.com/",
          "text": "R-bloggers"
        },
        {
          "href": "https://www.r-bloggers.com/contact-us/",
          "text": "here"
        },
        {
          "href": "https://www.r-bloggers.com/add-your-blog/",
          "text": "click here"
        },
        {
          "href": "https://www.r-bloggers.com/",
          "text": "R-bloggers.com"
        },
        {
          "href": "https://www.r-bloggers.com/how-to-learn-r-2/",
          "text": "learning R"
        },
        {
          "href": "https://www.r-bloggers.com/add-your-blog/",
          "text": "click here"
        }
      ],
      "lang": "en-US",
      "main_html": "<article class=\"post-379285 post type-post status-publish format-standard hentry category-r-bloggers\">\n<header class=\"post-header\">\n<h1 class=\"entry-title\">3 (actually 4) neat R functions</h1>\n<p class=\"meta post-meta\">Posted on <span class=\"updated\">October 19, 2023</span>  by <span class=\"vcard author\"><a class=\"fn\" href=\"https://www.r-bloggers.com/author/maelles-r-blog-on-maelle-salmons-personal-website/\">Maëlle's R blog on Maëlle Salmon's personal website</a></span>  in <a href=\"https://www.r-bloggers.com/category/r-bloggers/\" rel=\"category tag\">R bloggers</a> | 0 Comments</p>\n</header>\n<div class=\"entry clearfix\">\n<!-- \r\n<div style=\"min-height: 30px;\">\r\n[social4i size=\"small\" align=\"align-left\"]\r\n</div>\r\n-->\n<div style=\"border: 1px solid; background: none repeat scroll 0 0 #EDEDED; margin: 1px; font-size: 12px;\">\r\n[This article was first published on  <strong><a href=\"https://masalmon.eu/2023/10/20/three-neat-functions/\"> Maëlle's R blog on Maëlle Salmon's personal website</a></strong>, and kindly contributed to <a href=\"https://www.r-bloggers.com/\" rel=\"nofollow\">R-bloggers</a>].  (You can report issue about the content on this page <a href=\"https://www.r-bloggers.com/contact-us/\">here</a>)\r\n<hr/>Want to share your content on R-bloggers?<a href=\"https://www.r-bloggers.com/add-your-blog/\" rel=\"nofollow\"> click here</a> if you have a blog, or <a href=\"http://r-posts.com/\" rel=\"nofollow\"> here</a> if you don't.\r\n</div>\n\n<!-- Share buttons by mashshare.net - Version: 3.8.9--><p>Time for me to throw away my sticky note after sharing what I wrote on it!</p>\n<h2 id=\"grep-not-whichgrepl\"><code>grep(...)</code> not <code>which(grepl(...))</code></h2>\n<p>Recently I caught myself using <code>which(grepl(...))</code>,</p>\n<div class=\"highlight\">\n<pre>animals &lt;- c(\"cat\", \"bird\", \"dog\", \"fish\")\nwhich(grepl(\"i\", animals))\n#&gt; [1] 2 4\n</pre>\n</div>\n<p>when the simpler alternative is</p>\n<div class=\"highlight\">\n<pre>animals &lt;- c(\"cat\", \"bird\", \"dog\", \"fish\")\ngrep(\"i\", animals)\n#&gt; [1] 2 4\n</pre>\n</div>\n<p>And should I need the values instead of the indices, I know I shouldn’t write</p>\n<div class=\"highlight\">\n<pre>animals &lt;- c(\"cat\", \"bird\", \"dog\", \"fish\")\nanimals[grepl(\"i\", animals)]\n#&gt; [1] \"bird\" \"fish\"\n</pre>\n</div>\n<p>but</p>\n<div class=\"highlight\">\n<pre>animals &lt;- c(\"cat\", \"bird\", \"dog\", \"fish\")\ngrep(\"i\", animals, value = TRUE)\n#&gt; [1] \"bird\" \"fish\"\n</pre>\n</div>\n<p>How to remember to use <a href=\"https://rdrr.io/r/base/grep.html\" rel=\"nofollow\" target=\"_blank\"><code>grep()</code></a>? Re-reading oneself, or having code reviewed, probably helps, but why not automate this? When I shared my note to self on Mastodon, Hugo Gruson <a href=\"https://mastodon.social/deck/@grusonh/111181373365621067\" rel=\"nofollow\" target=\"_blank\">explained</a> that detecting usage of <code>which(grepl(</code> was part of planned linters to be added to lintr from <a href=\"https://github.com/r-lib/lintr/issues/884\" rel=\"nofollow\" target=\"_blank\">Google linting suite</a>. This is excellent news!</p>\n<h2 id=\"strrep-and-other-defence-tools-against-poor-usages-of-paste\"><code>strrep()</code> and other defence tools against poor usages of <code>paste()</code></h2>\n<p>Yihui Xie wrote a <a href=\"https://yihui.org/en/2023/10/three-functions/\" rel=\"nofollow\" target=\"_blank\">blog post inspired by my own series</a>, where one of the three presented functions was one that was on my sticky note! I’ll still present it: <a href=\"https://rdrr.io/r/base/strrep.html\" rel=\"nofollow\" target=\"_blank\"><code>strrep()</code></a>.</p>\n<p><a href=\"https://rdrr.io/r/base/strrep.html\" rel=\"nofollow\" target=\"_blank\"><code>strrep()</code></a> means “string repeat”. Instead of writing</p>\n<div class=\"highlight\">\n<pre>paste(rep(\"bla\", 3), collapse = \"\")\n#&gt; [1] \"blablabla\"\n</pre>\n</div>\n<p>you can, and should, write</p>\n<div class=\"highlight\">\n<pre>strrep(\"bla\", 3)\n#&gt; [1] \"blablabla\"\n</pre>\n</div>\n<p>I discovered this function because Hugo Gruson telling me about lintr inspired me to skim through lintr reference, where I saw <a href=\"https://lintr.r-lib.org/reference/paste_linter.html\" rel=\"nofollow\" target=\"_blank\">“Raise lints for several common poor usages of <code>paste()</code>”</a>. That linter would also tell you when you use <code>paste(, sep = \"\")</code> instead of <a href=\"https://rdrr.io/r/base/paste.html\" rel=\"nofollow\" target=\"_blank\"><code>paste0()</code></a>.</p>\n<h2 id=\"startswith-and-endswith\"><code>startsWith()</code> and <code>endsWith()</code></h2>\n<p>I learned about <a href=\"https://rdrr.io/r/base/startsWith.html\" rel=\"nofollow\" target=\"_blank\"><code>startsWith()</code></a> and <a href=\"https://rdrr.io/r/base/startsWith.html\" rel=\"nofollow\" target=\"_blank\"><code>endsWith()</code></a> by reading lintr reference but I also got notified about it when running lintr on a package I was working on. Have you ever tried <a href=\"https://github.com/r-lib/lintr/issues/1482#issuecomment-1198590483\" rel=\"nofollow\" target=\"_blank\">running all linters on your code</a>? Fun experience. Anyhow, one linter is <a href=\"https://lintr.r-lib.org/reference/string_boundary_linter.html\" rel=\"nofollow\" target=\"_blank\">Require usage of <code>startsWith()</code> and <code>endsWith()</code> over <code>grepl()</code>/<code>substr()</code> versions</a>, with an interesting Details section on missing values.</p>\n<p>Instead of writing</p>\n<div class=\"highlight\">\n<pre>animals &lt;- c(\"cat\", \"cow\", \"dog\", \"fish\")\ngrepl(\"^c\", animals)\n#&gt; [1]  TRUE  TRUE FALSE FALSE\n</pre>\n</div>\n<p>I should write</p>\n<div class=\"highlight\">\n<pre>animals &lt;- c(\"cat\", \"cow\", \"dog\", \"fish\")\nstartsWith(animals, \"c\")\n#&gt; [1]  TRUE  TRUE FALSE FALSE\n</pre>\n</div>\n<p>A nice side-effect of the switch, beyond good practice for its own sake and more readability, is that the argument order is more logical in <a href=\"https://rdrr.io/r/base/startsWith.html\" rel=\"nofollow\" target=\"_blank\"><code>startsWith()</code></a>.</p>\n<p>Similarly, instead of writing</p>\n<div class=\"highlight\">\n<pre>animals &lt;- c(\"cat\", \"cow\", \"dog\", \"fish\")\ngrepl(\"t$\", animals)\n#&gt; [1]  TRUE FALSE FALSE FALSE\n</pre>\n</div>\n<p>I should write</p>\n<div class=\"highlight\">\n<pre>animals &lt;- c(\"cat\", \"cow\", \"dog\", \"fish\")\nendsWith(animals, \"t\")\n#&gt; [1]  TRUE FALSE FALSE FALSE\n</pre>\n</div>\n<h2 id=\"conclusion\">Conclusion</h2>\n<p>In this post I shared about <a href=\"https://rdrr.io/r/base/grep.html\" rel=\"nofollow\" target=\"_blank\"><code>grep()</code></a> to be used in lieu of <code>which(grepl())</code>, about <a href=\"https://rdrr.io/r/base/strrep.html\" rel=\"nofollow\" target=\"_blank\"><code>strrep()</code></a> (string repetition) to be used in lieu of <code>paste(rep(), collapse =\"\")</code> and about <a href=\"https://rdrr.io/r/base/startsWith.html\" rel=\"nofollow\" target=\"_blank\"><code>startsWith()</code></a> and <a href=\"https://rdrr.io/r/base/startsWith.html\" rel=\"nofollow\" target=\"_blank\"><code>endsWith()</code></a> to be used in lieu of some regular expressions with respectively <code>^</code> and <code>$</code>.</p>\n<div class=\"jp-relatedposts\" id=\"jp-relatedposts\">\n<h3 class=\"jp-relatedposts-headline\"><em>Related</em></h3>\n</div>\n<!-- Share buttons by mashshare.net - Version: 3.8.9-->\n<div style=\"border: 1px solid; background: none repeat scroll 0 0 #EDEDED; margin: 1px; font-size: 13px;\">\n<div style=\"text-align: center;\">To <strong>leave a comment</strong> for the author, please follow the link and comment on their blog: <strong><a href=\"https://masalmon.eu/2023/10/20/three-neat-functions/\"> Maëlle's R blog on Maëlle Salmon's personal website</a></strong>.</div>\n<hr>\n<a href=\"https://www.r-bloggers.com/\" rel=\"nofollow\">R-bloggers.com</a> offers <strong><a href=\"https://feedburner.google.com/fb/a/mailverify?uri=RBloggers\" rel=\"nofollow\">daily e-mail updates</a></strong> about <a href=\"https://www.r-project.org/\" rel=\"nofollow\" title=\"The R Project for Statistical Computing\">R</a> news and tutorials about <a href=\"https://www.r-bloggers.com/how-to-learn-r-2/\" rel=\"nofollow\" title=\"R tutorials\">learning R</a> and many other topics. <a href=\"https://www.r-users.com/\" rel=\"nofollow\" title=\"Data science jobs\">Click here if you're looking to post or find an R/data-science job</a>.\r\n\r\n<hr/>Want to share your content on R-bloggers?<a href=\"https://www.r-bloggers.com/add-your-blog/\" rel=\"nofollow\"> click here</a> if you have a blog, or <a href=\"http://r-posts.com/\" rel=\"nofollow\"> here</a> if you don't.\r\n</hr></div> </div>\n</article>",
      "main_text": "3 (actually 4) neat R functions\nPosted on\nOctober 19, 2023\nby\nMaëlle's R blog on Maëlle Salmon's personal website\nin\nR bloggers\n| 0 Comments\n[This article was first published on\nMaëlle's R blog on Maëlle Salmon's personal website\n, and kindly contributed to\nR-bloggers\n].  (You can report issue about the content on this page\nhere\n)\nWant to share your content on R-bloggers?\nclick here\nif you have a blog, or\nhere\nif you don't.\nTime for me to throw away my sticky note after sharing what I wrote on it!\ngrep(...)\nnot\nwhich(grepl(...))\nRecently I caught myself using\nwhich(grepl(...))\n,\nanimals <- c(\"cat\", \"bird\", \"dog\", \"fish\")\nwhich(grepl(\"i\", animals))\n#> [1] 2 4\nwhen the simpler alternative is\nanimals <- c(\"cat\", \"bird\", \"dog\", \"fish\")\ngrep(\"i\", animals)\n#> [1] 2 4\nAnd should I need the values instead of the indices, I know I shouldn’t write\nanimals <- c(\"cat\", \"bird\", \"dog\", \"fish\")\nanimals[grepl(\"i\", animals)]\n#> [1] \"bird\" \"fish\"\nbut\nanimals <- c(\"cat\", \"bird\", \"dog\", \"fish\")\ngrep(\"i\", animals, value = TRUE)\n#> [1] \"bird\" \"fish\"\nHow to remember to use\ngrep()\n? Re-reading oneself, or having code reviewed, probably helps, but why not automate this? When I shared my note to self on Mastodon, Hugo Gruson\nexplained\nthat detecting usage of\nwhich(grepl(\nwas part of planned linters to be added to lintr from\nGoogle linting suite\n. This is excellent news!\nstrrep()\nand other defence tools against poor usages of\npaste()\nYihui Xie wrote a\nblog post inspired by my own series\n, where one of the three presented functions was one that was on my sticky note! I’ll still present it:\nstrrep()\n.\nstrrep()\nmeans “string repeat”. Instead of writing\npaste(rep(\"bla\", 3), collapse = \"\")\n#> [1] \"blablabla\"\nyou can, and should, write\nstrrep(\"bla\", 3)\n#> [1] \"blablabla\"\nI discovered this function because Hugo Gruson telling me about lintr inspired me to skim through lintr reference, where I saw\n“Raise lints for several common poor usages of\npaste()\n”\n. That linter would also tell you when you use\npaste(, sep = \"\")\ninstead of\npaste0()\n.\nstartsWith()\nand\nendsWith()\nI learned about\nstartsWith()\nand\nendsWith()\nby reading lintr reference but I also got notified about it when running lintr on a package I was working on. Have you ever tried\nrunning all linters on your code\n? Fun experience. Anyhow, one linter is\nRequire usage of\nstartsWith()\nand\nendsWith()\nover\ngrepl()\n/\nsubstr()\nversions\n, with an interesting Details section on missing values.\nInstead of writing\nanimals <- c(\"cat\", \"cow\", \"dog\", \"fish\")\ngrepl(\"^c\", animals)\n#> [1]  TRUE  TRUE FALSE FALSE\nI should write\nanimals <- c(\"cat\", \"cow\", \"dog\", \"fish\")\nstartsWith(animals, \"c\")\n#> [1]  TRUE  TRUE FALSE FALSE\nA nice side-effect of the switch, beyond good practice for its own sake and more readability, is that the argument order is more logical in\nstartsWith()\n.\nSimilarly, instead of writing\nanimals <- c(\"cat\", \"cow\", \"dog\", \"fish\")\ngrepl(\"t$\", animals)\n#> [1]  TRUE FALSE FALSE FALSE\nI should write\nanimals <- c(\"cat\", \"cow\", \"dog\", \"fish\")\nendsWith(animals, \"t\")\n#> [1]  TRUE FALSE FALSE FALSE\nConclusion\nIn this post I shared about\ngrep()\nto be used in lieu of\nwhich(grepl())\n, about\nstrrep()\n(string repetition) to be used in lieu of\npaste(rep(), collapse =\"\")\nand about\nstartsWith()\nand\nendsWith()\nto be used in lieu of some regular expressions with respectively\n^\nand\n$\n.\nRelated\nTo\nleave a comment\nfor the author, please follow the link and comment on their blog:\nMaëlle's R blog on Maëlle Salmon's personal website\n.\nR-bloggers.com\noffers\ndaily e-mail updates\nabout\nR\nnews and tutorials about\nlearning R\nand many other topics.\nClick here if you're looking to post or find an R/data-science job\n.\nWant to share your content on R-bloggers?\nclick here\nif you have a blog, or\nhere\nif you don't.",
      "meta_description": "Time for me to throw away my sticky note after sharing what I wrote on it! grep(...) not which(grepl(...)) Recently I caught myself using which(grepl(...)), animals [1] 2 4 when ...",
      "meta_keywords": null,
      "og_description": "Time for me to throw away my sticky note after sharing what I wrote on it! grep(...) not which(grepl(...)) Recently I caught myself using which(grepl(...)), animals [1] 2 4 when ...",
      "og_image": "https://www.r-bloggers.com/wp-content/uploads/2016/04/R_02_2016-05-01.png",
      "og_title": "3 (actually 4) neat R functions | R-bloggers",
      "raw_jsonld_article": null,
      "reading_time_min": 3.2,
      "sitemap_lastmod": "2023-10-20T00:00:00+00:00",
      "twitter_description": "Time for me to throw away my sticky note after sharing what I wrote on it! grep(...) not which(grepl(...)) Recently I caught myself using which(grepl(...)), animals [1] 2 4 when ...",
      "twitter_title": "3 (actually 4) neat R functions | R-bloggers",
      "url": "https://www.r-bloggers.com/2023/10/3-actually-4-neat-r-functions/",
      "word_count": 637
    }
  }
}