{
  "id": "8808b510da2c8a0ec7ff6e580bb44c9b5df85ff5",
  "url": "https://www.r-bloggers.com/2023/12/using-a-quarto-dashboard-for-github-wrapped-2/",
  "created_at_utc": "2025-11-17T20:38:51Z",
  "data": null,
  "raw_original": {
    "uuid": "9ec5b01a-c8d2-4f58-861b-99ffa9d123f3",
    "created_at": "2025-11-17 20:38:51",
    "raw_json": {
      "article_author": null,
      "article_headline": null,
      "article_modified": null,
      "article_published": null,
      "article_section": null,
      "article_tags": null,
      "canonical_url": "https://www.r-bloggers.com/2023/12/using-a-quarto-dashboard-for-github-wrapped-2/",
      "crawled_at": "2025-11-17T09:32:53.864253",
      "external_links": [
        {
          "href": "http://blog.schochastics.net/posts/2023-12-18_using-a-quarto-dashboard-for-github-wrapped/",
          "text": "schochastics - all things R"
        },
        {
          "href": "http://r-posts.com/",
          "text": "here"
        },
        {
          "href": "http://archive.schochastics.net/post/using-a-quarto-dashboard-for-github-wrapped/",
          "text": "archive"
        },
        {
          "href": "https://quarto.org/docs/dashboards/",
          "text": "Dashboards"
        },
        {
          "href": "https://github.com/schochastics/kn_parking",
          "text": "parking dashboard"
        },
        {
          "href": "https://www.spotify.com/de/wrapped/",
          "text": "spotify"
        },
        {
          "href": "https://link.twitch.tv/AnnualRecap",
          "text": "twitch"
        },
        {
          "href": "https://www.githubwrapped.io/",
          "text": "exists"
        },
        {
          "href": "https://graphql.org/",
          "text": "GraphQL"
        },
        {
          "href": "https://docs.github.com/en/graphql",
          "text": "GraphQL API"
        },
        {
          "href": "https://github.com/schochastics/github_wrapped",
          "text": "this repository"
        },
        {
          "href": "https://github.com/settings/tokens",
          "text": "Github token"
        },
        {
          "href": "https://creativecommons.org/licenses/by/4.0/",
          "text": "CC BY 4.0"
        },
        {
          "href": "http://blog.schochastics.net/posts/2023-12-18_using-a-quarto-dashboard-for-github-wrapped",
          "text": "http://blog.schochastics.net/posts/2023-12-18_using-a-quarto-dashboard-for-github-wrapped"
        },
        {
          "href": "http://blog.schochastics.net/posts/2023-12-18_using-a-quarto-dashboard-for-github-wrapped/",
          "text": "schochastics - all things R"
        },
        {
          "href": "https://feedburner.google.com/fb/a/mailverify?uri=RBloggers",
          "text": "daily e-mail updates"
        },
        {
          "href": "https://www.r-project.org/",
          "text": "R"
        },
        {
          "href": "https://www.r-users.com/",
          "text": "Click here if you're looking to post or find an R/data-science job"
        },
        {
          "href": "http://r-posts.com/",
          "text": "here"
        }
      ],
      "h1_title": "R-bloggers",
      "html_title": "Using a Quarto Dashboard for GitHub Wrapped | R-bloggers",
      "images": [
        {
          "alt": null,
          "base64": "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",
          "src": "https://www.r-bloggers.com/wp-content/plugins/jetpack/modules/lazy-images/images/1x1.trans.gif"
        },
        {
          "alt": null,
          "base64": null,
          "src": "https://i0.wp.com/blog.schochastics.net/posts/2023-12-18_using-a-quarto-dashboard-for-github-wrapped/schochastics.png?w=578"
        }
      ],
      "internal_links": [
        {
          "href": "https://www.r-bloggers.com/author/david-schoch/",
          "text": "David Schoch"
        },
        {
          "href": "https://www.r-bloggers.com/category/r-bloggers/",
          "text": "R bloggers"
        },
        {
          "href": "https://www.r-bloggers.com/",
          "text": "R-bloggers"
        },
        {
          "href": "https://www.r-bloggers.com/contact-us/",
          "text": "here"
        },
        {
          "href": "https://www.r-bloggers.com/add-your-blog/",
          "text": "click here"
        },
        {
          "href": "https://www.r-bloggers.com/cdn-cgi/l/email-protection",
          "text": "[email protected]"
        },
        {
          "href": "https://www.r-bloggers.com/",
          "text": "R-bloggers.com"
        },
        {
          "href": "https://www.r-bloggers.com/how-to-learn-r-2/",
          "text": "learning R"
        },
        {
          "href": "https://www.r-bloggers.com/add-your-blog/",
          "text": "click here"
        }
      ],
      "lang": "en-US",
      "main_html": "<article class=\"post-381248 post type-post status-publish format-standard hentry category-r-bloggers\">\n<header class=\"post-header\">\n<h1 class=\"entry-title\">Using a Quarto Dashboard for GitHub Wrapped</h1>\n<p class=\"meta post-meta\">Posted on <span class=\"updated\">December 17, 2023</span>  by <span class=\"vcard author\"><a class=\"fn\" href=\"https://www.r-bloggers.com/author/david-schoch/\">David Schoch</a></span>  in <a href=\"https://www.r-bloggers.com/category/r-bloggers/\" rel=\"category tag\">R bloggers</a> | 0 Comments</p>\n</header>\n<div class=\"entry clearfix\">\n<!-- \r\n<div style=\"min-height: 30px;\">\r\n[social4i size=\"small\" align=\"align-left\"]\r\n</div>\r\n-->\n<div style=\"border: 1px solid; background: none repeat scroll 0 0 #EDEDED; margin: 1px; font-size: 12px;\">\r\n[This article was first published on  <strong><a href=\"http://blog.schochastics.net/posts/2023-12-18_using-a-quarto-dashboard-for-github-wrapped/\"> schochastics - all things R</a></strong>, and kindly contributed to <a href=\"https://www.r-bloggers.com/\" rel=\"nofollow\">R-bloggers</a>].  (You can report issue about the content on this page <a href=\"https://www.r-bloggers.com/contact-us/\">here</a>)\r\n<hr/>Want to share your content on R-bloggers?<a href=\"https://www.r-bloggers.com/add-your-blog/\" rel=\"nofollow\"> click here</a> if you have a blog, or <a href=\"http://r-posts.com/\" rel=\"nofollow\"> here</a> if you don't.\r\n</div>\n\n<!-- Share buttons by mashshare.net - Version: 3.8.9-->\n<p><em>This post was semi automatically converted from blogdown to Quarto and may contain errors. The original can be found in the <a href=\"http://archive.schochastics.net/post/using-a-quarto-dashboard-for-github-wrapped/\" rel=\"nofollow\" target=\"_blank\">archive</a>.</em></p>\n<p><a href=\"https://quarto.org/docs/dashboards/\" rel=\"nofollow\" target=\"_blank\">Dashboards</a> are coming to Quarto in version 1.4. I already gave them a spin for a simple <a href=\"https://github.com/schochastics/kn_parking\" rel=\"nofollow\" target=\"_blank\">parking dashboard</a> but felt like they deserve some bigger attention. Given its the time of year where many platforms offer a personal “recap”,<br/>\nlike <a href=\"https://www.spotify.com/de/wrapped/\" rel=\"nofollow\" target=\"_blank\">spotify</a> or <a href=\"https://link.twitch.tv/AnnualRecap\" rel=\"nofollow\" target=\"_blank\">twitch</a>, I decided to implement a version of “GitHub wrapped”. Obviously, this also already <a href=\"https://www.githubwrapped.io/\" rel=\"nofollow\" target=\"_blank\">exists</a>, but I wanted to give it try myself.</p>\n<p><img class=\"img-fluid\" data-lazy-src=\"https://i0.wp.com/blog.schochastics.net/posts/2023-12-18_using-a-quarto-dashboard-for-github-wrapped/schochastics.png?w=578\" data-recalc-dims=\"1\" src=\"https://www.r-bloggers.com/wp-content/plugins/jetpack/modules/lazy-images/images/1x1.trans.gif\"/><noscript><img class=\"img-fluid\" data-recalc-dims=\"1\" src=\"https://i0.wp.com/blog.schochastics.net/posts/2023-12-18_using-a-quarto-dashboard-for-github-wrapped/schochastics.png?w=578\"/></noscript></p>\n<section class=\"level2\" id=\"a-journey-from-rest-to-graphql\">\n<h2 class=\"anchored\" data-anchor-id=\"a-journey-from-rest-to-graphql\">A journey from REST to GraphQL</h2>\n<p>Along the way, I actually learned a lot about <a href=\"https://graphql.org/\" rel=\"nofollow\" target=\"_blank\">GraphQL</a> since GitHub does actually also have a <a href=\"https://docs.github.com/en/graphql\" rel=\"nofollow\" target=\"_blank\">GraphQL API</a>. GraphQL is similar to REST but unlike REST, which typically requires loading from multiple URLs to gather different pieces of data, GraphQL allows a client to make a single request to fetch the required information. This flexibility is one of its key advantages. Clients can specify their data requirements, which reduces over-fetching or under-fetching issues common in REST APIs. Additionally, GraphQL APIs are organized in terms of types and fields, not endpoints, allowing for more structured and powerful queries.</p>\n<p>In contrast, REST uses predefined and stateless operations. REST APIs work with resources (like users, posts, etc.), each identified by URLs. Each resource can be manipulated using HTTP methods such as GET, POST, PUT, DELETE. REST APIs are known for their simplicity and statelessness, with each call containing all the information needed to understand and process the request. However, this can lead to over-fetching of data, as the data returned from a REST API endpoint is fixed and not customizable by the client.</p>\n<p>In R, the Github REST API can be called via the <code>gh</code> package, and the GraphQL API with <code>ghql</code>. A call to the REST API is quite straightforward when you know which endpoint you need. The following call is a good example of a simple REST API call that overfetches a lot of data (all we actually want is the last repository I starred )</p>\n<pre>star &lt;- gh::gh(\"/users/schochastics/starred\", .limit = 1)\nstar\r\n## [\n##   {\n##     \"id\": 68328745,\n##     \"node_id\": \"MDEwOlJlcG9zaXRvcnk2ODMyODc0NQ==\",\n##     \"name\": \"ghql\",\n##     \"full_name\": \"ropensci/ghql\",\n##     \"private\": false,\n##     \"owner\": {\n##       \"login\": \"ropensci\",\n##       \"id\": 1200269,\n##       \"node_id\": \"MDEyOk9yZ2FuaXphdGlvbjEyMDAyNjk=\",\n##       \"avatar_url\": \"https://avatars.githubusercontent.com/u/1200269?v=4\",\n##       \"gravatar_id\": \"\",\n##       \"url\": \"https://api.github.com/users/ropensci\",\n##       \"html_url\": \"https://github.com/ropensci\",\n##       \"followers_url\": \"https://api.github.com/users/ropensci/followers\",\n##       \"following_url\": \"https://api.github.com/users/ropensci/following{/other_user}\",\n##       \"gists_url\": \"https://api.github.com/users/ropensci/gists{/gist_id}\",\n##       \"starred_url\": \"https://api.github.com/users/ropensci/starred{/owner}{/repo}\",\n##       \"subscriptions_url\": \"https://api.github.com/users/ropensci/subscriptions\",\n##       \"organizations_url\": \"https://api.github.com/users/ropensci/orgs\",\n##       \"repos_url\": \"https://api.github.com/users/ropensci/repos\",\n##       \"events_url\": \"https://api.github.com/users/ropensci/events{/privacy}\",\n##       \"received_events_url\": \"https://api.github.com/users/ropensci/received_events\",\n##       \"type\": \"Organization\",\n##       \"site_admin\": false\n##     },\n##     \"html_url\": \"https://github.com/ropensci/ghql\",\n##     \"description\": \"GraphQL R client\",\n##     \"fork\": false,\n##     \"url\": \"https://api.github.com/repos/ropensci/ghql\",\n##     \"forks_url\": \"https://api.github.com/repos/ropensci/ghql/forks\",\n##     \"keys_url\": \"https://api.github.com/repos/ropensci/ghql/keys{/key_id}\",\n##     \"collaborators_url\": \"https://api.github.com/repos/ropensci/ghql/collaborators{/collaborator}\",\n##     \"teams_url\": \"https://api.github.com/repos/ropensci/ghql/teams\",\n##     \"hooks_url\": \"https://api.github.com/repos/ropensci/ghql/hooks\",\n##     \"issue_events_url\": \"https://api.github.com/repos/ropensci/ghql/issues/events{/number}\",\n##     \"events_url\": \"https://api.github.com/repos/ropensci/ghql/events\",\n##     \"assignees_url\": \"https://api.github.com/repos/ropensci/ghql/assignees{/user}\",\n##     \"branches_url\": \"https://api.github.com/repos/ropensci/ghql/branches{/branch}\",\n##     \"tags_url\": \"https://api.github.com/repos/ropensci/ghql/tags\",\n##     \"blobs_url\": \"https://api.github.com/repos/ropensci/ghql/git/blobs{/sha}\",\n##     \"git_tags_url\": \"https://api.github.com/repos/ropensci/ghql/git/tags{/sha}\",\n##     \"git_refs_url\": \"https://api.github.com/repos/ropensci/ghql/git/refs{/sha}\",\n##     \"trees_url\": \"https://api.github.com/repos/ropensci/ghql/git/trees{/sha}\",\n##     \"statuses_url\": \"https://api.github.com/repos/ropensci/ghql/statuses/{sha}\",\n##     \"languages_url\": \"https://api.github.com/repos/ropensci/ghql/languages\",\n##     \"stargazers_url\": \"https://api.github.com/repos/ropensci/ghql/stargazers\",\n##     \"contributors_url\": \"https://api.github.com/repos/ropensci/ghql/contributors\",\n##     \"subscribers_url\": \"https://api.github.com/repos/ropensci/ghql/subscribers\",\n##     \"subscription_url\": \"https://api.github.com/repos/ropensci/ghql/subscription\",\n##     \"commits_url\": \"https://api.github.com/repos/ropensci/ghql/commits{/sha}\",\n##     \"git_commits_url\": \"https://api.github.com/repos/ropensci/ghql/git/commits{/sha}\",\n##     \"comments_url\": \"https://api.github.com/repos/ropensci/ghql/comments{/number}\",\n##     \"issue_comment_url\": \"https://api.github.com/repos/ropensci/ghql/issues/comments{/number}\",\n##     \"contents_url\": \"https://api.github.com/repos/ropensci/ghql/contents/{+path}\",\n##     \"compare_url\": \"https://api.github.com/repos/ropensci/ghql/compare/{base}...{head}\",\n##     \"merges_url\": \"https://api.github.com/repos/ropensci/ghql/merges\",\n##     \"archive_url\": \"https://api.github.com/repos/ropensci/ghql/{archive_format}{/ref}\",\n##     \"downloads_url\": \"https://api.github.com/repos/ropensci/ghql/downloads\",\n##     \"issues_url\": \"https://api.github.com/repos/ropensci/ghql/issues{/number}\",\n##     \"pulls_url\": \"https://api.github.com/repos/ropensci/ghql/pulls{/number}\",\n##     \"milestones_url\": \"https://api.github.com/repos/ropensci/ghql/milestones{/number}\",\n##     \"notifications_url\": \"https://api.github.com/repos/ropensci/ghql/notifications{?since,all,participating}\",\n##     \"labels_url\": \"https://api.github.com/repos/ropensci/ghql/labels{/name}\",\n##     \"releases_url\": \"https://api.github.com/repos/ropensci/ghql/releases{/id}\",\n##     \"deployments_url\": \"https://api.github.com/repos/ropensci/ghql/deployments\",\n##     \"created_at\": \"2016-09-15T20:27:02Z\",\n##     \"updated_at\": \"2023-12-17T16:19:30Z\",\n##     \"pushed_at\": \"2023-01-03T09:08:34Z\",\n##     \"git_url\": \"git://github.com/ropensci/ghql.git\",\n##     \"ssh_url\": \"<a class=\"__cf_email__\" data-cfemail=\"385f514c785f514c504d5a165b5755\" href=\"/cdn-cgi/l/email-protection\">[email protected]</a>:ropensci/ghql.git\",\n##     \"clone_url\": \"https://github.com/ropensci/ghql.git\",\n##     \"svn_url\": \"https://github.com/ropensci/ghql\",\n##     \"homepage\": \"https://docs.ropensci.org/ghql\",\n##     \"size\": 148,\n##     \"stargazers_count\": 140,\n##     \"watchers_count\": 140,\n##     \"language\": \"R\",\n##     \"has_issues\": true,\n##     \"has_projects\": false,\n##     \"has_downloads\": true,\n##     \"has_wiki\": false,\n##     \"has_pages\": false,\n##     \"has_discussions\": true,\n##     \"forks_count\": 15,\n##     \"mirror_url\": {},\n##     \"archived\": false,\n##     \"disabled\": false,\n##     \"open_issues_count\": 3,\n##     \"license\": {\n##       \"key\": \"other\",\n##       \"name\": \"Other\",\n##       \"spdx_id\": \"NOASSERTION\",\n##       \"url\": {},\n##       \"node_id\": \"MDc6TGljZW5zZTA=\"\n##     },\n##     \"allow_forking\": true,\n##     \"is_template\": false,\n##     \"web_commit_signoff_required\": false,\n##     \"topics\": [\n##       \"graphql\",\n##       \"graphql-api\",\n##       \"graphql-client\",\n##       \"r\",\n##       \"r-package\",\n##       \"rstats\"\n##     ],\n##     \"visibility\": \"public\",\n##     \"forks\": 15,\n##     \"open_issues\": 3,\n##     \"watchers\": 140,\n##     \"default_branch\": \"master\",\n##     \"permissions\": {\n##       \"admin\": false,\n##       \"maintain\": false,\n##       \"push\": false,\n##       \"triage\": false,\n##       \"pull\": true\n##     }\n##   }\n## ]</pre>\n<p>The API call returns a lot of extra information that we did not require. All we needed was</p>\n<pre>star[[1]]$full_name\r\n## [1] \"ropensci/ghql\"</pre>\n<p>While GraphQL avoids the overfetching, querying the API is quite a lot more involved.</p>\n<pre>token &lt;- Sys.getenv(\"GITHUB_TOKEN\")\ncon &lt;- GraphqlClient$new(\n    url = \"https://api.github.com/graphql\",\n    headers = list(Authorization = paste0(\"Bearer \", token))\n)\n\nvariables &lt;- list(\n    userid = params$userid\n)\n\ncon$load_schema()\nqry &lt;- Query$new()\nqry$query(\n    \"mydata\", ' query getContrib($userid: String!){\n  user(login:$userid){\n    avatarUrl\n    login\n    contributionsCollection(\n    from: \"2023-01-01T00:00:00.000Z\"\n    to: \"2024-01-01T00:00:00.000Z\") {\n    totalCommitContributions\n    totalIssueContributions\n    totalRepositoryContributions\n    totalRepositoriesWithContributedCommits\n    totalPullRequestContributions\n    totalPullRequestReviewContributions\n    contributionCalendar {\n        totalContributions\n        weeks {\n            contributionDays {\n              contributionCount\n              date\n            }\n        }\n    }\n    commitContributionsByRepository {\n        contributions {\n            totalCount\n        }\n        repository {\n            name\n            owner {\n                login\n            }\n            isPrivate\n            languages(first: 5, orderBy: {field: SIZE, direction: DESC}) {\n                edges {\n                    size\n                    node {\n                        color\n                        name\n                        id\n                    }\n                }\n            }\n        }\n    }\n}\n  }\n}'\n)\nx &lt;- con$exec(qry$queries$mydata, variables)\nres &lt;- jsonlite::fromJSON(x)</pre>\n<p>This is far more complicated than querying a simple http endpoint. But it does only get exactly the data we want for the dashboard from our GitHub profile.</p>\n</section>\n<section class=\"level2\" id=\"the-dashboard\">\n<h2 class=\"anchored\" data-anchor-id=\"the-dashboard\">The dashboard</h2>\n<p>The final dashboard can be found in <a href=\"https://github.com/schochastics/github_wrapped\" rel=\"nofollow\" target=\"_blank\">this repository</a>. To personalize it, do the following:</p>\n<ol type=\"1\">\n<li>Create a <a href=\"https://github.com/settings/tokens\" rel=\"nofollow\" target=\"_blank\">Github token</a> (needs read:user access)</li>\n<li>add it to <code>.Renviron</code> as GITHUB_TOKEN</li>\n<li>Install a version of Quarto that allows to create dashboards (&gt;1.4.0)</li>\n<li>In <code>index.qmd</code>, change the <code>userid</code> parameter to your GitHub username.</li>\n<li><code>quarto render</code></li>\n</ol>\n<p>If you are missing a logo of a programming language at appears as one of your most used, add a svg version to <code>img/logos</code>. I got mine from Wikipedia.</p>\n<p>Happy GitHub Wrapping!</p>\n</section>\n<div class=\"default\" id=\"quarto-appendix\"><section class=\"quarto-appendix-contents\"><h2 class=\"anchored quarto-appendix-heading\">Reuse</h2><div class=\"quarto-appendix-contents\" id=\"quarto-reuse\"><div><a href=\"https://creativecommons.org/licenses/by/4.0/\" rel=\"nofollow\" target=\"_blank\">CC BY 4.0</a></div></div></section><section class=\"quarto-appendix-contents\"><h2 class=\"anchored quarto-appendix-heading\">Citation</h2><div><div class=\"quarto-appendix-secondary-label\">BibTeX citation:</div><pre>@online{schoch2023,\n  author = {Schoch, David},\n  title = {Using a {Quarto} {Dashboard} for {GitHub} {Wrapped}},\n  date = {2023-12-18},\n  url = {http://blog.schochastics.net/posts/2023-12-18_using-a-quarto-dashboard-for-github-wrapped},\n  langid = {en}\n}\n</pre><div class=\"quarto-appendix-secondary-label\">For attribution, please cite this work as:</div><div class=\"csl-entry quarto-appendix-citeas\" id=\"ref-schoch2023\">\nSchoch, David. 2023. <span>“Using a Quarto Dashboard for GitHub\nWrapped.”</span> December 18, 2023. <a href=\"http://blog.schochastics.net/posts/2023-12-18_using-a-quarto-dashboard-for-github-wrapped\" rel=\"nofollow\" target=\"_blank\">http://blog.schochastics.net/posts/2023-12-18_using-a-quarto-dashboard-for-github-wrapped</a>.\n</div></div></section></div>\n<div class=\"jp-relatedposts\" id=\"jp-relatedposts\">\n<h3 class=\"jp-relatedposts-headline\"><em>Related</em></h3>\n</div>\n<!-- Share buttons by mashshare.net - Version: 3.8.9-->\n<div style=\"border: 1px solid; background: none repeat scroll 0 0 #EDEDED; margin: 1px; font-size: 13px;\">\n<div style=\"text-align: center;\">To <strong>leave a comment</strong> for the author, please follow the link and comment on their blog: <strong><a href=\"http://blog.schochastics.net/posts/2023-12-18_using-a-quarto-dashboard-for-github-wrapped/\"> schochastics - all things R</a></strong>.</div>\n<hr>\n<a href=\"https://www.r-bloggers.com/\" rel=\"nofollow\">R-bloggers.com</a> offers <strong><a href=\"https://feedburner.google.com/fb/a/mailverify?uri=RBloggers\" rel=\"nofollow\">daily e-mail updates</a></strong> about <a href=\"https://www.r-project.org/\" rel=\"nofollow\" title=\"The R Project for Statistical Computing\">R</a> news and tutorials about <a href=\"https://www.r-bloggers.com/how-to-learn-r-2/\" rel=\"nofollow\" title=\"R tutorials\">learning R</a> and many other topics. <a href=\"https://www.r-users.com/\" rel=\"nofollow\" title=\"Data science jobs\">Click here if you're looking to post or find an R/data-science job</a>.\r\n\r\n<hr/>Want to share your content on R-bloggers?<a href=\"https://www.r-bloggers.com/add-your-blog/\" rel=\"nofollow\"> click here</a> if you have a blog, or <a href=\"http://r-posts.com/\" rel=\"nofollow\"> here</a> if you don't.\r\n</hr></div> </div>\n</article>",
      "main_text": "Using a Quarto Dashboard for GitHub Wrapped\nPosted on\nDecember 17, 2023\nby\nDavid Schoch\nin\nR bloggers\n| 0 Comments\n[This article was first published on\nschochastics - all things R\n, and kindly contributed to\nR-bloggers\n].  (You can report issue about the content on this page\nhere\n)\nWant to share your content on R-bloggers?\nclick here\nif you have a blog, or\nhere\nif you don't.\nThis post was semi automatically converted from blogdown to Quarto and may contain errors. The original can be found in the\narchive\n.\nDashboards\nare coming to Quarto in version 1.4. I already gave them a spin for a simple\nparking dashboard\nbut felt like they deserve some bigger attention. Given its the time of year where many platforms offer a personal “recap”,\nlike\nspotify\nor\ntwitch\n, I decided to implement a version of “GitHub wrapped”. Obviously, this also already\nexists\n, but I wanted to give it try myself.\nA journey from REST to GraphQL\nAlong the way, I actually learned a lot about\nGraphQL\nsince GitHub does actually also have a\nGraphQL API\n. GraphQL is similar to REST but unlike REST, which typically requires loading from multiple URLs to gather different pieces of data, GraphQL allows a client to make a single request to fetch the required information. This flexibility is one of its key advantages. Clients can specify their data requirements, which reduces over-fetching or under-fetching issues common in REST APIs. Additionally, GraphQL APIs are organized in terms of types and fields, not endpoints, allowing for more structured and powerful queries.\nIn contrast, REST uses predefined and stateless operations. REST APIs work with resources (like users, posts, etc.), each identified by URLs. Each resource can be manipulated using HTTP methods such as GET, POST, PUT, DELETE. REST APIs are known for their simplicity and statelessness, with each call containing all the information needed to understand and process the request. However, this can lead to over-fetching of data, as the data returned from a REST API endpoint is fixed and not customizable by the client.\nIn R, the Github REST API can be called via the\ngh\npackage, and the GraphQL API with\nghql\n. A call to the REST API is quite straightforward when you know which endpoint you need. The following call is a good example of a simple REST API call that overfetches a lot of data (all we actually want is the last repository I starred )\nstar <- gh::gh(\"/users/schochastics/starred\", .limit = 1)\nstar\n## [\n##   {\n##     \"id\": 68328745,\n##     \"node_id\": \"MDEwOlJlcG9zaXRvcnk2ODMyODc0NQ==\",\n##     \"name\": \"ghql\",\n##     \"full_name\": \"ropensci/ghql\",\n##     \"private\": false,\n##     \"owner\": {\n##       \"login\": \"ropensci\",\n##       \"id\": 1200269,\n##       \"node_id\": \"MDEyOk9yZ2FuaXphdGlvbjEyMDAyNjk=\",\n##       \"avatar_url\": \"https://avatars.githubusercontent.com/u/1200269?v=4\",\n##       \"gravatar_id\": \"\",\n##       \"url\": \"https://api.github.com/users/ropensci\",\n##       \"html_url\": \"https://github.com/ropensci\",\n##       \"followers_url\": \"https://api.github.com/users/ropensci/followers\",\n##       \"following_url\": \"https://api.github.com/users/ropensci/following{/other_user}\",\n##       \"gists_url\": \"https://api.github.com/users/ropensci/gists{/gist_id}\",\n##       \"starred_url\": \"https://api.github.com/users/ropensci/starred{/owner}{/repo}\",\n##       \"subscriptions_url\": \"https://api.github.com/users/ropensci/subscriptions\",\n##       \"organizations_url\": \"https://api.github.com/users/ropensci/orgs\",\n##       \"repos_url\": \"https://api.github.com/users/ropensci/repos\",\n##       \"events_url\": \"https://api.github.com/users/ropensci/events{/privacy}\",\n##       \"received_events_url\": \"https://api.github.com/users/ropensci/received_events\",\n##       \"type\": \"Organization\",\n##       \"site_admin\": false\n##     },\n##     \"html_url\": \"https://github.com/ropensci/ghql\",\n##     \"description\": \"GraphQL R client\",\n##     \"fork\": false,\n##     \"url\": \"https://api.github.com/repos/ropensci/ghql\",\n##     \"forks_url\": \"https://api.github.com/repos/ropensci/ghql/forks\",\n##     \"keys_url\": \"https://api.github.com/repos/ropensci/ghql/keys{/key_id}\",\n##     \"collaborators_url\": \"https://api.github.com/repos/ropensci/ghql/collaborators{/collaborator}\",\n##     \"teams_url\": \"https://api.github.com/repos/ropensci/ghql/teams\",\n##     \"hooks_url\": \"https://api.github.com/repos/ropensci/ghql/hooks\",\n##     \"issue_events_url\": \"https://api.github.com/repos/ropensci/ghql/issues/events{/number}\",\n##     \"events_url\": \"https://api.github.com/repos/ropensci/ghql/events\",\n##     \"assignees_url\": \"https://api.github.com/repos/ropensci/ghql/assignees{/user}\",\n##     \"branches_url\": \"https://api.github.com/repos/ropensci/ghql/branches{/branch}\",\n##     \"tags_url\": \"https://api.github.com/repos/ropensci/ghql/tags\",\n##     \"blobs_url\": \"https://api.github.com/repos/ropensci/ghql/git/blobs{/sha}\",\n##     \"git_tags_url\": \"https://api.github.com/repos/ropensci/ghql/git/tags{/sha}\",\n##     \"git_refs_url\": \"https://api.github.com/repos/ropensci/ghql/git/refs{/sha}\",\n##     \"trees_url\": \"https://api.github.com/repos/ropensci/ghql/git/trees{/sha}\",\n##     \"statuses_url\": \"https://api.github.com/repos/ropensci/ghql/statuses/{sha}\",\n##     \"languages_url\": \"https://api.github.com/repos/ropensci/ghql/languages\",\n##     \"stargazers_url\": \"https://api.github.com/repos/ropensci/ghql/stargazers\",\n##     \"contributors_url\": \"https://api.github.com/repos/ropensci/ghql/contributors\",\n##     \"subscribers_url\": \"https://api.github.com/repos/ropensci/ghql/subscribers\",\n##     \"subscription_url\": \"https://api.github.com/repos/ropensci/ghql/subscription\",\n##     \"commits_url\": \"https://api.github.com/repos/ropensci/ghql/commits{/sha}\",\n##     \"git_commits_url\": \"https://api.github.com/repos/ropensci/ghql/git/commits{/sha}\",\n##     \"comments_url\": \"https://api.github.com/repos/ropensci/ghql/comments{/number}\",\n##     \"issue_comment_url\": \"https://api.github.com/repos/ropensci/ghql/issues/comments{/number}\",\n##     \"contents_url\": \"https://api.github.com/repos/ropensci/ghql/contents/{+path}\",\n##     \"compare_url\": \"https://api.github.com/repos/ropensci/ghql/compare/{base}...{head}\",\n##     \"merges_url\": \"https://api.github.com/repos/ropensci/ghql/merges\",\n##     \"archive_url\": \"https://api.github.com/repos/ropensci/ghql/{archive_format}{/ref}\",\n##     \"downloads_url\": \"https://api.github.com/repos/ropensci/ghql/downloads\",\n##     \"issues_url\": \"https://api.github.com/repos/ropensci/ghql/issues{/number}\",\n##     \"pulls_url\": \"https://api.github.com/repos/ropensci/ghql/pulls{/number}\",\n##     \"milestones_url\": \"https://api.github.com/repos/ropensci/ghql/milestones{/number}\",\n##     \"notifications_url\": \"https://api.github.com/repos/ropensci/ghql/notifications{?since,all,participating}\",\n##     \"labels_url\": \"https://api.github.com/repos/ropensci/ghql/labels{/name}\",\n##     \"releases_url\": \"https://api.github.com/repos/ropensci/ghql/releases{/id}\",\n##     \"deployments_url\": \"https://api.github.com/repos/ropensci/ghql/deployments\",\n##     \"created_at\": \"2016-09-15T20:27:02Z\",\n##     \"updated_at\": \"2023-12-17T16:19:30Z\",\n##     \"pushed_at\": \"2023-01-03T09:08:34Z\",\n##     \"git_url\": \"git://github.com/ropensci/ghql.git\",\n##     \"ssh_url\": \"\n[email protected]\n:ropensci/ghql.git\",\n##     \"clone_url\": \"https://github.com/ropensci/ghql.git\",\n##     \"svn_url\": \"https://github.com/ropensci/ghql\",\n##     \"homepage\": \"https://docs.ropensci.org/ghql\",\n##     \"size\": 148,\n##     \"stargazers_count\": 140,\n##     \"watchers_count\": 140,\n##     \"language\": \"R\",\n##     \"has_issues\": true,\n##     \"has_projects\": false,\n##     \"has_downloads\": true,\n##     \"has_wiki\": false,\n##     \"has_pages\": false,\n##     \"has_discussions\": true,\n##     \"forks_count\": 15,\n##     \"mirror_url\": {},\n##     \"archived\": false,\n##     \"disabled\": false,\n##     \"open_issues_count\": 3,\n##     \"license\": {\n##       \"key\": \"other\",\n##       \"name\": \"Other\",\n##       \"spdx_id\": \"NOASSERTION\",\n##       \"url\": {},\n##       \"node_id\": \"MDc6TGljZW5zZTA=\"\n##     },\n##     \"allow_forking\": true,\n##     \"is_template\": false,\n##     \"web_commit_signoff_required\": false,\n##     \"topics\": [\n##       \"graphql\",\n##       \"graphql-api\",\n##       \"graphql-client\",\n##       \"r\",\n##       \"r-package\",\n##       \"rstats\"\n##     ],\n##     \"visibility\": \"public\",\n##     \"forks\": 15,\n##     \"open_issues\": 3,\n##     \"watchers\": 140,\n##     \"default_branch\": \"master\",\n##     \"permissions\": {\n##       \"admin\": false,\n##       \"maintain\": false,\n##       \"push\": false,\n##       \"triage\": false,\n##       \"pull\": true\n##     }\n##   }\n## ]\nThe API call returns a lot of extra information that we did not require. All we needed was\nstar[[1]]$full_name\n## [1] \"ropensci/ghql\"\nWhile GraphQL avoids the overfetching, querying the API is quite a lot more involved.\ntoken <- Sys.getenv(\"GITHUB_TOKEN\")\ncon <- GraphqlClient$new(\n    url = \"https://api.github.com/graphql\",\n    headers = list(Authorization = paste0(\"Bearer \", token))\n)\n\nvariables <- list(\n    userid = params$userid\n)\n\ncon$load_schema()\nqry <- Query$new()\nqry$query(\n    \"mydata\", ' query getContrib($userid: String!){\n  user(login:$userid){\n    avatarUrl\n    login\n    contributionsCollection(\n    from: \"2023-01-01T00:00:00.000Z\"\n    to: \"2024-01-01T00:00:00.000Z\") {\n    totalCommitContributions\n    totalIssueContributions\n    totalRepositoryContributions\n    totalRepositoriesWithContributedCommits\n    totalPullRequestContributions\n    totalPullRequestReviewContributions\n    contributionCalendar {\n        totalContributions\n        weeks {\n            contributionDays {\n              contributionCount\n              date\n            }\n        }\n    }\n    commitContributionsByRepository {\n        contributions {\n            totalCount\n        }\n        repository {\n            name\n            owner {\n                login\n            }\n            isPrivate\n            languages(first: 5, orderBy: {field: SIZE, direction: DESC}) {\n                edges {\n                    size\n                    node {\n                        color\n                        name\n                        id\n                    }\n                }\n            }\n        }\n    }\n}\n  }\n}'\n)\nx <- con$exec(qry$queries$mydata, variables)\nres <- jsonlite::fromJSON(x)\nThis is far more complicated than querying a simple http endpoint. But it does only get exactly the data we want for the dashboard from our GitHub profile.\nThe dashboard\nThe final dashboard can be found in\nthis repository\n. To personalize it, do the following:\nCreate a\nGithub token\n(needs read:user access)\nadd it to\n.Renviron\nas GITHUB_TOKEN\nInstall a version of Quarto that allows to create dashboards (>1.4.0)\nIn\nindex.qmd\n, change the\nuserid\nparameter to your GitHub username.\nquarto render\nIf you are missing a logo of a programming language at appears as one of your most used, add a svg version to\nimg/logos\n. I got mine from Wikipedia.\nHappy GitHub Wrapping!\nReuse\nCC BY 4.0\nCitation\nBibTeX citation:\n@online{schoch2023,\n  author = {Schoch, David},\n  title = {Using a {Quarto} {Dashboard} for {GitHub} {Wrapped}},\n  date = {2023-12-18},\n  url = {http://blog.schochastics.net/posts/2023-12-18_using-a-quarto-dashboard-for-github-wrapped},\n  langid = {en}\n}\nFor attribution, please cite this work as:\nSchoch, David. 2023.\n“Using a Quarto Dashboard for GitHub\nWrapped.”\nDecember 18, 2023.\nhttp://blog.schochastics.net/posts/2023-12-18_using-a-quarto-dashboard-for-github-wrapped\n.\nRelated\nTo\nleave a comment\nfor the author, please follow the link and comment on their blog:\nschochastics - all things R\n.\nR-bloggers.com\noffers\ndaily e-mail updates\nabout\nR\nnews and tutorials about\nlearning R\nand many other topics.\nClick here if you're looking to post or find an R/data-science job\n.\nWant to share your content on R-bloggers?\nclick here\nif you have a blog, or\nhere\nif you don't.",
      "meta_description": "This post was semi automatically converted from blogdown to Quarto and may contain errors. The original can be found in the archive. Dashboards are coming to Quarto in version 1.4. I already gave them a spin for a simple parking dashboard but fe...",
      "meta_keywords": null,
      "og_description": "This post was semi automatically converted from blogdown to Quarto and may contain errors. The original can be found in the archive. Dashboards are coming to Quarto in version 1.4. I already gave them a spin for a simple parking dashboard but fe...",
      "og_image": "https://blog.schochastics.net/posts/2023-12-18_using-a-quarto-dashboard-for-github-wrapped/schochastics.png",
      "og_title": "Using a Quarto Dashboard for GitHub Wrapped | R-bloggers",
      "raw_jsonld_article": null,
      "reading_time_min": 7.3,
      "sitemap_lastmod": "2023-12-17T23:00:00+00:00",
      "twitter_description": "This post was semi automatically converted from blogdown to Quarto and may contain errors. The original can be found in the archive. Dashboards are coming to Quarto in version 1.4. I already gave them a spin for a simple parking dashboard but fe...",
      "twitter_title": "Using a Quarto Dashboard for GitHub Wrapped | R-bloggers",
      "url": "https://www.r-bloggers.com/2023/12/using-a-quarto-dashboard-for-github-wrapped-2/",
      "word_count": 1454
    }
  }
}