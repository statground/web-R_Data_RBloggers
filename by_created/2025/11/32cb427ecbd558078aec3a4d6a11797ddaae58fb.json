{
  "id": "32cb427ecbd558078aec3a4d6a11797ddaae58fb",
  "url": "https://www.r-bloggers.com/2009/06/rsi2-evaluation/",
  "created_at_utc": "2025-11-17T20:40:45Z",
  "data": null,
  "raw_original": {
    "uuid": "22d932d1-348b-42bd-a301-7c559fadefab",
    "created_at": "2025-11-17 20:40:45",
    "raw_json": {
      "article_author": null,
      "article_headline": null,
      "article_modified": null,
      "article_published": null,
      "article_section": null,
      "article_tags": null,
      "canonical_url": "https://www.r-bloggers.com/2009/06/rsi2-evaluation/",
      "crawled_at": "2025-11-17T10:33:58.146242",
      "external_links": [
        {
          "href": "https://feedproxy.google.com/~r/FossTrading/~3/j81O1GtkBwQ/rsi2-evaluation.html",
          "text": "FOSS Trading"
        },
        {
          "href": "http://r-posts.com/",
          "text": "here"
        },
        {
          "href": "http://blog.fosstrading.com/2009/04/testing-rsi2-with-r.html",
          "text": "first post"
        },
        {
          "href": "http://marketsci.wordpress.com/2008/12/09/trading-with-rsi2/",
          "text": "simple RSI(2) strategy"
        },
        {
          "href": "http://marketsci.wordpress.com/",
          "text": "MarketSci Blog"
        },
        {
          "href": "https://www.r-project.org/",
          "text": "R"
        },
        {
          "href": "http://blog.fosstrading.com/2009/05/rsi2-with-position-sizing.html",
          "text": "second post"
        },
        {
          "href": "http://marketsci.wordpress.com/2008/12/14/trading-strategy-scaling-inout-of-rsi2/",
          "text": "the strategy"
        },
        {
          "href": "http://cran.r-project.org/web/packages/PerformanceAnalytics/",
          "text": "PerformanceAnalytics"
        },
        {
          "href": "https://i0.wp.com/www.r-bloggers.com/wp-content/uploads/2009/06/20090606_rsi2_performance2.png",
          "text": null
        },
        {
          "href": "https://feedads.g.doubleclick.net/~a/y5Nw4Bevb1_800WcBQI7Ml4cjeE/0/da",
          "text": null
        },
        {
          "href": "https://feedads.g.doubleclick.net/~a/y5Nw4Bevb1_800WcBQI7Ml4cjeE/1/da",
          "text": null
        },
        {
          "href": "https://feeds.feedburner.com/~ff/FossTrading?a=j81O1GtkBwQ:0Yiycv1fqwg:yIl2AUoC8zA",
          "text": null
        },
        {
          "href": "https://feeds.feedburner.com/~ff/FossTrading?a=j81O1GtkBwQ:0Yiycv1fqwg:F7zBnMyn0Lo",
          "text": null
        },
        {
          "href": "https://feeds.feedburner.com/~ff/FossTrading?a=j81O1GtkBwQ:0Yiycv1fqwg:V_sGLiPBpWU",
          "text": null
        },
        {
          "href": "https://feeds.feedburner.com/~ff/FossTrading?a=j81O1GtkBwQ:0Yiycv1fqwg:qj6IDK7rITs",
          "text": null
        },
        {
          "href": "https://feeds.feedburner.com/~ff/FossTrading?a=j81O1GtkBwQ:0Yiycv1fqwg:I9og5sOYxJI",
          "text": null
        },
        {
          "href": "https://feedproxy.google.com/~r/FossTrading/~3/j81O1GtkBwQ/rsi2-evaluation.html",
          "text": "FOSS Trading"
        },
        {
          "href": "https://feedburner.google.com/fb/a/mailverify?uri=RBloggers",
          "text": "daily e-mail updates"
        },
        {
          "href": "https://www.r-project.org/",
          "text": "R"
        },
        {
          "href": "https://www.r-users.com/",
          "text": "Click here if you're looking to post or find an R/data-science job"
        },
        {
          "href": "http://r-posts.com/",
          "text": "here"
        }
      ],
      "h1_title": "R-bloggers",
      "html_title": "RSI(2) Evaluation | R-bloggers",
      "images": [
        {
          "alt": null,
          "base64": null,
          "src": "https://i0.wp.com/www.r-bloggers.com/wp-content/uploads/2009/06/20090606_rsi2_performance3.png?w=578"
        },
        {
          "alt": null,
          "base64": null,
          "src": "https://i0.wp.com/www.r-bloggers.com/wp-content/uploads/2009/06/20090606_rsi2_performance3.png?w=578"
        },
        {
          "alt": null,
          "base64": null,
          "src": "https://blogger.googleusercontent.com/tracker/5815834906618132494-777935340186875356?l=blog.fosstrading.com"
        },
        {
          "alt": null,
          "base64": null,
          "src": "https://blogger.googleusercontent.com/tracker/5815834906618132494-777935340186875356?l=blog.fosstrading.com"
        },
        {
          "alt": null,
          "base64": null,
          "src": "https://feedads.g.doubleclick.net/~a/y5Nw4Bevb1_800WcBQI7Ml4cjeE/0/di"
        },
        {
          "alt": null,
          "base64": null,
          "src": "http://feedads.g.doubleclick.net/~a/y5Nw4Bevb1_800WcBQI7Ml4cjeE/0/di"
        },
        {
          "alt": null,
          "base64": null,
          "src": "https://feedads.g.doubleclick.net/~a/y5Nw4Bevb1_800WcBQI7Ml4cjeE/1/di"
        },
        {
          "alt": null,
          "base64": null,
          "src": "http://feedads.g.doubleclick.net/~a/y5Nw4Bevb1_800WcBQI7Ml4cjeE/1/di"
        },
        {
          "alt": null,
          "base64": null,
          "src": "https://feeds.feedburner.com/~ff/FossTrading?d=yIl2AUoC8zA"
        },
        {
          "alt": null,
          "base64": null,
          "src": "https://feeds.feedburner.com/~ff/FossTrading?d=yIl2AUoC8zA"
        },
        {
          "alt": null,
          "base64": null,
          "src": "https://feeds.feedburner.com/~ff/FossTrading?i=j81O1GtkBwQ:0Yiycv1fqwg:F7zBnMyn0Lo"
        },
        {
          "alt": null,
          "base64": null,
          "src": "https://feeds.feedburner.com/~ff/FossTrading?i=j81O1GtkBwQ:0Yiycv1fqwg:F7zBnMyn0Lo"
        },
        {
          "alt": null,
          "base64": null,
          "src": "https://feeds.feedburner.com/~ff/FossTrading?i=j81O1GtkBwQ:0Yiycv1fqwg:V_sGLiPBpWU"
        },
        {
          "alt": null,
          "base64": null,
          "src": "https://feeds.feedburner.com/~ff/FossTrading?i=j81O1GtkBwQ:0Yiycv1fqwg:V_sGLiPBpWU"
        },
        {
          "alt": null,
          "base64": null,
          "src": "https://feeds.feedburner.com/~ff/FossTrading?d=qj6IDK7rITs"
        },
        {
          "alt": null,
          "base64": null,
          "src": "https://feeds.feedburner.com/~ff/FossTrading?d=qj6IDK7rITs"
        },
        {
          "alt": null,
          "base64": null,
          "src": "https://feeds.feedburner.com/~ff/FossTrading?d=I9og5sOYxJI"
        },
        {
          "alt": null,
          "base64": null,
          "src": "https://feeds.feedburner.com/~ff/FossTrading?d=I9og5sOYxJI"
        },
        {
          "alt": null,
          "base64": null,
          "src": "https://feeds.feedburner.com/~r/FossTrading/~4/j81O1GtkBwQ"
        },
        {
          "alt": null,
          "base64": null,
          "src": "https://feeds.feedburner.com/~r/FossTrading/~4/j81O1GtkBwQ"
        }
      ],
      "internal_links": [
        {
          "href": "https://www.r-bloggers.com/author/joshua-ulrich/",
          "text": "Joshua Ulrich"
        },
        {
          "href": "https://www.r-bloggers.com/category/r-bloggers/",
          "text": "R bloggers"
        },
        {
          "href": "https://www.r-bloggers.com/",
          "text": "R-bloggers"
        },
        {
          "href": "https://www.r-bloggers.com/contact-us/",
          "text": "here"
        },
        {
          "href": "https://www.r-bloggers.com/add-your-blog/",
          "text": "click here"
        },
        {
          "href": "https://www.r-bloggers.com/",
          "text": "R-bloggers.com"
        },
        {
          "href": "https://www.r-bloggers.com/how-to-learn-r-2/",
          "text": "learning R"
        },
        {
          "href": "https://www.r-bloggers.com/add-your-blog/",
          "text": "click here"
        },
        {
          "href": "https://www.r-bloggers.com/tag/code/",
          "text": "code"
        },
        {
          "href": "https://www.r-bloggers.com/tag/examples/",
          "text": "Examples"
        }
      ],
      "lang": "en-US",
      "main_html": "<article class=\"post-484 post type-post status-publish format-standard hentry category-r-bloggers tag-code tag-examples\">\n<header class=\"post-header\">\n<h1 class=\"entry-title\">RSI(2) Evaluation</h1>\n<p class=\"meta post-meta\">Posted on <span class=\"updated\">June 28, 2009</span>  by <span class=\"vcard author\"><a class=\"fn\" href=\"https://www.r-bloggers.com/author/joshua-ulrich/\">Joshua Ulrich</a></span>  in <a href=\"https://www.r-bloggers.com/category/r-bloggers/\" rel=\"category tag\">R bloggers</a> | 0 Comments</p>\n</header>\n<div class=\"entry clearfix\">\n<p class=\"syndicated-attribution\"><!-- \r\n<div style=\"min-height: 30px;\">\r\n[social4i size=\"small\" align=\"align-left\"]\r\n</div>\r\n-->\n<div style=\"border: 1px solid; background: none repeat scroll 0 0 #EDEDED; margin: 1px; font-size: 12px;\">\r\n[This article was first published on  <strong><a href=\"https://feedproxy.google.com/~r/FossTrading/~3/j81O1GtkBwQ/rsi2-evaluation.html\"> FOSS Trading</a></strong>, and kindly contributed to <a href=\"https://www.r-bloggers.com/\" rel=\"nofollow\">R-bloggers</a>].  (You can report issue about the content on this page <a href=\"https://www.r-bloggers.com/contact-us/\">here</a>)\r\n<hr/>Want to share your content on R-bloggers?<a href=\"https://www.r-bloggers.com/add-your-blog/\" rel=\"nofollow\"> click here</a> if you have a blog, or <a href=\"http://r-posts.com/\" rel=\"nofollow\"> here</a> if you don't.\r\n</div></p>\n\n<!-- Share buttons by mashshare.net - Version: 3.8.0-->Despite my best efforts, it’s been a month since the last post of this series.  The <a href=\"http://blog.fosstrading.com/2009/04/testing-rsi2-with-r.html\" rel=\"nofollow\" target=\"_blank\">first post</a> replicated this <a href=\"http://marketsci.wordpress.com/2008/12/09/trading-with-rsi2/\" rel=\"nofollow\" target=\"_blank\">simple RSI(2) strategy</a> from the <a href=\"http://marketsci.wordpress.com/\" rel=\"nofollow\" target=\"_blank\">MarketSci Blog</a> using <a href=\"https://www.r-project.org/\" rel=\"nofollow\" target=\"_blank\">R</a>.  The <a href=\"http://blog.fosstrading.com/2009/05/rsi2-with-position-sizing.html\" rel=\"nofollow\" target=\"_blank\">second post</a> showed how to replicate <a href=\"http://marketsci.wordpress.com/2008/12/14/trading-strategy-scaling-inout-of-rsi2/\" rel=\"nofollow\" target=\"_blank\">the strategy</a> that scales in/out of RSI(2).<br/>\n<br/>\nThis post will use the <a href=\"http://cran.r-project.org/web/packages/PerformanceAnalytics/\" rel=\"nofollow\" target=\"_blank\">PerformanceAnalytics</a> package to evaluate the rules that scale in/out of positions. I’ve also provided a simple function that provides some summary statistics. There is a lot of code, so I put it at the end of the post.<br/>\n<br/>\nTable 1 contains output from my simple trade summary function (the wins and losses are in percentages, i.e. 0.69 is 69 basis points).  The short side of the rule traded more often and had a lower win rate.  The short side overcame its lower win rate via much higher mean and median win/loss ratios.<br/>\n<br/>\n<table border=\"0\" cellpadding=\"0\" cellspacing=\"0\" width=\"600px\"><caption>Table 1: RSI(2) Trade Statistics – RSI steps = 5, Size steps = 0.25</caption> <tbody>\n<tr> <th align=\"center\">Signal</th> <th align=\"center\"># Trades</th> <th align=\"center\">% Win</th> <th align=\"center\">Mean Win</th> <th align=\"center\">Mean Loss</th> <th align=\"center\">Median Win</th> <th align=\"center\">Median Loss</th> <th align=\"center\">Mean W/L</th> <th align=\"center\">Median W/L</th> </tr>\n<tr align=\"center\"><td>-1.00</td><td>133</td><td>58</td><td>0.69</td><td>-0.44</td><td>0.53</td><td>-0.25</td><td>1.55</td><td>2.12</td></tr>\n<tr align=\"center\"><td>-0.75</td><td>173</td><td>49</td><td>0.62</td><td>-0.39</td><td>0.37</td><td>-0.25</td><td>1.60</td><td>1.48</td></tr>\n<tr align=\"center\"><td>-0.50</td><td>143</td><td>54</td><td>0.43</td><td>-0.36</td><td>0.28</td><td>-0.19</td><td>1.19</td><td>1.51</td></tr>\n<tr align=\"center\"><td>-0.25</td><td>158</td><td>56</td><td>0.21</td><td>-0.19</td><td>0.14</td><td>-0.13</td><td>1.15</td><td>1.08</td></tr>\n<tr align=\"center\"><td>0.00</td><td>1262</td><td>0</td><td>NaN</td><td>NaN</td><td>NA</td><td>NA</td><td>NaN</td><td>NA</td></tr>\n<tr align=\"center\"><td>0.25</td><td>117</td><td>53</td><td>0.26</td><td>-0.31</td><td>0.18</td><td>-0.21</td><td>0.83</td><td>0.86</td></tr>\n<tr align=\"center\"><td>0.50</td><td>137</td><td>58</td><td>0.51</td><td>-0.58</td><td>0.31</td><td>-0.35</td><td>0.87</td><td>0.89</td></tr>\n<tr align=\"center\"><td>0.75</td><td>143</td><td>62</td><td>0.88</td><td>-0.89</td><td>0.50</td><td>-0.71</td><td>0.99</td><td>0.70</td></tr>\n<tr align=\"center\"><td>1.00</td><td>119</td><td>63</td><td>1.34</td><td>-1.41</td><td>0.80</td><td>-1.11</td><td>0.95</td><td>0.71</td></tr>\n</tbody></table><br/>\nTable 2 shows the output from the PerformanceAnalytics table.Drawdowns() function.  The largest percentage drawdown occurred in late 2008, but only lasted a few weeks.<br/>\n<br/>\nThe table also shows the system is prone to drawdowns that trough quickly and take months to recover from.  A week of bad trades can take months to recover from.<br/>\n<br/>\n<table border=\"0\" cellpadding=\"0\" cellspacing=\"0\" width=\"600px\"><caption>Table 2: RSI(2) Drawdowns – RSI steps = 5, Size steps = 0.25</caption> <tbody> </tbody><tbody>\n<tr> <th align=\"center\">From</th> <th align=\"center\">Trough</th> <th align=\"center\">To</th> <th align=\"center\">Depth</th> <th align=\"center\">Length</th> <th align=\"center\">To Trough</th> <th align=\"center\">Recovery</th> </tr>\n<tr align=\"center\"><td>2008-10-06</td><td>2008-10-10</td><td>2008-10-28</td><td>-0.157</td><td>17</td><td>5</td><td>12</td></tr>\n<tr align=\"center\"><td>2001-08-30</td><td>2001-09-21</td><td>2002-01-23</td><td>-0.091</td><td>96</td><td>12</td><td>84</td></tr>\n<tr align=\"center\"><td>2002-07-19</td><td>2002-07-23</td><td>2002-08-20</td><td>-0.088</td><td>23</td><td>3</td><td>20</td></tr>\n<tr align=\"center\"><td>2000-03-22</td><td>2000-04-14</td><td>2000-07-05</td><td>-0.076</td><td>73</td><td>18</td><td>55</td></tr>\n<tr align=\"center\"><td>2009-02-17</td><td>2009-02-23</td><td>2009-04-27</td><td>-0.070</td><td>49</td><td>5</td><td>44</td></tr>\n<tr align=\"center\"><td>2003-03-14</td><td>2003-03-21</td><td>2003-05-09</td><td>-0.055</td><td>40</td><td>6</td><td>34</td></tr>\n<tr align=\"center\"><td>2000-10-09</td><td>2000-10-12</td><td>2000-12-06</td><td>-0.052</td><td>42</td><td>4</td><td>38</td></tr>\n<tr align=\"center\"><td>2002-08-29</td><td>2002-09-24</td><td>2002-10-10</td><td>-0.051</td><td>30</td><td>18</td><td>12</td></tr>\n<tr align=\"center\"><td>2008-01-02</td><td>2008-01-22</td><td>2008-03-11</td><td>-0.045</td><td>48</td><td>14</td><td>34</td></tr>\n<tr align=\"center\"><td>2001-04-18</td><td>2001-06-18</td><td>2001-08-10</td><td>-0.045</td><td>81</td><td>43</td><td>38</td></tr>\n</tbody> </table><br/>\nTable 3 shows the output from the PerformanceAnalytics table.DownsideRisk() function.  The ratio of gain/loss deviation is encouraging.  I have to defer to the PerformanceAnalytics documentation and vingettes to describe the rest of the table.<br/>\n<br/>\n<table border=\"0\" cellpadding=\"0\" cellspacing=\"0\" width=\"300px\"><caption>Table 3: RSI(2) Downside Risk – RSI steps = 5, Size steps = 0.25</caption><tbody>\n<tr><th align=\"left\">Statistic</th><th align=\"left\">Return</th></tr>\n<tr><td>Semi Deviation</td><td>0.0050</td></tr>\n<tr><td>Gain Deviation</td><td>0.0094</td></tr>\n<tr><td>Loss Deviation</td><td>0.0076</td></tr>\n<tr><td>Downside Deviation (MAR=10%)</td><td>0.0099</td></tr>\n<tr><td>Downside Deviation (rf=0%)</td><td>0.0092</td></tr>\n<tr><td>Downside Deviation (0%)</td><td>0.0092</td></tr>\n<tr><td>Maximum Drawdown</td><td>-0.1572</td></tr>\n<tr><td>VaR (99%)</td><td>0.0160</td></tr>\n<tr><td>Beyond VaR</td><td>0.0160</td></tr>\n<tr><td>Modified VaR (99%)</td><td>0.0705</td></tr>\n</tbody> </table><br/>\nThe chart below shows the output from the PerformanceAnalytics charts.PerformanceSummary() function.  It shows the equity curves and drawdown from peak for the long and short sides of the strategy.  The middle graph shows the *daily* returns for the combined strategy.<br/>\n<br/>\n<div class=\"separator\" style=\"clear: both; text-align: center;\"><a href=\"https://i0.wp.com/www.r-bloggers.com/wp-content/uploads/2009/06/20090606_rsi2_performance2.png\" rel=\"nofollow\" style=\"margin-left: 1em; margin-right: 1em;\" target=\"_blank\"><img border=\"0\" class=\"jetpack-lazy-image\" data-lazy-src=\"https://i0.wp.com/www.r-bloggers.com/wp-content/uploads/2009/06/20090606_rsi2_performance3.png?w=578&amp;is-pending-load=1\" data-recalc-dims=\"1\" src=\"https://i0.wp.com/www.r-bloggers.com/wp-content/uploads/2009/06/20090606_rsi2_performance3.png?w=578\" srcset=\"data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7\"/><noscript><img border=\"0\" data-recalc-dims=\"1\" src=\"https://i0.wp.com/www.r-bloggers.com/wp-content/uploads/2009/06/20090606_rsi2_performance3.png?w=578\"/></noscript></a></div><br/>\nThe code below has everything that created the results above.  It also contains the same results for a modified RSI(2) strategy.  The modified strategy uses RSI steps of 10 and sizing steps of 0.3 (i.e. RSI&lt;10 -&gt; size=1, 10<rsi>&lt;20 -&gt; size=0.7, etc.).<br/>\n</rsi><br/>\n<blockquote style=\"font-family:courier new;\"><span style=\"font-size:85%;\"># Attach packages.  You can install packages via:<br/>\n# install.packages(c(“quantmod”,”TTR”,”PerformanceAnalytics”))<br/>\nlibrary(quantmod)<br/>\nlibrary(TTR)<br/>\nlibrary(PerformanceAnalytics)<br/>\n<br/>\n# Pull S&amp;P500 index data from Yahoo! Finance<br/>\ngetSymbols(“^GSPC”, from=”2000-01-01″)<br/>\n<br/>\n# Calculate the RSI indicator<br/>\nrsi &lt;- RSI(Cl(GSPC), 2)<br/>\n<br/>\n# Calculate Close-to-Close returns<br/>\nret &lt;- ROC(Cl(GSPC))<br/>\nret[1] &lt;- 0<br/>\n<br/>\n# This function gives us some standard summary<br/>\n# statistics for our trades.<br/>\ntradeStats &lt;- function(signals, returns) {<br/>\n# Inputs:<br/>\n# signals : trading signals<br/>\n# returns : returns corresponding to signals<br/>\n<br/>\n# Combine data and convert to data.frame<br/>\nsysRet &lt;- signals * returns * 100<br/>\nposRet &lt;- sysRet &gt; 0          # Positive rule returns<br/>\nnegRet &lt;- sysRet &lt; 0          # Negative rule returns<br/>\ndat &lt;- cbind(signals,posRet*100,sysRet[posRet],sysRet[negRet],1)<br/>\ndat &lt;- as.data.frame(dat)<br/>\n<br/>\n# Aggreate data for summary statistics<br/>\nmeans   &lt;- aggregate(dat[,2:4], by=list(dat[,1]), mean, na.rm=TRUE)<br/>\nmedians &lt;- aggregate(dat[,3:4], by=list(dat[,1]), median, na.rm=TRUE)<br/>\nsums    &lt;- aggregate(dat[,5],   by=list(dat[,1]), sum)<br/>\n<br/>\ncolnames(means)   &lt;- c(\"Signal\",\"% Win\",\"Mean Win\",\"Mean Loss\")<br/>\ncolnames(medians) &lt;- c(\"Signal\",\"Median Win\",\"Median Loss\")<br/>\ncolnames(sums)    &lt;- c(\"Signal\",\"# Trades\")<br/>\n<br/>\nall &lt;- merge(sums,means)<br/>\nall &lt;- merge(all,medians)<br/>\n<br/>\nwl &lt;- cbind( abs(all[,\"Mean Win\"]/all[,\"Mean Loss\"]),<br/>\nabs(all[,”Median Win”]/all[,”Median Loss”]) )<br/>\ncolnames(wl) &lt;- c(\"Mean W/L\",\"Median W/L\")<br/>\n<br/>\nall &lt;- cbind(all,wl)<br/>\nreturn(all)<br/>\n}<br/>\n<br/>\n# This function determines position size and<br/>\n# enables us to test several ideas with much<br/>\n# greater speed and flexibility.<br/>\nrsi2pos &lt;- function(ind, indIncr=5, posIncr=0.25) {<br/>\n# Inputs:<br/>\n# ind     : indicator vector<br/>\n# indIncr : indicator value increments/breakpoints<br/>\n# posIncr : position value increments/breakpoints<br/>\n<br/>\n# Initialize result vector<br/>\nsize &lt;- rep(0,NROW(ind))<br/>\n<br/>\n# Long<br/>\nsize &lt;- ifelse(ind &lt; 4*indIncr, (1-posIncr*3), size)<br/>\nsize &lt;- ifelse(ind &lt; 3*indIncr, (1-posIncr*2), size)<br/>\nsize &lt;- ifelse(ind &lt; 2*indIncr, (1-posIncr*1), size)<br/>\nsize &lt;- ifelse(ind &lt; 1*indIncr, (1-posIncr*0), size)<br/>\n<br/>\n# Short<br/>\nsize &lt;- ifelse(ind &gt; 100-4*indIncr, 3*posIncr-1, size)<br/>\nsize &lt;- ifelse(ind &gt; 100-3*indIncr, 2*posIncr-1, size)<br/>\nsize &lt;- ifelse(ind &gt; 100-2*indIncr, 1*posIncr-1, size)<br/>\nsize &lt;- ifelse(ind &gt; 100-1*indIncr, 0*posIncr-1, size)<br/>\n<br/>\n# Today’s position (‘size’) is based on today’s<br/>\n# indicator, but we need to apply today’s position<br/>\n# to the Close-to-Close return at tomorrow’s close.<br/>\nsize &lt;- lag(size)<br/>\n<br/>\n# Replace missing signals with no position<br/>\n# (generally just at beginning of series)<br/>\nsize[is.na(size)] &lt;- 0<br/>\n<br/>\n# Return results<br/>\nreturn(size)<br/>\n}<br/>\n<br/>\n# Calculate signals with the ‘rsi2pos()’ function,<br/>\n# using 5 as the RSI step: 5, 10, 15, 20, 80, 85, 90, 95<br/>\n# and 0.25 as the size step: 0.25, 0.50, 0.75, 1.00<br/>\nsig &lt;- rsi2pos(rsi, 5, 0.25)<br/>\n<br/>\n# Break out the long (up) and short (dn) signals<br/>\nsigup &lt;- ifelse(sig &gt; 0, sig, 0)<br/>\nsigdn &lt;- ifelse(sig &lt; 0, sig, 0)<br/>\n<br/>\n# Calculate rule returns<br/>\nret_up  &lt;- ret * sigup<br/>\ncolnames(ret_up)  &lt;- 'Long System Return'<br/>\nret_dn  &lt;- ret * sigdn<br/>\ncolnames(ret_dn)  &lt;- 'Short System Return'<br/>\nret_all &lt;- ret * sig<br/>\ncolnames(ret_all) &lt;- 'Total System Return'<br/>\n<br/>\n# Create performance graphs<br/>\npng(filename=”20090606_rsi2_performance.png”, 720, 720)<br/>\ncharts.PerformanceSummary(cbind(ret_up,ret_dn),methods=’none’,<br/>\nmain=’RSI(2) Performance – RSI steps = 5, Size steps = 0.25′)<br/>\ndev.off()<br/>\n<br/>\n# Print trade statistics table<br/>\ncat(‘nRSI(2) Trade Statistics – RSI steps = 5, Size steps = 0.25n’)<br/>\nprint(tradeStats(sig,ret))<br/>\n<br/>\n# Print drawdown table<br/>\ncat(‘nRSI(2) Drawdowns – RSI steps = 5, Size steps = 0.25n’)<br/>\nprint(table.Drawdowns(ret_all, top=10))<br/>\n<br/>\n# Print downside risk table<br/>\ncat(‘nRSI(2) Downside Risk – RSI steps = 5, Size steps = 0.25n’)<br/>\nprint(table.DownsideRisk(ret_all))<br/>\n<br/>\n# Calculate signals with the ‘rsi2pos()’ function<br/>\n# using new RSI and size step values<br/>\nsig &lt;- rsi2pos(rsi, 10, 0.3)<br/>\n<br/>\n# Break out the long (up) and short (dn) signals<br/>\nsigup &lt;- ifelse(sig &gt; 0, sig, 0)<br/>\nsigdn &lt;- ifelse(sig &lt; 0, sig, 0)<br/>\n<br/>\n# Calculate rule returns<br/>\nret_up  &lt;- ret * sigup<br/>\ncolnames(ret_up)  &lt;- 'Long System Return'<br/>\nret_dn  &lt;- ret * sigdn<br/>\ncolnames(ret_dn)  &lt;- 'Short System Return'<br/>\nret_all &lt;- ret * sig<br/>\ncolnames(ret_all) &lt;- 'Total System Return'<br/>\n<br/>\n# Calculate performance statistics<br/>\npng(filename=”20090606_rsi2_performance_updated.png”, 720, 720)<br/>\ncharts.PerformanceSummary(cbind(ret_up,ret_dn),methods=’none’,<br/>\nmain=’RSI(2) Performance – RSI steps = 10, Size steps = 0.30′)<br/>\ndev.off()<br/>\n<br/>\n# Print trade statistics table<br/>\ncat(‘nRSI(2) Trade Statistics – RSI steps = 10, Size steps = 0.30n’)<br/>\nprint(tradeStats(sig,ret))<br/>\n<br/>\n# Print drawdown table<br/>\ncat(‘nRSI(2) Drawdowns – RSI steps = 10, Size steps = 0.30n’)<br/>\nprint(table.Drawdowns(ret_all, top=10))<br/>\n<br/>\n# Print downside risk table<br/>\ncat(‘nRSI(2) Downside Risk – RSI steps = 10, Size steps = 0.30n’)<br/>\nprint(table.DownsideRisk(ret_all))<br/>\n<br/>\n</span></blockquote><div class=\"blogger-post-footer\"><img alt=\"\" class=\"jetpack-lazy-image\" data-lazy-src=\"https://blogger.googleusercontent.com/tracker/5815834906618132494-777935340186875356?l=blog.fosstrading.com&amp;is-pending-load=1\" height=\"1\" src=\"https://blogger.googleusercontent.com/tracker/5815834906618132494-777935340186875356?l=blog.fosstrading.com\" srcset=\"data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7\" width=\"1\"/><noscript><img alt=\"\" height=\"1\" src=\"https://blogger.googleusercontent.com/tracker/5815834906618132494-777935340186875356?l=blog.fosstrading.com\" width=\"1\"/></noscript></div>\n<p><a href=\"https://feedads.g.doubleclick.net/~a/y5Nw4Bevb1_800WcBQI7Ml4cjeE/0/da\" rel=\"nofollow\" target=\"_blank\"><img border=\"0\" class=\"jetpack-lazy-image\" data-lazy-src=\"http://feedads.g.doubleclick.net/~a/y5Nw4Bevb1_800WcBQI7Ml4cjeE/0/di?is-pending-load=1\" ismap=\"true\" src=\"https://feedads.g.doubleclick.net/~a/y5Nw4Bevb1_800WcBQI7Ml4cjeE/0/di\" srcset=\"data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7\"/><noscript><img border=\"0\" ismap=\"true\" src=\"http://feedads.g.doubleclick.net/~a/y5Nw4Bevb1_800WcBQI7Ml4cjeE/0/di\"/></noscript></a><br/>\n<a href=\"https://feedads.g.doubleclick.net/~a/y5Nw4Bevb1_800WcBQI7Ml4cjeE/1/da\" rel=\"nofollow\" target=\"_blank\"><img border=\"0\" class=\"jetpack-lazy-image\" data-lazy-src=\"http://feedads.g.doubleclick.net/~a/y5Nw4Bevb1_800WcBQI7Ml4cjeE/1/di?is-pending-load=1\" ismap=\"true\" src=\"https://feedads.g.doubleclick.net/~a/y5Nw4Bevb1_800WcBQI7Ml4cjeE/1/di\" srcset=\"data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7\"/><noscript><img border=\"0\" ismap=\"true\" src=\"http://feedads.g.doubleclick.net/~a/y5Nw4Bevb1_800WcBQI7Ml4cjeE/1/di\"/></noscript></a></p><div class=\"feedflare\">\n<a href=\"https://feeds.feedburner.com/~ff/FossTrading?a=j81O1GtkBwQ:0Yiycv1fqwg:yIl2AUoC8zA\" rel=\"nofollow\" target=\"_blank\"><img border=\"0\" class=\"jetpack-lazy-image\" data-lazy-src=\"https://feeds.feedburner.com/~ff/FossTrading?d=yIl2AUoC8zA&amp;is-pending-load=1\" src=\"https://feeds.feedburner.com/~ff/FossTrading?d=yIl2AUoC8zA\" srcset=\"data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7\"/><noscript><img border=\"0\" src=\"https://feeds.feedburner.com/~ff/FossTrading?d=yIl2AUoC8zA\"/></noscript></a> <a href=\"https://feeds.feedburner.com/~ff/FossTrading?a=j81O1GtkBwQ:0Yiycv1fqwg:F7zBnMyn0Lo\" rel=\"nofollow\" target=\"_blank\"><img border=\"0\" class=\"jetpack-lazy-image\" data-lazy-src=\"https://feeds.feedburner.com/~ff/FossTrading?i=j81O1GtkBwQ%3A0Yiycv1fqwg%3AF7zBnMyn0Lo&amp;is-pending-load=1\" src=\"https://feeds.feedburner.com/~ff/FossTrading?i=j81O1GtkBwQ:0Yiycv1fqwg:F7zBnMyn0Lo\" srcset=\"data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7\"/><noscript><img border=\"0\" src=\"https://feeds.feedburner.com/~ff/FossTrading?i=j81O1GtkBwQ:0Yiycv1fqwg:F7zBnMyn0Lo\"/></noscript></a> <a href=\"https://feeds.feedburner.com/~ff/FossTrading?a=j81O1GtkBwQ:0Yiycv1fqwg:V_sGLiPBpWU\" rel=\"nofollow\" target=\"_blank\"><img border=\"0\" class=\"jetpack-lazy-image\" data-lazy-src=\"https://feeds.feedburner.com/~ff/FossTrading?i=j81O1GtkBwQ%3A0Yiycv1fqwg%3AV_sGLiPBpWU&amp;is-pending-load=1\" src=\"https://feeds.feedburner.com/~ff/FossTrading?i=j81O1GtkBwQ:0Yiycv1fqwg:V_sGLiPBpWU\" srcset=\"data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7\"/><noscript><img border=\"0\" src=\"https://feeds.feedburner.com/~ff/FossTrading?i=j81O1GtkBwQ:0Yiycv1fqwg:V_sGLiPBpWU\"/></noscript></a> <a href=\"https://feeds.feedburner.com/~ff/FossTrading?a=j81O1GtkBwQ:0Yiycv1fqwg:qj6IDK7rITs\" rel=\"nofollow\" target=\"_blank\"><img border=\"0\" class=\"jetpack-lazy-image\" data-lazy-src=\"https://feeds.feedburner.com/~ff/FossTrading?d=qj6IDK7rITs&amp;is-pending-load=1\" src=\"https://feeds.feedburner.com/~ff/FossTrading?d=qj6IDK7rITs\" srcset=\"data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7\"/><noscript><img border=\"0\" src=\"https://feeds.feedburner.com/~ff/FossTrading?d=qj6IDK7rITs\"/></noscript></a> <a href=\"https://feeds.feedburner.com/~ff/FossTrading?a=j81O1GtkBwQ:0Yiycv1fqwg:I9og5sOYxJI\" rel=\"nofollow\" target=\"_blank\"><img border=\"0\" class=\"jetpack-lazy-image\" data-lazy-src=\"https://feeds.feedburner.com/~ff/FossTrading?d=I9og5sOYxJI&amp;is-pending-load=1\" src=\"https://feeds.feedburner.com/~ff/FossTrading?d=I9og5sOYxJI\" srcset=\"data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7\"/><noscript><img border=\"0\" src=\"https://feeds.feedburner.com/~ff/FossTrading?d=I9og5sOYxJI\"/></noscript></a>\n</div><img class=\"jetpack-lazy-image\" data-lazy-src=\"https://feeds.feedburner.com/~r/FossTrading/~4/j81O1GtkBwQ?is-pending-load=1\" height=\"1\" loading=\"lazy\" src=\"https://feeds.feedburner.com/~r/FossTrading/~4/j81O1GtkBwQ\" srcset=\"data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7\" width=\"1\"/><noscript><img height=\"1\" loading=\"lazy\" src=\"https://feeds.feedburner.com/~r/FossTrading/~4/j81O1GtkBwQ\" width=\"1\"/></noscript>\n\n<div class=\"jp-relatedposts\" id=\"jp-relatedposts\">\n<h3 class=\"jp-relatedposts-headline\"><em>Related</em></h3>\n</div>\n<!-- Share buttons by mashshare.net - Version: 3.8.0-->\n<p class=\"syndicated-attribution\"><div style=\"border: 1px solid; background: none repeat scroll 0 0 #EDEDED; margin: 1px; font-size: 13px;\">\n<div style=\"text-align: center;\">To <strong>leave a comment</strong> for the author, please follow the link and comment on their blog: <strong><a href=\"https://feedproxy.google.com/~r/FossTrading/~3/j81O1GtkBwQ/rsi2-evaluation.html\"> FOSS Trading</a></strong>.</div>\n<hr>\n<a href=\"https://www.r-bloggers.com/\" rel=\"nofollow\">R-bloggers.com</a> offers <strong><a href=\"https://feedburner.google.com/fb/a/mailverify?uri=RBloggers\" rel=\"nofollow\">daily e-mail updates</a></strong> about <a href=\"https://www.r-project.org/\" rel=\"nofollow\" title=\"The R Project for Statistical Computing\">R</a> news and tutorials about <a href=\"https://www.r-bloggers.com/how-to-learn-r-2/\" rel=\"nofollow\" title=\"R tutorials\">learning R</a> and many other topics. <a href=\"https://www.r-users.com/\" rel=\"nofollow\" title=\"Data science jobs\">Click here if you're looking to post or find an R/data-science job</a>.\r\n\r\n<hr/>Want to share your content on R-bloggers?<a href=\"https://www.r-bloggers.com/add-your-blog/\" rel=\"nofollow\"> click here</a> if you have a blog, or <a href=\"http://r-posts.com/\" rel=\"nofollow\"> here</a> if you don't.\r\n</hr></div></p> </div>\n<div class=\"post-tags clearfix\"><ul><li class=\"round-corners\"><a href=\"https://www.r-bloggers.com/tag/code/\" rel=\"tag\">code</a></li><li class=\"round-corners\"><a href=\"https://www.r-bloggers.com/tag/examples/\" rel=\"tag\">Examples</a></li></ul></div></article>",
      "main_text": "RSI(2) Evaluation\nPosted on\nJune 28, 2009\nby\nJoshua Ulrich\nin\nR bloggers\n| 0 Comments\n[This article was first published on\nFOSS Trading\n, and kindly contributed to\nR-bloggers\n].  (You can report issue about the content on this page\nhere\n)\nWant to share your content on R-bloggers?\nclick here\nif you have a blog, or\nhere\nif you don't.\nDespite my best efforts, it’s been a month since the last post of this series.  The\nfirst post\nreplicated this\nsimple RSI(2) strategy\nfrom the\nMarketSci Blog\nusing\nR\n.  The\nsecond post\nshowed how to replicate\nthe strategy\nthat scales in/out of RSI(2).\nThis post will use the\nPerformanceAnalytics\npackage to evaluate the rules that scale in/out of positions. I’ve also provided a simple function that provides some summary statistics. There is a lot of code, so I put it at the end of the post.\nTable 1 contains output from my simple trade summary function (the wins and losses are in percentages, i.e. 0.69 is 69 basis points).  The short side of the rule traded more often and had a lower win rate.  The short side overcame its lower win rate via much higher mean and median win/loss ratios.\nTable 1: RSI(2) Trade Statistics – RSI steps = 5, Size steps = 0.25\nSignal\n# Trades\n% Win\nMean Win\nMean Loss\nMedian Win\nMedian Loss\nMean W/L\nMedian W/L\n-1.00\n133\n58\n0.69\n-0.44\n0.53\n-0.25\n1.55\n2.12\n-0.75\n173\n49\n0.62\n-0.39\n0.37\n-0.25\n1.60\n1.48\n-0.50\n143\n54\n0.43\n-0.36\n0.28\n-0.19\n1.19\n1.51\n-0.25\n158\n56\n0.21\n-0.19\n0.14\n-0.13\n1.15\n1.08\n0.00\n1262\n0\nNaN\nNaN\nNA\nNA\nNaN\nNA\n0.25\n117\n53\n0.26\n-0.31\n0.18\n-0.21\n0.83\n0.86\n0.50\n137\n58\n0.51\n-0.58\n0.31\n-0.35\n0.87\n0.89\n0.75\n143\n62\n0.88\n-0.89\n0.50\n-0.71\n0.99\n0.70\n1.00\n119\n63\n1.34\n-1.41\n0.80\n-1.11\n0.95\n0.71\nTable 2 shows the output from the PerformanceAnalytics table.Drawdowns() function.  The largest percentage drawdown occurred in late 2008, but only lasted a few weeks.\nThe table also shows the system is prone to drawdowns that trough quickly and take months to recover from.  A week of bad trades can take months to recover from.\nTable 2: RSI(2) Drawdowns – RSI steps = 5, Size steps = 0.25\nFrom\nTrough\nTo\nDepth\nLength\nTo Trough\nRecovery\n2008-10-06\n2008-10-10\n2008-10-28\n-0.157\n17\n5\n12\n2001-08-30\n2001-09-21\n2002-01-23\n-0.091\n96\n12\n84\n2002-07-19\n2002-07-23\n2002-08-20\n-0.088\n23\n3\n20\n2000-03-22\n2000-04-14\n2000-07-05\n-0.076\n73\n18\n55\n2009-02-17\n2009-02-23\n2009-04-27\n-0.070\n49\n5\n44\n2003-03-14\n2003-03-21\n2003-05-09\n-0.055\n40\n6\n34\n2000-10-09\n2000-10-12\n2000-12-06\n-0.052\n42\n4\n38\n2002-08-29\n2002-09-24\n2002-10-10\n-0.051\n30\n18\n12\n2008-01-02\n2008-01-22\n2008-03-11\n-0.045\n48\n14\n34\n2001-04-18\n2001-06-18\n2001-08-10\n-0.045\n81\n43\n38\nTable 3 shows the output from the PerformanceAnalytics table.DownsideRisk() function.  The ratio of gain/loss deviation is encouraging.  I have to defer to the PerformanceAnalytics documentation and vingettes to describe the rest of the table.\nTable 3: RSI(2) Downside Risk – RSI steps = 5, Size steps = 0.25\nStatistic\nReturn\nSemi Deviation\n0.0050\nGain Deviation\n0.0094\nLoss Deviation\n0.0076\nDownside Deviation (MAR=10%)\n0.0099\nDownside Deviation (rf=0%)\n0.0092\nDownside Deviation (0%)\n0.0092\nMaximum Drawdown\n-0.1572\nVaR (99%)\n0.0160\nBeyond VaR\n0.0160\nModified VaR (99%)\n0.0705\nThe chart below shows the output from the PerformanceAnalytics charts.PerformanceSummary() function.  It shows the equity curves and drawdown from peak for the long and short sides of the strategy.  The middle graph shows the *daily* returns for the combined strategy.\nThe code below has everything that created the results above.  It also contains the same results for a modified RSI(2) strategy.  The modified strategy uses RSI steps of 10 and sizing steps of 0.3 (i.e. RSI<10 -> size=1, 10\n<20 -> size=0.7, etc.).\n# Attach packages.  You can install packages via:\n# install.packages(c(“quantmod”,”TTR”,”PerformanceAnalytics”))\nlibrary(quantmod)\nlibrary(TTR)\nlibrary(PerformanceAnalytics)\n# Pull S&P500 index data from Yahoo! Finance\ngetSymbols(“^GSPC”, from=”2000-01-01″)\n# Calculate the RSI indicator\nrsi <- RSI(Cl(GSPC), 2)\n# Calculate Close-to-Close returns\nret <- ROC(Cl(GSPC))\nret[1] <- 0\n# This function gives us some standard summary\n# statistics for our trades.\ntradeStats <- function(signals, returns) {\n# Inputs:\n# signals : trading signals\n# returns : returns corresponding to signals\n# Combine data and convert to data.frame\nsysRet <- signals * returns * 100\nposRet <- sysRet > 0          # Positive rule returns\nnegRet <- sysRet < 0          # Negative rule returns\ndat <- cbind(signals,posRet*100,sysRet[posRet],sysRet[negRet],1)\ndat <- as.data.frame(dat)\n# Aggreate data for summary statistics\nmeans   <- aggregate(dat[,2:4], by=list(dat[,1]), mean, na.rm=TRUE)\nmedians <- aggregate(dat[,3:4], by=list(dat[,1]), median, na.rm=TRUE)\nsums    <- aggregate(dat[,5],   by=list(dat[,1]), sum)\ncolnames(means)   <- c(\"Signal\",\"% Win\",\"Mean Win\",\"Mean Loss\")\ncolnames(medians) <- c(\"Signal\",\"Median Win\",\"Median Loss\")\ncolnames(sums)    <- c(\"Signal\",\"# Trades\")\nall <- merge(sums,means)\nall <- merge(all,medians)\nwl <- cbind( abs(all[,\"Mean Win\"]/all[,\"Mean Loss\"]),\nabs(all[,”Median Win”]/all[,”Median Loss”]) )\ncolnames(wl) <- c(\"Mean W/L\",\"Median W/L\")\nall <- cbind(all,wl)\nreturn(all)\n}\n# This function determines position size and\n# enables us to test several ideas with much\n# greater speed and flexibility.\nrsi2pos <- function(ind, indIncr=5, posIncr=0.25) {\n# Inputs:\n# ind     : indicator vector\n# indIncr : indicator value increments/breakpoints\n# posIncr : position value increments/breakpoints\n# Initialize result vector\nsize <- rep(0,NROW(ind))\n# Long\nsize <- ifelse(ind < 4*indIncr, (1-posIncr*3), size)\nsize <- ifelse(ind < 3*indIncr, (1-posIncr*2), size)\nsize <- ifelse(ind < 2*indIncr, (1-posIncr*1), size)\nsize <- ifelse(ind < 1*indIncr, (1-posIncr*0), size)\n# Short\nsize <- ifelse(ind > 100-4*indIncr, 3*posIncr-1, size)\nsize <- ifelse(ind > 100-3*indIncr, 2*posIncr-1, size)\nsize <- ifelse(ind > 100-2*indIncr, 1*posIncr-1, size)\nsize <- ifelse(ind > 100-1*indIncr, 0*posIncr-1, size)\n# Today’s position (‘size’) is based on today’s\n# indicator, but we need to apply today’s position\n# to the Close-to-Close return at tomorrow’s close.\nsize <- lag(size)\n# Replace missing signals with no position\n# (generally just at beginning of series)\nsize[is.na(size)] <- 0\n# Return results\nreturn(size)\n}\n# Calculate signals with the ‘rsi2pos()’ function,\n# using 5 as the RSI step: 5, 10, 15, 20, 80, 85, 90, 95\n# and 0.25 as the size step: 0.25, 0.50, 0.75, 1.00\nsig <- rsi2pos(rsi, 5, 0.25)\n# Break out the long (up) and short (dn) signals\nsigup <- ifelse(sig > 0, sig, 0)\nsigdn <- ifelse(sig < 0, sig, 0)\n# Calculate rule returns\nret_up  <- ret * sigup\ncolnames(ret_up)  <- 'Long System Return'\nret_dn  <- ret * sigdn\ncolnames(ret_dn)  <- 'Short System Return'\nret_all <- ret * sig\ncolnames(ret_all) <- 'Total System Return'\n# Create performance graphs\npng(filename=”20090606_rsi2_performance.png”, 720, 720)\ncharts.PerformanceSummary(cbind(ret_up,ret_dn),methods=’none’,\nmain=’RSI(2) Performance – RSI steps = 5, Size steps = 0.25′)\ndev.off()\n# Print trade statistics table\ncat(‘nRSI(2) Trade Statistics – RSI steps = 5, Size steps = 0.25n’)\nprint(tradeStats(sig,ret))\n# Print drawdown table\ncat(‘nRSI(2) Drawdowns – RSI steps = 5, Size steps = 0.25n’)\nprint(table.Drawdowns(ret_all, top=10))\n# Print downside risk table\ncat(‘nRSI(2) Downside Risk – RSI steps = 5, Size steps = 0.25n’)\nprint(table.DownsideRisk(ret_all))\n# Calculate signals with the ‘rsi2pos()’ function\n# using new RSI and size step values\nsig <- rsi2pos(rsi, 10, 0.3)\n# Break out the long (up) and short (dn) signals\nsigup <- ifelse(sig > 0, sig, 0)\nsigdn <- ifelse(sig < 0, sig, 0)\n# Calculate rule returns\nret_up  <- ret * sigup\ncolnames(ret_up)  <- 'Long System Return'\nret_dn  <- ret * sigdn\ncolnames(ret_dn)  <- 'Short System Return'\nret_all <- ret * sig\ncolnames(ret_all) <- 'Total System Return'\n# Calculate performance statistics\npng(filename=”20090606_rsi2_performance_updated.png”, 720, 720)\ncharts.PerformanceSummary(cbind(ret_up,ret_dn),methods=’none’,\nmain=’RSI(2) Performance – RSI steps = 10, Size steps = 0.30′)\ndev.off()\n# Print trade statistics table\ncat(‘nRSI(2) Trade Statistics – RSI steps = 10, Size steps = 0.30n’)\nprint(tradeStats(sig,ret))\n# Print drawdown table\ncat(‘nRSI(2) Drawdowns – RSI steps = 10, Size steps = 0.30n’)\nprint(table.Drawdowns(ret_all, top=10))\n# Print downside risk table\ncat(‘nRSI(2) Downside Risk – RSI steps = 10, Size steps = 0.30n’)\nprint(table.DownsideRisk(ret_all))\nRelated\nTo\nleave a comment\nfor the author, please follow the link and comment on their blog:\nFOSS Trading\n.\nR-bloggers.com\noffers\ndaily e-mail updates\nabout\nR\nnews and tutorials about\nlearning R\nand many other topics.\nClick here if you're looking to post or find an R/data-science job\n.\nWant to share your content on R-bloggers?\nclick here\nif you have a blog, or\nhere\nif you don't.\ncode\nExamples",
      "meta_description": "Despite my best efforts, it's been a month since the last post of this series. The first post replicated this simple RSI(2) strategy from the MarketSci Blog using R. The second post showed how to replicate the strategy that scales in/out of RSI(2). ...",
      "meta_keywords": "code,examples",
      "og_description": "Despite my best efforts, it's been a month since the last post of this series. The first post replicated this simple RSI(2) strategy from the MarketSci Blog using R. The second post showed how to replicate the strategy that scales in/out of RSI(2). ...",
      "og_image": "https://www.r-bloggers.com/wp-content/uploads/2009/06/20090606_rsi2_performance3.png",
      "og_title": "RSI(2) Evaluation | R-bloggers",
      "raw_jsonld_article": null,
      "reading_time_min": 7.9,
      "sitemap_lastmod": "2011-05-11T21:16:35+00:00",
      "twitter_description": "Despite my best efforts, it's been a month since the last post of this series. The first post replicated this simple RSI(2) strategy from the MarketSci Blog using R. The second post showed how to replicate the strategy that scales in/out of RSI(2). ...",
      "twitter_title": "RSI(2) Evaluation | R-bloggers",
      "url": "https://www.r-bloggers.com/2009/06/rsi2-evaluation/",
      "word_count": 1586
    }
  }
}