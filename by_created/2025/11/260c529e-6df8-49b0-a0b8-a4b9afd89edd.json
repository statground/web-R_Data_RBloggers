{
  "uuid": "260c529e-6df8-49b0-a0b8-a4b9afd89edd",
  "created_at": "2025-11-17 20:41:02",
  "raw_json": {
    "article_author": null,
    "article_headline": null,
    "article_modified": null,
    "article_published": null,
    "article_section": null,
    "article_tags": null,
    "canonical_url": "https://www.r-bloggers.com/2009/04/testing-rsi2-with-r-first-steps/",
    "crawled_at": "2025-11-17T10:40:13.968363",
    "external_links": [
      {
        "href": "https://feedproxy.google.com/~r/FossTrading/~3/gLJ3QL8_Ar8/testing-rsi2-with-r.html",
        "text": "FOSS Trading"
      },
      {
        "href": "http://r-posts.com/",
        "text": "here"
      },
      {
        "href": "https://www.r-project.org/",
        "text": "R"
      },
      {
        "href": "http://marketsci.wordpress.com/",
        "text": "MarketSci Blog"
      },
      {
        "href": "http://marketsci.wordpress.com/2008/12/09/trading-with-rsi2/",
        "text": "this simple RSI(2) strategy"
      },
      {
        "href": "https://i1.wp.com/www.r-bloggers.com/wp-content/uploads/2009/04/20090413_rsi2_long_short2.png",
        "text": null
      },
      {
        "href": "https://feedads.g.doubleclick.net/~a/gn3NVGJFTEb6b9AerS2tmNkGa1U/0/da",
        "text": null
      },
      {
        "href": "https://feedads.g.doubleclick.net/~a/gn3NVGJFTEb6b9AerS2tmNkGa1U/1/da",
        "text": null
      },
      {
        "href": "https://feeds.feedburner.com/~ff/FossTrading?a=gLJ3QL8_Ar8:rruftCb0vGI:yIl2AUoC8zA",
        "text": null
      },
      {
        "href": "https://feeds.feedburner.com/~ff/FossTrading?a=gLJ3QL8_Ar8:rruftCb0vGI:F7zBnMyn0Lo",
        "text": null
      },
      {
        "href": "https://feeds.feedburner.com/~ff/FossTrading?a=gLJ3QL8_Ar8:rruftCb0vGI:V_sGLiPBpWU",
        "text": null
      },
      {
        "href": "https://feeds.feedburner.com/~ff/FossTrading?a=gLJ3QL8_Ar8:rruftCb0vGI:qj6IDK7rITs",
        "text": null
      },
      {
        "href": "https://feeds.feedburner.com/~ff/FossTrading?a=gLJ3QL8_Ar8:rruftCb0vGI:I9og5sOYxJI",
        "text": null
      },
      {
        "href": "https://feedproxy.google.com/~r/FossTrading/~3/gLJ3QL8_Ar8/testing-rsi2-with-r.html",
        "text": "FOSS Trading"
      },
      {
        "href": "https://feedburner.google.com/fb/a/mailverify?uri=RBloggers",
        "text": "daily e-mail updates"
      },
      {
        "href": "https://www.r-project.org/",
        "text": "R"
      },
      {
        "href": "https://www.r-users.com/",
        "text": "Click here if you're looking to post or find an R/data-science job"
      },
      {
        "href": "http://r-posts.com/",
        "text": "here"
      }
    ],
    "h1_title": "R-bloggers",
    "html_title": "Testing RSI(2) with R, First Steps | R-bloggers",
    "images": [
      {
        "alt": null,
        "base64": null,
        "src": "https://i0.wp.com/www.r-bloggers.com/wp-content/uploads/2009/04/20090413_rsi2_long_short3.png?w=578"
      },
      {
        "alt": null,
        "base64": null,
        "src": "https://i0.wp.com/www.r-bloggers.com/wp-content/uploads/2009/04/20090413_rsi2_long_short3.png?w=578"
      },
      {
        "alt": null,
        "base64": null,
        "src": "https://blogger.googleusercontent.com/tracker/5815834906618132494-5363003943111435813?l=blog.fosstrading.com"
      },
      {
        "alt": null,
        "base64": null,
        "src": "https://blogger.googleusercontent.com/tracker/5815834906618132494-5363003943111435813?l=blog.fosstrading.com"
      },
      {
        "alt": null,
        "base64": null,
        "src": "https://feedads.g.doubleclick.net/~a/gn3NVGJFTEb6b9AerS2tmNkGa1U/0/di"
      },
      {
        "alt": null,
        "base64": null,
        "src": "http://feedads.g.doubleclick.net/~a/gn3NVGJFTEb6b9AerS2tmNkGa1U/0/di"
      },
      {
        "alt": null,
        "base64": null,
        "src": "https://feedads.g.doubleclick.net/~a/gn3NVGJFTEb6b9AerS2tmNkGa1U/1/di"
      },
      {
        "alt": null,
        "base64": null,
        "src": "http://feedads.g.doubleclick.net/~a/gn3NVGJFTEb6b9AerS2tmNkGa1U/1/di"
      },
      {
        "alt": null,
        "base64": null,
        "src": "https://feeds.feedburner.com/~ff/FossTrading?d=yIl2AUoC8zA"
      },
      {
        "alt": null,
        "base64": null,
        "src": "https://feeds.feedburner.com/~ff/FossTrading?d=yIl2AUoC8zA"
      },
      {
        "alt": null,
        "base64": null,
        "src": "https://feeds.feedburner.com/~ff/FossTrading?i=gLJ3QL8_Ar8:rruftCb0vGI:F7zBnMyn0Lo"
      },
      {
        "alt": null,
        "base64": null,
        "src": "https://feeds.feedburner.com/~ff/FossTrading?i=gLJ3QL8_Ar8:rruftCb0vGI:F7zBnMyn0Lo"
      },
      {
        "alt": null,
        "base64": null,
        "src": "https://feeds.feedburner.com/~ff/FossTrading?i=gLJ3QL8_Ar8:rruftCb0vGI:V_sGLiPBpWU"
      },
      {
        "alt": null,
        "base64": null,
        "src": "https://feeds.feedburner.com/~ff/FossTrading?i=gLJ3QL8_Ar8:rruftCb0vGI:V_sGLiPBpWU"
      },
      {
        "alt": null,
        "base64": null,
        "src": "https://feeds.feedburner.com/~ff/FossTrading?d=qj6IDK7rITs"
      },
      {
        "alt": null,
        "base64": null,
        "src": "https://feeds.feedburner.com/~ff/FossTrading?d=qj6IDK7rITs"
      },
      {
        "alt": null,
        "base64": null,
        "src": "https://feeds.feedburner.com/~ff/FossTrading?d=I9og5sOYxJI"
      },
      {
        "alt": null,
        "base64": null,
        "src": "https://feeds.feedburner.com/~ff/FossTrading?d=I9og5sOYxJI"
      },
      {
        "alt": null,
        "base64": null,
        "src": "https://feeds.feedburner.com/~r/FossTrading/~4/gLJ3QL8_Ar8"
      },
      {
        "alt": null,
        "base64": null,
        "src": "https://feeds.feedburner.com/~r/FossTrading/~4/gLJ3QL8_Ar8"
      }
    ],
    "internal_links": [
      {
        "href": "https://www.r-bloggers.com/author/joshua-ulrich/",
        "text": "Joshua Ulrich"
      },
      {
        "href": "https://www.r-bloggers.com/category/r-bloggers/",
        "text": "R bloggers"
      },
      {
        "href": "https://www.r-bloggers.com/",
        "text": "R-bloggers"
      },
      {
        "href": "https://www.r-bloggers.com/contact-us/",
        "text": "here"
      },
      {
        "href": "https://www.r-bloggers.com/add-your-blog/",
        "text": "click here"
      },
      {
        "href": "https://www.r-bloggers.com/",
        "text": "R-bloggers.com"
      },
      {
        "href": "https://www.r-bloggers.com/how-to-learn-r-2/",
        "text": "learning R"
      },
      {
        "href": "https://www.r-bloggers.com/add-your-blog/",
        "text": "click here"
      },
      {
        "href": "https://www.r-bloggers.com/tag/code/",
        "text": "code"
      },
      {
        "href": "https://www.r-bloggers.com/tag/examples/",
        "text": "Examples"
      }
    ],
    "lang": "en-US",
    "main_html": "<article class=\"post-488 post type-post status-publish format-standard hentry category-r-bloggers tag-code tag-examples\">\n<header class=\"post-header\">\n<h1 class=\"entry-title\">Testing RSI(2) with R, First Steps</h1>\n<p class=\"meta post-meta\">Posted on <span class=\"updated\">April 13, 2009</span>  by <span class=\"vcard author\"><a class=\"fn\" href=\"https://www.r-bloggers.com/author/joshua-ulrich/\">Joshua Ulrich</a></span>  in <a href=\"https://www.r-bloggers.com/category/r-bloggers/\" rel=\"category tag\">R bloggers</a> | 0 Comments</p>\n</header>\n<div class=\"entry clearfix\">\n<p class=\"syndicated-attribution\"><!-- \r\n<div style=\"min-height: 30px;\">\r\n[social4i size=\"small\" align=\"align-left\"]\r\n</div>\r\n-->\n<div style=\"border: 1px solid; background: none repeat scroll 0 0 #EDEDED; margin: 1px; font-size: 12px;\">\r\n[This article was first published on  <strong><a href=\"https://feedproxy.google.com/~r/FossTrading/~3/gLJ3QL8_Ar8/testing-rsi2-with-r.html\"> FOSS Trading</a></strong>, and kindly contributed to <a href=\"https://www.r-bloggers.com/\" rel=\"nofollow\">R-bloggers</a>].  (You can report issue about the content on this page <a href=\"https://www.r-bloggers.com/contact-us/\">here</a>)\r\n<hr/>Want to share your content on R-bloggers?<a href=\"https://www.r-bloggers.com/add-your-blog/\" rel=\"nofollow\"> click here</a> if you have a blog, or <a href=\"http://r-posts.com/\" rel=\"nofollow\"> here</a> if you don't.\r\n</div></p>\n\n<!-- Share buttons by mashshare.net - Version: 3.8.0-->This is the first of a series of posts that will demonstrate how to build, test, and implement a trading strategy using my favorite FOSS, <a href=\"https://www.r-project.org/\" rel=\"nofollow\" target=\"_blank\">R</a>.  I chose the RSI(2) strategy because it has gotten considerable attention on trading blogs over the past 6 months.<br/><br/>In particular, I will be replicating and extending some of the results from Michael Stokes’ excellent <a href=\"http://marketsci.wordpress.com/\" rel=\"nofollow\" target=\"_blank\">MarketSci Blog</a>.  This post will focus on replicating <a href=\"http://marketsci.wordpress.com/2008/12/09/trading-with-rsi2/\" rel=\"nofollow\" target=\"_blank\">this simple RSI(2) strategy</a>.<br/><br/>Without further ado, let’s get to some code…<br/><blockquote style=\"font-family:courier new;\"><span style=\"font-size:85%;\"># We will need the quantmod package for charting and pulling<br/># data and the TTR package to calculate RSI(2).<br/># You can install packages via: install.packages(“packageName”)<br/># install.packages(c(“quantmod”,”TTR”))<br/>library(quantmod)<br/>library(TTR)<br/><br/># Pull S&amp;P500 index data from Yahoo! Finance<br/>getSymbols(“^GSPC”, from=”2000-01-01″, to=”2008-12-07″)<br/><br/># Calculate the RSI indicator<br/>rsi &lt;- RSI(Cl(GSPC),2)<br/><br/># Create the long (up) and short (dn) signals<br/>sigup &lt;- ifelse(rsi &lt; 10, 1, 0)<br/>sigdn &lt;- ifelse(rsi &gt; 90, -1, 0)<br/><br/># Lag signals to align with days in market,<br/># not days signals were generated<br/>#sigup &lt;- Lag(sigup,1)  # Use lag() to avoid Toby's error<br/>#sigdn &lt;- Lag(sigdn,1)  # Use lag() to avoid Toby's error<br/>sigup &lt;- lag(sigup,1)  # Note k=1 implies a move *forward*<br/>sigdn &lt;- lag(sigdn,1)  # Note k=1 implies a move *forward*<br/><br/># Replace missing signals with no position<br/># (generally just at beginning of series)<br/>sigup[is.na(sigup)] &lt;- 0<br/>sigdn[is.na(sigdn)] &lt;- 0<br/><br/># Combine both signals into one vector<br/>sig &lt;- sigup + sigdn<br/><br/># Calculate Close-to-Close returns<br/>ret &lt;- ROC(Cl(GSPC))<br/>ret[1] &lt;- 0<br/><br/># Calculate equity curves<br/>eq_up &lt;- cumprod(1+ret*sigup)<br/>eq_dn &lt;- cumprod(1+ret*sigdn*-1)<br/>eq_all &lt;- cumprod(1+ret*sig)<br/><br/># Replicate Michael’s nice chart<br/>plot.zoo( cbind(eq_up, eq_dn),<br/>ylab=c(“Long”,”Short”), col=c(“green”,”red”),<br/>main=”Simple RSI(2) Strategy: 2000-01-02 through 2008-12-07″ )<br/><br/># Wait a few seconds before making next chart…<br/>#Sys.sleep(5)<br/><br/># Create a chart showing the S&amp;P500<br/>#chartSeries(GSPC, type=”line”)<br/><br/># Add the total equity line<br/>#addTA(eq_all)<br/></span></blockquote>My version of Michael’s chart is below.  Up next, scaling in/out of positions with RSI(2).<br/><br/><a data-cf-modified-db5f2f112e52c907eb83f8f8-=\"\" href=\"https://i1.wp.com/www.r-bloggers.com/wp-content/uploads/2009/04/20090413_rsi2_long_short2.png\" onblur=\"if (!window.__cfRLUnblockHandlers) return false; try {parent.deselectBloggerImageGracefully();} catch(e) {}\" rel=\"nofollow\" target=\"_blank\"><img alt=\"\" border=\"0\" class=\"jetpack-lazy-image\" data-lazy-src=\"https://i0.wp.com/www.r-bloggers.com/wp-content/uploads/2009/04/20090413_rsi2_long_short3.png?w=578&amp;is-pending-load=1\" data-recalc-dims=\"1\" id=\"BLOGGER_PHOTO_ID_5324402675759879026\" src=\"https://i0.wp.com/www.r-bloggers.com/wp-content/uploads/2009/04/20090413_rsi2_long_short3.png?w=578\" srcset=\"data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7\" style=\"margin: 0px auto 10px; display: block; text-align: center; cursor: pointer; width: 400px; height: 400px;\"/><noscript><img alt=\"\" border=\"0\" data-recalc-dims=\"1\" id=\"BLOGGER_PHOTO_ID_5324402675759879026\" src=\"https://i0.wp.com/www.r-bloggers.com/wp-content/uploads/2009/04/20090413_rsi2_long_short3.png?w=578\" style=\"margin: 0px auto 10px; display: block; text-align: center; cursor: pointer; width: 400px; height: 400px;\"/></noscript></a><div class=\"blogger-post-footer\"><img alt=\"\" class=\"jetpack-lazy-image\" data-lazy-src=\"https://blogger.googleusercontent.com/tracker/5815834906618132494-5363003943111435813?l=blog.fosstrading.com&amp;is-pending-load=1\" height=\"1\" src=\"https://blogger.googleusercontent.com/tracker/5815834906618132494-5363003943111435813?l=blog.fosstrading.com\" srcset=\"data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7\" width=\"1\"/><noscript><img alt=\"\" height=\"1\" src=\"https://blogger.googleusercontent.com/tracker/5815834906618132494-5363003943111435813?l=blog.fosstrading.com\" width=\"1\"/></noscript></div>\n<p><a href=\"https://feedads.g.doubleclick.net/~a/gn3NVGJFTEb6b9AerS2tmNkGa1U/0/da\" rel=\"nofollow\" target=\"_blank\"><img border=\"0\" class=\"jetpack-lazy-image\" data-lazy-src=\"http://feedads.g.doubleclick.net/~a/gn3NVGJFTEb6b9AerS2tmNkGa1U/0/di?is-pending-load=1\" ismap=\"true\" src=\"https://feedads.g.doubleclick.net/~a/gn3NVGJFTEb6b9AerS2tmNkGa1U/0/di\" srcset=\"data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7\"/><noscript><img border=\"0\" ismap=\"true\" src=\"http://feedads.g.doubleclick.net/~a/gn3NVGJFTEb6b9AerS2tmNkGa1U/0/di\"/></noscript></a><br/>\n<a href=\"https://feedads.g.doubleclick.net/~a/gn3NVGJFTEb6b9AerS2tmNkGa1U/1/da\" rel=\"nofollow\" target=\"_blank\"><img border=\"0\" class=\"jetpack-lazy-image\" data-lazy-src=\"http://feedads.g.doubleclick.net/~a/gn3NVGJFTEb6b9AerS2tmNkGa1U/1/di?is-pending-load=1\" ismap=\"true\" src=\"https://feedads.g.doubleclick.net/~a/gn3NVGJFTEb6b9AerS2tmNkGa1U/1/di\" srcset=\"data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7\"/><noscript><img border=\"0\" ismap=\"true\" src=\"http://feedads.g.doubleclick.net/~a/gn3NVGJFTEb6b9AerS2tmNkGa1U/1/di\"/></noscript></a></p><div class=\"feedflare\">\n<a href=\"https://feeds.feedburner.com/~ff/FossTrading?a=gLJ3QL8_Ar8:rruftCb0vGI:yIl2AUoC8zA\" rel=\"nofollow\" target=\"_blank\"><img border=\"0\" class=\"jetpack-lazy-image\" data-lazy-src=\"https://feeds.feedburner.com/~ff/FossTrading?d=yIl2AUoC8zA&amp;is-pending-load=1\" src=\"https://feeds.feedburner.com/~ff/FossTrading?d=yIl2AUoC8zA\" srcset=\"data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7\"/><noscript><img border=\"0\" src=\"https://feeds.feedburner.com/~ff/FossTrading?d=yIl2AUoC8zA\"/></noscript></a> <a href=\"https://feeds.feedburner.com/~ff/FossTrading?a=gLJ3QL8_Ar8:rruftCb0vGI:F7zBnMyn0Lo\" rel=\"nofollow\" target=\"_blank\"><img border=\"0\" class=\"jetpack-lazy-image\" data-lazy-src=\"https://feeds.feedburner.com/~ff/FossTrading?i=gLJ3QL8_Ar8%3ArruftCb0vGI%3AF7zBnMyn0Lo&amp;is-pending-load=1\" src=\"https://feeds.feedburner.com/~ff/FossTrading?i=gLJ3QL8_Ar8:rruftCb0vGI:F7zBnMyn0Lo\" srcset=\"data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7\"/><noscript><img border=\"0\" src=\"https://feeds.feedburner.com/~ff/FossTrading?i=gLJ3QL8_Ar8:rruftCb0vGI:F7zBnMyn0Lo\"/></noscript></a> <a href=\"https://feeds.feedburner.com/~ff/FossTrading?a=gLJ3QL8_Ar8:rruftCb0vGI:V_sGLiPBpWU\" rel=\"nofollow\" target=\"_blank\"><img border=\"0\" class=\"jetpack-lazy-image\" data-lazy-src=\"https://feeds.feedburner.com/~ff/FossTrading?i=gLJ3QL8_Ar8%3ArruftCb0vGI%3AV_sGLiPBpWU&amp;is-pending-load=1\" src=\"https://feeds.feedburner.com/~ff/FossTrading?i=gLJ3QL8_Ar8:rruftCb0vGI:V_sGLiPBpWU\" srcset=\"data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7\"/><noscript><img border=\"0\" src=\"https://feeds.feedburner.com/~ff/FossTrading?i=gLJ3QL8_Ar8:rruftCb0vGI:V_sGLiPBpWU\"/></noscript></a> <a href=\"https://feeds.feedburner.com/~ff/FossTrading?a=gLJ3QL8_Ar8:rruftCb0vGI:qj6IDK7rITs\" rel=\"nofollow\" target=\"_blank\"><img border=\"0\" class=\"jetpack-lazy-image\" data-lazy-src=\"https://feeds.feedburner.com/~ff/FossTrading?d=qj6IDK7rITs&amp;is-pending-load=1\" src=\"https://feeds.feedburner.com/~ff/FossTrading?d=qj6IDK7rITs\" srcset=\"data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7\"/><noscript><img border=\"0\" src=\"https://feeds.feedburner.com/~ff/FossTrading?d=qj6IDK7rITs\"/></noscript></a> <a href=\"https://feeds.feedburner.com/~ff/FossTrading?a=gLJ3QL8_Ar8:rruftCb0vGI:I9og5sOYxJI\" rel=\"nofollow\" target=\"_blank\"><img border=\"0\" class=\"jetpack-lazy-image\" data-lazy-src=\"https://feeds.feedburner.com/~ff/FossTrading?d=I9og5sOYxJI&amp;is-pending-load=1\" src=\"https://feeds.feedburner.com/~ff/FossTrading?d=I9og5sOYxJI\" srcset=\"data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7\"/><noscript><img border=\"0\" src=\"https://feeds.feedburner.com/~ff/FossTrading?d=I9og5sOYxJI\"/></noscript></a>\n</div><img class=\"jetpack-lazy-image\" data-lazy-src=\"https://feeds.feedburner.com/~r/FossTrading/~4/gLJ3QL8_Ar8?is-pending-load=1\" height=\"1\" loading=\"lazy\" src=\"https://feeds.feedburner.com/~r/FossTrading/~4/gLJ3QL8_Ar8\" srcset=\"data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7\" width=\"1\"/><noscript><img height=\"1\" loading=\"lazy\" src=\"https://feeds.feedburner.com/~r/FossTrading/~4/gLJ3QL8_Ar8\" width=\"1\"/></noscript>\n\n<div class=\"jp-relatedposts\" id=\"jp-relatedposts\">\n<h3 class=\"jp-relatedposts-headline\"><em>Related</em></h3>\n</div>\n<!-- Share buttons by mashshare.net - Version: 3.8.0-->\n<p class=\"syndicated-attribution\"><div style=\"border: 1px solid; background: none repeat scroll 0 0 #EDEDED; margin: 1px; font-size: 13px;\">\n<div style=\"text-align: center;\">To <strong>leave a comment</strong> for the author, please follow the link and comment on their blog: <strong><a href=\"https://feedproxy.google.com/~r/FossTrading/~3/gLJ3QL8_Ar8/testing-rsi2-with-r.html\"> FOSS Trading</a></strong>.</div>\n<hr>\n<a href=\"https://www.r-bloggers.com/\" rel=\"nofollow\">R-bloggers.com</a> offers <strong><a href=\"https://feedburner.google.com/fb/a/mailverify?uri=RBloggers\" rel=\"nofollow\">daily e-mail updates</a></strong> about <a href=\"https://www.r-project.org/\" rel=\"nofollow\" title=\"The R Project for Statistical Computing\">R</a> news and tutorials about <a href=\"https://www.r-bloggers.com/how-to-learn-r-2/\" rel=\"nofollow\" title=\"R tutorials\">learning R</a> and many other topics. <a href=\"https://www.r-users.com/\" rel=\"nofollow\" title=\"Data science jobs\">Click here if you're looking to post or find an R/data-science job</a>.\r\n\r\n<hr/>Want to share your content on R-bloggers?<a href=\"https://www.r-bloggers.com/add-your-blog/\" rel=\"nofollow\"> click here</a> if you have a blog, or <a href=\"http://r-posts.com/\" rel=\"nofollow\"> here</a> if you don't.\r\n</hr></div></p> </div>\n<div class=\"post-tags clearfix\"><ul><li class=\"round-corners\"><a href=\"https://www.r-bloggers.com/tag/code/\" rel=\"tag\">code</a></li><li class=\"round-corners\"><a href=\"https://www.r-bloggers.com/tag/examples/\" rel=\"tag\">Examples</a></li></ul></div></article>",
    "main_text": "Testing RSI(2) with R, First Steps\nPosted on\nApril 13, 2009\nby\nJoshua Ulrich\nin\nR bloggers\n| 0 Comments\n[This article was first published on\nFOSS Trading\n, and kindly contributed to\nR-bloggers\n].  (You can report issue about the content on this page\nhere\n)\nWant to share your content on R-bloggers?\nclick here\nif you have a blog, or\nhere\nif you don't.\nThis is the first of a series of posts that will demonstrate how to build, test, and implement a trading strategy using my favorite FOSS,\nR\n.  I chose the RSI(2) strategy because it has gotten considerable attention on trading blogs over the past 6 months.\nIn particular, I will be replicating and extending some of the results from Michael Stokes’ excellent\nMarketSci Blog\n.  This post will focus on replicating\nthis simple RSI(2) strategy\n.\nWithout further ado, let’s get to some code…\n# We will need the quantmod package for charting and pulling\n# data and the TTR package to calculate RSI(2).\n# You can install packages via: install.packages(“packageName”)\n# install.packages(c(“quantmod”,”TTR”))\nlibrary(quantmod)\nlibrary(TTR)\n# Pull S&P500 index data from Yahoo! Finance\ngetSymbols(“^GSPC”, from=”2000-01-01″, to=”2008-12-07″)\n# Calculate the RSI indicator\nrsi <- RSI(Cl(GSPC),2)\n# Create the long (up) and short (dn) signals\nsigup <- ifelse(rsi < 10, 1, 0)\nsigdn <- ifelse(rsi > 90, -1, 0)\n# Lag signals to align with days in market,\n# not days signals were generated\n#sigup <- Lag(sigup,1)  # Use lag() to avoid Toby's error\n#sigdn <- Lag(sigdn,1)  # Use lag() to avoid Toby's error\nsigup <- lag(sigup,1)  # Note k=1 implies a move *forward*\nsigdn <- lag(sigdn,1)  # Note k=1 implies a move *forward*\n# Replace missing signals with no position\n# (generally just at beginning of series)\nsigup[is.na(sigup)] <- 0\nsigdn[is.na(sigdn)] <- 0\n# Combine both signals into one vector\nsig <- sigup + sigdn\n# Calculate Close-to-Close returns\nret <- ROC(Cl(GSPC))\nret[1] <- 0\n# Calculate equity curves\neq_up <- cumprod(1+ret*sigup)\neq_dn <- cumprod(1+ret*sigdn*-1)\neq_all <- cumprod(1+ret*sig)\n# Replicate Michael’s nice chart\nplot.zoo( cbind(eq_up, eq_dn),\nylab=c(“Long”,”Short”), col=c(“green”,”red”),\nmain=”Simple RSI(2) Strategy: 2000-01-02 through 2008-12-07″ )\n# Wait a few seconds before making next chart…\n#Sys.sleep(5)\n# Create a chart showing the S&P500\n#chartSeries(GSPC, type=”line”)\n# Add the total equity line\n#addTA(eq_all)\nMy version of Michael’s chart is below.  Up next, scaling in/out of positions with RSI(2).\nRelated\nTo\nleave a comment\nfor the author, please follow the link and comment on their blog:\nFOSS Trading\n.\nR-bloggers.com\noffers\ndaily e-mail updates\nabout\nR\nnews and tutorials about\nlearning R\nand many other topics.\nClick here if you're looking to post or find an R/data-science job\n.\nWant to share your content on R-bloggers?\nclick here\nif you have a blog, or\nhere\nif you don't.\ncode\nExamples",
    "meta_description": "This is the first of a series of posts that will demonstrate how to build, test, and implement a trading strategy using my favorite FOSS, R. I chose the RSI(2) strategy because it has gotten considerable attention on trading blogs over the past 6 mont...",
    "meta_keywords": "code,examples",
    "og_description": "This is the first of a series of posts that will demonstrate how to build, test, and implement a trading strategy using my favorite FOSS, R. I chose the RSI(2) strategy because it has gotten considerable attention on trading blogs over the past 6 mont...",
    "og_image": "https://www.r-bloggers.com/wp-content/uploads/2009/04/20090413_rsi2_long_short3.png",
    "og_title": "Testing RSI(2) with R, First Steps | R-bloggers",
    "raw_jsonld_article": null,
    "reading_time_min": 2.5,
    "sitemap_lastmod": "2011-05-11T21:14:32+00:00",
    "twitter_description": "This is the first of a series of posts that will demonstrate how to build, test, and implement a trading strategy using my favorite FOSS, R. I chose the RSI(2) strategy because it has gotten considerable attention on trading blogs over the past 6 mont...",
    "twitter_title": "Testing RSI(2) with R, First Steps | R-bloggers",
    "url": "https://www.r-bloggers.com/2009/04/testing-rsi2-with-r-first-steps/",
    "word_count": 506
  }
}