{
  "uuid": "626017c9-bf75-42a2-be29-ab81260d25b2",
  "created_at": "2025-11-17 20:40:21",
  "raw_json": {
    "article_author": null,
    "article_headline": null,
    "article_modified": null,
    "article_published": null,
    "article_section": null,
    "article_tags": null,
    "canonical_url": "https://www.r-bloggers.com/2009/09/welcome-to-sigmafield/",
    "crawled_at": "2025-11-17T10:25:07.429467",
    "external_links": [
      {
        "href": "http://www.sigmafield.org/2009/09/20/welcome-to-sigmafield",
        "text": "sigmafield - R"
      },
      {
        "href": "http://r-posts.com/",
        "text": "here"
      },
      {
        "href": "https://en.wikipedia.org/wiki/John_Tukey",
        "text": "John Tukey’s"
      },
      {
        "href": "https://books.google.com/books?id=UT9dAAAAIAAJ&dq=Exploratory+Data+Analysis&q=what+you+can+do#search_ancho",
        "text": "Exploratory Data Analysis"
      },
      {
        "href": "http://www.emacswiki.org/",
        "text": "Emacs"
      },
      {
        "href": "https://www.r-project.org",
        "text": "R"
      },
      {
        "href": "http://ess.r-project.org",
        "text": "ESS"
      },
      {
        "href": "http://orgmode.org",
        "text": "org-mode"
      },
      {
        "href": "http://orgmode.org/manual/Exporting.html#Exporting",
        "text": "exports"
      },
      {
        "href": "http://www.stat.uni-muenchen.de/~leisch/Sweave/",
        "text": "Sweave"
      },
      {
        "href": "http://www.stat.umn.edu/~charlie/Sweave/",
        "text": "demos"
      },
      {
        "href": "http://www.latex-project.org",
        "text": "$latex \\LaTeX$"
      },
      {
        "href": "http://www.reproducibleresearch.net/blog/",
        "text": "reproducible research"
      },
      {
        "href": "http://orgmode.org/manual/Literal-examples.html",
        "text": "BEGIN SRC"
      },
      {
        "href": "http://www.emacswiki.org/emacs/Htmlize",
        "text": "htmlize"
      },
      {
        "href": "http://ruslanspivak.com/2007/08/18/htmlize-your-erlang-code-buffer/",
        "text": "this"
      },
      {
        "href": "http://www.gnu.org/software/emacs/manual/html_node/elisp/index.html",
        "text": "elisp"
      },
      {
        "href": "https://eusebe.github.com/ascii/",
        "text": "ascii"
      },
      {
        "href": "http://www.methods.co.nz/asciidoc/",
        "text": "asciidoc"
      },
      {
        "href": "http://orgmode.org/org.html#Publishing",
        "text": "publishing"
      },
      {
        "href": "http://www.emacswiki.org/emacs/WebloggerMode",
        "text": "weblogger"
      },
      {
        "href": "http://www.emacswiki.org/emacs/LongLines",
        "text": "longlines-mode"
      },
      {
        "href": "http://orgmode.org/worg/",
        "text": "worg"
      },
      {
        "href": "http://orgmode.org/worg/org-contrib/babel/org-babel.php",
        "text": "org-babel"
      },
      {
        "href": "https://en.wikipedia.org/wiki/Literate_programming",
        "text": "literate programming"
      },
      {
        "href": "http://orgmode.org/worg/blorgit.php",
        "text": "blorgit"
      },
      {
        "href": "http://git-scm.com/",
        "text": "git"
      },
      {
        "href": "http://www.sigmafield.org/tags/r",
        "text": "R"
      },
      {
        "href": "http://www.sigmafield.org/2009/09/20/welcome-to-sigmafield",
        "text": "sigmafield - R"
      },
      {
        "href": "https://feedburner.google.com/fb/a/mailverify?uri=RBloggers",
        "text": "daily e-mail updates"
      },
      {
        "href": "https://www.r-project.org/",
        "text": "R"
      },
      {
        "href": "https://www.r-users.com/",
        "text": "Click here if you're looking to post or find an R/data-science job"
      },
      {
        "href": "http://r-posts.com/",
        "text": "here"
      }
    ],
    "h1_title": "R-bloggers",
    "html_title": "Welcome to Sigmafield | R-bloggers",
    "images": [],
    "internal_links": [
      {
        "href": "https://www.r-bloggers.com/author/erik/",
        "text": "erik"
      },
      {
        "href": "https://www.r-bloggers.com/category/r-bloggers/",
        "text": "R bloggers"
      },
      {
        "href": "https://www.r-bloggers.com/",
        "text": "R-bloggers"
      },
      {
        "href": "https://www.r-bloggers.com/contact-us/",
        "text": "here"
      },
      {
        "href": "https://www.r-bloggers.com/add-your-blog/",
        "text": "click here"
      },
      {
        "href": "https://www.r-bloggers.com/",
        "text": "R-bloggers.com"
      },
      {
        "href": "https://www.r-bloggers.com/how-to-learn-r-2/",
        "text": "learning R"
      },
      {
        "href": "https://www.r-bloggers.com/add-your-blog/",
        "text": "click here"
      }
    ],
    "lang": "en-US",
    "main_html": "<article class=\"post-49383 post type-post status-publish format-standard hentry category-r-bloggers\">\n<header class=\"post-header\">\n<h1 class=\"entry-title\">Welcome to Sigmafield</h1>\n<p class=\"meta post-meta\">Posted on <span class=\"updated\">September 20, 2009</span>  by <span class=\"vcard author\"><a class=\"fn\" href=\"https://www.r-bloggers.com/author/erik/\">erik</a></span>  in <a href=\"https://www.r-bloggers.com/category/r-bloggers/\" rel=\"category tag\">R bloggers</a> | 0 Comments</p>\n</header>\n<div class=\"entry clearfix\">\n<p class=\"syndicated-attribution\"><!-- \r\n<div style=\"min-height: 30px;\">\r\n[social4i size=\"small\" align=\"align-left\"]\r\n</div>\r\n-->\n<div style=\"border: 1px solid; background: none repeat scroll 0 0 #EDEDED; margin: 1px; font-size: 12px;\">\r\n[This article was first published on  <strong><a href=\"http://www.sigmafield.org/2009/09/20/welcome-to-sigmafield\"> sigmafield - R</a></strong>, and kindly contributed to <a href=\"https://www.r-bloggers.com/\" rel=\"nofollow\">R-bloggers</a>].  (You can report issue about the content on this page <a href=\"https://www.r-bloggers.com/contact-us/\">here</a>)\r\n<hr/>Want to share your content on R-bloggers?<a href=\"https://www.r-bloggers.com/add-your-blog/\" rel=\"nofollow\"> click here</a> if you have a blog, or <a href=\"http://r-posts.com/\" rel=\"nofollow\"> here</a> if you don't.\r\n</div></p>\n\n<!-- Share buttons by mashshare.net - Version: 3.8.0--><div class=\"field field-name-body field-type-text-with-summary field-label-hidden\">\n<div class=\"field-item even\" property=\"content:encoded\"><p>\n<i>Edit: This post originally appeared on my WordPress blog on September 20, 2009. I present it here in its original form. </i></p>\n<p>\n<a href=\"https://en.wikipedia.org/wiki/John_Tukey\" rel=\"nofollow\" target=\"_blank\">John Tukey’s</a> preface to <a href=\"https://books.google.com/books?id=UT9dAAAAIAAJ&amp;dq=Exploratory+Data+Analysis&amp;q=what+you+can+do#search_ancho\" rel=\"nofollow\" target=\"_blank\"><i>Exploratory Data Analysis</i></a> begins with a useful rule, “It is important to understand what you <i>can do</i> before you learn to measure how <i>well</i> you seem to have <i>done</i> it.” When I decided I wanted to start a blog concentrating on statistics, R, and Emacs, I thought I had better learn first what I can do to make the process of generating content easier. Here, as a meta first post, I present how I used <a href=\"http://www.emacswiki.org/\" rel=\"nofollow\" target=\"_blank\">Emacs</a>, <a href=\"https://www.r-project.org\" rel=\"nofollow\" target=\"_blank\">R</a>, and other technologies to produce the output you are reading here.\n</p>\n<div class=\"outline-3\" id=\"outline-container-1.1\">\n<h3 id=\"sec-1.1\">Emacs, ESS, and org-mode </h3>\n<div id=\"text-1.1\">\n<p>\nI use Emacs for everything I can. I started learning it as a graduate student in Statistics in order to use the <a href=\"http://ess.r-project.org\" rel=\"nofollow\" target=\"_blank\">ESS</a> package. ESS lets you run R within Emacs, which is really nice for developing programs and performing data analysis <i>interactively</i>. I have discovered many Emacs packages through the years, but lately I have been learning the excellent <a href=\"http://orgmode.org\" rel=\"nofollow\" target=\"_blank\">org-mode</a> package. Org-mode is designed so that you can get started with very minimal knowledge of its capabilities.  You can ignore the more complicated aspects of it if you do not need them, and still have a great system for general organizational tasks and note taking. I think it is worth learning Emacs just so you can use org-mode!\n</p>\n<p>\nSince I am so familiar with Emacs, and work in it daily, I really wanted to use it to write posts. Ideally, I would like to write my blog entries in org-mode, and be able to use in-line R code. The text and R code should be output to HTML and published to my blog. This HTML generation is possible because org-mode has a fantastic feature that <a href=\"http://orgmode.org/manual/Exporting.html#Exporting\" rel=\"nofollow\" target=\"_blank\">exports</a> to various formats, including HTML.  This is beneficial since then all of my headlines, lists, tables, and source code markup in org-mode will be carried over to the HTML <i>automatically</i>.\n</p>\n<p>\nUsing the tools already available for Emacs, creating the HTML turned out to be much easier than I initially thought.  The vast majority of the time preparing this was spent learning about those tools, and figuring out how to combine them in the right way to accomplish what I wanted to do.\n</p>\n<p>\nTo summarize, my goals were to:\n</p>\n<ol><li>\nwrite blog content in Emacs\n</li>\n<li>\nuse org-mode to manage content\n</li>\n<li>\nbe able to include R commands, output, and graphics easily\n</li>\n<li>\nautomatically syntax highlight the R commands and output\n</li>\n<li>\nautomatically syntax highlight other source code (e.g., elisp)\n</li>\n<li>\ngenerate HTML automatically directly from Emacs\n</li>\n</ol></div>\n</div>\n<div class=\"outline-3\" id=\"outline-container-1.2\">\n<h3 id=\"sec-1.2\">R, Sweave, and the ascii package </h3>\n<div id=\"text-1.2\">\n<p>\nI really enjoy using R.  Since I plan to write about statistics, and especially statistical computing, I imagine many of my posts will contain R code. R comes with an interesting function called <a href=\"http://www.stat.uni-muenchen.de/~leisch/Sweave/\" rel=\"nofollow\" target=\"_blank\">Sweave</a>.  Sweave allows you to incorporate R commands within a document you are writing wrapped in a special syntax, see some <a href=\"http://www.stat.umn.edu/~charlie/Sweave/\" rel=\"nofollow\" target=\"_blank\">demos</a>.  So you might be writing some <a href=\"http://www.latex-project.org\" rel=\"nofollow\" target=\"_blank\">$latex \\LaTeX$</a> or HTML and interweaving R code. After you run the Sweave function using the source (e.g., HTML) document as the input, a new file is created that replaces the R <i>code</i> with the <i>results</i> of the commands.  This might sound simple, but it leads to a very powerful model for report generation and <a href=\"http://www.reproducibleresearch.net/blog/\" rel=\"nofollow\" target=\"_blank\">reproducible research</a>. My goal was to somehow get publishable HTML from a source org-mode file after running Sweave on it. For example, say I want to generate 100 samples from a normal distribution with mean 10, and summarize the results.\n</p>\n<pre>\n\n&gt; x &lt;- rnorm(100, mean = 10, sd = 5)\n&gt; summary(x)\n   Min. 1st Qu.  Median    Mean 3rd Qu.    Max. \n -3.077   6.844  10.100   9.819  13.690  22.300  \n&gt; sd(x)\n[1] 5.356113 \n\n</pre>\n<p>\nI do not want to have to actually type any of the summary output, of course, but I also don’t have to even copy and paste it.  What I can type is the R code to produce the output, and wrap it in Sweave syntax, like this: \n</p>\n<pre>\n &lt;&lt;&gt;&gt;=\n x &lt;- rnorm(100, mean = 10, sd = 5)\n summary(x)\n sd(x)\n @\n</pre>\n<p>\nWhen I prepare this post for publishing, Sweave will run the R code and insert the output <i>in place of</i> the Sweave commands.  I have wrapped the Sweave syntax in org-mode's special <a href=\"http://orgmode.org/manual/Literal-examples.html\" rel=\"nofollow\" target=\"_blank\">BEGIN SRC</a> construct, so that when I export to HTML, org-mode will properly syntax highlight the output using the <a href=\"http://www.emacswiki.org/emacs/Htmlize\" rel=\"nofollow\" target=\"_blank\">htmlize</a> package, as inspired by <a href=\"http://ruslanspivak.com/2007/08/18/htmlize-your-erlang-code-buffer/\" rel=\"nofollow\" target=\"_blank\">this</a> post on using the htmlize package with Erlang.  The only <a href=\"http://www.gnu.org/software/emacs/manual/html_node/elisp/index.html\" rel=\"nofollow\" target=\"_blank\">elisp</a> I had to write was the following. \n</p>\n<pre>\n;; export an org file into WordPress-ready HTML\n\n(defun run-ascii-sweave-on-buffer ()\n  (ess-command \"library(ascii)\\n\")\n  (ess-command (concat \"Sweave(\\\"\" (buffer-file-name) \n                       \"\\\", RweaveAsciidoc)\\n\")))\n\n(defun sweave-and-htmlize-blog-entry ()\n   \"Run Sweave on current file and produce HTML \nready for pasting to WordPress. Copies text to kill-ring for \npasting. \"\n   (interactive)\n   (save-excursion\n     (run-ascii-sweave-on-buffer)\n     (let* ((name (buffer-file-name))\n            (txt-filename (concat name \".txt\"))\n            (txt-buf (find-file txt-filename)))\n       (message \"Preparing HTML for '%s' ...\" name)\n       (switch-to-buffer txt-buf)\n       (revert-buffer t t t)\n       (goto-char (point-min))\n       (while (re-search-forward \"BEGIN_SRC R\" nil t)\n         (replace-match \"BEGIN_SRC R-transcript\" t nil))\n       (goto-char (point-min))\n       (while (re-search-forward \"^----\" nil t)\n         (replace-match \"\" nil nil))\n       (basic-save-buffer)\n       (switch-to-buffer (org-export-region-as-html \n                          (point-min) (point-max) t \"*HTML*\"))\n       (kill-buffer txt-buf)\n       (while (re-search-forward \"&lt;pre \" nil t)\n         (replace-match \n          \"&lt;pre style=\\\"background-color:#FFFFE5; font-size:8pt\\\" \" \n          t nil))\n       (kill-ring-save (point-min) (point-max))\n       (message \"Finished Converting to WordPress HTML\" ))))\n\n\n(define-key global-map (kbd \"&lt;f5&gt;\") 'sweave-and-htmlize-blog-entry) \n         \n\n\n\n</pre>\n<p>\nAll the first function is doing is running an input file (an org-mode file) through Sweave with the RweaveAsciidoc driver found in the R <a href=\"https://eusebe.github.com/ascii/\" rel=\"nofollow\" target=\"_blank\">ascii</a> package. It basically just puts in the R output as plain text, as opposed to $latex \\LaTeX$ code or HTML.\n</p>\n<p>\nThe rest of the elisp function manipulates the output in some trivial ways. The explanation for the replacement of the four dashes is that the RweaveAsciidoc Sweave driver produces the dashed string both before and after the R output as a visual offset, since <a href=\"http://www.methods.co.nz/asciidoc/\" rel=\"nofollow\" target=\"_blank\">asciidoc</a> uses that as a markup indicator.  I did not need that, since my output will not be fed through asciidoc, but rather the org-mode HTML exporter, so I simply replace the dashes found at the beginning of a line with the empty string. The last trick I had to do was to replace the R syntax highlighting with R-transcript syntax highlighting, since the results of Sweave are essentially a transcript of the R commands entered, not the actual R code. Finally, the resulting HTML produced by the org exporter has its <i>pre</i> tags modified with custom colors and font size. \n</p>\n</div>\n</div>\n<div class=\"outline-3\" id=\"outline-container-1.3\">\n<h3 id=\"sec-1.3\">What is left to do? </h3>\n<div id=\"text-1.3\">\n<p>\nThere are a few loose ends that I didn't have time to clean up yet. I would like to modify my Lisp function to work on regions if mark is set and transient-mark-mode is enabled.  As of now, it just works on the whole buffer.  The idea would be to have an org-mode file, say <i>blog.org</i>, that would have a top-level headline for each entry. You could then highlight that entry and publish it.  I realize this is fairly trivial to implement, but it is not done yet. \n</p>\n<p>\nI also want to investigate the <a href=\"http://orgmode.org/org.html#Publishing\" rel=\"nofollow\" target=\"_blank\">publishing</a> feature of org-mode, and see if there is any value add to using <a href=\"http://www.emacswiki.org/emacs/WebloggerMode\" rel=\"nofollow\" target=\"_blank\">weblogger</a> mode in Emacs. Using that, I could have a full Emacs solution to posting new entries, without even having to go into WordPress to paste HTML as I have done now. As an aside, I found <a href=\"http://www.emacswiki.org/emacs/LongLines\" rel=\"nofollow\" target=\"_blank\">longlines-mode</a> in Emacs very useful for writing this post in org-mode, so that there are not newlines in random spots when the HTML is produced.  \n</p>\n<p>\nI have not tested how plotting from R works in this system.  It would be great to be able to generate in-line graphics in my posts using R commands to construct plots.\n</p>\n<p>\nFinally, it looks like there is a really interesting project on <a href=\"http://orgmode.org/worg/\" rel=\"nofollow\" target=\"_blank\">worg</a> called <a href=\"http://orgmode.org/worg/org-contrib/babel/org-babel.php\" rel=\"nofollow\" target=\"_blank\">org-babel</a> that will allow not only weaving of R, but many other languages including Ruby, elisp, and shell scripts, turning org-mode into a platform for <a href=\"https://en.wikipedia.org/wiki/Literate_programming\" rel=\"nofollow\" target=\"_blank\">literate programming</a>. I also just saw <a href=\"http://orgmode.org/worg/blorgit.php\" rel=\"nofollow\" target=\"_blank\">blorgit</a>, a blogging engine in org-mode that makes use of the <a href=\"http://git-scm.com/\" rel=\"nofollow\" target=\"_blank\">git</a> version control system. \n</p>\n<p>\nMy function provided above should work if you have a recent version of org-mode, R, ESS, and the ascii package installed on your system. I have bound the function to F5 on my keyboard, so just hitting F5 in my org-mode buffer will create an HTML buffer and copy its contents to the kill-ring for pasting into WordPress. \n</p>\n</div>\n</div>\n<div class=\"outline-3\" id=\"outline-container-1.4\">\n<h3 id=\"sec-1.4\">Conclusion </h3>\n<div id=\"text-1.4\">\n<p>When I started this process, I assumed I would have to write at least a few elisp functions, and possibly some extensions to org-mode, perhaps even an Sweave driver.  After thoroughly examining the available tools, I ended up only having to write, in effect, one lisp function, and that is only a utility function to automate the combination of solutions I found.  The moral is that while often times you will have to write your own functions to get the exact behavior you are after, it does pay to really research what is out there already.  I found a solution to my problem, org-mode, that allows a much more flexible framework for extensions and has been thoroughly tested. I now get to enjoy the benefits of whatever future enhancements org-mode comes up with, including extensions by other org-mode users.  In particular, the org-babel functionality looks very promising to replace or augment some of my work here. So before you write your own packages, research what others have already done. At the very least, you'll know what value you are adding by doing it your own way, which is the lesson I took away from Tukey's rule.\n</p>\n</div>\n</div>\n</div>\n</div>\n<section class=\"field field-name-field-tags field-type-taxonomy-term-reference field-label-above clearfix\">\n<h2 class=\"field-label\">Tags: </h2>\n<ul class=\"field-items\">\n<li class=\"field-item even\" rel=\"dc:subject\"><a href=\"http://www.sigmafield.org/tags/r\" property=\"rdfs:label skos:prefLabel\" rel=\"nofollow\" target=\"_blank\" typeof=\"skos:Concept\">R</a></li>\n</ul>\n</section>\n\n<div class=\"jp-relatedposts\" id=\"jp-relatedposts\">\n<h3 class=\"jp-relatedposts-headline\"><em>Related</em></h3>\n</div>\n<!-- Share buttons by mashshare.net - Version: 3.8.0-->\n<p class=\"syndicated-attribution\"><div style=\"border: 1px solid; background: none repeat scroll 0 0 #EDEDED; margin: 1px; font-size: 13px;\">\n<div style=\"text-align: center;\">To <strong>leave a comment</strong> for the author, please follow the link and comment on their blog: <strong><a href=\"http://www.sigmafield.org/2009/09/20/welcome-to-sigmafield\"> sigmafield - R</a></strong>.</div>\n<hr>\n<a href=\"https://www.r-bloggers.com/\" rel=\"nofollow\">R-bloggers.com</a> offers <strong><a href=\"https://feedburner.google.com/fb/a/mailverify?uri=RBloggers\" rel=\"nofollow\">daily e-mail updates</a></strong> about <a href=\"https://www.r-project.org/\" rel=\"nofollow\" title=\"The R Project for Statistical Computing\">R</a> news and tutorials about <a href=\"https://www.r-bloggers.com/how-to-learn-r-2/\" rel=\"nofollow\" title=\"R tutorials\">learning R</a> and many other topics. <a href=\"https://www.r-users.com/\" rel=\"nofollow\" title=\"Data science jobs\">Click here if you're looking to post or find an R/data-science job</a>.\r\n\r\n<hr/>Want to share your content on R-bloggers?<a href=\"https://www.r-bloggers.com/add-your-blog/\" rel=\"nofollow\"> click here</a> if you have a blog, or <a href=\"http://r-posts.com/\" rel=\"nofollow\"> here</a> if you don't.\r\n</hr></div></p> </div>\n</article>",
    "main_text": "Welcome to Sigmafield\nPosted on\nSeptember 20, 2009\nby\nerik\nin\nR bloggers\n| 0 Comments\n[This article was first published on\nsigmafield - R\n, and kindly contributed to\nR-bloggers\n].  (You can report issue about the content on this page\nhere\n)\nWant to share your content on R-bloggers?\nclick here\nif you have a blog, or\nhere\nif you don't.\nEdit: This post originally appeared on my WordPress blog on September 20, 2009. I present it here in its original form.\nJohn Tukey’s\npreface to\nExploratory Data Analysis\nbegins with a useful rule, “It is important to understand what you\ncan do\nbefore you learn to measure how\nwell\nyou seem to have\ndone\nit.” When I decided I wanted to start a blog concentrating on statistics, R, and Emacs, I thought I had better learn first what I can do to make the process of generating content easier. Here, as a meta first post, I present how I used\nEmacs\n,\nR\n, and other technologies to produce the output you are reading here.\nEmacs, ESS, and org-mode\nI use Emacs for everything I can. I started learning it as a graduate student in Statistics in order to use the\nESS\npackage. ESS lets you run R within Emacs, which is really nice for developing programs and performing data analysis\ninteractively\n. I have discovered many Emacs packages through the years, but lately I have been learning the excellent\norg-mode\npackage. Org-mode is designed so that you can get started with very minimal knowledge of its capabilities.  You can ignore the more complicated aspects of it if you do not need them, and still have a great system for general organizational tasks and note taking. I think it is worth learning Emacs just so you can use org-mode!\nSince I am so familiar with Emacs, and work in it daily, I really wanted to use it to write posts. Ideally, I would like to write my blog entries in org-mode, and be able to use in-line R code. The text and R code should be output to HTML and published to my blog. This HTML generation is possible because org-mode has a fantastic feature that\nexports\nto various formats, including HTML.  This is beneficial since then all of my headlines, lists, tables, and source code markup in org-mode will be carried over to the HTML\nautomatically\n.\nUsing the tools already available for Emacs, creating the HTML turned out to be much easier than I initially thought.  The vast majority of the time preparing this was spent learning about those tools, and figuring out how to combine them in the right way to accomplish what I wanted to do.\nTo summarize, my goals were to:\nwrite blog content in Emacs\nuse org-mode to manage content\nbe able to include R commands, output, and graphics easily\nautomatically syntax highlight the R commands and output\nautomatically syntax highlight other source code (e.g., elisp)\ngenerate HTML automatically directly from Emacs\nR, Sweave, and the ascii package\nI really enjoy using R.  Since I plan to write about statistics, and especially statistical computing, I imagine many of my posts will contain R code. R comes with an interesting function called\nSweave\n.  Sweave allows you to incorporate R commands within a document you are writing wrapped in a special syntax, see some\ndemos\n.  So you might be writing some\n$latex \\LaTeX$\nor HTML and interweaving R code. After you run the Sweave function using the source (e.g., HTML) document as the input, a new file is created that replaces the R\ncode\nwith the\nresults\nof the commands.  This might sound simple, but it leads to a very powerful model for report generation and\nreproducible research\n. My goal was to somehow get publishable HTML from a source org-mode file after running Sweave on it. For example, say I want to generate 100 samples from a normal distribution with mean 10, and summarize the results.\n> x <- rnorm(100, mean = 10, sd = 5)\n> summary(x)\n   Min. 1st Qu.  Median    Mean 3rd Qu.    Max. \n -3.077   6.844  10.100   9.819  13.690  22.300  \n> sd(x)\n[1] 5.356113\nI do not want to have to actually type any of the summary output, of course, but I also don’t have to even copy and paste it.  What I can type is the R code to produce the output, and wrap it in Sweave syntax, like this:\n<<>>=\n x <- rnorm(100, mean = 10, sd = 5)\n summary(x)\n sd(x)\n @\nWhen I prepare this post for publishing, Sweave will run the R code and insert the output\nin place of\nthe Sweave commands.  I have wrapped the Sweave syntax in org-mode's special\nBEGIN SRC\nconstruct, so that when I export to HTML, org-mode will properly syntax highlight the output using the\nhtmlize\npackage, as inspired by\nthis\npost on using the htmlize package with Erlang.  The only\nelisp\nI had to write was the following.\n;; export an org file into WordPress-ready HTML\n\n(defun run-ascii-sweave-on-buffer ()\n  (ess-command \"library(ascii)\\n\")\n  (ess-command (concat \"Sweave(\\\"\" (buffer-file-name) \n                       \"\\\", RweaveAsciidoc)\\n\")))\n\n(defun sweave-and-htmlize-blog-entry ()\n   \"Run Sweave on current file and produce HTML \nready for pasting to WordPress. Copies text to kill-ring for \npasting. \"\n   (interactive)\n   (save-excursion\n     (run-ascii-sweave-on-buffer)\n     (let* ((name (buffer-file-name))\n            (txt-filename (concat name \".txt\"))\n            (txt-buf (find-file txt-filename)))\n       (message \"Preparing HTML for '%s' ...\" name)\n       (switch-to-buffer txt-buf)\n       (revert-buffer t t t)\n       (goto-char (point-min))\n       (while (re-search-forward \"BEGIN_SRC R\" nil t)\n         (replace-match \"BEGIN_SRC R-transcript\" t nil))\n       (goto-char (point-min))\n       (while (re-search-forward \"^----\" nil t)\n         (replace-match \"\" nil nil))\n       (basic-save-buffer)\n       (switch-to-buffer (org-export-region-as-html \n                          (point-min) (point-max) t \"*HTML*\"))\n       (kill-buffer txt-buf)\n       (while (re-search-forward \"<pre \" nil t)\n         (replace-match \n          \"<pre style=\\\"background-color:#FFFFE5; font-size:8pt\\\" \" \n          t nil))\n       (kill-ring-save (point-min) (point-max))\n       (message \"Finished Converting to WordPress HTML\" ))))\n\n(define-key global-map (kbd \"<f5>\") 'sweave-and-htmlize-blog-entry)\nAll the first function is doing is running an input file (an org-mode file) through Sweave with the RweaveAsciidoc driver found in the R\nascii\npackage. It basically just puts in the R output as plain text, as opposed to $latex \\LaTeX$ code or HTML.\nThe rest of the elisp function manipulates the output in some trivial ways. The explanation for the replacement of the four dashes is that the RweaveAsciidoc Sweave driver produces the dashed string both before and after the R output as a visual offset, since\nasciidoc\nuses that as a markup indicator.  I did not need that, since my output will not be fed through asciidoc, but rather the org-mode HTML exporter, so I simply replace the dashes found at the beginning of a line with the empty string. The last trick I had to do was to replace the R syntax highlighting with R-transcript syntax highlighting, since the results of Sweave are essentially a transcript of the R commands entered, not the actual R code. Finally, the resulting HTML produced by the org exporter has its\npre\ntags modified with custom colors and font size.\nWhat is left to do?\nThere are a few loose ends that I didn't have time to clean up yet. I would like to modify my Lisp function to work on regions if mark is set and transient-mark-mode is enabled.  As of now, it just works on the whole buffer.  The idea would be to have an org-mode file, say\nblog.org\n, that would have a top-level headline for each entry. You could then highlight that entry and publish it.  I realize this is fairly trivial to implement, but it is not done yet.\nI also want to investigate the\npublishing\nfeature of org-mode, and see if there is any value add to using\nweblogger\nmode in Emacs. Using that, I could have a full Emacs solution to posting new entries, without even having to go into WordPress to paste HTML as I have done now. As an aside, I found\nlonglines-mode\nin Emacs very useful for writing this post in org-mode, so that there are not newlines in random spots when the HTML is produced.\nI have not tested how plotting from R works in this system.  It would be great to be able to generate in-line graphics in my posts using R commands to construct plots.\nFinally, it looks like there is a really interesting project on\nworg\ncalled\norg-babel\nthat will allow not only weaving of R, but many other languages including Ruby, elisp, and shell scripts, turning org-mode into a platform for\nliterate programming\n. I also just saw\nblorgit\n, a blogging engine in org-mode that makes use of the\ngit\nversion control system.\nMy function provided above should work if you have a recent version of org-mode, R, ESS, and the ascii package installed on your system. I have bound the function to F5 on my keyboard, so just hitting F5 in my org-mode buffer will create an HTML buffer and copy its contents to the kill-ring for pasting into WordPress.\nConclusion\nWhen I started this process, I assumed I would have to write at least a few elisp functions, and possibly some extensions to org-mode, perhaps even an Sweave driver.  After thoroughly examining the available tools, I ended up only having to write, in effect, one lisp function, and that is only a utility function to automate the combination of solutions I found.  The moral is that while often times you will have to write your own functions to get the exact behavior you are after, it does pay to really research what is out there already.  I found a solution to my problem, org-mode, that allows a much more flexible framework for extensions and has been thoroughly tested. I now get to enjoy the benefits of whatever future enhancements org-mode comes up with, including extensions by other org-mode users.  In particular, the org-babel functionality looks very promising to replace or augment some of my work here. So before you write your own packages, research what others have already done. At the very least, you'll know what value you are adding by doing it your own way, which is the lesson I took away from Tukey's rule.\nTags:\nR\nRelated\nTo\nleave a comment\nfor the author, please follow the link and comment on their blog:\nsigmafield - R\n.\nR-bloggers.com\noffers\ndaily e-mail updates\nabout\nR\nnews and tutorials about\nlearning R\nand many other topics.\nClick here if you're looking to post or find an R/data-science job\n.\nWant to share your content on R-bloggers?\nclick here\nif you have a blog, or\nhere\nif you don't.",
    "meta_description": "Edit: This post originally appeared on my Wordpress blog on September 20, 2009. I present it here in its original form. John Tukey's preface to Exploratory Data Analysis begins with a useful rule, \"It is important to understand what you can...",
    "meta_keywords": null,
    "og_description": "Edit: This post originally appeared on my Wordpress blog on September 20, 2009. I present it here in its original form. John Tukey's preface to Exploratory Data Analysis begins with a useful rule, \"It is important to understand what you can...",
    "og_image": "https://www.r-bloggers.com/wp-content/uploads/2016/04/R_02_2016-05-01.png",
    "og_title": "Welcome to Sigmafield | R-bloggers",
    "raw_jsonld_article": null,
    "reading_time_min": 9.2,
    "sitemap_lastmod": "2009-09-21T03:39:48+00:00",
    "twitter_description": "Edit: This post originally appeared on my Wordpress blog on September 20, 2009. I present it here in its original form. John Tukey's preface to Exploratory Data Analysis begins with a useful rule, \"It is important to understand what you can...",
    "twitter_title": "Welcome to Sigmafield | R-bloggers",
    "url": "https://www.r-bloggers.com/2009/09/welcome-to-sigmafield/",
    "word_count": 1846
  }
}