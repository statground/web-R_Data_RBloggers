{
  "uuid": "da8709cd-8849-49b7-b1ab-482825677b03",
  "created_at": "2025-11-22 19:57:27",
  "raw_json": {
    "article_author": null,
    "article_headline": null,
    "article_modified": null,
    "article_published": null,
    "article_section": null,
    "article_tags": null,
    "canonical_url": "https://www.r-bloggers.com/2025/10/gssrdoc-updates/",
    "crawled_at": "2025-11-22T10:41:43.366217",
    "external_links": [
      {
        "href": "https://kieranhealy.org/blog/archives/2025/10/19/gssrdoc-updates/",
        "text": "R on kieranhealy.org"
      },
      {
        "href": "http://r-posts.com/",
        "text": "here"
      },
      {
        "href": "https://kjhealy.github.io/gssr/",
        "text": "gssr"
      },
      {
        "href": "https://kjhealy.github.io/gssrdoc/",
        "text": "gssrdoc"
      },
      {
        "href": "https://www.r-project.org/",
        "text": "R"
      },
      {
        "href": "http://gss.norc.org/",
        "text": "General Social Survey"
      },
      {
        "href": "https://pkgdown.r-lib.org/",
        "text": "pkgdown"
      },
      {
        "href": "https://kjhealy.github.io/gssrdoc/reference/index.html",
        "text": "a browsable index of all the GSS variables"
      },
      {
        "href": "https://gss.norc.org/",
        "text": "freely available from NORC"
      },
      {
        "href": "https://www.r-project.org/",
        "text": "R"
      },
      {
        "href": "https://kieranhealy.org/blog/archives/2019/02/07/statswars/",
        "text": "I have you covered"
      },
      {
        "href": "https://i0.wp.com/kieranhealy.org/blog/archives/2025/10/19/gssrdoc-updates/gssrdoc-rstudio.png?ssl=1",
        "text": null
      },
      {
        "href": "https://tidyr.tidyverse.org/articles/nest.html",
        "text": "list-columns"
      },
      {
        "href": "https://tibble.tidyverse.org/",
        "text": "tibbles"
      },
      {
        "href": "https://en.wikipedia.org/wiki/Array_programming",
        "text": "array languages"
      },
      {
        "href": "https://en.wikipedia.org/wiki/S_(programming_language)",
        "text": "S"
      },
      {
        "href": "https://en.wikipedia.org/wiki/S_(programming_language)",
        "text": "Bell Labs"
      },
      {
        "href": "https://kjhealy.github.io/gssrdoc/index.html",
        "text": "website"
      },
      {
        "href": "https://i1.wp.com/kieranhealy.org/blog/archives/2025/10/19/gssrdoc-updates/gssrdoc-varpage.png?ssl=1",
        "text": null
      },
      {
        "href": "https://kjhealy.github.io/gssrdoc/articles/topics.html",
        "text": "single page"
      },
      {
        "href": "https://i2.wp.com/kieranhealy.org/blog/archives/2025/10/19/gssrdoc-updates/gssrdoc-topics.png?ssl=1",
        "text": null
      },
      {
        "href": "https://gssdataexplorer.norc.org/",
        "text": "data explorer"
      },
      {
        "href": "https://kieranhealy.org/blog/archives/2025/10/19/gssrdoc-updates/",
        "text": "R on kieranhealy.org"
      },
      {
        "href": "https://feedburner.google.com/fb/a/mailverify?uri=RBloggers",
        "text": "daily e-mail updates"
      },
      {
        "href": "https://www.r-project.org/",
        "text": "R"
      },
      {
        "href": "https://www.r-users.com/",
        "text": "Click here if you're looking to post or find an R/data-science job"
      },
      {
        "href": "http://r-posts.com/",
        "text": "here"
      }
    ],
    "h1_title": "R-bloggers",
    "html_title": "gssrdoc Updates | R-bloggers",
    "images": [
      {
        "alt": "RStudio with help page for govdook",
        "base64": "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",
        "src": "https://www.r-bloggers.com/wp-content/plugins/jetpack/modules/lazy-images/images/1x1.trans.gif"
      },
      {
        "alt": "RStudio with help page for govdook",
        "base64": null,
        "src": "https://i0.wp.com/kieranhealy.org/blog/archives/2025/10/19/gssrdoc-updates/gssrdoc-rstudio.png?w=578&ssl=1"
      },
      {
        "alt": "Website view.",
        "base64": "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",
        "src": "https://www.r-bloggers.com/wp-content/plugins/jetpack/modules/lazy-images/images/1x1.trans.gif"
      },
      {
        "alt": "Website view.",
        "base64": null,
        "src": "https://i1.wp.com/kieranhealy.org/blog/archives/2025/10/19/gssrdoc-updates/gssrdoc-varpage.png?w=578&ssl=1"
      },
      {
        "alt": "Topic index page.",
        "base64": "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",
        "src": "https://www.r-bloggers.com/wp-content/plugins/jetpack/modules/lazy-images/images/1x1.trans.gif"
      },
      {
        "alt": "Topic index page.",
        "base64": null,
        "src": "https://i2.wp.com/kieranhealy.org/blog/archives/2025/10/19/gssrdoc-updates/gssrdoc-topics.png?w=578&ssl=1"
      }
    ],
    "internal_links": [
      {
        "href": "https://www.r-bloggers.com/author/r-on-kieranhealy-org/",
        "text": "R on kieranhealy.org"
      },
      {
        "href": "https://www.r-bloggers.com/category/r-bloggers/",
        "text": "R bloggers"
      },
      {
        "href": "https://www.r-bloggers.com/",
        "text": "R-bloggers"
      },
      {
        "href": "https://www.r-bloggers.com/contact-us/",
        "text": "here"
      },
      {
        "href": "https://www.r-bloggers.com/add-your-blog/",
        "text": "click here"
      },
      {
        "href": "https://www.r-bloggers.com/",
        "text": "R-bloggers.com"
      },
      {
        "href": "https://www.r-bloggers.com/how-to-learn-r-2/",
        "text": "learning R"
      },
      {
        "href": "https://www.r-bloggers.com/add-your-blog/",
        "text": "click here"
      }
    ],
    "lang": "en-US",
    "main_html": "<article class=\"post-396209 post type-post status-publish format-standard hentry category-r-bloggers\">\n<header class=\"post-header\">\n<h1 class=\"entry-title\">gssrdoc Updates</h1>\n<p class=\"meta post-meta\">Posted on <span class=\"updated\">October 19, 2025</span>  by <span class=\"vcard author\"><a class=\"fn\" href=\"https://www.r-bloggers.com/author/r-on-kieranhealy-org/\">R on kieranhealy.org</a></span>  in <a href=\"https://www.r-bloggers.com/category/r-bloggers/\" rel=\"category tag\">R bloggers</a> | 0 Comments</p>\n</header>\n<div class=\"entry clearfix\">\n<!-- \n<div style=\"min-height: 30px;\">\n[social4i size=\"small\" align=\"align-left\"]\n</div>\n-->\n<div style=\"border: 1px solid; background: none repeat scroll 0 0 #EDEDED; margin: 1px; font-size: 12px;\">\n[This article was first published on  <strong><a href=\"https://kieranhealy.org/blog/archives/2025/10/19/gssrdoc-updates/\"> R on kieranhealy.org</a></strong>, and kindly contributed to <a href=\"https://www.r-bloggers.com/\" rel=\"nofollow\">R-bloggers</a>].  (You can report issue about the content on this page <a href=\"https://www.r-bloggers.com/contact-us/\">here</a>)\n<hr/>Want to share your content on R-bloggers?<a href=\"https://www.r-bloggers.com/add-your-blog/\" rel=\"nofollow\"> click here</a> if you have a blog, or <a href=\"http://r-posts.com/\" rel=\"nofollow\"> here</a> if you don't.\n</div>\n\n<!-- Share buttons by mashshare.net - Version: 4.0.47--><p>Regular readers know that I maintain <a href=\"https://kjhealy.github.io/gssr/\" rel=\"nofollow\" target=\"_blank\"><code>gssr</code></a> and <a href=\"https://kjhealy.github.io/gssrdoc/\" rel=\"nofollow\" target=\"_blank\"><code>gssrdoc</code></a>, two packages for <a href=\"https://www.r-project.org/\" rel=\"nofollow\" target=\"_blank\">R</a>. The former makes the <a href=\"http://gss.norc.org/\" rel=\"nofollow\" target=\"_blank\">General Social Survey</a>’s annual, cumulative and panel datasets available in a way that’s easy to use in R. The latter makes the survey’s codebook available in R’s integrated help system in a way that documents every GSS variable as if it were a function or object in R, so you can query them in exactly the same way as any function from the R console or in the IDE of your choice. As a bonus, because I use <a href=\"https://pkgdown.r-lib.org/\" rel=\"nofollow\" target=\"_blank\"><code>pkgdown</code></a> to document the packages, I get a website as a side-effect. In the case of <code>gssrdoc</code> this means <a href=\"https://kjhealy.github.io/gssrdoc/reference/index.html\" rel=\"nofollow\" target=\"_blank\">a browsable index of all the GSS variables</a>. The GSS is the Hubble Space Telescope of American social science; our longest-running representative view of many aspects of the character and opinions of American households. The data is <a href=\"https://gss.norc.org/\" rel=\"nofollow\" target=\"_blank\">freely available from NORC</a>, but they distribute it in SPSS, SAS, and STATA formats. I wrote these packages in an effort to make it more easily available in <a href=\"https://www.r-project.org/\" rel=\"nofollow\" target=\"_blank\">R</a>. If you want to know the relationship between these various platforms, <a href=\"https://kieranhealy.org/blog/archives/2019/02/07/statswars/\" rel=\"nofollow\" target=\"_blank\">I have you covered</a>. But the important thing is that R is a free and open-source project, and the others are not.</p>\n<p>This week I spent a little time updating <code>gssrdoc</code> a bit to clean up how the help pages looked and make some other improvements. Inside R, you can say, e.g., <code>?govdook</code> at the console and have this pop up in the help:</p>\n<figure><a href=\"https://i0.wp.com/kieranhealy.org/blog/archives/2025/10/19/gssrdoc-updates/gssrdoc-rstudio.png?ssl=1\" rel=\"nofollow\" target=\"_blank\">\n<img alt=\"RStudio with help page for govdook\" data-lazy-src=\"https://i0.wp.com/kieranhealy.org/blog/archives/2025/10/19/gssrdoc-updates/gssrdoc-rstudio.png?w=578&amp;ssl=1\" data-recalc-dims=\"1\" src=\"https://www.r-bloggers.com/wp-content/plugins/jetpack/modules/lazy-images/images/1x1.trans.gif\"/><noscript><img alt=\"RStudio with help page for govdook\" data-recalc-dims=\"1\" src=\"https://i0.wp.com/kieranhealy.org/blog/archives/2025/10/19/gssrdoc-updates/gssrdoc-rstudio.png?w=578&amp;ssl=1\"/></noscript></a><figcaption>\n<p>Yeah govdook is short for ‘Gov Do OK’, not ‘Dook’.</p>\n</figcaption>\n</figure>\n<p>The package also includes <code>gss_doc</code>, a data frame containing all of the information that the help pages are built from. I included it because it can be useful to work with directly, as when you might want to extract summary information about a subset of variables.</p>\n<div class=\"highlight-wrapper\">\n<div class=\"highlight\"><div class=\"chroma\">\n<table class=\"lntable\"><tr><td class=\"lntd\">\n<pre> 1\n 2\n 3\n 4\n 5\n 6\n 7\n 8\n 9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n</pre></td>\n<td class=\"lntd\">\n<pre>library(tibble)\nlibrary(gssrdoc)\n\ngss_doc\n#&gt; # A tibble: 6,694 × 10\n#&gt;    variable description                           question         value_labels var_yrtab yrballot_df module_df subject_df norc_id norc_url\n#&gt;    &lt;chr&gt;    &lt;chr&gt;                                 &lt;chr&gt;            &lt;chr&gt;        &lt;list&gt;    &lt;list&gt;      &lt;list&gt;    &lt;list&gt;       &lt;int&gt; &lt;chr&gt;   \n#&gt;  1 year     GSS year for this respondent          \"GSS year\"       \"[NA(d)] do… &lt;chr [1]&gt; &lt;tibble&gt;    &lt;tibble&gt;  &lt;tibble&gt;         1 https:/…\n#&gt;  2 id       Respondent id number                  \"Respondent id … \"\"           &lt;chr [1]&gt; &lt;tibble&gt;    &lt;tibble&gt;  &lt;tibble&gt;         2 https:/…\n#&gt;  3 wrkstat  labor force status                    \"Last week were… \"[1] workin… &lt;tibble&gt;  &lt;tibble&gt;    &lt;tibble&gt;  &lt;tibble&gt;         3 https:/…\n#&gt;  4 hrs1     number of hours worked last week      \"Last week were… \"[89] 89+ h… &lt;chr [1]&gt; &lt;tibble&gt;    &lt;tibble&gt;  &lt;tibble&gt;         4 https:/…\n#&gt;  5 hrs2     number of hours usually work a week   \"Last week were… \"[89] 89+ h… &lt;tibble&gt;  &lt;tibble&gt;    &lt;tibble&gt;  &lt;tibble&gt;         5 https:/…\n#&gt;  6 evwork   ever work as long as one year         \"Last week were… \"[1] yes / … &lt;tibble&gt;  &lt;tibble&gt;    &lt;tibble&gt;  &lt;tibble&gt;         6 https:/…\n#&gt;  7 occ      R's census occupation code (1970)     \"A. What kind o… \"[NA(d)] do… &lt;chr [1]&gt; &lt;tibble&gt;    &lt;tibble&gt;  &lt;tibble&gt;         7 https:/…\n#&gt;  8 prestige r's occupational prestige score(1970) \"A. What kind o… \"[NA(d)] do… &lt;tibble&gt;  &lt;tibble&gt;    &lt;tibble&gt;  &lt;tibble&gt;         8 https:/…\n#&gt;  9 wrkslf   r self-emp or works for somebody      \"A. What kind o… \"[1] self-e… &lt;tibble&gt;  &lt;tibble&gt;    &lt;tibble&gt;  &lt;tibble&gt;         9 https:/…\n#&gt; 10 wrkgovt  govt or private employee              \"A. What kind o… \"[1] govern… &lt;tibble&gt;  &lt;tibble&gt;    &lt;tibble&gt;  &lt;tibble&gt;        10 https:/…\n#&gt; # ℹ 6,684 more rows</pre></td></tr></table>\n</div>\n</div>\n</div>\n<p>The <code>gss_doc</code> object has regular columns but also a series of <a href=\"https://tidyr.tidyverse.org/articles/nest.html\" rel=\"nofollow\" target=\"_blank\">list-columns</a> to (insert meme here, you know the one) put data frames inside your data frames. (They’re labeled as “<a href=\"https://tibble.tidyverse.org/\" rel=\"nofollow\" target=\"_blank\">tibbles</a>” here; basically the same thing).</p>\n<p>Why a list-column? Why a list? Well, a list is one of the fundamental ways to store data of any sort. Lists are useful because they can contain heterogeneous elements:</p>\n<div class=\"highlight-wrapper\">\n<div class=\"highlight\"><div class=\"chroma\">\n<table class=\"lntable\"><tr><td class=\"lntd\">\n<pre> 1\n 2\n 3\n 4\n 5\n 6\n 7\n 8\n 9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n</pre></td>\n<td class=\"lntd\">\n<pre>items &lt;- list(\n  todo_home = c(\"Laundry\", \"Clean bathroom\", \"Feed cat\", \"Bring out rubbish bins\"),\n  important_dates = as.Date(c(\"1776-07-04\", \"1788-06-21\", \"2025-01-18\")),\n  keycode = 8675309,\n  storage_tiers = c(128, 256, 512, 1024)\n)\n\nitems\n#&gt; $todo_home\n#&gt; [1] \"Laundry\"                \"Clean bathroom\"         \"Feed cat\"               \"Bring out rubbish bins\"\n#&gt; \n#&gt; $important_dates\n#&gt; [1] \"1776-07-04\" \"1788-06-21\" \"2025-01-18\"\n#&gt; \n#&gt; $keycode\n#&gt; [1] 8675309\n#&gt; \n#&gt; $storage_tiers\n#&gt; [1]  128  256  512 1024</pre></td></tr></table>\n</div>\n</div>\n</div>\n<p>One thing to notice about a list like this is that it doesn’t really make sense to represent it as a table. This is partly because the elements of the list are of different lengths, but really it’s because if we <em>did</em> represent it as a table, it would not mean anything to read across the rows:</p>\n<div class=\"highlight-wrapper\">\n<div class=\"highlight\"><div class=\"chroma\">\n<table class=\"lntable\"><tr><td class=\"lntd\">\n<pre>1\n2\n3\n4\n5\n6\n7\n8\n</pre></td>\n<td class=\"lntd\">\n<pre>items_df\n#&gt; # A tibble: 4 × 4\n#&gt;   todo_home              important_dates keycode storage_tiers\n#&gt;   &lt;chr&gt;                  &lt;date&gt;            &lt;int&gt;         &lt;int&gt;\n#&gt; 1 Laundry                1776-07-04      8675309           128\n#&gt; 2 Clean bathroom         1788-06-21           -            256\n#&gt; 3 Feed cat               2025-01-18           -            512\n#&gt; 4 Bring out rubbish bins -                    -           1024</pre></td></tr></table>\n</div>\n</div>\n</div>\n<p>The rows don’t form “cases” of anything. We just have four unrelated categories with various pieces of information in them.</p>\n<p>Lists are also useful because they lend themselves easily to being nested:</p>\n<div class=\"highlight-wrapper\">\n<div class=\"highlight\"><div class=\"chroma\">\n<table class=\"lntable\"><tr><td class=\"lntd\">\n<pre> 1\n 2\n 3\n 4\n 5\n 6\n 7\n 8\n 9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n</pre></td>\n<td class=\"lntd\">\n<pre>items &lt;- list(\n  todo_home = list(\n    tasks = c(\"Laundry\", \"Clean bathroom\", \"Feed cat\", \"Bring out rubbish bins\"),\n    tobuy = c(\"Cat Food\", \"Burritos\"), \n    wifi_password = \"p@ssw0rd!\"\n  ),\n  important_dates = as.Date(c(\"1776-07-04\", \"1788-06-21\", \"2025-01-18\")),\n  keycode = 8675309,\n  storage_tiers = list(\n    ssd = c(128, 256, 512, 1024),\n    ram = c(1, 4, 8)\n  )\n)\n\nitems\n#&gt; $todo_home\n#&gt; $todo_home$tasks\n#&gt; [1] \"Laundry\"                \"Clean bathroom\"         \"Feed cat\"               \"Bring out rubbish bins\"\n#&gt; \n#&gt; $todo_home$tobuy\n#&gt; [1] \"Cat Food\" \"Burritos\"\n#&gt; \n#&gt; $todo_home$wifi_password\n#&gt; [1] \"p@ssw0rd!\"\n#&gt; \n#&gt; \n#&gt; $important_dates\n#&gt; [1] \"1776-07-04\" \"1788-06-21\" \"2025-01-18\"\n#&gt; \n#&gt; $keycode\n#&gt; [1] 8675309\n#&gt; \n#&gt; $storage_tiers\n#&gt; $storage_tiers$ssd\n#&gt; [1]  128  256  512 1024\n#&gt; \n#&gt; $storage_tiers$ram\n#&gt; [1] 1 4 8</pre></td></tr></table>\n</div>\n</div>\n</div>\n<p>In its bones, R is a LISP/Scheme-like list-processing language fused with features of classic <a href=\"https://en.wikipedia.org/wiki/Array_programming\" rel=\"nofollow\" target=\"_blank\">array languages</a> like APL. This is because, in the world of data analysis, what we deal with all the time are rectangular tables, or arrays, where rows are cases and columns are different sorts of variables. The wrinkle is that, unlike a beautiful array of pure numbers, each column might measure something (a date, a True/False answer, a location, a score, a nationality) that we’d prefer not to represent directly as a number. Sure, underneath in the computer everything is all just ones and zeros. (Or rather, electromagnetic patterns in some physical substrate that we can interpret as meaning ones and zeros.) And if we want to do any sort of data analysis that involves treating our table as a matrix then we’ll want numeric representations of all the columns. But for many uses we’d like to see “France” or “Strongly Agree” instead of “33” or “5”. Just a table of rows and columns, where different things can be represented across columns, but any particular column is all the same kind of thing.</p>\n<p>A rectangular table like that is called a data frame. One way to think of a data frame is just as a special case of a list. A data frame is a list where you can put all the list elements side by side and treat them as columns, and where all these elements are made of vectors of the same length. Beyond that, it’s a list where the nth element of each vector refers to some property of the same underlying entity, i.e. the thing that’s in the row, or case; the thing the columns are showing you measurements or properties of. You can have empty entries if needed, as when some bit of data is missing. The important thing is that each column has as many slots as there are cases, and you fill in the values for each case in the same slot in each column. Whenever you look at any table of data, one of your first questions should always be “What is a row in this table?” In this case, each row is a variable in the full GSS dataset, and each column describes some property of that variable.</p>\n<div class=\"highlight-wrapper\">\n<div class=\"highlight\"><div class=\"chroma\">\n<table class=\"lntable\"><tr><td class=\"lntd\">\n<pre> 1\n 2\n 3\n 4\n 5\n 6\n 7\n 8\n 9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n</pre></td>\n<td class=\"lntd\">\n<pre>library(tibble)\nlibrary(gssrdoc)\n\ngss_doc\n#&gt; # A tibble: 6,694 × 10\n#&gt;    variable description                           question         value_labels var_yrtab yrballot_df module_df subject_df norc_id norc_url\n#&gt;    &lt;chr&gt;    &lt;chr&gt;                                 &lt;chr&gt;            &lt;chr&gt;        &lt;list&gt;    &lt;list&gt;      &lt;list&gt;    &lt;list&gt;       &lt;int&gt; &lt;chr&gt;   \n#&gt;  1 year     GSS year for this respondent          \"GSS year\"       \"[NA(d)] do… &lt;chr [1]&gt; &lt;tibble&gt;    &lt;tibble&gt;  &lt;tibble&gt;         1 https:/…\n#&gt;  2 id       Respondent id number                  \"Respondent id … \"\"           &lt;chr [1]&gt; &lt;tibble&gt;    &lt;tibble&gt;  &lt;tibble&gt;         2 https:/…\n#&gt;  3 wrkstat  labor force status                    \"Last week were… \"[1] workin… &lt;tibble&gt;  &lt;tibble&gt;    &lt;tibble&gt;  &lt;tibble&gt;         3 https:/…\n#&gt;  4 hrs1     number of hours worked last week      \"Last week were… \"[89] 89+ h… &lt;chr [1]&gt; &lt;tibble&gt;    &lt;tibble&gt;  &lt;tibble&gt;         4 https:/…\n#&gt;  5 hrs2     number of hours usually work a week   \"Last week were… \"[89] 89+ h… &lt;tibble&gt;  &lt;tibble&gt;    &lt;tibble&gt;  &lt;tibble&gt;         5 https:/…\n#&gt;  6 evwork   ever work as long as one year         \"Last week were… \"[1] yes / … &lt;tibble&gt;  &lt;tibble&gt;    &lt;tibble&gt;  &lt;tibble&gt;         6 https:/…\n#&gt;  7 occ      R's census occupation code (1970)     \"A. What kind o… \"[NA(d)] do… &lt;chr [1]&gt; &lt;tibble&gt;    &lt;tibble&gt;  &lt;tibble&gt;         7 https:/…\n#&gt;  8 prestige r's occupational prestige score(1970) \"A. What kind o… \"[NA(d)] do… &lt;tibble&gt;  &lt;tibble&gt;    &lt;tibble&gt;  &lt;tibble&gt;         8 https:/…\n#&gt;  9 wrkslf   r self-emp or works for somebody      \"A. What kind o… \"[1] self-e… &lt;tibble&gt;  &lt;tibble&gt;    &lt;tibble&gt;  &lt;tibble&gt;         9 https:/…\n#&gt; 10 wrkgovt  govt or private employee              \"A. What kind o… \"[1] govern… &lt;tibble&gt;  &lt;tibble&gt;    &lt;tibble&gt;  &lt;tibble&gt;        10 https:/…\n#&gt; # ℹ 6,684 more rows</pre></td></tr></table>\n</div>\n</div>\n</div>\n<p>Because R was designed by statisticians—R is a descendant of <a href=\"https://en.wikipedia.org/wiki/S_(programming_language)\" rel=\"nofollow\" target=\"_blank\">S</a>, which like everything else in computing traces its origins to <a href=\"https://en.wikipedia.org/wiki/S_(programming_language)\" rel=\"nofollow\" target=\"_blank\">Bell Labs</a>—it has this concept of a data frame built-in to its core instead of being bolted-on afterwards, which is extremely handy. Normally data frames are just ordinary rectangles, but there’s no reason why any particular column can’t itself be thought of as a list of something else. That’s what we have here. The <code>yr_vartab</code> column contains data frames of crosstabs of the answers to each question by year. Except where it doesn’t (e.g. for <code>id</code>), and this is fine because lists don’t have to be internally homogeneous. Similarly <code>yrballot_df</code> has a little table of which ballots, or internal portions of the survey, a question was asked on for each year it was asked.</p>\n<p>The upshot is that having assembled the <code>gss_doc</code> object we can use it to emit, like, seven thousand pages of documentation on the GSS’s many, many questions over the years. We can build them as standardized R help pages, as above. On the <a href=\"https://kjhealy.github.io/gssrdoc/index.html\" rel=\"nofollow\" target=\"_blank\">website</a> that <code>pgkdown</code> builds for us, we get this:</p>\n<figure><a href=\"https://i1.wp.com/kieranhealy.org/blog/archives/2025/10/19/gssrdoc-updates/gssrdoc-varpage.png?ssl=1\" rel=\"nofollow\" target=\"_blank\">\n<img alt=\"Website view.\" data-lazy-src=\"https://i1.wp.com/kieranhealy.org/blog/archives/2025/10/19/gssrdoc-updates/gssrdoc-varpage.png?w=578&amp;ssl=1\" data-recalc-dims=\"1\" src=\"https://www.r-bloggers.com/wp-content/plugins/jetpack/modules/lazy-images/images/1x1.trans.gif\"/><noscript><img alt=\"Website view.\" data-recalc-dims=\"1\" src=\"https://i1.wp.com/kieranhealy.org/blog/archives/2025/10/19/gssrdoc-updates/gssrdoc-varpage.png?w=578&amp;ssl=1\"/></noscript></a><figcaption>\n<p>Website view.</p>\n</figcaption>\n</figure>\n<p>The cross-referencing to other relevant variables in the “See Also” section is new in this version. It comes courtesy of the GSS’s own information about survey modules and an ad hoc topic index they keep for the variables. I just use a subset of possible cross-references as we don’t want, e.g., every single question in the GSS core to be cross-referenced to every other core question on any particular help page. On the website, I gather these into a <a href=\"https://kjhealy.github.io/gssrdoc/articles/topics.html\" rel=\"nofollow\" target=\"_blank\">single page</a>:</p>\n<figure><a href=\"https://i2.wp.com/kieranhealy.org/blog/archives/2025/10/19/gssrdoc-updates/gssrdoc-topics.png?ssl=1\" rel=\"nofollow\" target=\"_blank\">\n<img alt=\"Topic index page.\" data-lazy-src=\"https://i2.wp.com/kieranhealy.org/blog/archives/2025/10/19/gssrdoc-updates/gssrdoc-topics.png?w=578&amp;ssl=1\" data-recalc-dims=\"1\" src=\"https://www.r-bloggers.com/wp-content/plugins/jetpack/modules/lazy-images/images/1x1.trans.gif\"/><noscript><img alt=\"Topic index page.\" data-recalc-dims=\"1\" src=\"https://i2.wp.com/kieranhealy.org/blog/archives/2025/10/19/gssrdoc-updates/gssrdoc-topics.png?w=578&amp;ssl=1\"/></noscript></a><figcaption>\n<p>Topic index page.</p>\n</figcaption>\n</figure>\n<p>The GSS has its own handy <a href=\"https://gssdataexplorer.norc.org/\" rel=\"nofollow\" target=\"_blank\">data explorer</a> which is very useful for quickly checking on particular trends and getting a quick graph of what the data look like, or a summary view of the content of particular variables. Each help page in <code>gssrdoc</code> now links to the GSS Data Explorer page for that variable, in case you want to hop over and take a look there. Of course, the <code>gssrdoc</code> package doesn’t and isn’t meant to replace the Data Explorer; it’s just a different view of the same information, with a different use-case in mind.</p>\n<div class=\"jp-relatedposts\" id=\"jp-relatedposts\">\n<h3 class=\"jp-relatedposts-headline\"><em>Related</em></h3>\n</div>\n<!-- Share buttons by mashshare.net - Version: 4.0.47-->\n<div style=\"border: 1px solid; background: none repeat scroll 0 0 #EDEDED; margin: 1px; font-size: 13px;\">\n<div style=\"text-align: center;\">To <strong>leave a comment</strong> for the author, please follow the link and comment on their blog: <strong><a href=\"https://kieranhealy.org/blog/archives/2025/10/19/gssrdoc-updates/\"> R on kieranhealy.org</a></strong>.</div>\n<hr/>\n<a href=\"https://www.r-bloggers.com/\" rel=\"nofollow\">R-bloggers.com</a> offers <strong><a href=\"https://feedburner.google.com/fb/a/mailverify?uri=RBloggers\" rel=\"nofollow\">daily e-mail updates</a></strong> about <a href=\"https://www.r-project.org/\" rel=\"nofollow\" title=\"The R Project for Statistical Computing\">R</a> news and tutorials about <a href=\"https://www.r-bloggers.com/how-to-learn-r-2/\" rel=\"nofollow\" title=\"R tutorials\">learning R</a> and many other topics. <a href=\"https://www.r-users.com/\" rel=\"nofollow\" title=\"Data science jobs\">Click here if you're looking to post or find an R/data-science job</a>.\n\n<hr/>Want to share your content on R-bloggers?<a href=\"https://www.r-bloggers.com/add-your-blog/\" rel=\"nofollow\"> click here</a> if you have a blog, or <a href=\"http://r-posts.com/\" rel=\"nofollow\"> here</a> if you don't.\n</div> </div>\n</article>",
    "main_text": "gssrdoc Updates\nPosted on\nOctober 19, 2025\nby\nR on kieranhealy.org\nin\nR bloggers\n| 0 Comments\n[This article was first published on\nR on kieranhealy.org\n, and kindly contributed to\nR-bloggers\n].  (You can report issue about the content on this page\nhere\n)\nWant to share your content on R-bloggers?\nclick here\nif you have a blog, or\nhere\nif you don't.\nRegular readers know that I maintain\ngssr\nand\ngssrdoc\n, two packages for\nR\n. The former makes the\nGeneral Social Survey\n’s annual, cumulative and panel datasets available in a way that’s easy to use in R. The latter makes the survey’s codebook available in R’s integrated help system in a way that documents every GSS variable as if it were a function or object in R, so you can query them in exactly the same way as any function from the R console or in the IDE of your choice. As a bonus, because I use\npkgdown\nto document the packages, I get a website as a side-effect. In the case of\ngssrdoc\nthis means\na browsable index of all the GSS variables\n. The GSS is the Hubble Space Telescope of American social science; our longest-running representative view of many aspects of the character and opinions of American households. The data is\nfreely available from NORC\n, but they distribute it in SPSS, SAS, and STATA formats. I wrote these packages in an effort to make it more easily available in\nR\n. If you want to know the relationship between these various platforms,\nI have you covered\n. But the important thing is that R is a free and open-source project, and the others are not.\nThis week I spent a little time updating\ngssrdoc\na bit to clean up how the help pages looked and make some other improvements. Inside R, you can say, e.g.,\n?govdook\nat the console and have this pop up in the help:\nYeah govdook is short for ‘Gov Do OK’, not ‘Dook’.\nThe package also includes\ngss_doc\n, a data frame containing all of the information that the help pages are built from. I included it because it can be useful to work with directly, as when you might want to extract summary information about a subset of variables.\n1\n 2\n 3\n 4\n 5\n 6\n 7\n 8\n 9\n10\n11\n12\n13\n14\n15\n16\n17\n18\nlibrary(tibble)\nlibrary(gssrdoc)\n\ngss_doc\n#> # A tibble: 6,694 × 10\n#>    variable description                           question         value_labels var_yrtab yrballot_df module_df subject_df norc_id norc_url\n#>    <chr>    <chr>                                 <chr>            <chr>        <list>    <list>      <list>    <list>       <int> <chr>   \n#>  1 year     GSS year for this respondent          \"GSS year\"       \"[NA(d)] do… <chr [1]> <tibble>    <tibble>  <tibble>         1 https:/…\n#>  2 id       Respondent id number                  \"Respondent id … \"\"           <chr [1]> <tibble>    <tibble>  <tibble>         2 https:/…\n#>  3 wrkstat  labor force status                    \"Last week were… \"[1] workin… <tibble>  <tibble>    <tibble>  <tibble>         3 https:/…\n#>  4 hrs1     number of hours worked last week      \"Last week were… \"[89] 89+ h… <chr [1]> <tibble>    <tibble>  <tibble>         4 https:/…\n#>  5 hrs2     number of hours usually work a week   \"Last week were… \"[89] 89+ h… <tibble>  <tibble>    <tibble>  <tibble>         5 https:/…\n#>  6 evwork   ever work as long as one year         \"Last week were… \"[1] yes / … <tibble>  <tibble>    <tibble>  <tibble>         6 https:/…\n#>  7 occ      R's census occupation code (1970)     \"A. What kind o… \"[NA(d)] do… <chr [1]> <tibble>    <tibble>  <tibble>         7 https:/…\n#>  8 prestige r's occupational prestige score(1970) \"A. What kind o… \"[NA(d)] do… <tibble>  <tibble>    <tibble>  <tibble>         8 https:/…\n#>  9 wrkslf   r self-emp or works for somebody      \"A. What kind o… \"[1] self-e… <tibble>  <tibble>    <tibble>  <tibble>         9 https:/…\n#> 10 wrkgovt  govt or private employee              \"A. What kind o… \"[1] govern… <tibble>  <tibble>    <tibble>  <tibble>        10 https:/…\n#> # ℹ 6,684 more rows\nThe\ngss_doc\nobject has regular columns but also a series of\nlist-columns\nto (insert meme here, you know the one) put data frames inside your data frames. (They’re labeled as “\ntibbles\n” here; basically the same thing).\nWhy a list-column? Why a list? Well, a list is one of the fundamental ways to store data of any sort. Lists are useful because they can contain heterogeneous elements:\n1\n 2\n 3\n 4\n 5\n 6\n 7\n 8\n 9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\nitems <- list(\n  todo_home = c(\"Laundry\", \"Clean bathroom\", \"Feed cat\", \"Bring out rubbish bins\"),\n  important_dates = as.Date(c(\"1776-07-04\", \"1788-06-21\", \"2025-01-18\")),\n  keycode = 8675309,\n  storage_tiers = c(128, 256, 512, 1024)\n)\n\nitems\n#> $todo_home\n#> [1] \"Laundry\"                \"Clean bathroom\"         \"Feed cat\"               \"Bring out rubbish bins\"\n#> \n#> $important_dates\n#> [1] \"1776-07-04\" \"1788-06-21\" \"2025-01-18\"\n#> \n#> $keycode\n#> [1] 8675309\n#> \n#> $storage_tiers\n#> [1]  128  256  512 1024\nOne thing to notice about a list like this is that it doesn’t really make sense to represent it as a table. This is partly because the elements of the list are of different lengths, but really it’s because if we\ndid\nrepresent it as a table, it would not mean anything to read across the rows:\n1\n2\n3\n4\n5\n6\n7\n8\nitems_df\n#> # A tibble: 4 × 4\n#>   todo_home              important_dates keycode storage_tiers\n#>   <chr>                  <date>            <int>         <int>\n#> 1 Laundry                1776-07-04      8675309           128\n#> 2 Clean bathroom         1788-06-21           -            256\n#> 3 Feed cat               2025-01-18           -            512\n#> 4 Bring out rubbish bins -                    -           1024\nThe rows don’t form “cases” of anything. We just have four unrelated categories with various pieces of information in them.\nLists are also useful because they lend themselves easily to being nested:\n1\n 2\n 3\n 4\n 5\n 6\n 7\n 8\n 9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\nitems <- list(\n  todo_home = list(\n    tasks = c(\"Laundry\", \"Clean bathroom\", \"Feed cat\", \"Bring out rubbish bins\"),\n    tobuy = c(\"Cat Food\", \"Burritos\"), \n    wifi_password = \"p@ssw0rd!\"\n  ),\n  important_dates = as.Date(c(\"1776-07-04\", \"1788-06-21\", \"2025-01-18\")),\n  keycode = 8675309,\n  storage_tiers = list(\n    ssd = c(128, 256, 512, 1024),\n    ram = c(1, 4, 8)\n  )\n)\n\nitems\n#> $todo_home\n#> $todo_home$tasks\n#> [1] \"Laundry\"                \"Clean bathroom\"         \"Feed cat\"               \"Bring out rubbish bins\"\n#> \n#> $todo_home$tobuy\n#> [1] \"Cat Food\" \"Burritos\"\n#> \n#> $todo_home$wifi_password\n#> [1] \"p@ssw0rd!\"\n#> \n#> \n#> $important_dates\n#> [1] \"1776-07-04\" \"1788-06-21\" \"2025-01-18\"\n#> \n#> $keycode\n#> [1] 8675309\n#> \n#> $storage_tiers\n#> $storage_tiers$ssd\n#> [1]  128  256  512 1024\n#> \n#> $storage_tiers$ram\n#> [1] 1 4 8\nIn its bones, R is a LISP/Scheme-like list-processing language fused with features of classic\narray languages\nlike APL. This is because, in the world of data analysis, what we deal with all the time are rectangular tables, or arrays, where rows are cases and columns are different sorts of variables. The wrinkle is that, unlike a beautiful array of pure numbers, each column might measure something (a date, a True/False answer, a location, a score, a nationality) that we’d prefer not to represent directly as a number. Sure, underneath in the computer everything is all just ones and zeros. (Or rather, electromagnetic patterns in some physical substrate that we can interpret as meaning ones and zeros.) And if we want to do any sort of data analysis that involves treating our table as a matrix then we’ll want numeric representations of all the columns. But for many uses we’d like to see “France” or “Strongly Agree” instead of “33” or “5”. Just a table of rows and columns, where different things can be represented across columns, but any particular column is all the same kind of thing.\nA rectangular table like that is called a data frame. One way to think of a data frame is just as a special case of a list. A data frame is a list where you can put all the list elements side by side and treat them as columns, and where all these elements are made of vectors of the same length. Beyond that, it’s a list where the nth element of each vector refers to some property of the same underlying entity, i.e. the thing that’s in the row, or case; the thing the columns are showing you measurements or properties of. You can have empty entries if needed, as when some bit of data is missing. The important thing is that each column has as many slots as there are cases, and you fill in the values for each case in the same slot in each column. Whenever you look at any table of data, one of your first questions should always be “What is a row in this table?” In this case, each row is a variable in the full GSS dataset, and each column describes some property of that variable.\n1\n 2\n 3\n 4\n 5\n 6\n 7\n 8\n 9\n10\n11\n12\n13\n14\n15\n16\n17\n18\nlibrary(tibble)\nlibrary(gssrdoc)\n\ngss_doc\n#> # A tibble: 6,694 × 10\n#>    variable description                           question         value_labels var_yrtab yrballot_df module_df subject_df norc_id norc_url\n#>    <chr>    <chr>                                 <chr>            <chr>        <list>    <list>      <list>    <list>       <int> <chr>   \n#>  1 year     GSS year for this respondent          \"GSS year\"       \"[NA(d)] do… <chr [1]> <tibble>    <tibble>  <tibble>         1 https:/…\n#>  2 id       Respondent id number                  \"Respondent id … \"\"           <chr [1]> <tibble>    <tibble>  <tibble>         2 https:/…\n#>  3 wrkstat  labor force status                    \"Last week were… \"[1] workin… <tibble>  <tibble>    <tibble>  <tibble>         3 https:/…\n#>  4 hrs1     number of hours worked last week      \"Last week were… \"[89] 89+ h… <chr [1]> <tibble>    <tibble>  <tibble>         4 https:/…\n#>  5 hrs2     number of hours usually work a week   \"Last week were… \"[89] 89+ h… <tibble>  <tibble>    <tibble>  <tibble>         5 https:/…\n#>  6 evwork   ever work as long as one year         \"Last week were… \"[1] yes / … <tibble>  <tibble>    <tibble>  <tibble>         6 https:/…\n#>  7 occ      R's census occupation code (1970)     \"A. What kind o… \"[NA(d)] do… <chr [1]> <tibble>    <tibble>  <tibble>         7 https:/…\n#>  8 prestige r's occupational prestige score(1970) \"A. What kind o… \"[NA(d)] do… <tibble>  <tibble>    <tibble>  <tibble>         8 https:/…\n#>  9 wrkslf   r self-emp or works for somebody      \"A. What kind o… \"[1] self-e… <tibble>  <tibble>    <tibble>  <tibble>         9 https:/…\n#> 10 wrkgovt  govt or private employee              \"A. What kind o… \"[1] govern… <tibble>  <tibble>    <tibble>  <tibble>        10 https:/…\n#> # ℹ 6,684 more rows\nBecause R was designed by statisticians—R is a descendant of\nS\n, which like everything else in computing traces its origins to\nBell Labs\n—it has this concept of a data frame built-in to its core instead of being bolted-on afterwards, which is extremely handy. Normally data frames are just ordinary rectangles, but there’s no reason why any particular column can’t itself be thought of as a list of something else. That’s what we have here. The\nyr_vartab\ncolumn contains data frames of crosstabs of the answers to each question by year. Except where it doesn’t (e.g. for\nid\n), and this is fine because lists don’t have to be internally homogeneous. Similarly\nyrballot_df\nhas a little table of which ballots, or internal portions of the survey, a question was asked on for each year it was asked.\nThe upshot is that having assembled the\ngss_doc\nobject we can use it to emit, like, seven thousand pages of documentation on the GSS’s many, many questions over the years. We can build them as standardized R help pages, as above. On the\nwebsite\nthat\npgkdown\nbuilds for us, we get this:\nWebsite view.\nThe cross-referencing to other relevant variables in the “See Also” section is new in this version. It comes courtesy of the GSS’s own information about survey modules and an ad hoc topic index they keep for the variables. I just use a subset of possible cross-references as we don’t want, e.g., every single question in the GSS core to be cross-referenced to every other core question on any particular help page. On the website, I gather these into a\nsingle page\n:\nTopic index page.\nThe GSS has its own handy\ndata explorer\nwhich is very useful for quickly checking on particular trends and getting a quick graph of what the data look like, or a summary view of the content of particular variables. Each help page in\ngssrdoc\nnow links to the GSS Data Explorer page for that variable, in case you want to hop over and take a look there. Of course, the\ngssrdoc\npackage doesn’t and isn’t meant to replace the Data Explorer; it’s just a different view of the same information, with a different use-case in mind.\nRelated\nTo\nleave a comment\nfor the author, please follow the link and comment on their blog:\nR on kieranhealy.org\n.\nR-bloggers.com\noffers\ndaily e-mail updates\nabout\nR\nnews and tutorials about\nlearning R\nand many other topics.\nClick here if you're looking to post or find an R/data-science job\n.\nWant to share your content on R-bloggers?\nclick here\nif you have a blog, or\nhere\nif you don't.",
    "meta_description": "Regular readers know that I maintain gssr and gssrdoc, two packages for R. The former makes the General Social Survey’s annual, cumulative and panel datasets available in a way that’s easy to use in R. The latter makes the survey’s codebook available in R’s integrated help system in a way that documents every GSS variable as if it were a function or object in R, so you can query them in exactly the same way as any function from the R console or in the IDE of your choice. As a bonus, because I use pkgdown to document the packages, I get a website as a side-effect. In the case of gssrdoc this means a browsable index of all the GSS variables. The GSS is the Hubble Space Telescope of American social science; our longest-running representative view of many aspects of the character and opinions of American households. The data is freely available from NORC, but they distribute it in SPSS, SAS, and STATA formats. I wrote these packages in an effort to make it more easily available in R. If you want to know the relationship between these various platforms, I have you covered. But the important thing is that R is a free and open-source project, and the others are not. This week I spent a little time updating gssrdoc a bit to clean up how the help pages looked and make some other improvements. Inside R, you can say, e.g., ?govdook at the console and have this pop up in the help: Yeah govdook is short for ‘Gov Do OK’, not ‘Dook’. The package also includes gss_doc, a data frame containing all of the information that the help pages are built from. I included it because it can be useful to work with directly, as when you might want to extract summary information about a subset of variables. 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 library(tibble) library(gssrdoc) gss_doc #> # A tibble: 6,694 × 10 #> variable description question value_labels var_yrtab yrballot_df module_df subject_df norc_id norc_url #> #> 1 year GSS year for this respondent \"GSS year\" \"[NA(d)] do… 1 https:/… #> 2 id Respondent id number \"Respondent id … \"\" 2 https:/… #> 3 wrkstat labor force status \"Last week were… \"[1] workin… 3 https:/… #> 4 hrs1 number of hours worked last week \"Last week were… \"[89] 89+ h… 4 https:/… #> 5 hrs2 number of hours usually work a week \"Last week were… \"[89] 89+ h… 5 https:/… #> 6 evwork ever work as long as one year \"Last week were… \"[1] yes / … 6 https:/… #> 7 occ R's census occupation code (1970) \"A. What kind o… \"[NA(d)] do… 7 https:/… #> 8 prestige r's occupational prestige score(1970) \"A. What kind o… \"[NA(d)] do… 8 https:/… #> 9 wrkslf r self-emp or works for somebody \"A. What kind o… \"[1] self-e… 9 https:/… #> 10 wrkgovt govt or private employee \"A. What kind o… \"[1] govern… 10 https:/… #> # ℹ 6,684 more rows The gss_doc object has regular columns but also a series of list-columns to (insert meme here, you know the one) put data frames inside your data frames. (They’re labeled as “tibbles” here; basically the same thing). Why a list-column? Why a list? Well, a list is one of the fundamental ways to store data of any sort. Lists are useful because they can contain heterogeneous elements: 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 items $todo_home #> [1] \"Laundry\" \"Clean bathroom\" \"Feed cat\" \"Bring out rubbish bins\" #> #> $important_dates #> [1] \"1776-07-04\" \"1788-06-21\" \"2025-01-18\" #> #> $keycode #> [1] 8675309 #> #> $storage_tiers #> [1] 128 256 512 1024 One thing to notice about a list like this is that it doesn’t really make sense to represent it as a table. This is partly because the elements of the list are of different lengths, but really it’s because if we did represent it as a table, it would not mean anything to read across the rows: 1 2 3 4 5 6 7 8 items_df #> # A tibble: 4 × 4 #> todo_home important_dates keycode storage_tiers #> #> 1 Laundry 1776-07-04 8675309 128 #> 2 Clean bathroom 1788-06-21 - 256 #> 3 Feed cat 2025-01-18 - 512 #> 4 Bring out rubbish bins - - 1024 The rows don’t form “cases” of anything. We just have four unrelated categories with various pieces of information in them. Lists are also useful because they lend themselves easily to being nested: 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 items $todo_home #> $todo_home$tasks #> [1] \"Laundry\" \"Clean bathroom\" \"Feed cat\" \"Bring out rubbish bins\" #> #> $todo_home$tobuy #> [1] \"Cat Food\" \"Burritos\" #> #> $todo_home$wifi_password #> [1] \"p@ssw0rd!\" #> #> #> $important_dates #> [1] \"1776-07-04\" \"1788-06-21\" \"2025-01-18\" #> #> $keycode #> [1] 8675309 #> #> $storage_tiers #> $storage_tiers$ssd #> [1] 128 256 512 1024 #> #> $storage_tiers$ram #> [1] 1 4 8 In its bones, R is a LISP/Scheme-like list-processing language fused with features of classic array languages like APL. This is because, in the world of data analysis, what we deal with all the time are rectangular tables, or arrays, where rows are cases and columns are different sorts of variables. The wrinkle is that, unlike a beautiful array of pure numbers, each column might measure something (a date, a True/False answer, a location, a score, a nationality) that we’d prefer not to represent directly as a number. Sure, underneath in the computer everything is all just ones and zeros. (Or rather, electromagnetic patterns in some physical substrate that we can interpret as meaning ones and zeros.) And if we want to do any sort of data analysis that involves treating our table as a matrix then we’ll want numeric representations of all the columns. But for many uses we’d like to see “France” or “Strongly Agree” instead of “33” or “5”. Just a table of rows and columns, where different things can be represented across columns, but any particular column is all the same kind of thing. A rectangular table like that is called a data frame. One way to think of a data frame is just as a special case of a list. A data frame is a list where you can put all the list elements side by side and treat them as columns, and where all these elements are made of vectors of the same length. Beyond that, it’s a list where the nth element of each vector refers to some property of the same underlying entity, i.e. the thing that’s in the row, or case; the thing the columns are showing you measurements or properties of. You can have empty entries if needed, as when some bit of data is missing. The important thing is that each column has as many slots as there are cases, and you fill in the values for each case in the same slot in each column. Whenever you look at any table of data, one of your first questions should always be “What is a row in this table?” In this case, each row is a variable in the full GSS dataset, and each column describes some property of that variable. 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 library(tibble) library(gssrdoc) gss_doc #> # A tibble: 6,694 × 10 #> variable description question value_labels var_yrtab yrballot_df module_df subject_df norc_id norc_url #> #> 1 year GSS year for this respondent \"GSS year\" \"[NA(d)] do… 1 https:/… #> 2 id Respondent id number \"Respondent id … \"\" 2 https:/… #> 3 wrkstat labor force status \"Last week were… \"[1] workin… 3 https:/… #> 4 hrs1 number of hours worked last week \"Last week were… \"[89] 89+ h… 4 https:/… #> 5 hrs2 number of hours usually work a week \"Last week were… \"[89] 89+ h… 5 https:/… #> 6 evwork ever work as long as one year \"Last week were… \"[1] yes / … 6 https:/… #> 7 occ R's census occupation code (1970) \"A. What kind o… \"[NA(d)] do… 7 https:/… #> 8 prestige r's occupational prestige score(1970) \"A. What kind o… \"[NA(d)] do… 8 https:/… #> 9 wrkslf r self-emp or works for somebody \"A. What kind o… \"[1] self-e… 9 https:/… #> 10 wrkgovt govt or private employee \"A. What kind o… \"[1] govern… 10 https:/… #> # ℹ 6,684 more rows Because R was designed by statisticians—R is a descendant of S, which like everything else in computing traces its origins to Bell Labs—it has this concept of a data frame built-in to its core instead of being bolted-on afterwards, which is extremely handy. Normally data frames are just ordinary rectangles, but there’s no reason why any particular column can’t itself be thought of as a list of something else. That’s what we have here. The yr_vartab column contains data frames of crosstabs of the answers to each question by year. Except where it doesn’t (e.g. for id), and this is fine because lists don’t have to be internally homogeneous. Similarly yrballot_df has a little table of which ballots, or internal portions of the survey, a question was asked on for each year it was asked. The upshot is that having assembled the gss_doc object we can use it to emit, like, seven thousand pages of documentation on the GSS’s many, many questions over the years. We can build them as standardized R help pages, as above. On the website that pgkdown builds for us, we get this: Website view. The cross-referencing to other relevant variables in the “See Also” section is new in this version. It comes courtesy of the GSS’s own information about survey modules and an ad hoc topic index they keep for the variables. I just use a subset of possible cross-references as we don’t want, e.g., every single question in the GSS core to be cross-referenced to every other core question on any particular help page. On the website, I gather these into a single page: Topic index page. The GSS has its own handy data explorer which is very useful for quickly checking on particular trends and getting a quick graph of what the data look like, or a summary view of the content of particular variables. Each help page in gssrdoc now links to the GSS Data Explorer page for that variable, in case you want to hop over and take a look there. Of course, the gssrdoc package doesn’t and isn’t meant to replace the Data Explorer; it’s just a different view of the same information, with a different use-case in mind.",
    "meta_keywords": null,
    "og_description": "Regular readers know that I maintain gssr and gssrdoc, two packages for R. The former makes the General Social Survey’s annual, cumulative and panel datasets available in a way that’s easy to use in R. The latter makes the survey’s codebook available in R’s integrated help system in a way that documents every GSS variable as if it were a function or object in R, so you can query them in exactly the same way as any function from the R console or in the IDE of your choice. As a bonus, because I use pkgdown to document the packages, I get a website as a side-effect. In the case of gssrdoc this means a browsable index of all the GSS variables. The GSS is the Hubble Space Telescope of American social science; our longest-running representative view of many aspects of the character and opinions of American households. The data is freely available from NORC, but they distribute it in SPSS, SAS, and STATA formats. I wrote these packages in an effort to make it more easily available in R. If you want to know the relationship between these various platforms, I have you covered. But the important thing is that R is a free and open-source project, and the others are not. This week I spent a little time updating gssrdoc a bit to clean up how the help pages looked and make some other improvements. Inside R, you can say, e.g., ?govdook at the console and have this pop up in the help: Yeah govdook is short for ‘Gov Do OK’, not ‘Dook’. The package also includes gss_doc, a data frame containing all of the information that the help pages are built from. I included it because it can be useful to work with directly, as when you might want to extract summary information about a subset of variables. 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 library(tibble) library(gssrdoc) gss_doc #> # A tibble: 6,694 × 10 #> variable description question value_labels var_yrtab yrballot_df module_df subject_df norc_id norc_url #> #> 1 year GSS year for this respondent \"GSS year\" \"[NA(d)] do… 1 https:/… #> 2 id Respondent id number \"Respondent id … \"\" 2 https:/… #> 3 wrkstat labor force status \"Last week were… \"[1] workin… 3 https:/… #> 4 hrs1 number of hours worked last week \"Last week were… \"[89] 89+ h… 4 https:/… #> 5 hrs2 number of hours usually work a week \"Last week were… \"[89] 89+ h… 5 https:/… #> 6 evwork ever work as long as one year \"Last week were… \"[1] yes / … 6 https:/… #> 7 occ R's census occupation code (1970) \"A. What kind o… \"[NA(d)] do… 7 https:/… #> 8 prestige r's occupational prestige score(1970) \"A. What kind o… \"[NA(d)] do… 8 https:/… #> 9 wrkslf r self-emp or works for somebody \"A. What kind o… \"[1] self-e… 9 https:/… #> 10 wrkgovt govt or private employee \"A. What kind o… \"[1] govern… 10 https:/… #> # ℹ 6,684 more rows The gss_doc object has regular columns but also a series of list-columns to (insert meme here, you know the one) put data frames inside your data frames. (They’re labeled as “tibbles” here; basically the same thing). Why a list-column? Why a list? Well, a list is one of the fundamental ways to store data of any sort. Lists are useful because they can contain heterogeneous elements: 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 items $todo_home #> [1] \"Laundry\" \"Clean bathroom\" \"Feed cat\" \"Bring out rubbish bins\" #> #> $important_dates #> [1] \"1776-07-04\" \"1788-06-21\" \"2025-01-18\" #> #> $keycode #> [1] 8675309 #> #> $storage_tiers #> [1] 128 256 512 1024 One thing to notice about a list like this is that it doesn’t really make sense to represent it as a table. This is partly because the elements of the list are of different lengths, but really it’s because if we did represent it as a table, it would not mean anything to read across the rows: 1 2 3 4 5 6 7 8 items_df #> # A tibble: 4 × 4 #> todo_home important_dates keycode storage_tiers #> #> 1 Laundry 1776-07-04 8675309 128 #> 2 Clean bathroom 1788-06-21 - 256 #> 3 Feed cat 2025-01-18 - 512 #> 4 Bring out rubbish bins - - 1024 The rows don’t form “cases” of anything. We just have four unrelated categories with various pieces of information in them. Lists are also useful because they lend themselves easily to being nested: 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 items $todo_home #> $todo_home$tasks #> [1] \"Laundry\" \"Clean bathroom\" \"Feed cat\" \"Bring out rubbish bins\" #> #> $todo_home$tobuy #> [1] \"Cat Food\" \"Burritos\" #> #> $todo_home$wifi_password #> [1] \"p@ssw0rd!\" #> #> #> $important_dates #> [1] \"1776-07-04\" \"1788-06-21\" \"2025-01-18\" #> #> $keycode #> [1] 8675309 #> #> $storage_tiers #> $storage_tiers$ssd #> [1] 128 256 512 1024 #> #> $storage_tiers$ram #> [1] 1 4 8 In its bones, R is a LISP/Scheme-like list-processing language fused with features of classic array languages like APL. This is because, in the world of data analysis, what we deal with all the time are rectangular tables, or arrays, where rows are cases and columns are different sorts of variables. The wrinkle is that, unlike a beautiful array of pure numbers, each column might measure something (a date, a True/False answer, a location, a score, a nationality) that we’d prefer not to represent directly as a number. Sure, underneath in the computer everything is all just ones and zeros. (Or rather, electromagnetic patterns in some physical substrate that we can interpret as meaning ones and zeros.) And if we want to do any sort of data analysis that involves treating our table as a matrix then we’ll want numeric representations of all the columns. But for many uses we’d like to see “France” or “Strongly Agree” instead of “33” or “5”. Just a table of rows and columns, where different things can be represented across columns, but any particular column is all the same kind of thing. A rectangular table like that is called a data frame. One way to think of a data frame is just as a special case of a list. A data frame is a list where you can put all the list elements side by side and treat them as columns, and where all these elements are made of vectors of the same length. Beyond that, it’s a list where the nth element of each vector refers to some property of the same underlying entity, i.e. the thing that’s in the row, or case; the thing the columns are showing you measurements or properties of. You can have empty entries if needed, as when some bit of data is missing. The important thing is that each column has as many slots as there are cases, and you fill in the values for each case in the same slot in each column. Whenever you look at any table of data, one of your first questions should always be “What is a row in this table?” In this case, each row is a variable in the full GSS dataset, and each column describes some property of that variable. 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 library(tibble) library(gssrdoc) gss_doc #> # A tibble: 6,694 × 10 #> variable description question value_labels var_yrtab yrballot_df module_df subject_df norc_id norc_url #> #> 1 year GSS year for this respondent \"GSS year\" \"[NA(d)] do… 1 https:/… #> 2 id Respondent id number \"Respondent id … \"\" 2 https:/… #> 3 wrkstat labor force status \"Last week were… \"[1] workin… 3 https:/… #> 4 hrs1 number of hours worked last week \"Last week were… \"[89] 89+ h… 4 https:/… #> 5 hrs2 number of hours usually work a week \"Last week were… \"[89] 89+ h… 5 https:/… #> 6 evwork ever work as long as one year \"Last week were… \"[1] yes / … 6 https:/… #> 7 occ R's census occupation code (1970) \"A. What kind o… \"[NA(d)] do… 7 https:/… #> 8 prestige r's occupational prestige score(1970) \"A. What kind o… \"[NA(d)] do… 8 https:/… #> 9 wrkslf r self-emp or works for somebody \"A. What kind o… \"[1] self-e… 9 https:/… #> 10 wrkgovt govt or private employee \"A. What kind o… \"[1] govern… 10 https:/… #> # ℹ 6,684 more rows Because R was designed by statisticians—R is a descendant of S, which like everything else in computing traces its origins to Bell Labs—it has this concept of a data frame built-in to its core instead of being bolted-on afterwards, which is extremely handy. Normally data frames are just ordinary rectangles, but there’s no reason why any particular column can’t itself be thought of as a list of something else. That’s what we have here. The yr_vartab column contains data frames of crosstabs of the answers to each question by year. Except where it doesn’t (e.g. for id), and this is fine because lists don’t have to be internally homogeneous. Similarly yrballot_df has a little table of which ballots, or internal portions of the survey, a question was asked on for each year it was asked. The upshot is that having assembled the gss_doc object we can use it to emit, like, seven thousand pages of documentation on the GSS’s many, many questions over the years. We can build them as standardized R help pages, as above. On the website that pgkdown builds for us, we get this: Website view. The cross-referencing to other relevant variables in the “See Also” section is new in this version. It comes courtesy of the GSS’s own information about survey modules and an ad hoc topic index they keep for the variables. I just use a subset of possible cross-references as we don’t want, e.g., every single question in the GSS core to be cross-referenced to every other core question on any particular help page. On the website, I gather these into a single page: Topic index page. The GSS has its own handy data explorer which is very useful for quickly checking on particular trends and getting a quick graph of what the data look like, or a summary view of the content of particular variables. Each help page in gssrdoc now links to the GSS Data Explorer page for that variable, in case you want to hop over and take a look there. Of course, the gssrdoc package doesn’t and isn’t meant to replace the Data Explorer; it’s just a different view of the same information, with a different use-case in mind.",
    "og_image": "https://www.r-bloggers.com/wp-content/uploads/2016/04/R_02_2016-05-01.png",
    "og_title": "gssrdoc Updates | R-bloggers",
    "raw_jsonld_article": null,
    "reading_time_min": 10.9,
    "sitemap_lastmod": null,
    "twitter_description": "Regular readers know that I maintain gssr and gssrdoc, two packages for R. The former makes the General Social Survey’s annual, cumulative and panel datasets available in a way that’s easy to use in R. The latter makes the survey’s codebook available in R’s integrated help system in a way that documents every GSS variable as if it were a function or object in R, so you can query them in exactly the same way as any function from the R console or in the IDE of your choice. As a bonus, because I use pkgdown to document the packages, I get a website as a side-effect. In the case of gssrdoc this means a browsable index of all the GSS variables. The GSS is the Hubble Space Telescope of American social science; our longest-running representative view of many aspects of the character and opinions of American households. The data is freely available from NORC, but they distribute it in SPSS, SAS, and STATA formats. I wrote these packages in an effort to make it more easily available in R. If you want to know the relationship between these various platforms, I have you covered. But the important thing is that R is a free and open-source project, and the others are not. This week I spent a little time updating gssrdoc a bit to clean up how the help pages looked and make some other improvements. Inside R, you can say, e.g., ?govdook at the console and have this pop up in the help: Yeah govdook is short for ‘Gov Do OK’, not ‘Dook’. The package also includes gss_doc, a data frame containing all of the information that the help pages are built from. I included it because it can be useful to work with directly, as when you might want to extract summary information about a subset of variables. 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 library(tibble) library(gssrdoc) gss_doc #> # A tibble: 6,694 × 10 #> variable description question value_labels var_yrtab yrballot_df module_df subject_df norc_id norc_url #> #> 1 year GSS year for this respondent \"GSS year\" \"[NA(d)] do… 1 https:/… #> 2 id Respondent id number \"Respondent id … \"\" 2 https:/… #> 3 wrkstat labor force status \"Last week were… \"[1] workin… 3 https:/… #> 4 hrs1 number of hours worked last week \"Last week were… \"[89] 89+ h… 4 https:/… #> 5 hrs2 number of hours usually work a week \"Last week were… \"[89] 89+ h… 5 https:/… #> 6 evwork ever work as long as one year \"Last week were… \"[1] yes / … 6 https:/… #> 7 occ R's census occupation code (1970) \"A. What kind o… \"[NA(d)] do… 7 https:/… #> 8 prestige r's occupational prestige score(1970) \"A. What kind o… \"[NA(d)] do… 8 https:/… #> 9 wrkslf r self-emp or works for somebody \"A. What kind o… \"[1] self-e… 9 https:/… #> 10 wrkgovt govt or private employee \"A. What kind o… \"[1] govern… 10 https:/… #> # ℹ 6,684 more rows The gss_doc object has regular columns but also a series of list-columns to (insert meme here, you know the one) put data frames inside your data frames. (They’re labeled as “tibbles” here; basically the same thing). Why a list-column? Why a list? Well, a list is one of the fundamental ways to store data of any sort. Lists are useful because they can contain heterogeneous elements: 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 items $todo_home #> [1] \"Laundry\" \"Clean bathroom\" \"Feed cat\" \"Bring out rubbish bins\" #> #> $important_dates #> [1] \"1776-07-04\" \"1788-06-21\" \"2025-01-18\" #> #> $keycode #> [1] 8675309 #> #> $storage_tiers #> [1] 128 256 512 1024 One thing to notice about a list like this is that it doesn’t really make sense to represent it as a table. This is partly because the elements of the list are of different lengths, but really it’s because if we did represent it as a table, it would not mean anything to read across the rows: 1 2 3 4 5 6 7 8 items_df #> # A tibble: 4 × 4 #> todo_home important_dates keycode storage_tiers #> #> 1 Laundry 1776-07-04 8675309 128 #> 2 Clean bathroom 1788-06-21 - 256 #> 3 Feed cat 2025-01-18 - 512 #> 4 Bring out rubbish bins - - 1024 The rows don’t form “cases” of anything. We just have four unrelated categories with various pieces of information in them. Lists are also useful because they lend themselves easily to being nested: 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 items $todo_home #> $todo_home$tasks #> [1] \"Laundry\" \"Clean bathroom\" \"Feed cat\" \"Bring out rubbish bins\" #> #> $todo_home$tobuy #> [1] \"Cat Food\" \"Burritos\" #> #> $todo_home$wifi_password #> [1] \"p@ssw0rd!\" #> #> #> $important_dates #> [1] \"1776-07-04\" \"1788-06-21\" \"2025-01-18\" #> #> $keycode #> [1] 8675309 #> #> $storage_tiers #> $storage_tiers$ssd #> [1] 128 256 512 1024 #> #> $storage_tiers$ram #> [1] 1 4 8 In its bones, R is a LISP/Scheme-like list-processing language fused with features of classic array languages like APL. This is because, in the world of data analysis, what we deal with all the time are rectangular tables, or arrays, where rows are cases and columns are different sorts of variables. The wrinkle is that, unlike a beautiful array of pure numbers, each column might measure something (a date, a True/False answer, a location, a score, a nationality) that we’d prefer not to represent directly as a number. Sure, underneath in the computer everything is all just ones and zeros. (Or rather, electromagnetic patterns in some physical substrate that we can interpret as meaning ones and zeros.) And if we want to do any sort of data analysis that involves treating our table as a matrix then we’ll want numeric representations of all the columns. But for many uses we’d like to see “France” or “Strongly Agree” instead of “33” or “5”. Just a table of rows and columns, where different things can be represented across columns, but any particular column is all the same kind of thing. A rectangular table like that is called a data frame. One way to think of a data frame is just as a special case of a list. A data frame is a list where you can put all the list elements side by side and treat them as columns, and where all these elements are made of vectors of the same length. Beyond that, it’s a list where the nth element of each vector refers to some property of the same underlying entity, i.e. the thing that’s in the row, or case; the thing the columns are showing you measurements or properties of. You can have empty entries if needed, as when some bit of data is missing. The important thing is that each column has as many slots as there are cases, and you fill in the values for each case in the same slot in each column. Whenever you look at any table of data, one of your first questions should always be “What is a row in this table?” In this case, each row is a variable in the full GSS dataset, and each column describes some property of that variable. 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 library(tibble) library(gssrdoc) gss_doc #> # A tibble: 6,694 × 10 #> variable description question value_labels var_yrtab yrballot_df module_df subject_df norc_id norc_url #> #> 1 year GSS year for this respondent \"GSS year\" \"[NA(d)] do… 1 https:/… #> 2 id Respondent id number \"Respondent id … \"\" 2 https:/… #> 3 wrkstat labor force status \"Last week were… \"[1] workin… 3 https:/… #> 4 hrs1 number of hours worked last week \"Last week were… \"[89] 89+ h… 4 https:/… #> 5 hrs2 number of hours usually work a week \"Last week were… \"[89] 89+ h… 5 https:/… #> 6 evwork ever work as long as one year \"Last week were… \"[1] yes / … 6 https:/… #> 7 occ R's census occupation code (1970) \"A. What kind o… \"[NA(d)] do… 7 https:/… #> 8 prestige r's occupational prestige score(1970) \"A. What kind o… \"[NA(d)] do… 8 https:/… #> 9 wrkslf r self-emp or works for somebody \"A. What kind o… \"[1] self-e… 9 https:/… #> 10 wrkgovt govt or private employee \"A. What kind o… \"[1] govern… 10 https:/… #> # ℹ 6,684 more rows Because R was designed by statisticians—R is a descendant of S, which like everything else in computing traces its origins to Bell Labs—it has this concept of a data frame built-in to its core instead of being bolted-on afterwards, which is extremely handy. Normally data frames are just ordinary rectangles, but there’s no reason why any particular column can’t itself be thought of as a list of something else. That’s what we have here. The yr_vartab column contains data frames of crosstabs of the answers to each question by year. Except where it doesn’t (e.g. for id), and this is fine because lists don’t have to be internally homogeneous. Similarly yrballot_df has a little table of which ballots, or internal portions of the survey, a question was asked on for each year it was asked. The upshot is that having assembled the gss_doc object we can use it to emit, like, seven thousand pages of documentation on the GSS’s many, many questions over the years. We can build them as standardized R help pages, as above. On the website that pgkdown builds for us, we get this: Website view. The cross-referencing to other relevant variables in the “See Also” section is new in this version. It comes courtesy of the GSS’s own information about survey modules and an ad hoc topic index they keep for the variables. I just use a subset of possible cross-references as we don’t want, e.g., every single question in the GSS core to be cross-referenced to every other core question on any particular help page. On the website, I gather these into a single page: Topic index page. The GSS has its own handy data explorer which is very useful for quickly checking on particular trends and getting a quick graph of what the data look like, or a summary view of the content of particular variables. Each help page in gssrdoc now links to the GSS Data Explorer page for that variable, in case you want to hop over and take a look there. Of course, the gssrdoc package doesn’t and isn’t meant to replace the Data Explorer; it’s just a different view of the same information, with a different use-case in mind.",
    "twitter_title": "gssrdoc Updates | R-bloggers",
    "url": "https://www.r-bloggers.com/2025/10/gssrdoc-updates/",
    "word_count": 2172
  }
}