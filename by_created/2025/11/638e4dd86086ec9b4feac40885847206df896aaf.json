{
  "id": "638e4dd86086ec9b4feac40885847206df896aaf",
  "url": "https://www.r-bloggers.com/2025/07/how-to-write-cucumber-specifications-the-right-way-from-app-description-to-scenarios/",
  "created_at_utc": "2025-11-22T19:57:58Z",
  "data": null,
  "raw_original": {
    "uuid": "012a99c0-fa0f-4add-a5cb-9927ed2607fb",
    "created_at": "2025-11-22 19:57:58",
    "raw_json": {
      "article_author": null,
      "article_headline": null,
      "article_modified": null,
      "article_published": null,
      "article_section": null,
      "article_tags": null,
      "canonical_url": "https://www.r-bloggers.com/2025/07/how-to-write-cucumber-specifications-the-right-way-from-app-description-to-scenarios/",
      "crawled_at": "2025-11-22T10:44:55.125069",
      "external_links": [
        {
          "href": "https://jakubsobolewski.com/blog/ai-assisted-specifications",
          "text": "jakub::sobolewski"
        },
        {
          "href": "http://r-posts.com/",
          "text": "here"
        },
        {
          "href": "https://jakubsobolewski.com/cucumber/articles/reference-gherkin.html#steps",
          "text": "steps phrasings like “And” or “But”"
        },
        {
          "href": "https://jakubsobolewski.com/blog/ai-assisted-specifications",
          "text": "jakub::sobolewski"
        },
        {
          "href": "https://feedburner.google.com/fb/a/mailverify?uri=RBloggers",
          "text": "daily e-mail updates"
        },
        {
          "href": "https://www.r-project.org/",
          "text": "R"
        },
        {
          "href": "https://www.r-users.com/",
          "text": "Click here if you're looking to post or find an R/data-science job"
        },
        {
          "href": "http://r-posts.com/",
          "text": "here"
        }
      ],
      "h1_title": "R-bloggers",
      "html_title": "How to Write Cucumber Specifications the Right Way: From App Description to Scenarios | R-bloggers",
      "images": [],
      "internal_links": [
        {
          "href": "https://www.r-bloggers.com/author/jakubsobolewski/",
          "text": "jakub::sobolewski"
        },
        {
          "href": "https://www.r-bloggers.com/category/r-bloggers/",
          "text": "R bloggers"
        },
        {
          "href": "https://www.r-bloggers.com/",
          "text": "R-bloggers"
        },
        {
          "href": "https://www.r-bloggers.com/contact-us/",
          "text": "here"
        },
        {
          "href": "https://www.r-bloggers.com/add-your-blog/",
          "text": "click here"
        },
        {
          "href": "https://www.r-bloggers.com/",
          "text": "R-bloggers.com"
        },
        {
          "href": "https://www.r-bloggers.com/how-to-learn-r-2/",
          "text": "learning R"
        },
        {
          "href": "https://www.r-bloggers.com/add-your-blog/",
          "text": "click here"
        }
      ],
      "lang": "en-US",
      "main_html": "<article class=\"post-394426 post type-post status-publish format-standard hentry category-r-bloggers\">\n<header class=\"post-header\">\n<h1 class=\"entry-title\">How to Write Cucumber Specifications the Right Way: From App Description to Scenarios</h1>\n<p class=\"meta post-meta\">Posted on <span class=\"updated\">July 29, 2025</span>  by <span class=\"vcard author\"><a class=\"fn\" href=\"https://www.r-bloggers.com/author/jakubsobolewski/\">jakub::sobolewski</a></span>  in <a href=\"https://www.r-bloggers.com/category/r-bloggers/\" rel=\"category tag\">R bloggers</a> | 0 Comments</p>\n</header>\n<div class=\"entry clearfix\">\n<!-- \n<div style=\"min-height: 30px;\">\n[social4i size=\"small\" align=\"align-left\"]\n</div>\n-->\n<div style=\"border: 1px solid; background: none repeat scroll 0 0 #EDEDED; margin: 1px; font-size: 12px;\">\n[This article was first published on  <strong><a href=\"https://jakubsobolewski.com/blog/ai-assisted-specifications\"> jakub::sobolewski</a></strong>, and kindly contributed to <a href=\"https://www.r-bloggers.com/\" rel=\"nofollow\">R-bloggers</a>].  (You can report issue about the content on this page <a href=\"https://www.r-bloggers.com/contact-us/\">here</a>)\n<hr/>Want to share your content on R-bloggers?<a href=\"https://www.r-bloggers.com/add-your-blog/\" rel=\"nofollow\"> click here</a> if you have a blog, or <a href=\"http://r-posts.com/\" rel=\"nofollow\"> here</a> if you don't.\n</div>\n\n<!-- Share buttons by mashshare.net - Version: 4.0.47--><p>When writing specifications, it’s easy to get caught up in implementation details, especially when adding specifications after the software was built.</p>\n<p>Let’s see how we can add specifications for existing code and get Cucumber specifications that reflect business concepts rather than UI specifics that makes extension and maintenance easier.</p>\n<h2 id=\"the-setup\">The Setup</h2>\n<p>Let’s imagine an app with a workflow as follows:</p>\n<ul>\n<li>The app opens on a “Data” page, with a stepper for: Upload → Filtering → Mapping → Preview.</li>\n<li>Users upload or select a default dataset, then proceed step by step.</li>\n<li>After submitting variable mappings, a data preview appears.</li>\n<li>Once this is complete, a “Visualization” feature becomes available for viewing plots.</li>\n</ul>\n<p>This workflow is quite straightforward, but also quite complex.</p>\n<p>Writing robust, executable specifications for it demands that we express its logic without exposing underlying UI details.</p>\n<h2 id=\"1-define-behavior-not-implementation\">1. Define Behavior, Not Implementation</h2>\n<p>Shift away from UI or implementation-specific language. For example:</p>\n<ul>\n<li><strong>Avoid:</strong> <code>Given the user starts on the Data page</code></li>\n<li><strong>Prefer:</strong> <code>Given the user begins a new data preparation session</code></li>\n</ul>\n<p>This abstraction ensures scenarios remain stable regardless of changes to the UI or technology stack. The scenario should apply equally well whether the system is a web app, command-line interface, or something else entirely.</p>\n<h2 id=\"2-capture-the-flow-in-gherkin\">2. Capture the Flow in Gherkin</h2>\n<p>Break the user flow down into <strong>core business steps</strong>:</p>\n<ul>\n<li>Start a new data preparation session</li>\n<li>Provide a dataset (custom or default)</li>\n<li>Optionally apply filters</li>\n<li>Submit variable mappings</li>\n<li>View a data preview</li>\n<li>Gain access to visualization</li>\n<li>View a plot</li>\n</ul>\n<p>Draft scenarios using the <strong>Given–When–Then</strong> cadence to focus on outcomes and user intentions rather than specific technical steps. This cadence is fundamental BDD best practice, improving clarity and maintainability.</p>\n<h3 id=\"example\">Example</h3>\n<pre>Feature: Data visualization\n\n  This feature describes the core user flow for preparing a dataset\n  and accessing visualizations. The workflow includes optional and\n  required steps before plots can be viewed.\n\n  Background:\n    Given the user begins a new data preparation session\n\n  Scenario: User completes the workflow using a custom dataset\n    Given the user provides a dataset\n    When the user proceeds to the Filtering step\n    And the user skips filtering\n    And the user proceeds to the Mapping step\n    And the user accepts the default variable mapping\n    When the user submits the mapping\n    Then the user reaches the Preview step\n    And the dataset is available for inspection\n    And the Visualization feature becomes available\n\n  Scenario: User completes the workflow using a default dataset\n    Given the user chooses to use a default dataset\n    When the user proceeds through the Filtering step without applying filters\n    And the user accepts the default variable mapping\n    And the user submits the mapping\n    Then the user reaches the Preview step\n    And the dataset is available for inspection\n    And the Visualization feature becomes available\n\n  Scenario: Visualization is not available before data preparation\n    Given the Visualization feature is not accessible\n    When the user provides a dataset\n    And the user skips filtering\n    And the user accepts the default variable mapping\n    And the user submits the mapping\n    Then the Visualization feature becomes accessible\n\n  Scenario: User views a plot after completing data preparation\n    Given the user has completed the data preparation workflow\n    When the user accesses the Visualization section\n    And the user chooses to inspect Individual Plots\n    Then the user sees a visualization of the dataset</pre>\n<h2 id=\"3-review-your-specifications\">3. Review Your Specifications</h2>\n<ul>\n<li><strong>Avoid technical or UI phrasing:</strong> Write steps as business actions, <em>not</em> clicks or UI navigation. For instance, use “submit the mapping” instead of “click Submit.”</li>\n<li><strong>Use correct scenario structure:</strong> Always adhere to the <strong>Given–When–Then</strong> cadence for clarity and consistency. Don’t mix up the order. To keep the scenarios readable, you can use alternative <a href=\"https://jakubsobolewski.com/cucumber/articles/reference-gherkin.html#steps\" rel=\"nofollow\" target=\"_blank\">steps phrasings like “And” or “But”</a>.</li>\n<li><strong>Favor reusable, high-level steps:</strong> Steps like <code>the user provides a dataset</code> or <code>the user submits the mapping</code> are platform-agnostic and extensible. This makes feature files easier to read, update, and automate.</li>\n</ul>\n<h2 id=\"iterate-with-ai\">Iterate with AI</h2>\n<p>Use this prompt to make AI assist you in writing Gherkin scenarios:</p>\n<pre>I'm adding Cucumber tests to an app. You're a BDD expert helping me discover business concepts and user flows.\n\nI will provide a description of how I interact with the app. Your task is to help me write executable specifications for given description. When writing specifications:\n\n- Don't reveal implementation details (like UI elements).\n- Imagine at least 3 different ways this system could be implemented, e.g. CLI, API, mind control. Those specifications need to be true no matter how the system is implemented.\n- Always use the Given–When–Then cadence.\n\nIf something is not clear, ask me questions.</pre>\n<p>Starting with this prompt, you can follow the process:</p>\n<ol>\n<li>Provide description of what you can do with the app.</li>\n<li>AI will suggest Gherkin steps.</li>\n<li>Review the steps, and ask AI to build scenarios.</li>\n<li>Review the scenarios, and iterate as needed.</li>\n</ol>\n<p>This can help you refine your specifications and ensure they accurately capture the desired user behavior.</p>\n<hr/>\n<p><strong>When working with AI, pay attention to not accidentally reveal confidential information. Write your app description carefully.</strong></p>\n<hr/>\n<p>Abstracting away from implementation details, especially if they already exist, is difficult.</p>\n<p>But it is crucial for writing maintainable and extensible specifications. By focusing on user behavior and outcomes, you can create specifications that remain relevant even as the underlying technology evolves.</p>\n<p>And with the help of AI, you get a fresh perspective on your application, which can lead to creating better specifications.</p>\n<div class=\"jp-relatedposts\" id=\"jp-relatedposts\">\n<h3 class=\"jp-relatedposts-headline\"><em>Related</em></h3>\n</div>\n<!-- Share buttons by mashshare.net - Version: 4.0.47-->\n<div style=\"border: 1px solid; background: none repeat scroll 0 0 #EDEDED; margin: 1px; font-size: 13px;\">\n<div style=\"text-align: center;\">To <strong>leave a comment</strong> for the author, please follow the link and comment on their blog: <strong><a href=\"https://jakubsobolewski.com/blog/ai-assisted-specifications\"> jakub::sobolewski</a></strong>.</div>\n<hr/>\n<a href=\"https://www.r-bloggers.com/\" rel=\"nofollow\">R-bloggers.com</a> offers <strong><a href=\"https://feedburner.google.com/fb/a/mailverify?uri=RBloggers\" rel=\"nofollow\">daily e-mail updates</a></strong> about <a href=\"https://www.r-project.org/\" rel=\"nofollow\" title=\"The R Project for Statistical Computing\">R</a> news and tutorials about <a href=\"https://www.r-bloggers.com/how-to-learn-r-2/\" rel=\"nofollow\" title=\"R tutorials\">learning R</a> and many other topics. <a href=\"https://www.r-users.com/\" rel=\"nofollow\" title=\"Data science jobs\">Click here if you're looking to post or find an R/data-science job</a>.\n\n<hr/>Want to share your content on R-bloggers?<a href=\"https://www.r-bloggers.com/add-your-blog/\" rel=\"nofollow\"> click here</a> if you have a blog, or <a href=\"http://r-posts.com/\" rel=\"nofollow\"> here</a> if you don't.\n</div> </div>\n</article>",
      "main_text": "How to Write Cucumber Specifications the Right Way: From App Description to Scenarios\nPosted on\nJuly 29, 2025\nby\njakub::sobolewski\nin\nR bloggers\n| 0 Comments\n[This article was first published on\njakub::sobolewski\n, and kindly contributed to\nR-bloggers\n].  (You can report issue about the content on this page\nhere\n)\nWant to share your content on R-bloggers?\nclick here\nif you have a blog, or\nhere\nif you don't.\nWhen writing specifications, it’s easy to get caught up in implementation details, especially when adding specifications after the software was built.\nLet’s see how we can add specifications for existing code and get Cucumber specifications that reflect business concepts rather than UI specifics that makes extension and maintenance easier.\nThe Setup\nLet’s imagine an app with a workflow as follows:\nThe app opens on a “Data” page, with a stepper for: Upload → Filtering → Mapping → Preview.\nUsers upload or select a default dataset, then proceed step by step.\nAfter submitting variable mappings, a data preview appears.\nOnce this is complete, a “Visualization” feature becomes available for viewing plots.\nThis workflow is quite straightforward, but also quite complex.\nWriting robust, executable specifications for it demands that we express its logic without exposing underlying UI details.\n1. Define Behavior, Not Implementation\nShift away from UI or implementation-specific language. For example:\nAvoid:\nGiven the user starts on the Data page\nPrefer:\nGiven the user begins a new data preparation session\nThis abstraction ensures scenarios remain stable regardless of changes to the UI or technology stack. The scenario should apply equally well whether the system is a web app, command-line interface, or something else entirely.\n2. Capture the Flow in Gherkin\nBreak the user flow down into\ncore business steps\n:\nStart a new data preparation session\nProvide a dataset (custom or default)\nOptionally apply filters\nSubmit variable mappings\nView a data preview\nGain access to visualization\nView a plot\nDraft scenarios using the\nGiven–When–Then\ncadence to focus on outcomes and user intentions rather than specific technical steps. This cadence is fundamental BDD best practice, improving clarity and maintainability.\nExample\nFeature: Data visualization\n\n  This feature describes the core user flow for preparing a dataset\n  and accessing visualizations. The workflow includes optional and\n  required steps before plots can be viewed.\n\n  Background:\n    Given the user begins a new data preparation session\n\n  Scenario: User completes the workflow using a custom dataset\n    Given the user provides a dataset\n    When the user proceeds to the Filtering step\n    And the user skips filtering\n    And the user proceeds to the Mapping step\n    And the user accepts the default variable mapping\n    When the user submits the mapping\n    Then the user reaches the Preview step\n    And the dataset is available for inspection\n    And the Visualization feature becomes available\n\n  Scenario: User completes the workflow using a default dataset\n    Given the user chooses to use a default dataset\n    When the user proceeds through the Filtering step without applying filters\n    And the user accepts the default variable mapping\n    And the user submits the mapping\n    Then the user reaches the Preview step\n    And the dataset is available for inspection\n    And the Visualization feature becomes available\n\n  Scenario: Visualization is not available before data preparation\n    Given the Visualization feature is not accessible\n    When the user provides a dataset\n    And the user skips filtering\n    And the user accepts the default variable mapping\n    And the user submits the mapping\n    Then the Visualization feature becomes accessible\n\n  Scenario: User views a plot after completing data preparation\n    Given the user has completed the data preparation workflow\n    When the user accesses the Visualization section\n    And the user chooses to inspect Individual Plots\n    Then the user sees a visualization of the dataset\n3. Review Your Specifications\nAvoid technical or UI phrasing:\nWrite steps as business actions,\nnot\nclicks or UI navigation. For instance, use “submit the mapping” instead of “click Submit.”\nUse correct scenario structure:\nAlways adhere to the\nGiven–When–Then\ncadence for clarity and consistency. Don’t mix up the order. To keep the scenarios readable, you can use alternative\nsteps phrasings like “And” or “But”\n.\nFavor reusable, high-level steps:\nSteps like\nthe user provides a dataset\nor\nthe user submits the mapping\nare platform-agnostic and extensible. This makes feature files easier to read, update, and automate.\nIterate with AI\nUse this prompt to make AI assist you in writing Gherkin scenarios:\nI'm adding Cucumber tests to an app. You're a BDD expert helping me discover business concepts and user flows.\n\nI will provide a description of how I interact with the app. Your task is to help me write executable specifications for given description. When writing specifications:\n\n- Don't reveal implementation details (like UI elements).\n- Imagine at least 3 different ways this system could be implemented, e.g. CLI, API, mind control. Those specifications need to be true no matter how the system is implemented.\n- Always use the Given–When–Then cadence.\n\nIf something is not clear, ask me questions.\nStarting with this prompt, you can follow the process:\nProvide description of what you can do with the app.\nAI will suggest Gherkin steps.\nReview the steps, and ask AI to build scenarios.\nReview the scenarios, and iterate as needed.\nThis can help you refine your specifications and ensure they accurately capture the desired user behavior.\nWhen working with AI, pay attention to not accidentally reveal confidential information. Write your app description carefully.\nAbstracting away from implementation details, especially if they already exist, is difficult.\nBut it is crucial for writing maintainable and extensible specifications. By focusing on user behavior and outcomes, you can create specifications that remain relevant even as the underlying technology evolves.\nAnd with the help of AI, you get a fresh perspective on your application, which can lead to creating better specifications.\nRelated\nTo\nleave a comment\nfor the author, please follow the link and comment on their blog:\njakub::sobolewski\n.\nR-bloggers.com\noffers\ndaily e-mail updates\nabout\nR\nnews and tutorials about\nlearning R\nand many other topics.\nClick here if you're looking to post or find an R/data-science job\n.\nWant to share your content on R-bloggers?\nclick here\nif you have a blog, or\nhere\nif you don't.",
      "meta_description": "Adding Cucumber specifications to an existing application? Learn how to write Gherkin scenarios that focus on user behavior, not implementation details. Use AI to iterate faster.",
      "meta_keywords": null,
      "og_description": "Adding Cucumber specifications to an existing application? Learn how to write Gherkin scenarios that focus on user behavior, not implementation details. Use AI to iterate faster.",
      "og_image": "https://www.r-bloggers.com/wp-content/uploads/2016/04/R_02_2016-05-01.png",
      "og_title": "How to Write Cucumber Specifications the Right Way: From App Description to Scenarios | R-bloggers",
      "raw_jsonld_article": null,
      "reading_time_min": 5.2,
      "sitemap_lastmod": null,
      "twitter_description": "Adding Cucumber specifications to an existing application? Learn how to write Gherkin scenarios that focus on user behavior, not implementation details. Use AI to iterate faster.",
      "twitter_title": "How to Write Cucumber Specifications the Right Way: From App Description to Scenarios | R-bloggers",
      "url": "https://www.r-bloggers.com/2025/07/how-to-write-cucumber-specifications-the-right-way-from-app-description-to-scenarios/",
      "word_count": 1039
    }
  }
}