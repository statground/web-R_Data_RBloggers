{
  "id": "d4feba40cc3eb4e2935edfccee4dc14f9d8d2806",
  "url": "https://www.r-bloggers.com/2025/11/country-codes/",
  "created_at_utc": "2025-11-22T19:57:24Z",
  "data": null,
  "raw_original": {
    "uuid": "cef19f08-4b2e-44b2-a2d0-3cb5a44968b7",
    "created_at": "2025-11-22 19:57:24",
    "raw_json": {
      "article_author": null,
      "article_headline": null,
      "article_modified": null,
      "article_published": null,
      "article_section": null,
      "article_tags": null,
      "canonical_url": "https://www.r-bloggers.com/2025/11/country-codes/",
      "crawled_at": "2025-11-22T10:41:16.954406",
      "external_links": [
        {
          "href": "https://r.iresmi.net/posts/2025/country_codes/",
          "text": "r.iresmi.net"
        },
        {
          "href": "http://r-posts.com/",
          "text": "here"
        },
        {
          "href": "https://www.flickr.com/photos/yooperann/8570865929",
          "text": null
        },
        {
          "href": "https://30daymapchallenge.com/",
          "text": "30DayMapChallenge"
        },
        {
          "href": "https://r.iresmi.net/#category=30DayMapChallenge",
          "text": "previously"
        },
        {
          "href": "https://en.osm.town/@opencage/115271196316302891",
          "text": "https://en.osm.town/@opencage/115271196316302891"
        },
        {
          "href": "https://en.osm.town/@opencage/115271196316302891",
          "text": "Post by @[emailÂ protected]View on Mastodon"
        },
        {
          "href": "https://r.iresmi.net/posts/2025/country_codes/",
          "text": "r.iresmi.net"
        },
        {
          "href": "https://feedburner.google.com/fb/a/mailverify?uri=RBloggers",
          "text": "daily e-mail updates"
        },
        {
          "href": "https://www.r-project.org/",
          "text": "R"
        },
        {
          "href": "https://www.r-users.com/",
          "text": "Click here if you're looking to post or find an R/data-science job"
        },
        {
          "href": "http://r-posts.com/",
          "text": "here"
        }
      ],
      "h1_title": "R-bloggers",
      "html_title": "Country codes | R-bloggers",
      "images": [
        {
          "alt": "A photo of many flags",
          "base64": "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",
          "src": "https://www.r-bloggers.com/wp-content/plugins/jetpack/modules/lazy-images/images/1x1.trans.gif"
        },
        {
          "alt": "A photo of many flags",
          "base64": null,
          "src": "https://i1.wp.com/r.iresmi.net/posts/2025/country_codes/images/8570865929_84b19f0403_c.jpg?w=578&ssl=1"
        },
        {
          "alt": "A map of showing countries whose ISO 3166-1 alpha-2 code is contained as a substring in their name",
          "base64": "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",
          "src": "https://www.r-bloggers.com/wp-content/plugins/jetpack/modules/lazy-images/images/1x1.trans.gif"
        },
        {
          "alt": "A map of showing countries whose ISO 3166-1 alpha-2 code is contained as a substring in their name",
          "base64": null,
          "src": "https://i1.wp.com/r.iresmi.net/posts/2025/country_codes/index_files/figure-html/fig-map-1.png?w=578&ssl=1"
        }
      ],
      "internal_links": [
        {
          "href": "https://www.r-bloggers.com/author/michael/",
          "text": "Michael"
        },
        {
          "href": "https://www.r-bloggers.com/category/r-bloggers/",
          "text": "R bloggers"
        },
        {
          "href": "https://www.r-bloggers.com/",
          "text": "R-bloggers"
        },
        {
          "href": "https://www.r-bloggers.com/contact-us/",
          "text": "here"
        },
        {
          "href": "https://www.r-bloggers.com/add-your-blog/",
          "text": "click here"
        },
        {
          "href": "https://www.r-bloggers.com/",
          "text": "R-bloggers.com"
        },
        {
          "href": "https://www.r-bloggers.com/how-to-learn-r-2/",
          "text": "learning R"
        },
        {
          "href": "https://www.r-bloggers.com/add-your-blog/",
          "text": "click here"
        }
      ],
      "lang": "en-US",
      "main_html": "<article class=\"post-396514 post type-post status-publish format-standard hentry category-r-bloggers\">\n<header class=\"post-header\">\n<h1 class=\"entry-title\">Country codes</h1>\n<p class=\"meta post-meta\">Posted on <span class=\"updated\">November 2, 2025</span>  by <span class=\"vcard author\"><a class=\"fn\" href=\"https://www.r-bloggers.com/author/michael/\">Michael</a></span>  in <a href=\"https://www.r-bloggers.com/category/r-bloggers/\" rel=\"category tag\">R bloggers</a> | 0 Comments</p>\n</header>\n<div class=\"entry clearfix\">\n<!-- \n<div style=\"min-height: 30px;\">\n[social4i size=\"small\" align=\"align-left\"]\n</div>\n-->\n<div style=\"border: 1px solid; background: none repeat scroll 0 0 #EDEDED; margin: 1px; font-size: 12px;\">\n[This article was first published on  <strong><a href=\"https://r.iresmi.net/posts/2025/country_codes/\"> r.iresmi.net</a></strong>, and kindly contributed to <a href=\"https://www.r-bloggers.com/\" rel=\"nofollow\">R-bloggers</a>].  (You can report issue about the content on this page <a href=\"https://www.r-bloggers.com/contact-us/\">here</a>)\n<hr/>Want to share your content on R-bloggers?<a href=\"https://www.r-bloggers.com/add-your-blog/\" rel=\"nofollow\"> click here</a> if you have a blog, or <a href=\"http://r-posts.com/\" rel=\"nofollow\"> here</a> if you don't.\n</div>\n\n<!-- Share buttons by mashshare.net - Version: 4.0.47-->\n<div class=\"quarto-figure quarto-figure-center\">\n<figure class=\"figure\">\n<p><a href=\"https://www.flickr.com/photos/yooperann/8570865929\" rel=\"nofollow\" target=\"_blank\"><img alt=\"A photo of many flags\" class=\"preview-image img-fluid figure-img\" data-lazy-src=\"https://i1.wp.com/r.iresmi.net/posts/2025/country_codes/images/8570865929_84b19f0403_c.jpg?w=578&amp;ssl=1\" data-recalc-dims=\"1\" src=\"https://www.r-bloggers.com/wp-content/plugins/jetpack/modules/lazy-images/images/1x1.trans.gif\"/><noscript><img alt=\"A photo of many flags\" class=\"preview-image img-fluid figure-img\" data-recalc-dims=\"1\" src=\"https://i1.wp.com/r.iresmi.net/posts/2025/country_codes/images/8570865929_84b19f0403_c.jpg?w=578&amp;ssl=1\"/></noscript></a></p>\n<figcaption>Physicists of many nations â€“ CC BY-NC-ND by Ann Fisher</figcaption>\n</figure>\n</div>\n<p>DayÂ 3 of <a href=\"https://30daymapchallenge.com/\" rel=\"nofollow\" target=\"_blank\">30DayMapChallenge</a>: Â«Â PolygonsÂ Â» (<a href=\"https://r.iresmi.net/#category=30DayMapChallenge\" rel=\"nofollow\" target=\"_blank\">previously</a>).</p>\n<p>An interesting challenge a few weeks ago on <a class=\"uri\" href=\"https://en.osm.town/@opencage/115271196316302891\" rel=\"nofollow\" target=\"_blank\">https://en.osm.town/@opencage/115271196316302891</a>:</p>\n<div class=\"no-row-height column-margin column-container\"><div class=\"margin-aside\">\n<blockquote class=\"mastodon-embed blockquote\" data-embed-url=\"https://en.osm.town/@opencage/115271196316302891/embed\" style=\"background: #FCF8FF; border-radius: 8px; border: 1px solid #C9C4DA; margin: 0; max-width: 540px; min-width: 270px; overflow: hidden; padding: 0;\"> <a href=\"https://en.osm.town/@opencage/115271196316302891\" rel=\"nofollow\" style=\"align-items: center; color: #1C1A25; display: flex; flex-direction: column; font-family: system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', Oxygen, Ubuntu, Cantarell, 'Fira Sans', 'Droid Sans', 'Helvetica Neue', Roboto, sans-serif; font-size: 14px; justify-content: center; letter-spacing: 0.25px; line-height: 20px; padding: 24px; text-decoration: none;\" target=\"_blank\"> <svg height=\"32\" viewbox=\"0 0 79 75\" width=\"32\" xlink=\"http://www.w3.org/1999/xlink\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"M63 45.3v-20c0-4.1-1-7.3-3.2-9.7-2.1-2.4-5-3.7-8.5-3.7-4.1 0-7.2 1.6-9.3 4.7l-2 3.3-2-3.3c-2-3.1-5.1-4.7-9.2-4.7-3.5 0-6.4 1.3-8.6 3.7-2.1 2.4-3.1 5.6-3.1 9.7v20h8V25.9c0-4.1 1.7-6.2 5.2-6.2 3.8 0 5.8 2.5 5.8 7.4V37.7H44V27.1c0-4.9 1.9-7.4 5.8-7.4 3.5 0 5.2 2.1 5.2 6.2V45.3h8ZM74.7 16.6c.6 6 .1 15.7.1 17.3 0 .5-.1 4.8-.1 5.3-.7 11.5-8 16-15.6 17.5-.1 0-.2 0-.3 0-4.9 1-10 1.2-14.9 1.4-1.2 0-2.4 0-3.6 0-4.8 0-9.7-.6-14.4-1.7-.1 0-.1 0-.1 0s-.1 0-.1 0 0 .1 0 .1 0 0 0 0c.1 1.6.4 3.1 1 4.5.6 1.7 2.9 5.7 11.4 5.7 5 0 9.9-.6 14.8-1.7 0 0 0 0 0 0 .1 0 .1 0 .1 0 0 .1 0 .1 0 .1.1 0 .1 0 .1.1v5.6s0 .1-.1.1c0 0 0 0 0 .1-1.6 1.1-3.7 1.7-5.6 2.3-.8.3-1.6.5-2.4.7-7.5 1.7-15.4 1.3-22.7-1.2-6.8-2.4-13.8-8.2-15.5-15.2-.9-3.8-1.6-7.6-1.9-11.5-.6-5.8-.6-11.7-.8-17.5C3.9 24.5 4 20 4.9 16 6.7 7.9 14.1 2.2 22.3 1c1.4-.2 4.1-1 16.5-1h.1C51.4 0 56.7.8 58.1 1c8.4 1.2 15.5 7.5 16.6 15.6Z\" fill=\"currentColor\"></path></svg> <div style=\"color: #787588; margin-top: 16px;\">Post by @<span class=\"__cf_email__\" data-cfemail=\"f69986939895979193b69398d899859bd882998198\">[emailÂ protected]</span></div> <div style=\"font-weight: 500;\">View on Mastodon</div> </a> </blockquote> \n</div></div><blockquote class=\"blockquote\">\n<p>Name countries whose ISO 3166-1 alpha-2 code is contained as a substring in the common English version of the countryâ€™s name.</p>\n</blockquote>\n<p>For example: <strong>It</strong>aly has its ISO code â€œITâ€ in its name; â€œSEâ€ is the ISO code for Sweden, but is not found in its name.</p>\n<p>Letâ€™s map thatâ€¦</p>\n<section class=\"level2\" id=\"setup\">\n<h2 class=\"anchored\" data-anchor-id=\"setup\">Setup</h2>\n<div class=\"cell\">\n<pre>library(dplyr)\nlibrary(stringr)\nlibrary(purrr)\nlibrary(emoji)\nlibrary(rvest)\nlibrary(glue)\nlibrary(gt)\nlibrary(ggplot2)\nlibrary(giscoR)\nlibrary(janitor)\nlibrary(sf)\nlibrary(jsonlite)</pre>\n</div>\n</section>\n<section class=\"level2\" id=\"data\">\n<h2 class=\"anchored\" data-anchor-id=\"data\">Data</h2>\n<div class=\"cell\">\n<pre># ISO_3166-1_alpha-2 codes\niso_3166_a2 &lt;- read_html(\"https://en.wikipedia.org/wiki/ISO_3166-1_alpha-2\") |&gt; \n  html_table(na.strings = \"\") |&gt; # take care not to interpret Namibia as NA!\n  pluck(4) |&gt; \n  rename(code = Code,\n         name = `Country name (using title case)`) \n\n# Using data from {giscoR}, more adapted than {rnaturalearth} for alpha-2 codes\n# but we still need some manual cleaning\ncountries &lt;- gisco_countries |&gt; \n  clean_names() |&gt; \n  mutate(cntr_id = case_match(cntr_id,\n                              \"EL\" ~ \"GR\",\n                              \"GB\" ~ \"UK\",\n                              .default = cntr_id))\n\n# I want an Equal Earth projection centered on the Pacific (EPSG:8859)\n# we must correct the geometry at the anti meridian, so we must get the \n# projection origin\nepsg &lt;- \"8859\"\norigin &lt;- fromJSON(glue(\"https://epsg.io/{epsg}.json\")) |&gt; \n  pluck(\"conversion\", \"parameters\") |&gt;\n  filter(name == \"Longitude of natural origin\") |&gt; \n  pull(value) # should be 150\n\n# For the map background\nocean &lt;- st_bbox(countries) |&gt; \n  st_as_sfc() |&gt; \n  st_break_antimeridian(lon_0 = origin) |&gt; \n  st_segmentize(units::set_units(100, km))</pre>\n</div>\n</section>\n<section class=\"level2\" id=\"solving-the-problem\">\n<h2 class=\"anchored\" data-anchor-id=\"solving-the-problem\">Solving the problem</h2>\n<p>Actually this is the easiest part, once the data is clean!</p>\n<div class=\"cell\">\n<pre>results &lt;- iso_3166_a2 |&gt; \n  filter(str_detect(name, regex(code, ignore_case = TRUE)))</pre>\n</div>\n</section>\n<section class=\"level1\" id=\"results\">\n<h1>Results</h1>\n<p>From the 249 countries having an ISO code, 59 match our query (TableÂ 1). For all of them the code appears in the two first characters.</p>\n<p>There is at least one missing! New Caledonia code is NC; this code is not in its name but this territory is part of Fra<strong>NC</strong>e. According to lenient rules it countsâ€¦</p>\n<div class=\"cell\" data-tbl-cap-location=\"bottom\">\n<pre># using emoji flags for display, we need some more data wrangling\nresults |&gt; \n  mutate(name_flag = name |&gt; \n           str_split_i(\",\", 1)|&gt; \n           str_replace_all(\n             c(\"Lao People's Democratic Republic\" = \"Laos\",\n               \"Russian Federation\" = \"Russia\",\n               \"Syrian Arab Republic\" = \"Syria\",\n               \"Virgin Islands \\\\(U\\\\.S\\\\.\\\\)\" = \"U.S. Virgin Islands\"))) |&gt; \n  mutate(flag = map(name_flag, possibly(\\(x) flag(x), otherwise = \"\")),\n         display = glue(\"{flag} {name} ({code})\")) |&gt; \n  arrange(display) |&gt; \n  select(display) |&gt; \n  gt() |&gt; \n  cols_label(display = \"Country\") |&gt; \n  cols_align(align = \"left\")</pre>\n<div class=\"cell quarto-float quarto-figure quarto-figure-center anchored\" data-tbl-cap-location=\"bottom\" id=\"tbl-country\">\n<figure class=\"quarto-float quarto-float-tbl figure\">\n<div aria-describedby=\"tbl-country-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca\">\n<div class=\"cell-output-display\">\n<div id=\"otiawootke\" style=\"padding-left:0px;padding-right:0px;padding-top:10px;padding-bottom:10px;overflow-x:auto;overflow-y:auto;width:auto;height:auto;\">\n\n<table class=\"gt_table do-not-create-environment cell caption-top table table-sm table-striped small\" data-quarto-bootstrap=\"false\" data-quarto-disable-processing=\"false\" data-quarto-postprocess=\"true\">\n<thead>\n<tr class=\"gt_col_headings header\">\n<th class=\"gt_col_heading gt_columns_bottom_border gt_left\" data-quarto-table-cell-role=\"th\" id=\"display\" scope=\"col\">Country</th>\n</tr>\n</thead>\n<tbody class=\"gt_table_body\">\n<tr class=\"odd\">\n<td class=\"gt_row gt_left\" headers=\"display\">ğŸ‡¦ğŸ‡« Afghanistan (AF)</td>\n</tr>\n<tr class=\"even\">\n<td class=\"gt_row gt_left\" headers=\"display\">ğŸ‡¦ğŸ‡± Albania (AL)</td>\n</tr>\n<tr class=\"odd\">\n<td class=\"gt_row gt_left\" headers=\"display\">ğŸ‡¦ğŸ‡· Argentina (AR)</td>\n</tr>\n<tr class=\"even\">\n<td class=\"gt_row gt_left\" headers=\"display\">ğŸ‡¦ğŸ‡º Australia (AU)</td>\n</tr>\n<tr class=\"odd\">\n<td class=\"gt_row gt_left\" headers=\"display\">ğŸ‡¦ğŸ‡¿ Azerbaijan (AZ)</td>\n</tr>\n<tr class=\"even\">\n<td class=\"gt_row gt_left\" headers=\"display\">ğŸ‡§ğŸ‡ª Belgium (BE)</td>\n</tr>\n<tr class=\"odd\">\n<td class=\"gt_row gt_left\" headers=\"display\">ğŸ‡§ğŸ‡´ Bolivia, Plurinational State of (BO)</td>\n</tr>\n<tr class=\"even\">\n<td class=\"gt_row gt_left\" headers=\"display\">ğŸ‡§ğŸ‡· Brazil (BR)</td>\n</tr>\n<tr class=\"odd\">\n<td class=\"gt_row gt_left\" headers=\"display\">ğŸ‡¨ğŸ‡¦ Canada (CA)</td>\n</tr>\n<tr class=\"even\">\n<td class=\"gt_row gt_left\" headers=\"display\">ğŸ‡¨ğŸ‡´ Colombia (CO)</td>\n</tr>\n<tr class=\"odd\">\n<td class=\"gt_row gt_left\" headers=\"display\">ğŸ‡¨ğŸ‡º Cuba (CU)</td>\n</tr>\n<tr class=\"even\">\n<td class=\"gt_row gt_left\" headers=\"display\">ğŸ‡¨ğŸ‡¾ Cyprus (CY)</td>\n</tr>\n<tr class=\"odd\">\n<td class=\"gt_row gt_left\" headers=\"display\">ğŸ‡¨ğŸ‡¿ Czechia (CZ)</td>\n</tr>\n<tr class=\"even\">\n<td class=\"gt_row gt_left\" headers=\"display\">ğŸ‡©ğŸ‡¯ Djibouti (DJ)</td>\n</tr>\n<tr class=\"odd\">\n<td class=\"gt_row gt_left\" headers=\"display\">ğŸ‡©ğŸ‡´ Dominican Republic (DO)</td>\n</tr>\n<tr class=\"even\">\n<td class=\"gt_row gt_left\" headers=\"display\">ğŸ‡ªğŸ‡¨ Ecuador (EC)</td>\n</tr>\n<tr class=\"odd\">\n<td class=\"gt_row gt_left\" headers=\"display\">ğŸ‡ªğŸ‡¬ Egypt (EG)</td>\n</tr>\n<tr class=\"even\">\n<td class=\"gt_row gt_left\" headers=\"display\">ğŸ‡ªğŸ‡· Eritrea (ER)</td>\n</tr>\n<tr class=\"odd\">\n<td class=\"gt_row gt_left\" headers=\"display\">ğŸ‡ªğŸ‡¹ Ethiopia (ET)</td>\n</tr>\n<tr class=\"even\">\n<td class=\"gt_row gt_left\" headers=\"display\">ğŸ‡«ğŸ‡® Finland (FI)</td>\n</tr>\n<tr class=\"odd\">\n<td class=\"gt_row gt_left\" headers=\"display\">ğŸ‡«ğŸ‡· France (FR)</td>\n</tr>\n<tr class=\"even\">\n<td class=\"gt_row gt_left\" headers=\"display\">ğŸ‡¬ğŸ‡¦ Gabon (GA)</td>\n</tr>\n<tr class=\"odd\">\n<td class=\"gt_row gt_left\" headers=\"display\">ğŸ‡¬ğŸ‡ª Georgia (GE)</td>\n</tr>\n<tr class=\"even\">\n<td class=\"gt_row gt_left\" headers=\"display\">ğŸ‡¬ğŸ‡­ Ghana (GH)</td>\n</tr>\n<tr class=\"odd\">\n<td class=\"gt_row gt_left\" headers=\"display\">ğŸ‡¬ğŸ‡® Gibraltar (GI)</td>\n</tr>\n<tr class=\"even\">\n<td class=\"gt_row gt_left\" headers=\"display\">ğŸ‡¬ğŸ‡· Greece (GR)</td>\n</tr>\n<tr class=\"odd\">\n<td class=\"gt_row gt_left\" headers=\"display\">ğŸ‡¬ğŸ‡º Guam (GU)</td>\n</tr>\n<tr class=\"even\">\n<td class=\"gt_row gt_left\" headers=\"display\">ğŸ‡­ğŸ‡º Hungary (HU)</td>\n</tr>\n<tr class=\"odd\">\n<td class=\"gt_row gt_left\" headers=\"display\">ğŸ‡®ğŸ‡³ India (IN)</td>\n</tr>\n<tr class=\"even\">\n<td class=\"gt_row gt_left\" headers=\"display\">ğŸ‡®ğŸ‡· Iran, Islamic Republic of (IR)</td>\n</tr>\n<tr class=\"odd\">\n<td class=\"gt_row gt_left\" headers=\"display\">ğŸ‡®ğŸ‡¹ Italy (IT)</td>\n</tr>\n<tr class=\"even\">\n<td class=\"gt_row gt_left\" headers=\"display\">ğŸ‡¯ğŸ‡ª Jersey (JE)</td>\n</tr>\n<tr class=\"odd\">\n<td class=\"gt_row gt_left\" headers=\"display\">ğŸ‡¯ğŸ‡´ Jordan (JO)</td>\n</tr>\n<tr class=\"even\">\n<td class=\"gt_row gt_left\" headers=\"display\">ğŸ‡°ğŸ‡ª Kenya (KE)</td>\n</tr>\n<tr class=\"odd\">\n<td class=\"gt_row gt_left\" headers=\"display\">ğŸ‡°ğŸ‡® Kiribati (KI)</td>\n</tr>\n<tr class=\"even\">\n<td class=\"gt_row gt_left\" headers=\"display\">ğŸ‡±ğŸ‡¦ Lao Peopleâ€™s Democratic Republic (LA)</td>\n</tr>\n<tr class=\"odd\">\n<td class=\"gt_row gt_left\" headers=\"display\">ğŸ‡±ğŸ‡® Liechtenstein (LI)</td>\n</tr>\n<tr class=\"even\">\n<td class=\"gt_row gt_left\" headers=\"display\">ğŸ‡±ğŸ‡º Luxembourg (LU)</td>\n</tr>\n<tr class=\"odd\">\n<td class=\"gt_row gt_left\" headers=\"display\">ğŸ‡³ğŸ‡¦ Namibia (NA)</td>\n</tr>\n<tr class=\"even\">\n<td class=\"gt_row gt_left\" headers=\"display\">ğŸ‡³ğŸ‡® Nicaragua (NI)</td>\n</tr>\n<tr class=\"odd\">\n<td class=\"gt_row gt_left\" headers=\"display\">ğŸ‡³ğŸ‡´ Norway (NO)</td>\n</tr>\n<tr class=\"even\">\n<td class=\"gt_row gt_left\" headers=\"display\">ğŸ‡´ğŸ‡² Oman (OM)</td>\n</tr>\n<tr class=\"odd\">\n<td class=\"gt_row gt_left\" headers=\"display\">ğŸ‡µğŸ‡¦ Panama (PA)</td>\n</tr>\n<tr class=\"even\">\n<td class=\"gt_row gt_left\" headers=\"display\">ğŸ‡µğŸ‡ª Peru (PE)</td>\n</tr>\n<tr class=\"odd\">\n<td class=\"gt_row gt_left\" headers=\"display\">ğŸ‡µğŸ‡­ Philippines (PH)</td>\n</tr>\n<tr class=\"even\">\n<td class=\"gt_row gt_left\" headers=\"display\">ğŸ‡¶ğŸ‡¦ Qatar (QA)</td>\n</tr>\n<tr class=\"odd\">\n<td class=\"gt_row gt_left\" headers=\"display\">ğŸ‡·ğŸ‡´ Romania (RO)</td>\n</tr>\n<tr class=\"even\">\n<td class=\"gt_row gt_left\" headers=\"display\">ğŸ‡·ğŸ‡º Russian Federation (RU)</td>\n</tr>\n<tr class=\"odd\">\n<td class=\"gt_row gt_left\" headers=\"display\">ğŸ‡·ğŸ‡¼ Rwanda (RW)</td>\n</tr>\n<tr class=\"even\">\n<td class=\"gt_row gt_left\" headers=\"display\">ğŸ‡¸ğŸ‡¦ Saudi Arabia (SA)</td>\n</tr>\n<tr class=\"odd\">\n<td class=\"gt_row gt_left\" headers=\"display\">ğŸ‡¸ğŸ‡´ Somalia (SO)</td>\n</tr>\n<tr class=\"even\">\n<td class=\"gt_row gt_left\" headers=\"display\">ğŸ‡¸ğŸ‡¾ Syrian Arab Republic (SY)</td>\n</tr>\n<tr class=\"odd\">\n<td class=\"gt_row gt_left\" headers=\"display\">ğŸ‡¹ğŸ‡­ Thailand (TH)</td>\n</tr>\n<tr class=\"even\">\n<td class=\"gt_row gt_left\" headers=\"display\">ğŸ‡¹ğŸ‡´ Tonga (TO)</td>\n</tr>\n<tr class=\"odd\">\n<td class=\"gt_row gt_left\" headers=\"display\">ğŸ‡ºğŸ‡¬ Uganda (UG)</td>\n</tr>\n<tr class=\"even\">\n<td class=\"gt_row gt_left\" headers=\"display\">ğŸ‡ºğŸ‡¿ Uzbekistan (UZ)</td>\n</tr>\n<tr class=\"odd\">\n<td class=\"gt_row gt_left\" headers=\"display\">ğŸ‡»ğŸ‡ª Venezuela, Bolivarian Republic of (VE)</td>\n</tr>\n<tr class=\"even\">\n<td class=\"gt_row gt_left\" headers=\"display\">ğŸ‡»ğŸ‡® Virgin Islands (U.S.) (VI)</td>\n</tr>\n<tr class=\"odd\">\n<td class=\"gt_row gt_left\" headers=\"display\">ğŸ‡¾ğŸ‡ª Yemen (YE)</td>\n</tr>\n</tbody>\n</table>\n</div>\n</div>\n</div>\n<figcaption class=\"quarto-float-caption-bottom quarto-float-caption quarto-float-tbl\" id=\"tbl-country-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca\">\nTableÂ 1: Countries whose ISO 3166-1 alpha-2 code is contained as a substring in their name\n</figcaption>\n</figure>\n</div>\n</div>\n<section class=\"level2\" id=\"map\">\n<h2 class=\"anchored\" data-anchor-id=\"map\">Map</h2>\n<p>Now, to fulfill the 30DayMapChallenge, a classic choropleth map.</p>\n<div class=\"cell\">\n<pre>countries |&gt; \n  st_break_antimeridian(lon_0 = origin) |&gt; \n  left_join(results,\n            join_by(cntr_id == code)) |&gt; \n  ggplot() +\n  geom_sf(data = ocean, fill = \"paleturquoise\", color = NA, alpha = .4) +\n  geom_sf(aes(fill = !is.na(name), color = !is.na(name))) +\n  scale_fill_manual(values =  c(\"TRUE\" = \"darkolivegreen3\",\n                                \"FALSE\" = \"snow2\"),\n                    labels = c(\"TRUE\" = \"yes\",\n                               \"FALSE\" = \"no\")) +\n  scale_color_manual(values =  c(\"TRUE\" = \"darkolivegreen4\",\n                                 \"FALSE\" = \"snow3\"),\n                     labels = c(\"TRUE\" = \"yes\",\n                                \"FALSE\" = \"no\")) +\n  coord_sf(crs = glue(\"EPSG:{epsg}\")) +\n  guides(fill = guide_legend(reverse = TRUE),\n         color = guide_legend(reverse = TRUE)) +\n  labs(title = glue(\"Countries whose ISO 3166-1 alpha-2 code is contained as a \\\\\n                    substring in their name\"),\n       fill = \"name has ISO alpha-2 ?\",\n       color = \"name has ISO alpha-2 ?\",\n       caption = glue(\"data : Gisco, Wikipedia\n                      https://r.iresmi.net/ {Sys.Date()}\")) +\n  theme_minimal() +\n  theme(plot.caption = element_text(size = 6),\n        legend.position = \"bottom\",\n        plot.background = element_rect(fill = \"white\", color = NA))</pre>\n<div class=\"cell-output-display\">\n<div alt=\"A map of showing countries whose ISO 3166-1 alpha-2 code is contained as a substring in their name\" class=\"quarto-float quarto-figure quarto-figure-center anchored\" id=\"fig-map\">\n<figure class=\"quarto-float quarto-float-fig figure\">\n<div aria-describedby=\"fig-map-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca\">\n<img alt=\"A map of showing countries whose ISO 3166-1 alpha-2 code is contained as a substring in their name\" class=\"img-fluid figure-img\" data-lazy-src=\"https://i1.wp.com/r.iresmi.net/posts/2025/country_codes/index_files/figure-html/fig-map-1.png?w=578&amp;ssl=1\" data-recalc-dims=\"1\" src=\"https://www.r-bloggers.com/wp-content/plugins/jetpack/modules/lazy-images/images/1x1.trans.gif\" style=\"width:100.0%\"/><noscript><img alt=\"A map of showing countries whose ISO 3166-1 alpha-2 code is contained as a substring in their name\" class=\"img-fluid figure-img\" data-recalc-dims=\"1\" src=\"https://i1.wp.com/r.iresmi.net/posts/2025/country_codes/index_files/figure-html/fig-map-1.png?w=578&amp;ssl=1\" style=\"width:100.0%\"/></noscript>\n</div>\n<figcaption class=\"quarto-float-caption-bottom quarto-float-caption quarto-float-fig\" id=\"fig-map-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca\">\nFigureÂ 1: Countries whose ISO 3166-1 alpha-2 code is contained as a substring in their name\n</figcaption>\n</figure>\n</div>\n</div>\n</div>\n<!-- -->\n</section>\n</section>\n<div class=\"jp-relatedposts\" id=\"jp-relatedposts\">\n<h3 class=\"jp-relatedposts-headline\"><em>Related</em></h3>\n</div>\n<!-- Share buttons by mashshare.net - Version: 4.0.47-->\n<div style=\"border: 1px solid; background: none repeat scroll 0 0 #EDEDED; margin: 1px; font-size: 13px;\">\n<div style=\"text-align: center;\">To <strong>leave a comment</strong> for the author, please follow the link and comment on their blog: <strong><a href=\"https://r.iresmi.net/posts/2025/country_codes/\"> r.iresmi.net</a></strong>.</div>\n<hr/>\n<a href=\"https://www.r-bloggers.com/\" rel=\"nofollow\">R-bloggers.com</a> offers <strong><a href=\"https://feedburner.google.com/fb/a/mailverify?uri=RBloggers\" rel=\"nofollow\">daily e-mail updates</a></strong> about <a href=\"https://www.r-project.org/\" rel=\"nofollow\" title=\"The R Project for Statistical Computing\">R</a> news and tutorials about <a href=\"https://www.r-bloggers.com/how-to-learn-r-2/\" rel=\"nofollow\" title=\"R tutorials\">learning R</a> and many other topics. <a href=\"https://www.r-users.com/\" rel=\"nofollow\" title=\"Data science jobs\">Click here if you're looking to post or find an R/data-science job</a>.\n\n<hr/>Want to share your content on R-bloggers?<a href=\"https://www.r-bloggers.com/add-your-blog/\" rel=\"nofollow\"> click here</a> if you have a blog, or <a href=\"http://r-posts.com/\" rel=\"nofollow\"> here</a> if you don't.\n</div> </div>\n</article>",
      "main_text": "Country codes\nPosted on\nNovember 2, 2025\nby\nMichael\nin\nR bloggers\n| 0 Comments\n[This article was first published on\nr.iresmi.net\n, and kindly contributed to\nR-bloggers\n].  (You can report issue about the content on this page\nhere\n)\nWant to share your content on R-bloggers?\nclick here\nif you have a blog, or\nhere\nif you don't.\nPhysicists of many nations â€“ CC BY-NC-ND by Ann Fisher\nDayÂ 3 of\n30DayMapChallenge\n: Â«Â PolygonsÂ Â» (\npreviously\n).\nAn interesting challenge a few weeks ago on\nhttps://en.osm.town/@opencage/115271196316302891\n:\nPost by @\n[emailÂ protected]\nView on Mastodon\nName countries whose ISO 3166-1 alpha-2 code is contained as a substring in the common English version of the countryâ€™s name.\nFor example:\nIt\naly has its ISO code â€œITâ€ in its name; â€œSEâ€ is the ISO code for Sweden, but is not found in its name.\nLetâ€™s map thatâ€¦\nSetup\nlibrary(dplyr)\nlibrary(stringr)\nlibrary(purrr)\nlibrary(emoji)\nlibrary(rvest)\nlibrary(glue)\nlibrary(gt)\nlibrary(ggplot2)\nlibrary(giscoR)\nlibrary(janitor)\nlibrary(sf)\nlibrary(jsonlite)\nData\n# ISO_3166-1_alpha-2 codes\niso_3166_a2 <- read_html(\"https://en.wikipedia.org/wiki/ISO_3166-1_alpha-2\") |> \n  html_table(na.strings = \"\") |> # take care not to interpret Namibia as NA!\n  pluck(4) |> \n  rename(code = Code,\n         name = `Country name (using title case)`) \n\n# Using data from {giscoR}, more adapted than {rnaturalearth} for alpha-2 codes\n# but we still need some manual cleaning\ncountries <- gisco_countries |> \n  clean_names() |> \n  mutate(cntr_id = case_match(cntr_id,\n                              \"EL\" ~ \"GR\",\n                              \"GB\" ~ \"UK\",\n                              .default = cntr_id))\n\n# I want an Equal Earth projection centered on the Pacific (EPSG:8859)\n# we must correct the geometry at the anti meridian, so we must get the \n# projection origin\nepsg <- \"8859\"\norigin <- fromJSON(glue(\"https://epsg.io/{epsg}.json\")) |> \n  pluck(\"conversion\", \"parameters\") |>\n  filter(name == \"Longitude of natural origin\") |> \n  pull(value) # should be 150\n\n# For the map background\nocean <- st_bbox(countries) |> \n  st_as_sfc() |> \n  st_break_antimeridian(lon_0 = origin) |> \n  st_segmentize(units::set_units(100, km))\nSolving the problem\nActually this is the easiest part, once the data is clean!\nresults <- iso_3166_a2 |> \n  filter(str_detect(name, regex(code, ignore_case = TRUE)))\nResults\nFrom the 249 countries having an ISO code, 59 match our query (TableÂ 1). For all of them the code appears in the two first characters.\nThere is at least one missing! New Caledonia code is NC; this code is not in its name but this territory is part of Fra\nNC\ne. According to lenient rules it countsâ€¦\n# using emoji flags for display, we need some more data wrangling\nresults |> \n  mutate(name_flag = name |> \n           str_split_i(\",\", 1)|> \n           str_replace_all(\n             c(\"Lao People's Democratic Republic\" = \"Laos\",\n               \"Russian Federation\" = \"Russia\",\n               \"Syrian Arab Republic\" = \"Syria\",\n               \"Virgin Islands \\\\(U\\\\.S\\\\.\\\\)\" = \"U.S. Virgin Islands\"))) |> \n  mutate(flag = map(name_flag, possibly(\\(x) flag(x), otherwise = \"\")),\n         display = glue(\"{flag} {name} ({code})\")) |> \n  arrange(display) |> \n  select(display) |> \n  gt() |> \n  cols_label(display = \"Country\") |> \n  cols_align(align = \"left\")\nCountry\nğŸ‡¦ğŸ‡« Afghanistan (AF)\nğŸ‡¦ğŸ‡± Albania (AL)\nğŸ‡¦ğŸ‡· Argentina (AR)\nğŸ‡¦ğŸ‡º Australia (AU)\nğŸ‡¦ğŸ‡¿ Azerbaijan (AZ)\nğŸ‡§ğŸ‡ª Belgium (BE)\nğŸ‡§ğŸ‡´ Bolivia, Plurinational State of (BO)\nğŸ‡§ğŸ‡· Brazil (BR)\nğŸ‡¨ğŸ‡¦ Canada (CA)\nğŸ‡¨ğŸ‡´ Colombia (CO)\nğŸ‡¨ğŸ‡º Cuba (CU)\nğŸ‡¨ğŸ‡¾ Cyprus (CY)\nğŸ‡¨ğŸ‡¿ Czechia (CZ)\nğŸ‡©ğŸ‡¯ Djibouti (DJ)\nğŸ‡©ğŸ‡´ Dominican Republic (DO)\nğŸ‡ªğŸ‡¨ Ecuador (EC)\nğŸ‡ªğŸ‡¬ Egypt (EG)\nğŸ‡ªğŸ‡· Eritrea (ER)\nğŸ‡ªğŸ‡¹ Ethiopia (ET)\nğŸ‡«ğŸ‡® Finland (FI)\nğŸ‡«ğŸ‡· France (FR)\nğŸ‡¬ğŸ‡¦ Gabon (GA)\nğŸ‡¬ğŸ‡ª Georgia (GE)\nğŸ‡¬ğŸ‡­ Ghana (GH)\nğŸ‡¬ğŸ‡® Gibraltar (GI)\nğŸ‡¬ğŸ‡· Greece (GR)\nğŸ‡¬ğŸ‡º Guam (GU)\nğŸ‡­ğŸ‡º Hungary (HU)\nğŸ‡®ğŸ‡³ India (IN)\nğŸ‡®ğŸ‡· Iran, Islamic Republic of (IR)\nğŸ‡®ğŸ‡¹ Italy (IT)\nğŸ‡¯ğŸ‡ª Jersey (JE)\nğŸ‡¯ğŸ‡´ Jordan (JO)\nğŸ‡°ğŸ‡ª Kenya (KE)\nğŸ‡°ğŸ‡® Kiribati (KI)\nğŸ‡±ğŸ‡¦ Lao Peopleâ€™s Democratic Republic (LA)\nğŸ‡±ğŸ‡® Liechtenstein (LI)\nğŸ‡±ğŸ‡º Luxembourg (LU)\nğŸ‡³ğŸ‡¦ Namibia (NA)\nğŸ‡³ğŸ‡® Nicaragua (NI)\nğŸ‡³ğŸ‡´ Norway (NO)\nğŸ‡´ğŸ‡² Oman (OM)\nğŸ‡µğŸ‡¦ Panama (PA)\nğŸ‡µğŸ‡ª Peru (PE)\nğŸ‡µğŸ‡­ Philippines (PH)\nğŸ‡¶ğŸ‡¦ Qatar (QA)\nğŸ‡·ğŸ‡´ Romania (RO)\nğŸ‡·ğŸ‡º Russian Federation (RU)\nğŸ‡·ğŸ‡¼ Rwanda (RW)\nğŸ‡¸ğŸ‡¦ Saudi Arabia (SA)\nğŸ‡¸ğŸ‡´ Somalia (SO)\nğŸ‡¸ğŸ‡¾ Syrian Arab Republic (SY)\nğŸ‡¹ğŸ‡­ Thailand (TH)\nğŸ‡¹ğŸ‡´ Tonga (TO)\nğŸ‡ºğŸ‡¬ Uganda (UG)\nğŸ‡ºğŸ‡¿ Uzbekistan (UZ)\nğŸ‡»ğŸ‡ª Venezuela, Bolivarian Republic of (VE)\nğŸ‡»ğŸ‡® Virgin Islands (U.S.) (VI)\nğŸ‡¾ğŸ‡ª Yemen (YE)\nTableÂ 1: Countries whose ISO 3166-1 alpha-2 code is contained as a substring in their name\nMap\nNow, to fulfill the 30DayMapChallenge, a classic choropleth map.\ncountries |> \n  st_break_antimeridian(lon_0 = origin) |> \n  left_join(results,\n            join_by(cntr_id == code)) |> \n  ggplot() +\n  geom_sf(data = ocean, fill = \"paleturquoise\", color = NA, alpha = .4) +\n  geom_sf(aes(fill = !is.na(name), color = !is.na(name))) +\n  scale_fill_manual(values =  c(\"TRUE\" = \"darkolivegreen3\",\n                                \"FALSE\" = \"snow2\"),\n                    labels = c(\"TRUE\" = \"yes\",\n                               \"FALSE\" = \"no\")) +\n  scale_color_manual(values =  c(\"TRUE\" = \"darkolivegreen4\",\n                                 \"FALSE\" = \"snow3\"),\n                     labels = c(\"TRUE\" = \"yes\",\n                                \"FALSE\" = \"no\")) +\n  coord_sf(crs = glue(\"EPSG:{epsg}\")) +\n  guides(fill = guide_legend(reverse = TRUE),\n         color = guide_legend(reverse = TRUE)) +\n  labs(title = glue(\"Countries whose ISO 3166-1 alpha-2 code is contained as a \\\\\n                    substring in their name\"),\n       fill = \"name has ISO alpha-2 ?\",\n       color = \"name has ISO alpha-2 ?\",\n       caption = glue(\"data : Gisco, Wikipedia\n                      https://r.iresmi.net/ {Sys.Date()}\")) +\n  theme_minimal() +\n  theme(plot.caption = element_text(size = 6),\n        legend.position = \"bottom\",\n        plot.background = element_rect(fill = \"white\", color = NA))\nFigureÂ 1: Countries whose ISO 3166-1 alpha-2 code is contained as a substring in their name\nRelated\nTo\nleave a comment\nfor the author, please follow the link and comment on their blog:\nr.iresmi.net\n.\nR-bloggers.com\noffers\ndaily e-mail updates\nabout\nR\nnews and tutorials about\nlearning R\nand many other topics.\nClick here if you're looking to post or find an R/data-science job\n.\nWant to share your content on R-bloggers?\nclick here\nif you have a blog, or\nhere\nif you don't.",
      "meta_description": "Physicists of many nations â€“ CC BY-NC-ND by Ann Fisher Day 3 of 30DayMapChallenge: Â« Polygons Â» (previously). An interesting challenge a few weeks ago on https://en.osm.town/@opencage/115271196316302891: Post by @opencage@en.osm.town View on Mastodon Name countries whose ISO 3166-1 alpha-2 code is contained as a substring in the common English version of the countryâ€™s name. For example: Italy has its ISO code â€œITâ€ in its name; â€œSEâ€ is the ISO code for Sweden, but is not found in its name. Letâ€™s map thatâ€¦ Setup library(dplyr) library(stringr) library(purrr) library(emoji) library(rvest) library(glue) library(gt) library(ggplot2) library(giscoR) library(janitor) library(sf) library(jsonlite) Data # ISO_3166-1_alpha-2 codes iso_3166_a2 html_table(na.strings = \"\") |> # take care not to interpret Namibia as NA! pluck(4) |> rename(code = Code, name = `Country name (using title case)`) # Using data from {giscoR}, more adapted than {rnaturalearth} for alpha-2 codes # but we still need some manual cleaning countries clean_names() |> mutate(cntr_id = case_match(cntr_id, \"EL\" ~ \"GR\", \"GB\" ~ \"UK\", .default = cntr_id)) # I want an Equal Earth projection centered on the Pacific (EPSG:8859) # we must correct the geometry at the anti meridian, so we must get the # projection origin epsg filter(name == \"Longitude of natural origin\") |> pull(value) # should be 150 # For the map background ocean st_as_sfc() |> st_break_antimeridian(lon_0 = origin) |> st_segmentize(units::set_units(100, km)) Solving the problem Actually this is the easiest part, once the data is clean! results filter(str_detect(name, regex(code, ignore_case = TRUE))) Results From the 249 countries having an ISO code, 59 match our query (Table 1). For all of them the code appears in the two first characters. There is at least one missing! New Caledonia code is NC; this code is not in its name but this territory is part of FraNCe. According to lenient rules it countsâ€¦ # using emoji flags for display, we need some more data wrangling results |> mutate(name_flag = name |> str_split_i(\",\", 1)|> str_replace_all( c(\"Lao People's Democratic Republic\" = \"Laos\", \"Russian Federation\" = \"Russia\", \"Syrian Arab Republic\" = \"Syria\", \"Virgin Islands \\(U\\.S\\.\\)\" = \"U.S. Virgin Islands\"))) |> mutate(flag = map(name_flag, possibly(\\(x) flag(x), otherwise = \"\")), display = glue(\"{flag} {name} ({code})\")) |> arrange(display) |> select(display) |> gt() |> cols_label(display = \"Country\") |> cols_align(align = \"left\") Country ğŸ‡¦ğŸ‡« Afghanistan (AF) ğŸ‡¦ğŸ‡± Albania (AL) ğŸ‡¦ğŸ‡· Argentina (AR) ğŸ‡¦ğŸ‡º Australia (AU) ğŸ‡¦ğŸ‡¿ Azerbaijan (AZ) ğŸ‡§ğŸ‡ª Belgium (BE) ğŸ‡§ğŸ‡´ Bolivia, Plurinational State of (BO) ğŸ‡§ğŸ‡· Brazil (BR) ğŸ‡¨ğŸ‡¦ Canada (CA) ğŸ‡¨ğŸ‡´ Colombia (CO) ğŸ‡¨ğŸ‡º Cuba (CU) ğŸ‡¨ğŸ‡¾ Cyprus (CY) ğŸ‡¨ğŸ‡¿ Czechia (CZ) ğŸ‡©ğŸ‡¯ Djibouti (DJ) ğŸ‡©ğŸ‡´ Dominican Republic (DO) ğŸ‡ªğŸ‡¨ Ecuador (EC) ğŸ‡ªğŸ‡¬ Egypt (EG) ğŸ‡ªğŸ‡· Eritrea (ER) ğŸ‡ªğŸ‡¹ Ethiopia (ET) ğŸ‡«ğŸ‡® Finland (FI) ğŸ‡«ğŸ‡· France (FR) ğŸ‡¬ğŸ‡¦ Gabon (GA) ğŸ‡¬ğŸ‡ª Georgia (GE) ğŸ‡¬ğŸ‡­ Ghana (GH) ğŸ‡¬ğŸ‡® Gibraltar (GI) ğŸ‡¬ğŸ‡· Greece (GR) ğŸ‡¬ğŸ‡º Guam (GU) ğŸ‡­ğŸ‡º Hungary (HU) ğŸ‡®ğŸ‡³ India (IN) ğŸ‡®ğŸ‡· Iran, Islamic Republic of (IR) ğŸ‡®ğŸ‡¹ Italy (IT) ğŸ‡¯ğŸ‡ª Jersey (JE) ğŸ‡¯ğŸ‡´ Jordan (JO) ğŸ‡°ğŸ‡ª Kenya (KE) ğŸ‡°ğŸ‡® Kiribati (KI) ğŸ‡±ğŸ‡¦ Lao People's Democratic Republic (LA) ğŸ‡±ğŸ‡® Liechtenstein (LI) ğŸ‡±ğŸ‡º Luxembourg (LU) ğŸ‡³ğŸ‡¦ Namibia (NA) ğŸ‡³ğŸ‡® Nicaragua (NI) ğŸ‡³ğŸ‡´ Norway (NO) ğŸ‡´ğŸ‡² Oman (OM) ğŸ‡µğŸ‡¦ Panama (PA) ğŸ‡µğŸ‡ª Peru (PE) ğŸ‡µğŸ‡­ Philippines (PH) ğŸ‡¶ğŸ‡¦ Qatar (QA) ğŸ‡·ğŸ‡´ Romania (RO) ğŸ‡·ğŸ‡º Russian Federation (RU) ğŸ‡·ğŸ‡¼ Rwanda (RW) ğŸ‡¸ğŸ‡¦ Saudi Arabia (SA) ğŸ‡¸ğŸ‡´ Somalia (SO) ğŸ‡¸ğŸ‡¾ Syrian Arab Republic (SY) ğŸ‡¹ğŸ‡­ Thailand (TH) ğŸ‡¹ğŸ‡´ Tonga (TO) ğŸ‡ºğŸ‡¬ Uganda (UG) ğŸ‡ºğŸ‡¿ Uzbekistan (UZ) ğŸ‡»ğŸ‡ª Venezuela, Bolivarian Republic of (VE) ğŸ‡»ğŸ‡® Virgin Islands (U.S.) (VI) ğŸ‡¾ğŸ‡ª Yemen (YE) Table 1: Countries whose ISO 3166-1 alpha-2 code is contained as a substring in their name Map Now, to fulfill the 30DayMapChallenge, a classic choropleth map. countries |> st_break_antimeridian(lon_0 = origin) |> left_join(results, join_by(cntr_id == code)) |> ggplot() + geom_sf(data = ocean, fill = \"paleturquoise\", color = NA, alpha = .4) + geom_sf(aes(fill = !is.na(name), color = !is.na(name))) + scale_fill_manual(values = c(\"TRUE\" = \"darkolivegreen3\", \"FALSE\" = \"snow2\"), labels = c(\"TRUE\" = \"yes\", \"FALSE\" = \"no\")) + scale_color_manual(values = c(\"TRUE\" = \"darkolivegreen4\", \"FALSE\" = \"snow3\"), labels = c(\"TRUE\" = \"yes\", \"FALSE\" = \"no\")) + coord_sf(crs = glue(\"EPSG:{epsg}\")) + guides(fill = guide_legend(reverse = TRUE), color = guide_legend(reverse = TRUE)) + labs(title = glue(\"Countries whose ISO 3166-1 alpha-2 code is contained as a \\ substring in their name\"), fill = \"name has ISO alpha-2 ?\", color = \"name has ISO alpha-2 ?\", caption = glue(\"data : Gisco, Wikipedia https://r.iresmi.net/ {Sys.Date()}\")) + theme_minimal() + theme(plot.caption = element_text(size = 6), legend.position = \"bottom\", plot.background = element_rect(fill = \"white\", color = NA)) Figure 1: Countries whose ISO 3166-1 alpha-2 code is contained as a substring in their name",
      "meta_keywords": null,
      "og_description": "Physicists of many nations â€“ CC BY-NC-ND by Ann Fisher Day 3 of 30DayMapChallenge: Â« Polygons Â» (previously). An interesting challenge a few weeks ago on https://en.osm.town/@opencage/115271196316302891: Post by @opencage@en.osm.town View on Mastodon Name countries whose ISO 3166-1 alpha-2 code is contained as a substring in the common English version of the countryâ€™s name. For example: Italy has its ISO code â€œITâ€ in its name; â€œSEâ€ is the ISO code for Sweden, but is not found in its name. Letâ€™s map thatâ€¦ Setup library(dplyr) library(stringr) library(purrr) library(emoji) library(rvest) library(glue) library(gt) library(ggplot2) library(giscoR) library(janitor) library(sf) library(jsonlite) Data # ISO_3166-1_alpha-2 codes iso_3166_a2 html_table(na.strings = \"\") |> # take care not to interpret Namibia as NA! pluck(4) |> rename(code = Code, name = `Country name (using title case)`) # Using data from {giscoR}, more adapted than {rnaturalearth} for alpha-2 codes # but we still need some manual cleaning countries clean_names() |> mutate(cntr_id = case_match(cntr_id, \"EL\" ~ \"GR\", \"GB\" ~ \"UK\", .default = cntr_id)) # I want an Equal Earth projection centered on the Pacific (EPSG:8859) # we must correct the geometry at the anti meridian, so we must get the # projection origin epsg filter(name == \"Longitude of natural origin\") |> pull(value) # should be 150 # For the map background ocean st_as_sfc() |> st_break_antimeridian(lon_0 = origin) |> st_segmentize(units::set_units(100, km)) Solving the problem Actually this is the easiest part, once the data is clean! results filter(str_detect(name, regex(code, ignore_case = TRUE))) Results From the 249 countries having an ISO code, 59 match our query (Table 1). For all of them the code appears in the two first characters. There is at least one missing! New Caledonia code is NC; this code is not in its name but this territory is part of FraNCe. According to lenient rules it countsâ€¦ # using emoji flags for display, we need some more data wrangling results |> mutate(name_flag = name |> str_split_i(\",\", 1)|> str_replace_all( c(\"Lao People's Democratic Republic\" = \"Laos\", \"Russian Federation\" = \"Russia\", \"Syrian Arab Republic\" = \"Syria\", \"Virgin Islands \\(U\\.S\\.\\)\" = \"U.S. Virgin Islands\"))) |> mutate(flag = map(name_flag, possibly(\\(x) flag(x), otherwise = \"\")), display = glue(\"{flag} {name} ({code})\")) |> arrange(display) |> select(display) |> gt() |> cols_label(display = \"Country\") |> cols_align(align = \"left\") Country ğŸ‡¦ğŸ‡« Afghanistan (AF) ğŸ‡¦ğŸ‡± Albania (AL) ğŸ‡¦ğŸ‡· Argentina (AR) ğŸ‡¦ğŸ‡º Australia (AU) ğŸ‡¦ğŸ‡¿ Azerbaijan (AZ) ğŸ‡§ğŸ‡ª Belgium (BE) ğŸ‡§ğŸ‡´ Bolivia, Plurinational State of (BO) ğŸ‡§ğŸ‡· Brazil (BR) ğŸ‡¨ğŸ‡¦ Canada (CA) ğŸ‡¨ğŸ‡´ Colombia (CO) ğŸ‡¨ğŸ‡º Cuba (CU) ğŸ‡¨ğŸ‡¾ Cyprus (CY) ğŸ‡¨ğŸ‡¿ Czechia (CZ) ğŸ‡©ğŸ‡¯ Djibouti (DJ) ğŸ‡©ğŸ‡´ Dominican Republic (DO) ğŸ‡ªğŸ‡¨ Ecuador (EC) ğŸ‡ªğŸ‡¬ Egypt (EG) ğŸ‡ªğŸ‡· Eritrea (ER) ğŸ‡ªğŸ‡¹ Ethiopia (ET) ğŸ‡«ğŸ‡® Finland (FI) ğŸ‡«ğŸ‡· France (FR) ğŸ‡¬ğŸ‡¦ Gabon (GA) ğŸ‡¬ğŸ‡ª Georgia (GE) ğŸ‡¬ğŸ‡­ Ghana (GH) ğŸ‡¬ğŸ‡® Gibraltar (GI) ğŸ‡¬ğŸ‡· Greece (GR) ğŸ‡¬ğŸ‡º Guam (GU) ğŸ‡­ğŸ‡º Hungary (HU) ğŸ‡®ğŸ‡³ India (IN) ğŸ‡®ğŸ‡· Iran, Islamic Republic of (IR) ğŸ‡®ğŸ‡¹ Italy (IT) ğŸ‡¯ğŸ‡ª Jersey (JE) ğŸ‡¯ğŸ‡´ Jordan (JO) ğŸ‡°ğŸ‡ª Kenya (KE) ğŸ‡°ğŸ‡® Kiribati (KI) ğŸ‡±ğŸ‡¦ Lao People's Democratic Republic (LA) ğŸ‡±ğŸ‡® Liechtenstein (LI) ğŸ‡±ğŸ‡º Luxembourg (LU) ğŸ‡³ğŸ‡¦ Namibia (NA) ğŸ‡³ğŸ‡® Nicaragua (NI) ğŸ‡³ğŸ‡´ Norway (NO) ğŸ‡´ğŸ‡² Oman (OM) ğŸ‡µğŸ‡¦ Panama (PA) ğŸ‡µğŸ‡ª Peru (PE) ğŸ‡µğŸ‡­ Philippines (PH) ğŸ‡¶ğŸ‡¦ Qatar (QA) ğŸ‡·ğŸ‡´ Romania (RO) ğŸ‡·ğŸ‡º Russian Federation (RU) ğŸ‡·ğŸ‡¼ Rwanda (RW) ğŸ‡¸ğŸ‡¦ Saudi Arabia (SA) ğŸ‡¸ğŸ‡´ Somalia (SO) ğŸ‡¸ğŸ‡¾ Syrian Arab Republic (SY) ğŸ‡¹ğŸ‡­ Thailand (TH) ğŸ‡¹ğŸ‡´ Tonga (TO) ğŸ‡ºğŸ‡¬ Uganda (UG) ğŸ‡ºğŸ‡¿ Uzbekistan (UZ) ğŸ‡»ğŸ‡ª Venezuela, Bolivarian Republic of (VE) ğŸ‡»ğŸ‡® Virgin Islands (U.S.) (VI) ğŸ‡¾ğŸ‡ª Yemen (YE) Table 1: Countries whose ISO 3166-1 alpha-2 code is contained as a substring in their name Map Now, to fulfill the 30DayMapChallenge, a classic choropleth map. countries |> st_break_antimeridian(lon_0 = origin) |> left_join(results, join_by(cntr_id == code)) |> ggplot() + geom_sf(data = ocean, fill = \"paleturquoise\", color = NA, alpha = .4) + geom_sf(aes(fill = !is.na(name), color = !is.na(name))) + scale_fill_manual(values = c(\"TRUE\" = \"darkolivegreen3\", \"FALSE\" = \"snow2\"), labels = c(\"TRUE\" = \"yes\", \"FALSE\" = \"no\")) + scale_color_manual(values = c(\"TRUE\" = \"darkolivegreen4\", \"FALSE\" = \"snow3\"), labels = c(\"TRUE\" = \"yes\", \"FALSE\" = \"no\")) + coord_sf(crs = glue(\"EPSG:{epsg}\")) + guides(fill = guide_legend(reverse = TRUE), color = guide_legend(reverse = TRUE)) + labs(title = glue(\"Countries whose ISO 3166-1 alpha-2 code is contained as a \\ substring in their name\"), fill = \"name has ISO alpha-2 ?\", color = \"name has ISO alpha-2 ?\", caption = glue(\"data : Gisco, Wikipedia https://r.iresmi.net/ {Sys.Date()}\")) + theme_minimal() + theme(plot.caption = element_text(size = 6), legend.position = \"bottom\", plot.background = element_rect(fill = \"white\", color = NA)) Figure 1: Countries whose ISO 3166-1 alpha-2 code is contained as a substring in their name",
      "og_image": "https://r.iresmi.net/posts/2025/country_codes/images/8570865929_84b19f0403_c.jpg",
      "og_title": "Country codes | R-bloggers",
      "raw_jsonld_article": null,
      "reading_time_min": 4.3,
      "sitemap_lastmod": null,
      "twitter_description": "Physicists of many nations â€“ CC BY-NC-ND by Ann Fisher Day 3 of 30DayMapChallenge: Â« Polygons Â» (previously). An interesting challenge a few weeks ago on https://en.osm.town/@opencage/115271196316302891: Post by @opencage@en.osm.town View on Mastodon Name countries whose ISO 3166-1 alpha-2 code is contained as a substring in the common English version of the countryâ€™s name. For example: Italy has its ISO code â€œITâ€ in its name; â€œSEâ€ is the ISO code for Sweden, but is not found in its name. Letâ€™s map thatâ€¦ Setup library(dplyr) library(stringr) library(purrr) library(emoji) library(rvest) library(glue) library(gt) library(ggplot2) library(giscoR) library(janitor) library(sf) library(jsonlite) Data # ISO_3166-1_alpha-2 codes iso_3166_a2 html_table(na.strings = \"\") |> # take care not to interpret Namibia as NA! pluck(4) |> rename(code = Code, name = `Country name (using title case)`) # Using data from {giscoR}, more adapted than {rnaturalearth} for alpha-2 codes # but we still need some manual cleaning countries clean_names() |> mutate(cntr_id = case_match(cntr_id, \"EL\" ~ \"GR\", \"GB\" ~ \"UK\", .default = cntr_id)) # I want an Equal Earth projection centered on the Pacific (EPSG:8859) # we must correct the geometry at the anti meridian, so we must get the # projection origin epsg filter(name == \"Longitude of natural origin\") |> pull(value) # should be 150 # For the map background ocean st_as_sfc() |> st_break_antimeridian(lon_0 = origin) |> st_segmentize(units::set_units(100, km)) Solving the problem Actually this is the easiest part, once the data is clean! results filter(str_detect(name, regex(code, ignore_case = TRUE))) Results From the 249 countries having an ISO code, 59 match our query (Table 1). For all of them the code appears in the two first characters. There is at least one missing! New Caledonia code is NC; this code is not in its name but this territory is part of FraNCe. According to lenient rules it countsâ€¦ # using emoji flags for display, we need some more data wrangling results |> mutate(name_flag = name |> str_split_i(\",\", 1)|> str_replace_all( c(\"Lao People's Democratic Republic\" = \"Laos\", \"Russian Federation\" = \"Russia\", \"Syrian Arab Republic\" = \"Syria\", \"Virgin Islands \\(U\\.S\\.\\)\" = \"U.S. Virgin Islands\"))) |> mutate(flag = map(name_flag, possibly(\\(x) flag(x), otherwise = \"\")), display = glue(\"{flag} {name} ({code})\")) |> arrange(display) |> select(display) |> gt() |> cols_label(display = \"Country\") |> cols_align(align = \"left\") Country ğŸ‡¦ğŸ‡« Afghanistan (AF) ğŸ‡¦ğŸ‡± Albania (AL) ğŸ‡¦ğŸ‡· Argentina (AR) ğŸ‡¦ğŸ‡º Australia (AU) ğŸ‡¦ğŸ‡¿ Azerbaijan (AZ) ğŸ‡§ğŸ‡ª Belgium (BE) ğŸ‡§ğŸ‡´ Bolivia, Plurinational State of (BO) ğŸ‡§ğŸ‡· Brazil (BR) ğŸ‡¨ğŸ‡¦ Canada (CA) ğŸ‡¨ğŸ‡´ Colombia (CO) ğŸ‡¨ğŸ‡º Cuba (CU) ğŸ‡¨ğŸ‡¾ Cyprus (CY) ğŸ‡¨ğŸ‡¿ Czechia (CZ) ğŸ‡©ğŸ‡¯ Djibouti (DJ) ğŸ‡©ğŸ‡´ Dominican Republic (DO) ğŸ‡ªğŸ‡¨ Ecuador (EC) ğŸ‡ªğŸ‡¬ Egypt (EG) ğŸ‡ªğŸ‡· Eritrea (ER) ğŸ‡ªğŸ‡¹ Ethiopia (ET) ğŸ‡«ğŸ‡® Finland (FI) ğŸ‡«ğŸ‡· France (FR) ğŸ‡¬ğŸ‡¦ Gabon (GA) ğŸ‡¬ğŸ‡ª Georgia (GE) ğŸ‡¬ğŸ‡­ Ghana (GH) ğŸ‡¬ğŸ‡® Gibraltar (GI) ğŸ‡¬ğŸ‡· Greece (GR) ğŸ‡¬ğŸ‡º Guam (GU) ğŸ‡­ğŸ‡º Hungary (HU) ğŸ‡®ğŸ‡³ India (IN) ğŸ‡®ğŸ‡· Iran, Islamic Republic of (IR) ğŸ‡®ğŸ‡¹ Italy (IT) ğŸ‡¯ğŸ‡ª Jersey (JE) ğŸ‡¯ğŸ‡´ Jordan (JO) ğŸ‡°ğŸ‡ª Kenya (KE) ğŸ‡°ğŸ‡® Kiribati (KI) ğŸ‡±ğŸ‡¦ Lao People's Democratic Republic (LA) ğŸ‡±ğŸ‡® Liechtenstein (LI) ğŸ‡±ğŸ‡º Luxembourg (LU) ğŸ‡³ğŸ‡¦ Namibia (NA) ğŸ‡³ğŸ‡® Nicaragua (NI) ğŸ‡³ğŸ‡´ Norway (NO) ğŸ‡´ğŸ‡² Oman (OM) ğŸ‡µğŸ‡¦ Panama (PA) ğŸ‡µğŸ‡ª Peru (PE) ğŸ‡µğŸ‡­ Philippines (PH) ğŸ‡¶ğŸ‡¦ Qatar (QA) ğŸ‡·ğŸ‡´ Romania (RO) ğŸ‡·ğŸ‡º Russian Federation (RU) ğŸ‡·ğŸ‡¼ Rwanda (RW) ğŸ‡¸ğŸ‡¦ Saudi Arabia (SA) ğŸ‡¸ğŸ‡´ Somalia (SO) ğŸ‡¸ğŸ‡¾ Syrian Arab Republic (SY) ğŸ‡¹ğŸ‡­ Thailand (TH) ğŸ‡¹ğŸ‡´ Tonga (TO) ğŸ‡ºğŸ‡¬ Uganda (UG) ğŸ‡ºğŸ‡¿ Uzbekistan (UZ) ğŸ‡»ğŸ‡ª Venezuela, Bolivarian Republic of (VE) ğŸ‡»ğŸ‡® Virgin Islands (U.S.) (VI) ğŸ‡¾ğŸ‡ª Yemen (YE) Table 1: Countries whose ISO 3166-1 alpha-2 code is contained as a substring in their name Map Now, to fulfill the 30DayMapChallenge, a classic choropleth map. countries |> st_break_antimeridian(lon_0 = origin) |> left_join(results, join_by(cntr_id == code)) |> ggplot() + geom_sf(data = ocean, fill = \"paleturquoise\", color = NA, alpha = .4) + geom_sf(aes(fill = !is.na(name), color = !is.na(name))) + scale_fill_manual(values = c(\"TRUE\" = \"darkolivegreen3\", \"FALSE\" = \"snow2\"), labels = c(\"TRUE\" = \"yes\", \"FALSE\" = \"no\")) + scale_color_manual(values = c(\"TRUE\" = \"darkolivegreen4\", \"FALSE\" = \"snow3\"), labels = c(\"TRUE\" = \"yes\", \"FALSE\" = \"no\")) + coord_sf(crs = glue(\"EPSG:{epsg}\")) + guides(fill = guide_legend(reverse = TRUE), color = guide_legend(reverse = TRUE)) + labs(title = glue(\"Countries whose ISO 3166-1 alpha-2 code is contained as a \\ substring in their name\"), fill = \"name has ISO alpha-2 ?\", color = \"name has ISO alpha-2 ?\", caption = glue(\"data : Gisco, Wikipedia https://r.iresmi.net/ {Sys.Date()}\")) + theme_minimal() + theme(plot.caption = element_text(size = 6), legend.position = \"bottom\", plot.background = element_rect(fill = \"white\", color = NA)) Figure 1: Countries whose ISO 3166-1 alpha-2 code is contained as a substring in their name",
      "twitter_title": "Country codes | R-bloggers",
      "url": "https://www.r-bloggers.com/2025/11/country-codes/",
      "word_count": 853
    }
  }
}