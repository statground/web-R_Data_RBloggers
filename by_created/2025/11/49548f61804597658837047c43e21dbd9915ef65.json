{
  "id": "49548f61804597658837047c43e21dbd9915ef65",
  "url": "https://www.r-bloggers.com/2025/05/user-parameters-for-shiny-applications/",
  "created_at_utc": "2025-11-22T19:58:35Z",
  "data": null,
  "raw_original": {
    "uuid": "68c4ceea-c4db-46d2-bcbd-cbe26840038f",
    "created_at": "2025-11-22 19:58:35",
    "raw_json": {
      "article_author": null,
      "article_headline": null,
      "article_modified": null,
      "article_published": null,
      "article_section": null,
      "article_tags": null,
      "canonical_url": "https://www.r-bloggers.com/2025/05/user-parameters-for-shiny-applications/",
      "crawled_at": "2025-11-22T10:48:54.555689",
      "external_links": [
        {
          "href": "https://bryer.org/posts/2025-05-16-User_params_for_shiny.html",
          "text": "Jason Bryer"
        },
        {
          "href": "http://r-posts.com/",
          "text": "here"
        },
        {
          "href": "https://github.com/jbryer/login/blob/main/inst/user_params/app.R",
          "text": "https://github.com/jbryer/login/blob/main/inst/user_params/app.R"
        },
        {
          "href": "https://github.com/jbryer/login/blob/main/inst/data_viewer/app.R",
          "text": "https://github.com/jbryer/login/blob/main/inst/data_viewer/app.R"
        },
        {
          "href": "https://github.com/jbryer/login",
          "text": "login"
        },
        {
          "href": "https://jbryer.github.io/login/articles/paramaters.html",
          "text": "https://jbryer.github.io/login/articles/paramaters.html"
        },
        {
          "href": "https://vis.social/@jbryer",
          "text": "@jbryer@vis.social"
        },
        {
          "href": "https://www.shinyapps.io/",
          "text": "www.shinyapps.io"
        },
        {
          "href": "https://mastering-shiny.org/scaling-modules.html",
          "text": "Shiny modules"
        },
        {
          "href": "https://cookies.shinyworks.org/",
          "text": "cookies"
        },
        {
          "href": "https://bryer.org/posts/2025-05-16-User_params_for_shiny.html",
          "text": "Jason Bryer"
        },
        {
          "href": "https://feedburner.google.com/fb/a/mailverify?uri=RBloggers",
          "text": "daily e-mail updates"
        },
        {
          "href": "https://www.r-project.org/",
          "text": "R"
        },
        {
          "href": "https://www.r-users.com/",
          "text": "Click here if you're looking to post or find an R/data-science job"
        },
        {
          "href": "http://r-posts.com/",
          "text": "here"
        }
      ],
      "h1_title": "R-bloggers",
      "html_title": "User parameters for Shiny applications | R-bloggers",
      "images": [
        {
          "alt": null,
          "base64": "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",
          "src": "https://www.r-bloggers.com/wp-content/plugins/jetpack/modules/lazy-images/images/1x1.trans.gif"
        },
        {
          "alt": null,
          "base64": null,
          "src": "https://i0.wp.com/bryer.org/posts/screenshot_params1.png?w=578&ssl=1"
        },
        {
          "alt": null,
          "base64": "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",
          "src": "https://www.r-bloggers.com/wp-content/plugins/jetpack/modules/lazy-images/images/1x1.trans.gif"
        },
        {
          "alt": null,
          "base64": null,
          "src": "https://i0.wp.com/bryer.org/posts/screenshot_params2.png?w=578&ssl=1"
        }
      ],
      "internal_links": [
        {
          "href": "https://www.r-bloggers.com/author/jason-bryer/",
          "text": "Jason Bryer"
        },
        {
          "href": "https://www.r-bloggers.com/category/r-bloggers/",
          "text": "R bloggers"
        },
        {
          "href": "https://www.r-bloggers.com/",
          "text": "R-bloggers"
        },
        {
          "href": "https://www.r-bloggers.com/contact-us/",
          "text": "here"
        },
        {
          "href": "https://www.r-bloggers.com/add-your-blog/",
          "text": "click here"
        },
        {
          "href": "https://www.r-bloggers.com/",
          "text": "R-bloggers.com"
        },
        {
          "href": "https://www.r-bloggers.com/how-to-learn-r-2/",
          "text": "learning R"
        },
        {
          "href": "https://www.r-bloggers.com/add-your-blog/",
          "text": "click here"
        }
      ],
      "lang": "en-US",
      "main_html": "<article class=\"post-392444 post type-post status-publish format-standard hentry category-r-bloggers\">\n<header class=\"post-header\">\n<h1 class=\"entry-title\">User parameters for Shiny applications</h1>\n<p class=\"meta post-meta\">Posted on <span class=\"updated\">May 15, 2025</span>  by <span class=\"vcard author\"><a class=\"fn\" href=\"https://www.r-bloggers.com/author/jason-bryer/\">Jason Bryer</a></span>  in <a href=\"https://www.r-bloggers.com/category/r-bloggers/\" rel=\"category tag\">R bloggers</a> | 0 Comments</p>\n</header>\n<div class=\"entry clearfix\">\n<!-- \n<div style=\"min-height: 30px;\">\n[social4i size=\"small\" align=\"align-left\"]\n</div>\n-->\n<div style=\"border: 1px solid; background: none repeat scroll 0 0 #EDEDED; margin: 1px; font-size: 12px;\">\n[This article was first published on  <strong><a href=\"https://bryer.org/posts/2025-05-16-User_params_for_shiny.html\"> Jason Bryer</a></strong>, and kindly contributed to <a href=\"https://www.r-bloggers.com/\" rel=\"nofollow\">R-bloggers</a>].  (You can report issue about the content on this page <a href=\"https://www.r-bloggers.com/contact-us/\">here</a>)\n<hr/>Want to share your content on R-bloggers?<a href=\"https://www.r-bloggers.com/add-your-blog/\" rel=\"nofollow\"> click here</a> if you have a blog, or <a href=\"http://r-posts.com/\" rel=\"nofollow\"> here</a> if you don't.\n</div>\n\n<!-- Share buttons by mashshare.net - Version: 4.0.47-->\n<p><strong>tl;dr</strong></p>\n<p>Once the <code>login</code> package is installed, you can run two demos using the following commands:</p>\n<ul>\n<li><p><code>shiny::runApp(paste0(find.package('login'), '/user_params/'))</code><br/>\n<a href=\"https://github.com/jbryer/login/blob/main/inst/user_params/app.R\" rel=\"nofollow\" target=\"_blank\">https://github.com/jbryer/login/blob/main/inst/user_params/app.R</a></p></li>\n<li><p><code>shiny::runApp(paste0(find.package('login'), '/data_viewer/'))</code><br/>\n<a href=\"https://github.com/jbryer/login/blob/main/inst/data_viewer/app.R\" rel=\"nofollow\" target=\"_blank\">https://github.com/jbryer/login/blob/main/inst/data_viewer/app.R</a></p></li>\n</ul>\n<p><em>Note that this is cross posted with a vignette in the <a href=\"https://github.com/jbryer/login\" rel=\"nofollow\" target=\"_blank\"><code>login</code></a> R package. For the most up-to-date version go here: <a href=\"https://jbryer.github.io/login/articles/paramaters.html\" rel=\"nofollow\" target=\"_blank\">https://jbryer.github.io/login/articles/paramaters.html</a> Comments can be directed to me on Mastodon at <a href=\"https://vis.social/@jbryer\" rel=\"nofollow\" target=\"_blank\"><span class=\"citation\" data-cites=\"jbryer\">@jbryer</span><span class=\"citation\" data-cites=\"vis.social\">@vis.social</span></a>.</em></p>\n<section class=\"level2\" id=\"introduction\">\n<h2 class=\"anchored\" data-anchor-id=\"introduction\">Introduction</h2>\n<p>Shiny is an incredible tool for interactive data analysis. For the vast majority of Shiny applications I have developed I make a choice regarding the default state of the application, but provide plenty of options for the user to change and/or customize the analysis. However, there are situations where the application would be better if the user was required to input certain parameters. Conceptually I often think of Shiny applications as an interactive version of a function, a function with many parameters, some of which the user needs to define the default parameters. This vignette describes a Shiny module where a given set of parameters must be set before the user engages with the main Shiny application, and those settings can be optionally saved as cookies to be used across sessions. Even though this is the main motivation for this Shiny module, it can also be used as a framework for saving user preferences where saving state on the Shiny server is not possible (e.g. when deployed to <a href=\"https://www.shinyapps.io/\" rel=\"nofollow\" target=\"_blank\">www.shinyapps.io</a>).</p>\n<p>The user parameter module is part of the <code>login</code> R package. The goal is to present the user with a set of parameters in a modal dialog as the Shiny application loads. The primary interface is through the <code>userParamServer()</code> function that can be included in the server code. The following is a basic example.</p>\n<div class=\"cell\">\n<pre>params &lt;- userParamServer(\n    id = 'example',\n    params = c('name', 'email'),\n    param_labels = c('Your Name:', 'Email Address:'),\n    param_types = c('character', 'character'),\n    intro_message = 'This is an example application that asks the user for two parameters.'),\n    validator = my_validator</pre>\n</div>\n<p>Like all <a href=\"https://mastering-shiny.org/scaling-modules.html\" rel=\"nofollow\" target=\"_blank\">Shiny modules</a>, the <code>id</code> parameter is a unique identifier connected the server logic to the UI components. The <code>params</code> parameter is a character vector for the names of the parameters users need to input. These are the only two required parameters. By default all the parameters will assume to be characters using the <code>shiny::textInput()</code> function. However, the module supports multiple input types including:</p>\n<ul>\n<li><code>date</code> - Date values</li>\n<li><code>integer</code> - Integer values</li>\n<li><code>numeric</code> - Numeric values</li>\n<li><code>file</code> - File uploads (note the value will be the path to where the file is uploaded)</li>\n<li><code>select</code> - Drop down selection. This type requires additional information vis-à-vis the <code>input_params</code> parameter discussed latter.</li>\n</ul>\n<p>The above will present the user with a modal dialog immediately when the Shiny application starts up as depicted below.</p>\n<div class=\"cell\" data-layout-align=\"center\">\n<div class=\"cell-output-display\">\n<div class=\"quarto-figure quarto-figure-center\">\n<figure class=\"figure\">\n<p><img class=\"img-fluid quarto-figure quarto-figure-center figure-img\" data-lazy-src=\"https://i0.wp.com/bryer.org/posts/screenshot_params1.png?w=578&amp;ssl=1\" data-recalc-dims=\"1\" src=\"https://www.r-bloggers.com/wp-content/plugins/jetpack/modules/lazy-images/images/1x1.trans.gif\" style=\"width:90.0%\"/><noscript><img class=\"img-fluid quarto-figure quarto-figure-center figure-img\" data-recalc-dims=\"1\" src=\"https://i0.wp.com/bryer.org/posts/screenshot_params1.png?w=578&amp;ssl=1\" style=\"width:90.0%\"/></noscript></p>\n</figure>\n</div>\n</div>\n</div>\n<p>The values can then be retrieved from the <code>params</code> object, which is depicted in the figure below.</p>\n<div class=\"cell\" data-layout-align=\"center\">\n<div class=\"cell-output-display\">\n<div class=\"quarto-figure quarto-figure-center\">\n<figure class=\"figure\">\n<p><img class=\"img-fluid quarto-figure quarto-figure-center figure-img\" data-lazy-src=\"https://i0.wp.com/bryer.org/posts/screenshot_params2.png?w=578&amp;ssl=1\" data-recalc-dims=\"1\" src=\"https://www.r-bloggers.com/wp-content/plugins/jetpack/modules/lazy-images/images/1x1.trans.gif\" style=\"width:90.0%\"/><noscript><img class=\"img-fluid quarto-figure quarto-figure-center figure-img\" data-recalc-dims=\"1\" src=\"https://i0.wp.com/bryer.org/posts/screenshot_params2.png?w=578&amp;ssl=1\" style=\"width:90.0%\"/></noscript></p>\n</figure>\n</div>\n</div>\n</div>\n<p>The <code>userParamServer()</code> function returns a <code>shiny::reactiveValues()</code> object. As a result, any code that uses these values should automatically be updated if the values change.</p>\n<p>There are two UI components, specifically the <code>showParamButton()</code> and <code>clearParamButton()</code> buttons. The former will display the modal dialog allowing the user to change the values. The latter will clear all the values set (including cookies if enabled).</p>\n</section>\n<section class=\"level2\" id=\"cookies\">\n<h2 class=\"anchored\" data-anchor-id=\"cookies\">Cookies</h2>\n<p>It is possible to save the user’s parameter values across session by saving them to cookies (as long as <code>allow_cookies = TRUE</code>). If the <code>allow_cookies</code> parameter is <code>TRUE</code>, the user can still opt to not save the values as cookies. It is recommend to set the <code>cookie_password</code> value so that the cookie values are encrypted. This feature uses the <a href=\"https://cookies.shinyworks.org/\" rel=\"nofollow\" target=\"_blank\">cookies</a> R package and requires that <code>cookies::cookie_dependency()</code> is place somewhere in the Shiny UI.</p>\n</section>\n<section class=\"level2\" id=\"full-shiny-demo\">\n<h2 class=\"anchored\" data-anchor-id=\"full-shiny-demo\">Full Shiny Demo</h2>\n<p>The figures above are from the Shiny application provided below.</p>\n<div class=\"cell\">\n<pre>library(shiny)\nlibrary(login)\nlibrary(cookies)\n\n#' Simple email validator.\n#' @param x string to test.\n#' @return TRUE if the string is a valid email address.\nis_valid_email &lt;- function(x) {\n    grepl(\"\\\\&lt;[A-Z0-9._%+-]+@[A-Z0-9.-]+\\\\.[A-Z]{2,}\\\\&gt;\", as.character(x), ignore.case=TRUE)\n}\n\n#' Custom validator function that also checks if the `email` field is a valid email address.\nmy_validator &lt;- function(values, types) {\n    spv &lt;- simple_parameter_validator(values)\n    if(!is.logical(spv)) {\n        return(spv)\n    } else {\n        if(is_valid_email(values[['email']])) {\n            return(TRUE)\n        } else {\n            return(paste0(values[['email']], ' is not a valid email address.'))\n        }\n    }\n    return(TRUE)\n}\n\nui &lt;- shiny::fluidPage(\n    cookies::cookie_dependency(),  # Necessary to save/get cookies\n    shiny::titlePanel('Parameter Example'),\n    shiny::verbatimTextOutput('param_values'),\n    showParamButton('example'),\n    clearParamButton('example')\n)\n\nserver &lt;- function(input, output) {\n    params &lt;- userParamServer(\n        id = 'example',\n        validator = my_validator,\n        params = c('name', 'email'),\n        param_labels = c('Your Name:', 'Email Address:'),\n        param_types = c('character', 'character'),\n        intro_message = 'This is an example application that asks the user for two parameters.')\n\n    output$param_values &lt;- shiny::renderText({\n        txt &lt;- character()\n        for(i in names(params)) {\n            txt &lt;- paste0(txt, i, ' = ', params[[i]], '\\n')\n        }\n        return(txt)\n    })\n}\n\nshiny::shinyApp(ui = ui, server = server, options = list(port = 2112))</pre>\n</div>\n</section>\n<section class=\"level2\" id=\"validation\">\n<h2 class=\"anchored\" data-anchor-id=\"validation\">Validation</h2>\n<p>The <code>validator</code> parameter speicies a validation function to ensure the parameters entered by the user are valid. The default value of <code>simple_parameter_validator()</code> simply ensures that values have been entered. The Shiny application above extends this by also checking to see if the email address appears to be valid.</p>\n<p>Validations functions must adhere to the following:</p>\n<ol type=\"1\">\n<li><p>It must take two parameters: <code>values</code> which is a character vector the user has entered and <code>types</code> which is a character vector of the types described above.</p></li>\n<li><p>Return <code>TRUE</code> if the validaiton passes OR a character string describing why the validation failed. This message will be displayed to the user.</p></li>\n</ol>\n<p>If the validation function returns anything other than <code>TRUE</code> the modal dialog will be displayed.</p>\n<section class=\"level3\" id=\"customizing-the-shiny-inputs\">\n<h3 class=\"anchored\" data-anchor-id=\"customizing-the-shiny-inputs\">Customizing the Shiny inputs</h3>\n<p>The <code>input_params</code> parameter allows for further customization of the various Shiny inputs. In particular, you can put any other <code>shiny::xxxInput</code> parameters into a list. For <code>select</code> input types the <code>choices</code> parameter is required. The following template provides the basic structure:</p>\n<div class=\"cell\">\n<pre>input_params = list(PARAM1 = list(choices = c('Option A', 'Option B')), # When select is the type\n                    PARAM2 = list(min = 0, max = 10, stap = 1)) # When numeric or integer is the type</pre>\n</div>\n</section>\n</section>\n<section class=\"level2\" id=\"file-input-example\">\n<h2 class=\"anchored\" data-anchor-id=\"file-input-example\">File Input Example</h2>\n<p>The following Shiny application demonstrates how to use the file upload and drop down selection features.</p>\n<div class=\"cell\">\n<pre>library(shiny)\nlibrary(login)\nlibrary(cookies)\n\n#' Custom validator function that also checks if the `file` field is a valid CSV file.\nmy_validator &lt;- function(values, types) {\n    spv &lt;- simple_parameter_validator(values)\n    if(!is.logical(spv)) {\n        return(spv)\n    } else {\n        if(!file.exists(values$file)) {\n            return('File does not exists. Try uploading again.')\n        } else if(!tools::file_ext(values$file) %in% c('csv', 'xslx')) {\n            return('Only CSV and XLSX files supported.')\n        }\n    }\n    return(TRUE)\n}\n\nui &lt;- shiny::fluidPage(\n    cookies::cookie_dependency(),  # Necessary to save/get cookies\n    shiny::titlePanel('Data Viewer'),\n    showParamButton('csvviewer'),\n    clearParamButton('csvviewer'),\n    DT::DTOutput('data_table')\n)\n\nserver &lt;- function(input, output) {\n    params &lt;- userParamServer(\n        id = 'csvviewer',\n        validator = my_validator,\n        params = c('filetype', 'file'),\n        param_labels = c('File type', 'URL to a CSV file:'),\n        input_params = list(\"filetype\" = list(\"choices\" = c(\"\", \"CSV\" = \"csv\", \"Excel\" = \"xlsx\"))),\n        param_types = c('select', 'file'),\n        intro_message = 'This application will view a spreadsheet as a data table.')\n\n    output$data_table &lt;- DT::renderDT({\n        df &lt;- data.frame()\n        if(file.exists(params$file)) {\n            if(params$filetype == 'csv') {\n                df &lt;- read.csv(params$file)\n            } else if(params$filetype == 'xlsx') {\n                df &lt;- readxl::read_excel(params$file)\n            }\n        }\n        return(df)\n    })\n}\n\nshiny::shinyApp(ui = ui, server = server, options = list(port = 2112))</pre>\n</div>\n</section>\n<div class=\"jp-relatedposts\" id=\"jp-relatedposts\">\n<h3 class=\"jp-relatedposts-headline\"><em>Related</em></h3>\n</div>\n<!-- Share buttons by mashshare.net - Version: 4.0.47-->\n<div style=\"border: 1px solid; background: none repeat scroll 0 0 #EDEDED; margin: 1px; font-size: 13px;\">\n<div style=\"text-align: center;\">To <strong>leave a comment</strong> for the author, please follow the link and comment on their blog: <strong><a href=\"https://bryer.org/posts/2025-05-16-User_params_for_shiny.html\"> Jason Bryer</a></strong>.</div>\n<hr/>\n<a href=\"https://www.r-bloggers.com/\" rel=\"nofollow\">R-bloggers.com</a> offers <strong><a href=\"https://feedburner.google.com/fb/a/mailverify?uri=RBloggers\" rel=\"nofollow\">daily e-mail updates</a></strong> about <a href=\"https://www.r-project.org/\" rel=\"nofollow\" title=\"The R Project for Statistical Computing\">R</a> news and tutorials about <a href=\"https://www.r-bloggers.com/how-to-learn-r-2/\" rel=\"nofollow\" title=\"R tutorials\">learning R</a> and many other topics. <a href=\"https://www.r-users.com/\" rel=\"nofollow\" title=\"Data science jobs\">Click here if you're looking to post or find an R/data-science job</a>.\n\n<hr/>Want to share your content on R-bloggers?<a href=\"https://www.r-bloggers.com/add-your-blog/\" rel=\"nofollow\"> click here</a> if you have a blog, or <a href=\"http://r-posts.com/\" rel=\"nofollow\"> here</a> if you don't.\n</div> </div>\n</article>",
      "main_text": "User parameters for Shiny applications\nPosted on\nMay 15, 2025\nby\nJason Bryer\nin\nR bloggers\n| 0 Comments\n[This article was first published on\nJason Bryer\n, and kindly contributed to\nR-bloggers\n].  (You can report issue about the content on this page\nhere\n)\nWant to share your content on R-bloggers?\nclick here\nif you have a blog, or\nhere\nif you don't.\ntl;dr\nOnce the\nlogin\npackage is installed, you can run two demos using the following commands:\nshiny::runApp(paste0(find.package('login'), '/user_params/'))\nhttps://github.com/jbryer/login/blob/main/inst/user_params/app.R\nshiny::runApp(paste0(find.package('login'), '/data_viewer/'))\nhttps://github.com/jbryer/login/blob/main/inst/data_viewer/app.R\nNote that this is cross posted with a vignette in the\nlogin\nR package. For the most up-to-date version go here:\nhttps://jbryer.github.io/login/articles/paramaters.html\nComments can be directed to me on Mastodon at\n@jbryer\n@vis.social\n.\nIntroduction\nShiny is an incredible tool for interactive data analysis. For the vast majority of Shiny applications I have developed I make a choice regarding the default state of the application, but provide plenty of options for the user to change and/or customize the analysis. However, there are situations where the application would be better if the user was required to input certain parameters. Conceptually I often think of Shiny applications as an interactive version of a function, a function with many parameters, some of which the user needs to define the default parameters. This vignette describes a Shiny module where a given set of parameters must be set before the user engages with the main Shiny application, and those settings can be optionally saved as cookies to be used across sessions. Even though this is the main motivation for this Shiny module, it can also be used as a framework for saving user preferences where saving state on the Shiny server is not possible (e.g. when deployed to\nwww.shinyapps.io\n).\nThe user parameter module is part of the\nlogin\nR package. The goal is to present the user with a set of parameters in a modal dialog as the Shiny application loads. The primary interface is through the\nuserParamServer()\nfunction that can be included in the server code. The following is a basic example.\nparams <- userParamServer(\n    id = 'example',\n    params = c('name', 'email'),\n    param_labels = c('Your Name:', 'Email Address:'),\n    param_types = c('character', 'character'),\n    intro_message = 'This is an example application that asks the user for two parameters.'),\n    validator = my_validator\nLike all\nShiny modules\n, the\nid\nparameter is a unique identifier connected the server logic to the UI components. The\nparams\nparameter is a character vector for the names of the parameters users need to input. These are the only two required parameters. By default all the parameters will assume to be characters using the\nshiny::textInput()\nfunction. However, the module supports multiple input types including:\ndate\n- Date values\ninteger\n- Integer values\nnumeric\n- Numeric values\nfile\n- File uploads (note the value will be the path to where the file is uploaded)\nselect\n- Drop down selection. This type requires additional information vis-à-vis the\ninput_params\nparameter discussed latter.\nThe above will present the user with a modal dialog immediately when the Shiny application starts up as depicted below.\nThe values can then be retrieved from the\nparams\nobject, which is depicted in the figure below.\nThe\nuserParamServer()\nfunction returns a\nshiny::reactiveValues()\nobject. As a result, any code that uses these values should automatically be updated if the values change.\nThere are two UI components, specifically the\nshowParamButton()\nand\nclearParamButton()\nbuttons. The former will display the modal dialog allowing the user to change the values. The latter will clear all the values set (including cookies if enabled).\nCookies\nIt is possible to save the user’s parameter values across session by saving them to cookies (as long as\nallow_cookies = TRUE\n). If the\nallow_cookies\nparameter is\nTRUE\n, the user can still opt to not save the values as cookies. It is recommend to set the\ncookie_password\nvalue so that the cookie values are encrypted. This feature uses the\ncookies\nR package and requires that\ncookies::cookie_dependency()\nis place somewhere in the Shiny UI.\nFull Shiny Demo\nThe figures above are from the Shiny application provided below.\nlibrary(shiny)\nlibrary(login)\nlibrary(cookies)\n\n#' Simple email validator.\n#' @param x string to test.\n#' @return TRUE if the string is a valid email address.\nis_valid_email <- function(x) {\n    grepl(\"\\\\<[A-Z0-9._%+-]+@[A-Z0-9.-]+\\\\.[A-Z]{2,}\\\\>\", as.character(x), ignore.case=TRUE)\n}\n\n#' Custom validator function that also checks if the `email` field is a valid email address.\nmy_validator <- function(values, types) {\n    spv <- simple_parameter_validator(values)\n    if(!is.logical(spv)) {\n        return(spv)\n    } else {\n        if(is_valid_email(values[['email']])) {\n            return(TRUE)\n        } else {\n            return(paste0(values[['email']], ' is not a valid email address.'))\n        }\n    }\n    return(TRUE)\n}\n\nui <- shiny::fluidPage(\n    cookies::cookie_dependency(),  # Necessary to save/get cookies\n    shiny::titlePanel('Parameter Example'),\n    shiny::verbatimTextOutput('param_values'),\n    showParamButton('example'),\n    clearParamButton('example')\n)\n\nserver <- function(input, output) {\n    params <- userParamServer(\n        id = 'example',\n        validator = my_validator,\n        params = c('name', 'email'),\n        param_labels = c('Your Name:', 'Email Address:'),\n        param_types = c('character', 'character'),\n        intro_message = 'This is an example application that asks the user for two parameters.')\n\n    output$param_values <- shiny::renderText({\n        txt <- character()\n        for(i in names(params)) {\n            txt <- paste0(txt, i, ' = ', params[[i]], '\\n')\n        }\n        return(txt)\n    })\n}\n\nshiny::shinyApp(ui = ui, server = server, options = list(port = 2112))\nValidation\nThe\nvalidator\nparameter speicies a validation function to ensure the parameters entered by the user are valid. The default value of\nsimple_parameter_validator()\nsimply ensures that values have been entered. The Shiny application above extends this by also checking to see if the email address appears to be valid.\nValidations functions must adhere to the following:\nIt must take two parameters:\nvalues\nwhich is a character vector the user has entered and\ntypes\nwhich is a character vector of the types described above.\nReturn\nTRUE\nif the validaiton passes OR a character string describing why the validation failed. This message will be displayed to the user.\nIf the validation function returns anything other than\nTRUE\nthe modal dialog will be displayed.\nCustomizing the Shiny inputs\nThe\ninput_params\nparameter allows for further customization of the various Shiny inputs. In particular, you can put any other\nshiny::xxxInput\nparameters into a list. For\nselect\ninput types the\nchoices\nparameter is required. The following template provides the basic structure:\ninput_params = list(PARAM1 = list(choices = c('Option A', 'Option B')), # When select is the type\n                    PARAM2 = list(min = 0, max = 10, stap = 1)) # When numeric or integer is the type\nFile Input Example\nThe following Shiny application demonstrates how to use the file upload and drop down selection features.\nlibrary(shiny)\nlibrary(login)\nlibrary(cookies)\n\n#' Custom validator function that also checks if the `file` field is a valid CSV file.\nmy_validator <- function(values, types) {\n    spv <- simple_parameter_validator(values)\n    if(!is.logical(spv)) {\n        return(spv)\n    } else {\n        if(!file.exists(values$file)) {\n            return('File does not exists. Try uploading again.')\n        } else if(!tools::file_ext(values$file) %in% c('csv', 'xslx')) {\n            return('Only CSV and XLSX files supported.')\n        }\n    }\n    return(TRUE)\n}\n\nui <- shiny::fluidPage(\n    cookies::cookie_dependency(),  # Necessary to save/get cookies\n    shiny::titlePanel('Data Viewer'),\n    showParamButton('csvviewer'),\n    clearParamButton('csvviewer'),\n    DT::DTOutput('data_table')\n)\n\nserver <- function(input, output) {\n    params <- userParamServer(\n        id = 'csvviewer',\n        validator = my_validator,\n        params = c('filetype', 'file'),\n        param_labels = c('File type', 'URL to a CSV file:'),\n        input_params = list(\"filetype\" = list(\"choices\" = c(\"\", \"CSV\" = \"csv\", \"Excel\" = \"xlsx\"))),\n        param_types = c('select', 'file'),\n        intro_message = 'This application will view a spreadsheet as a data table.')\n\n    output$data_table <- DT::renderDT({\n        df <- data.frame()\n        if(file.exists(params$file)) {\n            if(params$filetype == 'csv') {\n                df <- read.csv(params$file)\n            } else if(params$filetype == 'xlsx') {\n                df <- readxl::read_excel(params$file)\n            }\n        }\n        return(df)\n    })\n}\n\nshiny::shinyApp(ui = ui, server = server, options = list(port = 2112))\nRelated\nTo\nleave a comment\nfor the author, please follow the link and comment on their blog:\nJason Bryer\n.\nR-bloggers.com\noffers\ndaily e-mail updates\nabout\nR\nnews and tutorials about\nlearning R\nand many other topics.\nClick here if you're looking to post or find an R/data-science job\n.\nWant to share your content on R-bloggers?\nclick here\nif you have a blog, or\nhere\nif you don't.",
      "meta_description": "tl;dr Once the login package is installed, you can run two demos using the following commands: shiny::runApp(paste0(find.package('login'), '/user_params/')) https://github.com/jbryer/login/blob/main/inst/user_params/app.R shiny::runApp(paste0(fi...",
      "meta_keywords": null,
      "og_description": "tl;dr Once the login package is installed, you can run two demos using the following commands: shiny::runApp(paste0(find.package('login'), '/user_params/')) https://github.com/jbryer/login/blob/main/inst/user_params/app.R shiny::runApp(paste0(fi...",
      "og_image": "https://bryer.org/posts/screenshot_params1.png",
      "og_title": "User parameters for Shiny applications | R-bloggers",
      "raw_jsonld_article": null,
      "reading_time_min": 6.8,
      "sitemap_lastmod": null,
      "twitter_description": "tl;dr Once the login package is installed, you can run two demos using the following commands: shiny::runApp(paste0(find.package('login'), '/user_params/')) https://github.com/jbryer/login/blob/main/inst/user_params/app.R shiny::runApp(paste0(fi...",
      "twitter_title": "User parameters for Shiny applications | R-bloggers",
      "url": "https://www.r-bloggers.com/2025/05/user-parameters-for-shiny-applications/",
      "word_count": 1365
    }
  }
}