{
  "uuid": "e8d059ff-c820-4ffd-8fb7-3ae744838aa1",
  "created_at": "2025-11-17 20:39:15",
  "raw_json": {
    "article_author": null,
    "article_headline": null,
    "article_modified": null,
    "article_published": null,
    "article_section": null,
    "article_tags": null,
    "canonical_url": "https://www.r-bloggers.com/2023/11/healthyr-ts-new-features-unlocking-more-power/",
    "crawled_at": "2025-11-17T09:56:18.743099",
    "external_links": [
      {
        "href": "https://www.spsanderson.com/steveondata/posts/2011-11-16/index.html",
        "text": "Steve's Data Tips and Tricks"
      },
      {
        "href": "http://r-posts.com/",
        "text": "here"
      },
      {
        "href": "https://www.spsanderson.com/steveondata/posts/2011-11-16/index.html",
        "text": "Steve's Data Tips and Tricks"
      },
      {
        "href": "https://feedburner.google.com/fb/a/mailverify?uri=RBloggers",
        "text": "daily e-mail updates"
      },
      {
        "href": "https://www.r-project.org/",
        "text": "R"
      },
      {
        "href": "https://www.r-users.com/",
        "text": "Click here if you're looking to post or find an R/data-science job"
      },
      {
        "href": "http://r-posts.com/",
        "text": "here"
      }
    ],
    "h1_title": "R-bloggers",
    "html_title": "{healthyR.ts} New Features: Unlocking More Power | R-bloggers",
    "images": [
      {
        "alt": null,
        "base64": "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",
        "src": "https://www.r-bloggers.com/wp-content/plugins/jetpack/modules/lazy-images/images/1x1.trans.gif"
      },
      {
        "alt": null,
        "base64": null,
        "src": "https://i0.wp.com/www.spsanderson.com/steveondata/posts/2011-11-16/index_files/figure-html/unnamed-chunk-1-1.png?w=450&ssl=1"
      },
      {
        "alt": null,
        "base64": "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",
        "src": "https://www.r-bloggers.com/wp-content/plugins/jetpack/modules/lazy-images/images/1x1.trans.gif"
      },
      {
        "alt": null,
        "base64": null,
        "src": "https://i1.wp.com/www.spsanderson.com/steveondata/posts/2011-11-16/index_files/figure-html/unnamed-chunk-1-2.png?w=450&ssl=1"
      }
    ],
    "internal_links": [
      {
        "href": "https://www.r-bloggers.com/author/steven-p-sanderson-ii-mph/",
        "text": "Steven P. Sanderson II, MPH"
      },
      {
        "href": "https://www.r-bloggers.com/category/r-bloggers/",
        "text": "R bloggers"
      },
      {
        "href": "https://www.r-bloggers.com/",
        "text": "R-bloggers"
      },
      {
        "href": "https://www.r-bloggers.com/contact-us/",
        "text": "here"
      },
      {
        "href": "https://www.r-bloggers.com/add-your-blog/",
        "text": "click here"
      },
      {
        "href": "https://www.r-bloggers.com/",
        "text": "R-bloggers.com"
      },
      {
        "href": "https://www.r-bloggers.com/how-to-learn-r-2/",
        "text": "learning R"
      },
      {
        "href": "https://www.r-bloggers.com/add-your-blog/",
        "text": "click here"
      }
    ],
    "lang": "en-US",
    "main_html": "<article class=\"post-380088 post type-post status-publish format-standard hentry category-r-bloggers\">\n<header class=\"post-header\">\n<h1 class=\"entry-title\">{healthyR.ts} New Features: Unlocking More Power</h1>\n<p class=\"meta post-meta\">Posted on <span class=\"updated\">November 15, 2023</span>  by <span class=\"vcard author\"><a class=\"fn\" href=\"https://www.r-bloggers.com/author/steven-p-sanderson-ii-mph/\">Steven P. Sanderson II, MPH</a></span>  in <a href=\"https://www.r-bloggers.com/category/r-bloggers/\" rel=\"category tag\">R bloggers</a> | 0 Comments</p>\n</header>\n<div class=\"entry clearfix\">\n<!-- \r\n<div style=\"min-height: 30px;\">\r\n[social4i size=\"small\" align=\"align-left\"]\r\n</div>\r\n-->\n<div style=\"border: 1px solid; background: none repeat scroll 0 0 #EDEDED; margin: 1px; font-size: 12px;\">\r\n[This article was first published on  <strong><a href=\"https://www.spsanderson.com/steveondata/posts/2011-11-16/index.html\"> Steve's Data Tips and Tricks</a></strong>, and kindly contributed to <a href=\"https://www.r-bloggers.com/\" rel=\"nofollow\">R-bloggers</a>].  (You can report issue about the content on this page <a href=\"https://www.r-bloggers.com/contact-us/\">here</a>)\r\n<hr/>Want to share your content on R-bloggers?<a href=\"https://www.r-bloggers.com/add-your-blog/\" rel=\"nofollow\"> click here</a> if you have a blog, or <a href=\"http://r-posts.com/\" rel=\"nofollow\"> here</a> if you don't.\r\n</div>\n\n<!-- Share buttons by mashshare.net - Version: 3.8.9-->\n<section class=\"level1\" id=\"new-features-unlocking-more-power\">\n<h1>New Features: Unlocking More Power</h1>\n<p>My R package <code>{healthyR.ts}</code> has been updated to version 0.3.0; you can install it from either CRAN, r-universe or GitHub. Let’s go over some of the changes and improvements.</p>\n</section>\n<section class=\"level1\" id=\"news\">\n<h1>News</h1>\n<section class=\"level2\" id=\"util_log_ts---logging-time-series-data\">\n<h2 class=\"anchored\" data-anchor-id=\"util_log_ts---logging-time-series-data\">1. <code>util_log_ts()</code> – Logging Time Series Data</h2>\n<p>One of the standout additions is the introduction of <code>util_log_ts()</code>. This function seems like a game-changer, providing a streamlined way to log time series data. This is incredibly useful, especially when dealing with extensive datasets, making the whole process more efficient and user-friendly. This is a helper function for <code>auto_stationarize()</code>.</p>\n</section>\n<section class=\"level2\" id=\"util_singlediff_ts---single-differences-for-time-series\">\n<h2 class=\"anchored\" data-anchor-id=\"util_singlediff_ts---single-differences-for-time-series\">2. <code>util_singlediff_ts()</code> – Single Differences for Time Series</h2>\n<p>The addition of <code>util_singlediff_ts()</code> expands the toolkit, offering a function dedicated to handling single differences in time series data. This is valuable for various applications, such as identifying trends or preparing data for further analysis. This is a helper function for <code>auto_stationarize()</code>.</p>\n</section>\n<section class=\"level2\" id=\"util_doublediff_ts---double-differences-for-time-series\">\n<h2 class=\"anchored\" data-anchor-id=\"util_doublediff_ts---double-differences-for-time-series\">3. <code>util_doublediff_ts()</code> – Double Differences for Time Series</h2>\n<p>Building on the concept of differencing, <code>util_doublediff_ts()</code> seems to provide a higher level of sophistication, allowing users to perform double differences on time series data. This could be pivotal in cases where a more refined analysis is required. This is a helper function for <code>auto_stationarize()</code>.</p>\n</section>\n<section class=\"level2\" id=\"util_difflog_ts---combining-differences-and-log-transformation\">\n<h2 class=\"anchored\" data-anchor-id=\"util_difflog_ts---combining-differences-and-log-transformation\">4. <code>util_difflog_ts()</code> – Combining Differences and Log Transformation</h2>\n<p>The fusion of differencing and log transformation in <code>util_difflog_ts()</code> is a remarkable addition. This could be particularly beneficial in scenarios where both operations are needed to unlock deeper insights from the time series data. This is a helper function for <code>auto_stationarize()</code>.</p>\n</section>\n<section class=\"level2\" id=\"util_doubledifflog_ts---double-differences-with-log-transformation\">\n<h2 class=\"anchored\" data-anchor-id=\"util_doubledifflog_ts---double-differences-with-log-transformation\">5. <code>util_doubledifflog_ts()</code> – Double Differences with Log Transformation</h2>\n<p>The introduction of <code>util_doubledifflog_ts()</code> appears to take things a step further by combining double differences and log transformation. This function seems poised to provide a comprehensive solution for users dealing with complex time series data. This is a helper function for <code>auto_stationarize()</code>.</p>\n</section>\n</section>\n<section class=\"level1\" id=\"minor-fixes-and-improvements-polishing-the-experience\">\n<h1>Minor Fixes and Improvements: Polishing the Experience</h1>\n<section class=\"level2\" id=\"attributes-enhancement-in-ts_growth_rate_vec\">\n<h2 class=\"anchored\" data-anchor-id=\"attributes-enhancement-in-ts_growth_rate_vec\">1. Attributes Enhancement in <code>ts_growth_rate_vec()</code></h2>\n<p>The attention to detail is evident with the addition of attributes to the output of <code>ts_growth_rate_vec()</code>. This enhancement not only improves the clarity of results but also contributes to a more informative and user-friendly experience.</p>\n</section>\n<section class=\"level2\" id=\"refinement-of-auto_stationarize-in-response-to-user-feedback\">\n<h2 class=\"anchored\" data-anchor-id=\"refinement-of-auto_stationarize-in-response-to-user-feedback\">2. Refinement of <code>auto_stationarize()</code> in Response to User Feedback</h2>\n<p>Updates to <code>auto_stationarize()</code> based on user feedback (Fix #481 #483) demonstrate a commitment to refining existing features. This responsiveness to the community’s needs is commendable and ensures that the package evolves in sync with user expectations. It has taken all of the <code>util_</code> transforms mentioned above in order to improve it’s functionality.</p>\n</section>\n<section class=\"level2\" id=\"integration-with-auto_arima-engine-in-ts_auto_arima\">\n<h2 class=\"anchored\" data-anchor-id=\"integration-with-auto_arima-engine-in-ts_auto_arima\">3. Integration with <code>auto_arima</code> Engine in <code>ts_auto_arima()</code></h2>\n<p>The integration of <code>ts_auto_arima()</code> with the parsnip engine of <code>auto_arima</code> is a notable improvement. This update, triggered when <code>.tune</code> is set to <code>FALSE</code>, aligns the package with cutting-edge tools, potentially enhancing the efficiency and accuracy of time series modeling.</p>\n<p>In conclusion, the release of healthyR.ts version 0.3.0 is an exciting leap forward. The new features introduce powerful capabilities, while the minor fixes and improvements showcase a commitment to providing a robust and user-friendly package. Users can look forward to a more versatile and refined experience in time series analysis. Great job on this release, and I’m sure the community is eager to explore these enhancements!</p>\n</section>\n</section>\n<section class=\"level1\" id=\"examples\">\n<h1>Examples</h1>\n<p>Let’s see how the main functions now behave.</p>\n<section class=\"level2\" id=\"auto_stationarize\">\n<h2 class=\"anchored\" data-anchor-id=\"auto_stationarize\"><code>auto_stationarize()</code></h2>\n<div class=\"cell\">\n<pre>library(healthyR.ts)\n\nauto_stationarize(AirPassengers)</pre>\n<div class=\"cell-output cell-output-stdout\">\n<pre>The time series is already stationary via ts_adf_test().</pre>\n</div>\n<div class=\"cell-output cell-output-stdout\">\n<pre>     Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec\n1949 112 118 132 129 121 135 148 148 136 119 104 118\n1950 115 126 141 135 125 149 170 170 158 133 114 140\n1951 145 150 178 163 172 178 199 199 184 162 146 166\n1952 171 180 193 181 183 218 230 242 209 191 172 194\n1953 196 196 236 235 229 243 264 272 237 211 180 201\n1954 204 188 235 227 234 264 302 293 259 229 203 229\n1955 242 233 267 269 270 315 364 347 312 274 237 278\n1956 284 277 317 313 318 374 413 405 355 306 271 306\n1957 315 301 356 348 355 422 465 467 404 347 305 336\n1958 340 318 362 348 363 435 491 505 404 359 310 337\n1959 360 342 406 396 420 472 548 559 463 407 362 405\n1960 417 391 419 461 472 535 622 606 508 461 390 432</pre>\n</div>\n<pre>auto_stationarize(BJsales)</pre>\n<div class=\"cell-output cell-output-stdout\">\n<pre>The time series is not stationary. Attempting to make it stationary...</pre>\n</div>\n<div class=\"cell-output cell-output-stdout\">\n<pre>$stationary_ts\nTime Series:\nStart = 3 \nEnd = 150 \nFrequency = 1 \n  [1]  0.5 -0.4  0.6  1.1 -2.8  3.0 -1.1  0.6 -0.5 -0.5  0.1  2.0 -0.6  0.8  1.2\n [16] -3.4 -0.7 -0.3  1.7  3.0 -3.2  0.9  2.2 -2.5 -0.4  2.6 -4.3  2.0 -3.1  2.7\n [31] -2.1  0.1  2.1 -0.2 -2.2  0.6  1.0 -2.6  3.0  0.3  0.2 -0.8  1.0  0.0  3.2\n [46] -2.2 -4.7  1.2  0.8 -0.6 -0.4  0.6  1.0 -1.6 -0.1  3.4 -0.9 -1.7 -0.5  0.8\n [61]  2.4 -1.9  0.6 -2.2  2.6 -0.1 -2.7  1.7 -0.3  1.9 -2.7  1.1 -0.6  0.9  0.0\n [76]  1.8 -0.5 -0.4 -1.2  2.6 -1.8  1.7 -0.9  0.6 -0.4  3.0 -2.8  3.1 -2.3 -1.1\n [91]  2.1 -0.3 -1.7 -0.8 -0.4  1.1 -1.5  0.3  1.4 -2.0  1.3 -0.3  0.4 -3.5  1.1\n[106]  2.6  0.4 -1.3  2.0 -1.6  0.6 -0.1 -1.4  1.6  1.6 -3.4  1.7 -2.2  2.1 -2.0\n[121] -0.2  0.2  0.7 -1.4  1.8 -0.1 -0.7  0.4  0.4  1.0 -2.4  1.0 -0.4  0.8 -1.0\n[136]  1.4 -1.2  1.1 -0.9  0.5  1.9 -0.6  0.3 -1.4 -0.9 -0.5  1.4  0.1\n\n$ndiffs\n[1] 1\n\n$adf_stats\n$adf_stats$test_stat\n[1] -6.562008\n\n$adf_stats$p_value\n[1] 0.01\n\n\n$trans_type\n[1] \"double_diff\"\n\n$ret\n[1] TRUE</pre>\n</div>\n<pre>plot.ts(auto_stationarize(BJsales)$stationary_ts)</pre>\n<div class=\"cell-output cell-output-stdout\">\n<pre>The time series is not stationary. Attempting to make it stationary...</pre>\n</div>\n<div class=\"cell-output-display\">\n<p><img class=\"img-fluid\" data-lazy-src=\"https://i0.wp.com/www.spsanderson.com/steveondata/posts/2011-11-16/index_files/figure-html/unnamed-chunk-1-1.png?w=450&amp;ssl=1\" data-recalc-dims=\"1\" src=\"https://www.r-bloggers.com/wp-content/plugins/jetpack/modules/lazy-images/images/1x1.trans.gif\"/><noscript><img class=\"img-fluid\" data-recalc-dims=\"1\" src=\"https://i0.wp.com/www.spsanderson.com/steveondata/posts/2011-11-16/index_files/figure-html/unnamed-chunk-1-1.png?w=450&amp;ssl=1\"/></noscript></p>\n</div>\n<pre>auto_stationarize(BJsales.lead)</pre>\n<div class=\"cell-output cell-output-stdout\">\n<pre>The time series is not stationary. Attempting to make it stationary...</pre>\n</div>\n<div class=\"cell-output cell-output-stdout\">\n<pre>$stationary_ts\nTime Series:\nStart = 2 \nEnd = 150 \nFrequency = 1 \n  [1]  0.06  0.25 -0.57  0.58 -0.20  0.23 -0.04 -0.19  0.03  0.42  0.04  0.24\n [13]  0.34 -0.46 -0.18 -0.08  0.29  0.56 -0.37  0.20  0.54 -0.31  0.03  0.52\n [25] -0.70  0.35 -0.63  0.44 -0.38 -0.01  0.22  0.10 -0.50  0.01  0.30 -0.76\n [37]  0.52  0.15  0.06 -0.10  0.21 -0.01  0.70 -0.22 -0.76  0.06  0.02 -0.17\n [49] -0.08  0.01  0.11 -0.39  0.01  0.50 -0.02 -0.37 -0.13  0.05  0.54 -0.46\n [61]  0.25 -0.52  0.44  0.02 -0.47  0.11  0.06  0.25 -0.35  0.00 -0.06  0.21\n [73] -0.09  0.36  0.09 -0.04 -0.20  0.44 -0.23  0.40 -0.01  0.17  0.08  0.58\n [85] -0.27  0.79 -0.21  0.02  0.30  0.28 -0.27 -0.01  0.03  0.16 -0.28  0.15\n [97]  0.26 -0.36  0.32 -0.11  0.22 -0.65  0.00  0.47  0.16 -0.19  0.48 -0.26\n[109]  0.21  0.00 -0.20  0.35  0.38 -0.48  0.20 -0.32  0.43 -0.50  0.12 -0.17\n[121]  0.15 -0.36  0.35 -0.03 -0.18  0.16  0.07  0.21 -0.50  0.23 -0.13  0.14\n[133] -0.15  0.19 -0.24  0.26 -0.22  0.17  0.37 -0.06  0.29 -0.34 -0.12 -0.16\n[145]  0.25  0.08 -0.07  0.26 -0.37\n\n$ndiffs\n[1] 1\n\n$adf_stats\n$adf_stats$test_stat\n[1] -4.838625\n\n$adf_stats$p_value\n[1] 0.01\n\n\n$trans_type\n[1] \"diff\"\n\n$ret\n[1] TRUE</pre>\n</div>\n<pre>plot.ts(auto_stationarize(BJsales.lead)$stationary_ts)</pre>\n<div class=\"cell-output cell-output-stdout\">\n<pre>The time series is not stationary. Attempting to make it stationary...</pre>\n</div>\n<div class=\"cell-output-display\">\n<p><img class=\"img-fluid\" data-lazy-src=\"https://i1.wp.com/www.spsanderson.com/steveondata/posts/2011-11-16/index_files/figure-html/unnamed-chunk-1-2.png?w=450&amp;ssl=1\" data-recalc-dims=\"1\" src=\"https://www.r-bloggers.com/wp-content/plugins/jetpack/modules/lazy-images/images/1x1.trans.gif\"/><noscript><img class=\"img-fluid\" data-recalc-dims=\"1\" src=\"https://i1.wp.com/www.spsanderson.com/steveondata/posts/2011-11-16/index_files/figure-html/unnamed-chunk-1-2.png?w=450&amp;ssl=1\"/></noscript></p>\n</div>\n</div>\n</section>\n<section class=\"level2\" id=\"ts_auto_arima\">\n<h2 class=\"anchored\" data-anchor-id=\"ts_auto_arima\"><code>ts_auto_arima()</code></h2>\n<p>This use to only use the Arima engine if the <code>.tune</code> parameter was set to FALSE, thus it would many times give a simple straight line forecast. This was changed to make the engine auto_arima if <code>.tune</code> is set to FALSE.</p>\n<div class=\"cell\">\n<pre>library(timetk)\nlibrary(dplyr)\nlibrary(modeltime)\n\ndata &lt;- AirPassengers |&gt;\n  ts_to_tbl() |&gt;\n  select(-index)\n\nsplits &lt;- time_series_split(\n  data\n  , date_col\n  , assess = 12\n  , skip = 3\n  , cumulative = TRUE\n)\n\nts_aa &lt;- ts_auto_arima(\n  .data = data,\n  .num_cores = 2,\n  .date_col = date_col,\n  .value_col = value,\n  .rsamp_obj = splits,\n  .formula = value ~ .,\n  .grid_size = 5,\n  .cv_slice_limit = 2,\n  .tune = FALSE\n)\n\nts_aa$recipe_info</pre>\n<div class=\"cell-output cell-output-stdout\">\n<pre>$recipe_call\nrecipe(.data = data, .date_col = date_col, .value_col = value, \n    .formula = value ~ ., .rsamp_obj = splits, .tune = FALSE, \n    .grid_size = 5, .num_cores = 2, .cv_slice_limit = 2)\n\n$recipe_syntax\n[1] \"ts_arima_recipe &lt;-\"                                                                                                                                                                           \n[2] \"\\n  recipe(.data = data, .date_col = date_col, .value_col = value, .formula = value ~ \\n    ., .rsamp_obj = splits, .tune = FALSE, .grid_size = 5, .num_cores = 2, \\n    .cv_slice_limit = 2)\"\n\n$rec_obj</pre>\n</div>\n<pre>ts_aa$model_info</pre>\n<div class=\"cell-output cell-output-stdout\">\n<pre>$model_spec\nARIMA Regression Model Specification (regression)\n\nComputational engine: auto_arima \n\n\n$wflw\n══ Workflow ════════════════════════════════════════════════════════════════════\nPreprocessor: Recipe\nModel: arima_reg()\n\n── Preprocessor ────────────────────────────────────────────────────────────────\n0 Recipe Steps\n\n── Model ───────────────────────────────────────────────────────────────────────\nARIMA Regression Model Specification (regression)\n\nComputational engine: auto_arima \n\n\n$fitted_wflw\n══ Workflow [trained] ══════════════════════════════════════════════════════════\nPreprocessor: Recipe\nModel: arima_reg()\n\n── Preprocessor ────────────────────────────────────────────────────────────────\n0 Recipe Steps\n\n── Model ───────────────────────────────────────────────────────────────────────\nSeries: outcome \nARIMA(1,1,0)(0,1,0)[12] \n\nCoefficients:\n          ar1\n      -0.2431\ns.e.   0.0894\n\nsigma^2 = 109.8:  log likelihood = -447.95\nAIC=899.9   AICc=900.01   BIC=905.46\n\n$was_tuned\n[1] \"not_tuned\"</pre>\n</div>\n<pre>ts_aa$model_calibration</pre>\n<div class=\"cell-output cell-output-stdout\">\n<pre>$plot\n\n$calibration_tbl\n# Modeltime Table\n# A tibble: 1 × 5\n  .model_id .model     .model_desc             .type .calibration_data\n      &lt;int&gt; &lt;list&gt;     &lt;chr&gt;                   &lt;chr&gt; &lt;list&gt;           \n1         1 &lt;workflow&gt; ARIMA(1,1,0)(0,1,0)[12] Test  &lt;tibble [12 × 4]&gt;\n\n$model_accuracy\n# A tibble: 1 × 9\n  .model_id .model_desc             .type   mae  mape  mase smape  rmse   rsq\n      &lt;int&gt; &lt;chr&gt;                   &lt;chr&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt;\n1         1 ARIMA(1,1,0)(0,1,0)[12] Test   18.5  4.18 0.384  4.03  23.9 0.955</pre>\n</div>\n<pre>ts_aa$model_calibration$plot</pre>\n<div class=\"cell-output-display\">\n<div class=\"plotly html-widget html-fill-item-overflow-hidden html-fill-item\" id=\"htmlwidget-94848f83edf3e048e91e\" style=\"width:100%;height:464px;\"></div>\n\n</div>\n</div>\n<p>Finally enhancement to add attributes to <code>ts_growth_rate_vec()</code></p>\n<div class=\"cell\">\n<pre>ts_growth_rate_vec(AirPassengers)</pre>\n<div class=\"cell-output cell-output-stdout\">\n<pre>  [1]          NA   5.3571429  11.8644068  -2.2727273  -6.2015504  11.5702479\n  [7]   9.6296296   0.0000000  -8.1081081 -12.5000000 -12.6050420  13.4615385\n [13]  -2.5423729   9.5652174  11.9047619  -4.2553191  -7.4074074  19.2000000\n [19]  14.0939597   0.0000000  -7.0588235 -15.8227848 -14.2857143  22.8070175\n [25]   3.5714286   3.4482759  18.6666667  -8.4269663   5.5214724   3.4883721\n [31]  11.7977528   0.0000000  -7.5376884 -11.9565217  -9.8765432  13.6986301\n [37]   3.0120482   5.2631579   7.2222222  -6.2176166   1.1049724  19.1256831\n [43]   5.5045872   5.2173913 -13.6363636  -8.6124402  -9.9476440  12.7906977\n [49]   1.0309278   0.0000000  20.4081633  -0.4237288  -2.5531915   6.1135371\n [55]   8.6419753   3.0303030 -12.8676471 -10.9704641 -14.6919431  11.6666667\n [61]   1.4925373  -7.8431373  25.0000000  -3.4042553   3.0837004  12.8205128\n [67]  14.3939394  -2.9801325 -11.6040956 -11.5830116 -11.3537118  12.8078818\n [73]   5.6768559  -3.7190083  14.5922747   0.7490637   0.3717472  16.6666667\n [79]  15.5555556  -4.6703297 -10.0864553 -12.1794872 -13.5036496  17.2995781\n [85]   2.1582734  -2.4647887  14.4404332  -1.2618297   1.5974441  17.6100629\n [91]  10.4278075  -1.9370460 -12.3456790 -13.8028169 -11.4379085  12.9151292\n [97]   2.9411765  -4.4444444  18.2724252  -2.2471910   2.0114943  18.8732394\n[103]  10.1895735   0.4301075 -13.4903640 -14.1089109 -12.1037464  10.1639344\n[109]   1.1904762  -6.4705882  13.8364780  -3.8674033   4.3103448  19.8347107\n[115]  12.8735632   2.8513238 -20.0000000 -11.1386139 -13.6490251   8.7096774\n[121]   6.8249258  -5.0000000  18.7134503  -2.4630542   6.0606061  12.3809524\n[127]  16.1016949   2.0072993 -17.1735242 -12.0950324 -11.0565111  11.8784530\n[133]   2.9629630  -6.2350120   7.1611253  10.0238663   2.3861171  13.3474576\n[139]  16.2616822  -2.5723473 -16.1716172  -9.2519685 -15.4013015  10.7692308\nattr(,\"vector_attributes\")\nattr(,\"vector_attributes\")$tsp\n[1] 1949.000 1960.917   12.000\n\nattr(,\"vector_attributes\")$class\n[1] \"ts\"\n\nattr(,\"name\")\n[1] \"AirPassengers\"</pre>\n</div>\n</div>\n</section>\n</section>\n<div class=\"jp-relatedposts\" id=\"jp-relatedposts\">\n<h3 class=\"jp-relatedposts-headline\"><em>Related</em></h3>\n</div>\n<!-- Share buttons by mashshare.net - Version: 3.8.9-->\n<div style=\"border: 1px solid; background: none repeat scroll 0 0 #EDEDED; margin: 1px; font-size: 13px;\">\n<div style=\"text-align: center;\">To <strong>leave a comment</strong> for the author, please follow the link and comment on their blog: <strong><a href=\"https://www.spsanderson.com/steveondata/posts/2011-11-16/index.html\"> Steve's Data Tips and Tricks</a></strong>.</div>\n<hr>\n<a href=\"https://www.r-bloggers.com/\" rel=\"nofollow\">R-bloggers.com</a> offers <strong><a href=\"https://feedburner.google.com/fb/a/mailverify?uri=RBloggers\" rel=\"nofollow\">daily e-mail updates</a></strong> about <a href=\"https://www.r-project.org/\" rel=\"nofollow\" title=\"The R Project for Statistical Computing\">R</a> news and tutorials about <a href=\"https://www.r-bloggers.com/how-to-learn-r-2/\" rel=\"nofollow\" title=\"R tutorials\">learning R</a> and many other topics. <a href=\"https://www.r-users.com/\" rel=\"nofollow\" title=\"Data science jobs\">Click here if you're looking to post or find an R/data-science job</a>.\r\n\r\n<hr/>Want to share your content on R-bloggers?<a href=\"https://www.r-bloggers.com/add-your-blog/\" rel=\"nofollow\"> click here</a> if you have a blog, or <a href=\"http://r-posts.com/\" rel=\"nofollow\"> here</a> if you don't.\r\n</hr></div> </div>\n</article>",
    "main_text": "{healthyR.ts} New Features: Unlocking More Power\nPosted on\nNovember 15, 2023\nby\nSteven P. Sanderson II, MPH\nin\nR bloggers\n| 0 Comments\n[This article was first published on\nSteve's Data Tips and Tricks\n, and kindly contributed to\nR-bloggers\n].  (You can report issue about the content on this page\nhere\n)\nWant to share your content on R-bloggers?\nclick here\nif you have a blog, or\nhere\nif you don't.\nNew Features: Unlocking More Power\nMy R package\n{healthyR.ts}\nhas been updated to version 0.3.0; you can install it from either CRAN, r-universe or GitHub. Let’s go over some of the changes and improvements.\nNews\n1.\nutil_log_ts()\n– Logging Time Series Data\nOne of the standout additions is the introduction of\nutil_log_ts()\n. This function seems like a game-changer, providing a streamlined way to log time series data. This is incredibly useful, especially when dealing with extensive datasets, making the whole process more efficient and user-friendly. This is a helper function for\nauto_stationarize()\n.\n2.\nutil_singlediff_ts()\n– Single Differences for Time Series\nThe addition of\nutil_singlediff_ts()\nexpands the toolkit, offering a function dedicated to handling single differences in time series data. This is valuable for various applications, such as identifying trends or preparing data for further analysis. This is a helper function for\nauto_stationarize()\n.\n3.\nutil_doublediff_ts()\n– Double Differences for Time Series\nBuilding on the concept of differencing,\nutil_doublediff_ts()\nseems to provide a higher level of sophistication, allowing users to perform double differences on time series data. This could be pivotal in cases where a more refined analysis is required. This is a helper function for\nauto_stationarize()\n.\n4.\nutil_difflog_ts()\n– Combining Differences and Log Transformation\nThe fusion of differencing and log transformation in\nutil_difflog_ts()\nis a remarkable addition. This could be particularly beneficial in scenarios where both operations are needed to unlock deeper insights from the time series data. This is a helper function for\nauto_stationarize()\n.\n5.\nutil_doubledifflog_ts()\n– Double Differences with Log Transformation\nThe introduction of\nutil_doubledifflog_ts()\nappears to take things a step further by combining double differences and log transformation. This function seems poised to provide a comprehensive solution for users dealing with complex time series data. This is a helper function for\nauto_stationarize()\n.\nMinor Fixes and Improvements: Polishing the Experience\n1. Attributes Enhancement in\nts_growth_rate_vec()\nThe attention to detail is evident with the addition of attributes to the output of\nts_growth_rate_vec()\n. This enhancement not only improves the clarity of results but also contributes to a more informative and user-friendly experience.\n2. Refinement of\nauto_stationarize()\nin Response to User Feedback\nUpdates to\nauto_stationarize()\nbased on user feedback (Fix #481 #483) demonstrate a commitment to refining existing features. This responsiveness to the community’s needs is commendable and ensures that the package evolves in sync with user expectations. It has taken all of the\nutil_\ntransforms mentioned above in order to improve it’s functionality.\n3. Integration with\nauto_arima\nEngine in\nts_auto_arima()\nThe integration of\nts_auto_arima()\nwith the parsnip engine of\nauto_arima\nis a notable improvement. This update, triggered when\n.tune\nis set to\nFALSE\n, aligns the package with cutting-edge tools, potentially enhancing the efficiency and accuracy of time series modeling.\nIn conclusion, the release of healthyR.ts version 0.3.0 is an exciting leap forward. The new features introduce powerful capabilities, while the minor fixes and improvements showcase a commitment to providing a robust and user-friendly package. Users can look forward to a more versatile and refined experience in time series analysis. Great job on this release, and I’m sure the community is eager to explore these enhancements!\nExamples\nLet’s see how the main functions now behave.\nauto_stationarize()\nlibrary(healthyR.ts)\n\nauto_stationarize(AirPassengers)\nThe time series is already stationary via ts_adf_test().\nJan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec\n1949 112 118 132 129 121 135 148 148 136 119 104 118\n1950 115 126 141 135 125 149 170 170 158 133 114 140\n1951 145 150 178 163 172 178 199 199 184 162 146 166\n1952 171 180 193 181 183 218 230 242 209 191 172 194\n1953 196 196 236 235 229 243 264 272 237 211 180 201\n1954 204 188 235 227 234 264 302 293 259 229 203 229\n1955 242 233 267 269 270 315 364 347 312 274 237 278\n1956 284 277 317 313 318 374 413 405 355 306 271 306\n1957 315 301 356 348 355 422 465 467 404 347 305 336\n1958 340 318 362 348 363 435 491 505 404 359 310 337\n1959 360 342 406 396 420 472 548 559 463 407 362 405\n1960 417 391 419 461 472 535 622 606 508 461 390 432\nauto_stationarize(BJsales)\nThe time series is not stationary. Attempting to make it stationary...\n$stationary_ts\nTime Series:\nStart = 3 \nEnd = 150 \nFrequency = 1 \n  [1]  0.5 -0.4  0.6  1.1 -2.8  3.0 -1.1  0.6 -0.5 -0.5  0.1  2.0 -0.6  0.8  1.2\n [16] -3.4 -0.7 -0.3  1.7  3.0 -3.2  0.9  2.2 -2.5 -0.4  2.6 -4.3  2.0 -3.1  2.7\n [31] -2.1  0.1  2.1 -0.2 -2.2  0.6  1.0 -2.6  3.0  0.3  0.2 -0.8  1.0  0.0  3.2\n [46] -2.2 -4.7  1.2  0.8 -0.6 -0.4  0.6  1.0 -1.6 -0.1  3.4 -0.9 -1.7 -0.5  0.8\n [61]  2.4 -1.9  0.6 -2.2  2.6 -0.1 -2.7  1.7 -0.3  1.9 -2.7  1.1 -0.6  0.9  0.0\n [76]  1.8 -0.5 -0.4 -1.2  2.6 -1.8  1.7 -0.9  0.6 -0.4  3.0 -2.8  3.1 -2.3 -1.1\n [91]  2.1 -0.3 -1.7 -0.8 -0.4  1.1 -1.5  0.3  1.4 -2.0  1.3 -0.3  0.4 -3.5  1.1\n[106]  2.6  0.4 -1.3  2.0 -1.6  0.6 -0.1 -1.4  1.6  1.6 -3.4  1.7 -2.2  2.1 -2.0\n[121] -0.2  0.2  0.7 -1.4  1.8 -0.1 -0.7  0.4  0.4  1.0 -2.4  1.0 -0.4  0.8 -1.0\n[136]  1.4 -1.2  1.1 -0.9  0.5  1.9 -0.6  0.3 -1.4 -0.9 -0.5  1.4  0.1\n\n$ndiffs\n[1] 1\n\n$adf_stats\n$adf_stats$test_stat\n[1] -6.562008\n\n$adf_stats$p_value\n[1] 0.01\n\n$trans_type\n[1] \"double_diff\"\n\n$ret\n[1] TRUE\nplot.ts(auto_stationarize(BJsales)$stationary_ts)\nThe time series is not stationary. Attempting to make it stationary...\nauto_stationarize(BJsales.lead)\nThe time series is not stationary. Attempting to make it stationary...\n$stationary_ts\nTime Series:\nStart = 2 \nEnd = 150 \nFrequency = 1 \n  [1]  0.06  0.25 -0.57  0.58 -0.20  0.23 -0.04 -0.19  0.03  0.42  0.04  0.24\n [13]  0.34 -0.46 -0.18 -0.08  0.29  0.56 -0.37  0.20  0.54 -0.31  0.03  0.52\n [25] -0.70  0.35 -0.63  0.44 -0.38 -0.01  0.22  0.10 -0.50  0.01  0.30 -0.76\n [37]  0.52  0.15  0.06 -0.10  0.21 -0.01  0.70 -0.22 -0.76  0.06  0.02 -0.17\n [49] -0.08  0.01  0.11 -0.39  0.01  0.50 -0.02 -0.37 -0.13  0.05  0.54 -0.46\n [61]  0.25 -0.52  0.44  0.02 -0.47  0.11  0.06  0.25 -0.35  0.00 -0.06  0.21\n [73] -0.09  0.36  0.09 -0.04 -0.20  0.44 -0.23  0.40 -0.01  0.17  0.08  0.58\n [85] -0.27  0.79 -0.21  0.02  0.30  0.28 -0.27 -0.01  0.03  0.16 -0.28  0.15\n [97]  0.26 -0.36  0.32 -0.11  0.22 -0.65  0.00  0.47  0.16 -0.19  0.48 -0.26\n[109]  0.21  0.00 -0.20  0.35  0.38 -0.48  0.20 -0.32  0.43 -0.50  0.12 -0.17\n[121]  0.15 -0.36  0.35 -0.03 -0.18  0.16  0.07  0.21 -0.50  0.23 -0.13  0.14\n[133] -0.15  0.19 -0.24  0.26 -0.22  0.17  0.37 -0.06  0.29 -0.34 -0.12 -0.16\n[145]  0.25  0.08 -0.07  0.26 -0.37\n\n$ndiffs\n[1] 1\n\n$adf_stats\n$adf_stats$test_stat\n[1] -4.838625\n\n$adf_stats$p_value\n[1] 0.01\n\n$trans_type\n[1] \"diff\"\n\n$ret\n[1] TRUE\nplot.ts(auto_stationarize(BJsales.lead)$stationary_ts)\nThe time series is not stationary. Attempting to make it stationary...\nts_auto_arima()\nThis use to only use the Arima engine if the\n.tune\nparameter was set to FALSE, thus it would many times give a simple straight line forecast. This was changed to make the engine auto_arima if\n.tune\nis set to FALSE.\nlibrary(timetk)\nlibrary(dplyr)\nlibrary(modeltime)\n\ndata <- AirPassengers |>\n  ts_to_tbl() |>\n  select(-index)\n\nsplits <- time_series_split(\n  data\n  , date_col\n  , assess = 12\n  , skip = 3\n  , cumulative = TRUE\n)\n\nts_aa <- ts_auto_arima(\n  .data = data,\n  .num_cores = 2,\n  .date_col = date_col,\n  .value_col = value,\n  .rsamp_obj = splits,\n  .formula = value ~ .,\n  .grid_size = 5,\n  .cv_slice_limit = 2,\n  .tune = FALSE\n)\n\nts_aa$recipe_info\n$recipe_call\nrecipe(.data = data, .date_col = date_col, .value_col = value, \n    .formula = value ~ ., .rsamp_obj = splits, .tune = FALSE, \n    .grid_size = 5, .num_cores = 2, .cv_slice_limit = 2)\n\n$recipe_syntax\n[1] \"ts_arima_recipe <-\"                                                                                                                                                                           \n[2] \"\\n  recipe(.data = data, .date_col = date_col, .value_col = value, .formula = value ~ \\n    ., .rsamp_obj = splits, .tune = FALSE, .grid_size = 5, .num_cores = 2, \\n    .cv_slice_limit = 2)\"\n\n$rec_obj\nts_aa$model_info\n$model_spec\nARIMA Regression Model Specification (regression)\n\nComputational engine: auto_arima \n\n$wflw\n══ Workflow ════════════════════════════════════════════════════════════════════\nPreprocessor: Recipe\nModel: arima_reg()\n\n── Preprocessor ────────────────────────────────────────────────────────────────\n0 Recipe Steps\n\n── Model ───────────────────────────────────────────────────────────────────────\nARIMA Regression Model Specification (regression)\n\nComputational engine: auto_arima \n\n$fitted_wflw\n══ Workflow [trained] ══════════════════════════════════════════════════════════\nPreprocessor: Recipe\nModel: arima_reg()\n\n── Preprocessor ────────────────────────────────────────────────────────────────\n0 Recipe Steps\n\n── Model ───────────────────────────────────────────────────────────────────────\nSeries: outcome \nARIMA(1,1,0)(0,1,0)[12] \n\nCoefficients:\n          ar1\n      -0.2431\ns.e.   0.0894\n\nsigma^2 = 109.8:  log likelihood = -447.95\nAIC=899.9   AICc=900.01   BIC=905.46\n\n$was_tuned\n[1] \"not_tuned\"\nts_aa$model_calibration\n$plot\n\n$calibration_tbl\n# Modeltime Table\n# A tibble: 1 × 5\n  .model_id .model     .model_desc             .type .calibration_data\n      <int> <list>     <chr>                   <chr> <list>           \n1         1 <workflow> ARIMA(1,1,0)(0,1,0)[12] Test  <tibble [12 × 4]>\n\n$model_accuracy\n# A tibble: 1 × 9\n  .model_id .model_desc             .type   mae  mape  mase smape  rmse   rsq\n      <int> <chr>                   <chr> <dbl> <dbl> <dbl> <dbl> <dbl> <dbl>\n1         1 ARIMA(1,1,0)(0,1,0)[12] Test   18.5  4.18 0.384  4.03  23.9 0.955\nts_aa$model_calibration$plot\nFinally enhancement to add attributes to\nts_growth_rate_vec()\nts_growth_rate_vec(AirPassengers)\n[1]          NA   5.3571429  11.8644068  -2.2727273  -6.2015504  11.5702479\n  [7]   9.6296296   0.0000000  -8.1081081 -12.5000000 -12.6050420  13.4615385\n [13]  -2.5423729   9.5652174  11.9047619  -4.2553191  -7.4074074  19.2000000\n [19]  14.0939597   0.0000000  -7.0588235 -15.8227848 -14.2857143  22.8070175\n [25]   3.5714286   3.4482759  18.6666667  -8.4269663   5.5214724   3.4883721\n [31]  11.7977528   0.0000000  -7.5376884 -11.9565217  -9.8765432  13.6986301\n [37]   3.0120482   5.2631579   7.2222222  -6.2176166   1.1049724  19.1256831\n [43]   5.5045872   5.2173913 -13.6363636  -8.6124402  -9.9476440  12.7906977\n [49]   1.0309278   0.0000000  20.4081633  -0.4237288  -2.5531915   6.1135371\n [55]   8.6419753   3.0303030 -12.8676471 -10.9704641 -14.6919431  11.6666667\n [61]   1.4925373  -7.8431373  25.0000000  -3.4042553   3.0837004  12.8205128\n [67]  14.3939394  -2.9801325 -11.6040956 -11.5830116 -11.3537118  12.8078818\n [73]   5.6768559  -3.7190083  14.5922747   0.7490637   0.3717472  16.6666667\n [79]  15.5555556  -4.6703297 -10.0864553 -12.1794872 -13.5036496  17.2995781\n [85]   2.1582734  -2.4647887  14.4404332  -1.2618297   1.5974441  17.6100629\n [91]  10.4278075  -1.9370460 -12.3456790 -13.8028169 -11.4379085  12.9151292\n [97]   2.9411765  -4.4444444  18.2724252  -2.2471910   2.0114943  18.8732394\n[103]  10.1895735   0.4301075 -13.4903640 -14.1089109 -12.1037464  10.1639344\n[109]   1.1904762  -6.4705882  13.8364780  -3.8674033   4.3103448  19.8347107\n[115]  12.8735632   2.8513238 -20.0000000 -11.1386139 -13.6490251   8.7096774\n[121]   6.8249258  -5.0000000  18.7134503  -2.4630542   6.0606061  12.3809524\n[127]  16.1016949   2.0072993 -17.1735242 -12.0950324 -11.0565111  11.8784530\n[133]   2.9629630  -6.2350120   7.1611253  10.0238663   2.3861171  13.3474576\n[139]  16.2616822  -2.5723473 -16.1716172  -9.2519685 -15.4013015  10.7692308\nattr(,\"vector_attributes\")\nattr(,\"vector_attributes\")$tsp\n[1] 1949.000 1960.917   12.000\n\nattr(,\"vector_attributes\")$class\n[1] \"ts\"\n\nattr(,\"name\")\n[1] \"AirPassengers\"\nRelated\nTo\nleave a comment\nfor the author, please follow the link and comment on their blog:\nSteve's Data Tips and Tricks\n.\nR-bloggers.com\noffers\ndaily e-mail updates\nabout\nR\nnews and tutorials about\nlearning R\nand many other topics.\nClick here if you're looking to post or find an R/data-science job\n.\nWant to share your content on R-bloggers?\nclick here\nif you have a blog, or\nhere\nif you don't.",
    "meta_description": "New Features: Unlocking More Power My R package {healthyR.ts} has been updated to version 0.3.0; you can install it from either CRAN, r-universe or GitHub. Let’s go over some of the changes and improvements. News 1. util_log_ts() - Logging Ti...",
    "meta_keywords": null,
    "og_description": "New Features: Unlocking More Power My R package {healthyR.ts} has been updated to version 0.3.0; you can install it from either CRAN, r-universe or GitHub. Let’s go over some of the changes and improvements. News 1. util_log_ts() - Logging Ti...",
    "og_image": "https://www.spsanderson.com/steveondata/posts/2011-11-16/index_files/figure-html/unnamed-chunk-1-1.png",
    "og_title": "{healthyR.ts} New Features: Unlocking More Power | R-bloggers",
    "raw_jsonld_article": null,
    "reading_time_min": 11.2,
    "sitemap_lastmod": "2023-11-16T05:00:00+00:00",
    "twitter_description": "New Features: Unlocking More Power My R package {healthyR.ts} has been updated to version 0.3.0; you can install it from either CRAN, r-universe or GitHub. Let’s go over some of the changes and improvements. News 1. util_log_ts() - Logging Ti...",
    "twitter_title": "{healthyR.ts} New Features: Unlocking More Power | R-bloggers",
    "url": "https://www.r-bloggers.com/2023/11/healthyr-ts-new-features-unlocking-more-power/",
    "word_count": 2241
  }
}