{
  "uuid": "e338e075-bcda-41f0-bc2b-e91441ff8fd8",
  "created_at": "2025-11-17 20:38:49",
  "raw_json": {
    "article_author": null,
    "article_headline": null,
    "article_modified": null,
    "article_published": null,
    "article_section": null,
    "article_tags": null,
    "canonical_url": "https://www.r-bloggers.com/2023/12/reproducible-data-science-with-nix-part-8-nixpkgs-a-tale-of-the-magic-of-free-and-open-source-software-and-a-call-for-charity/",
    "crawled_at": "2025-11-17T09:32:01.011763",
    "external_links": [
      {
        "href": "https://www.brodrigues.co/blog/2023-12-19-nix_for_r_part_8/",
        "text": "Econometrics and Free Software"
      },
      {
        "href": "http://r-posts.com/",
        "text": "here"
      },
      {
        "href": "https://www.brodrigues.co/tags/nix/",
        "text": "here"
      },
      {
        "href": "https://github.com/NixOS/nixpkgs/blob/dce218f4f35440622d2056f93ddc335351763bb4/pkgs/development/libraries/quarto/default.nix",
        "text": "here"
      },
      {
        "href": "https://github.com/NixOS/nixpkgs/pull/263108",
        "text": "here"
      },
      {
        "href": "https://github.com/quarto-dev/quarto-cli/issues/7344",
        "text": "Quarto’s issue tracker"
      },
      {
        "href": "https://www.gofundme.com/f/package-rstudio-for-nix-on-macos-platforms",
        "text": "here"
      },
      {
        "href": "https://www.gofundme.com/f/package-rstudio-for-nix-on-macos-platforms",
        "text": "here"
      },
      {
        "href": "https://fosstodon.org/@brodriguesco",
        "text": "Mastodon"
      },
      {
        "href": "https://www.twitter.com/brodriguesco",
        "text": "twitter"
      },
      {
        "href": "https://www.buymeacoffee.com/brodriguesco",
        "text": "buy me an espresso"
      },
      {
        "href": "https://www.paypal.me/brodriguesco",
        "text": "paypal.me"
      },
      {
        "href": "https://www.brodrigues.co/about/books/",
        "text": "ebooks"
      },
      {
        "href": "https://www.youtube.com/c/BrunoRodrigues1988/",
        "text": "youtube"
      },
      {
        "href": "https://www.buymeacoffee.com/brodriguesco",
        "text": "Buy\nme an Espresso"
      },
      {
        "href": "https://www.brodrigues.co/blog/2023-12-19-nix_for_r_part_8/",
        "text": "Econometrics and Free Software"
      },
      {
        "href": "https://feedburner.google.com/fb/a/mailverify?uri=RBloggers",
        "text": "daily e-mail updates"
      },
      {
        "href": "https://www.r-project.org/",
        "text": "R"
      },
      {
        "href": "https://www.r-users.com/",
        "text": "Click here if you're looking to post or find an R/data-science job"
      },
      {
        "href": "http://r-posts.com/",
        "text": "here"
      }
    ],
    "h1_title": "R-bloggers",
    "html_title": "Reproducible data science with Nix, part 8 — nixpkgs, a tale of the magic of free and open source software and a call for charity | R-bloggers",
    "images": [
      {
        "alt": null,
        "base64": "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",
        "src": "https://www.r-bloggers.com/wp-content/plugins/jetpack/modules/lazy-images/images/1x1.trans.gif"
      },
      {
        "alt": null,
        "base64": null,
        "src": "https://i2.wp.com/www.brodrigues.co/img/santa_tux.jpg?w=450&ssl=1"
      },
      {
        "alt": "Buy me an Espresso",
        "base64": "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",
        "src": "https://www.r-bloggers.com/wp-content/plugins/jetpack/modules/lazy-images/images/1x1.trans.gif"
      },
      {
        "alt": "Buy me an Espresso",
        "base64": null,
        "src": "https://www.buymeacoffee.com/assets/img/BMC-btn-logo.svg"
      }
    ],
    "internal_links": [
      {
        "href": "https://www.r-bloggers.com/author/econometrics-and-free-software/",
        "text": "Econometrics and Free Software"
      },
      {
        "href": "https://www.r-bloggers.com/category/r-bloggers/",
        "text": "R bloggers"
      },
      {
        "href": "https://www.r-bloggers.com/",
        "text": "R-bloggers"
      },
      {
        "href": "https://www.r-bloggers.com/contact-us/",
        "text": "here"
      },
      {
        "href": "https://www.r-bloggers.com/add-your-blog/",
        "text": "click here"
      },
      {
        "href": "https://www.r-bloggers.com/",
        "text": "R-bloggers.com"
      },
      {
        "href": "https://www.r-bloggers.com/how-to-learn-r-2/",
        "text": "learning R"
      },
      {
        "href": "https://www.r-bloggers.com/add-your-blog/",
        "text": "click here"
      }
    ],
    "lang": "en-US",
    "main_html": "<article class=\"post-380984 post type-post status-publish format-standard hentry category-r-bloggers\">\n<header class=\"post-header\">\n<h1 class=\"entry-title\">Reproducible data science with Nix, part 8 — nixpkgs, a tale of the magic of free and open source software and a call for charity</h1>\n<p class=\"meta post-meta\">Posted on <span class=\"updated\">December 18, 2023</span>  by <span class=\"vcard author\"><a class=\"fn\" href=\"https://www.r-bloggers.com/author/econometrics-and-free-software/\">Econometrics and Free Software</a></span>  in <a href=\"https://www.r-bloggers.com/category/r-bloggers/\" rel=\"category tag\">R bloggers</a> | 0 Comments</p>\n</header>\n<div class=\"entry clearfix\">\n<!-- \r\n<div style=\"min-height: 30px;\">\r\n[social4i size=\"small\" align=\"align-left\"]\r\n</div>\r\n-->\n<div style=\"border: 1px solid; background: none repeat scroll 0 0 #EDEDED; margin: 1px; font-size: 12px;\">\r\n[This article was first published on  <strong><a href=\"https://www.brodrigues.co/blog/2023-12-19-nix_for_r_part_8/\"> Econometrics and Free Software</a></strong>, and kindly contributed to <a href=\"https://www.r-bloggers.com/\" rel=\"nofollow\">R-bloggers</a>].  (You can report issue about the content on this page <a href=\"https://www.r-bloggers.com/contact-us/\">here</a>)\r\n<hr/>Want to share your content on R-bloggers?<a href=\"https://www.r-bloggers.com/add-your-blog/\" rel=\"nofollow\"> click here</a> if you have a blog, or <a href=\"http://r-posts.com/\" rel=\"nofollow\"> here</a> if you don't.\r\n</div>\n\n<!-- Share buttons by mashshare.net - Version: 3.8.9--><div style=\"text-align:center;\">\n<p><img data-lazy-src=\"https://i2.wp.com/www.brodrigues.co/img/santa_tux.jpg?w=450&amp;ssl=1\" data-recalc-dims=\"1\" src=\"https://www.r-bloggers.com/wp-content/plugins/jetpack/modules/lazy-images/images/1x1.trans.gif\"/><noscript><img data-recalc-dims=\"1\" src=\"https://i2.wp.com/www.brodrigues.co/img/santa_tux.jpg?w=450&amp;ssl=1\"/></noscript></p>\n</div>\n<p><em>This is part 8 of a series of blog posts about Nix. Check out\nthe other parts <a href=\"https://www.brodrigues.co/tags/nix/\" rel=\"nofollow\" target=\"_blank\">here</a>.\nTLDR: free and open source software is one of the most important\ncommon goods with enormous positive externalities: if you want to\nhelp funding it, keep reading!</em></p>\n<p>I wanted to quickly discuss about <code>nixpkgs</code>, which is the collection of packages\nthat can be installed using Nix. Why is a project like Nix and <code>nixpkgs</code>\nimportant, even if you don’t use Nix? In actuality, you may not realise it, but\nyou very much benefit from projects like Nix even if you don’t use it. Let me\nexplain.</p>\n<p><code>nixpkgs</code> is “just” a Github repository containing thousands upon thousands of\nNix expressions. When installing a package, these expressions get evaluated, and\nthe package in question gets installed. What <em>installed</em> means can vary:\nsometimes the package gets built from source, sometimes a pre-compiled binary\npackage for your operating system gets downloaded and installed.</p>\n<p>For example,\n<a href=\"https://github.com/NixOS/nixpkgs/blob/dce218f4f35440622d2056f93ddc335351763bb4/pkgs/development/libraries/quarto/default.nix\" rel=\"nofollow\" target=\"_blank\">here</a>\nis the Nix expression that downloads and installs Quarto. This is an example of\nan expression that downloads the pre-compiled Quarto package from Quarto’s own\nGithub repository, and then <em>installs</em> it. The installation process in this case\nis essentially making sure that Quarto is able to find its dependencies, which\nalso get installed from Nix, and some R and Python packages to make\nQuarto work well with both languages also get installed.</p>\n<p>Because Nix packages are “nothing but” Nix expressions hosted on Github,\ncontributing to Nix is as simple as opening a PR. For example,\n<a href=\"https://github.com/NixOS/nixpkgs/pull/263108\" rel=\"nofollow\" target=\"_blank\">here</a> is a draft PR I opened to\nprepare for the imminent release of Quarto <code>1.4</code>. My goal when I opened this\ndraft PR was to get used to contributing to <code>nixpkgs</code> (this was my second or\nthird PR to <code>nixpkgs</code>, and I did some rookie mistakes when opening my first\nones) and also to make the latest version of Quarto available on Nix as quickly\nas possible. But this PR had an unexpected consequence: through it, we found a\nbug in Quarto, which was then fixed before the actual release of the next\nversion!</p>\n<p>You see, how these things work is that when software gets released, operating\nsystem specific packages get built downstream. In the case of Quarto, this is\nnot entirely true though: the developers of Quarto release many pre-compiled\npackages for Windows, macOS and several Linux distribution themselves. But they\ndon’t do so for many other operating systems (which is entirely normal: there’s\njust too many! So releasing pre-built binaries for the main operating systems is\nmore than enough), so the maintainers of these other operating systems (or\npackage managers) have to package the software themselves. In the case of\nscientific software like Quarto, this usually means that it must get packaged\nfor the Conda package manager (popular among Python users) and Nix (and there’s\ncertainly other package managers out there that provide Quarto for other\n<em>exotic</em> systems) (Note: in the case of Quarto, I think the Quarto devs\nthemselves also package it for Conda, though).</p>\n<p>Turns out that when trying to package the pre-releases of Quarto for Nix, we\ndiscovered a regression in the upstream code that would not only affect\npackaging for Nix, but also for other package managers. We opened an issue on\n<a href=\"https://github.com/quarto-dev/quarto-cli/issues/7344\" rel=\"nofollow\" target=\"_blank\">Quarto’s issue tracker</a>\nand after some discussion, the bug was identified and adressed in a matter of\nhours. And now everyone gets to enjoy a better version of Quarto!</p>\n<p>This type of thing happens quite a lot in the background of open source\ndevelopment. My mind always gets blown when I think about the enormous amount of\nhours that get put by hobbyists and paid developers into open source and how\nwell everything works. Truly a Christmas miracle (but one that happens all\naround the year)!</p>\n<p>But it’s not all good and perfect. Some software is more complex to package, and\nrequires much more work. For example the RStudio IDE is one of these. It’s a\ncomplex piece of software with many dependencies, and while it is available on\nNix, it can only be installed on Windows and Linux. If you’re a Nix user on\nmacOS, you won’t be able to install RStudio, unfortunately. And, unfortunately\nalso, if you install RStudio using the usual macOS installer, it won’t be able\nto find any version of R and R packages installed with Nix. This is because\nRStudio needs to be patched to make it work nicely with Nix (just like we have\nto patch and prepare Quarto to play well with Nix). And packaging Rstudio for\nNix on macOS requires some expertise and hardware that we R users/contributers\nto Nix don’t have all have access to.</p>\n<p>This is where I appeal to your generosity: I have contacted a company called\nNumtide which offers a packaging service. You tell them which software you want\non Nix, they write the expression and open a PR to <code>nixpkgs</code>. But this costs\nmoney: so I started a Gofundme which you can find\n<a href=\"https://www.gofundme.com/f/package-rstudio-for-nix-on-macos-platforms\" rel=\"nofollow\" target=\"_blank\">here</a>\nto fund this. The goal is 4500€, which would cover the work, plus Gofundme\nfees and interest rate risk. I stated in the Gofundme that if the goal was not\nreached until the end of the year, I would donate all the money to the R\nfoundation, but I might extend it to end of January 2024 instead.</p>\n<p>So here is my ask: if you want to help make free and open source software\nbetter, consider donating to this Gofundme! As explained above, even if you\ndon’t use Nix, everyone can benefit from work that is done by everyone, be it\nupstream or downstream. And if the goal is not met, your donation will go to the\nR foundation anyways!</p>\n<p>The link to the Gofundme is\n<a href=\"https://www.gofundme.com/f/package-rstudio-for-nix-on-macos-platforms\" rel=\"nofollow\" target=\"_blank\">here</a>.</p>\n<p>I hope you can help out with this and make free and open source available and\nbetter for everyone.</p>\n<p>Many thanks, merry Christmas and happy new year!</p>\n<p>\nHope you enjoyed! If you found this blog post useful, you might want to\nfollow me on <a href=\"https://fosstodon.org/@brodriguesco\" rel=\"nofollow\" target=\"_blank\">Mastodon</a> or\n<a href=\"https://www.twitter.com/brodriguesco\" rel=\"nofollow\" target=\"_blank\">twitter</a> for blog post updates\nand <a href=\"https://www.buymeacoffee.com/brodriguesco\" rel=\"nofollow\" target=\"_blank\">buy me an espresso</a>\nor <a href=\"https://www.paypal.me/brodriguesco\" rel=\"nofollow\" target=\"_blank\">paypal.me</a>, or buy my\n<a href=\"https://www.brodrigues.co/about/books/\" rel=\"nofollow\" target=\"_blank\">ebooks</a>. You can also watch\nmy videos on\n<a href=\"https://www.youtube.com/c/BrunoRodrigues1988/\" rel=\"nofollow\" target=\"_blank\">youtube</a>. So much\ncontent for you to consoom!\n</p>\n\n<p>\n<a class=\"bmc-button\" href=\"https://www.buymeacoffee.com/brodriguesco\" rel=\"nofollow\" target=\"_blank\"><img alt=\"Buy me an Espresso\" data-lazy-src=\"https://www.buymeacoffee.com/assets/img/BMC-btn-logo.svg\" src=\"https://www.r-bloggers.com/wp-content/plugins/jetpack/modules/lazy-images/images/1x1.trans.gif\"/><noscript><img alt=\"Buy me an Espresso\" src=\"https://www.buymeacoffee.com/assets/img/BMC-btn-logo.svg\"/></noscript><span style=\"margin-left:5px\">Buy\nme an Espresso</span></a>\n</p>\n<div class=\"jp-relatedposts\" id=\"jp-relatedposts\">\n<h3 class=\"jp-relatedposts-headline\"><em>Related</em></h3>\n</div>\n<!-- Share buttons by mashshare.net - Version: 3.8.9-->\n<div style=\"border: 1px solid; background: none repeat scroll 0 0 #EDEDED; margin: 1px; font-size: 13px;\">\n<div style=\"text-align: center;\">To <strong>leave a comment</strong> for the author, please follow the link and comment on their blog: <strong><a href=\"https://www.brodrigues.co/blog/2023-12-19-nix_for_r_part_8/\"> Econometrics and Free Software</a></strong>.</div>\n<hr>\n<a href=\"https://www.r-bloggers.com/\" rel=\"nofollow\">R-bloggers.com</a> offers <strong><a href=\"https://feedburner.google.com/fb/a/mailverify?uri=RBloggers\" rel=\"nofollow\">daily e-mail updates</a></strong> about <a href=\"https://www.r-project.org/\" rel=\"nofollow\" title=\"The R Project for Statistical Computing\">R</a> news and tutorials about <a href=\"https://www.r-bloggers.com/how-to-learn-r-2/\" rel=\"nofollow\" title=\"R tutorials\">learning R</a> and many other topics. <a href=\"https://www.r-users.com/\" rel=\"nofollow\" title=\"Data science jobs\">Click here if you're looking to post or find an R/data-science job</a>.\r\n\r\n<hr/>Want to share your content on R-bloggers?<a href=\"https://www.r-bloggers.com/add-your-blog/\" rel=\"nofollow\"> click here</a> if you have a blog, or <a href=\"http://r-posts.com/\" rel=\"nofollow\"> here</a> if you don't.\r\n</hr></div> </div>\n</article>",
    "main_text": "Reproducible data science with Nix, part 8 — nixpkgs, a tale of the magic of free and open source software and a call for charity\nPosted on\nDecember 18, 2023\nby\nEconometrics and Free Software\nin\nR bloggers\n| 0 Comments\n[This article was first published on\nEconometrics and Free Software\n, and kindly contributed to\nR-bloggers\n].  (You can report issue about the content on this page\nhere\n)\nWant to share your content on R-bloggers?\nclick here\nif you have a blog, or\nhere\nif you don't.\nThis is part 8 of a series of blog posts about Nix. Check out\nthe other parts\nhere\n.\nTLDR: free and open source software is one of the most important\ncommon goods with enormous positive externalities: if you want to\nhelp funding it, keep reading!\nI wanted to quickly discuss about\nnixpkgs\n, which is the collection of packages\nthat can be installed using Nix. Why is a project like Nix and\nnixpkgs\nimportant, even if you don’t use Nix? In actuality, you may not realise it, but\nyou very much benefit from projects like Nix even if you don’t use it. Let me\nexplain.\nnixpkgs\nis “just” a Github repository containing thousands upon thousands of\nNix expressions. When installing a package, these expressions get evaluated, and\nthe package in question gets installed. What\ninstalled\nmeans can vary:\nsometimes the package gets built from source, sometimes a pre-compiled binary\npackage for your operating system gets downloaded and installed.\nFor example,\nhere\nis the Nix expression that downloads and installs Quarto. This is an example of\nan expression that downloads the pre-compiled Quarto package from Quarto’s own\nGithub repository, and then\ninstalls\nit. The installation process in this case\nis essentially making sure that Quarto is able to find its dependencies, which\nalso get installed from Nix, and some R and Python packages to make\nQuarto work well with both languages also get installed.\nBecause Nix packages are “nothing but” Nix expressions hosted on Github,\ncontributing to Nix is as simple as opening a PR. For example,\nhere\nis a draft PR I opened to\nprepare for the imminent release of Quarto\n1.4\n. My goal when I opened this\ndraft PR was to get used to contributing to\nnixpkgs\n(this was my second or\nthird PR to\nnixpkgs\n, and I did some rookie mistakes when opening my first\nones) and also to make the latest version of Quarto available on Nix as quickly\nas possible. But this PR had an unexpected consequence: through it, we found a\nbug in Quarto, which was then fixed before the actual release of the next\nversion!\nYou see, how these things work is that when software gets released, operating\nsystem specific packages get built downstream. In the case of Quarto, this is\nnot entirely true though: the developers of Quarto release many pre-compiled\npackages for Windows, macOS and several Linux distribution themselves. But they\ndon’t do so for many other operating systems (which is entirely normal: there’s\njust too many! So releasing pre-built binaries for the main operating systems is\nmore than enough), so the maintainers of these other operating systems (or\npackage managers) have to package the software themselves. In the case of\nscientific software like Quarto, this usually means that it must get packaged\nfor the Conda package manager (popular among Python users) and Nix (and there’s\ncertainly other package managers out there that provide Quarto for other\nexotic\nsystems) (Note: in the case of Quarto, I think the Quarto devs\nthemselves also package it for Conda, though).\nTurns out that when trying to package the pre-releases of Quarto for Nix, we\ndiscovered a regression in the upstream code that would not only affect\npackaging for Nix, but also for other package managers. We opened an issue on\nQuarto’s issue tracker\nand after some discussion, the bug was identified and adressed in a matter of\nhours. And now everyone gets to enjoy a better version of Quarto!\nThis type of thing happens quite a lot in the background of open source\ndevelopment. My mind always gets blown when I think about the enormous amount of\nhours that get put by hobbyists and paid developers into open source and how\nwell everything works. Truly a Christmas miracle (but one that happens all\naround the year)!\nBut it’s not all good and perfect. Some software is more complex to package, and\nrequires much more work. For example the RStudio IDE is one of these. It’s a\ncomplex piece of software with many dependencies, and while it is available on\nNix, it can only be installed on Windows and Linux. If you’re a Nix user on\nmacOS, you won’t be able to install RStudio, unfortunately. And, unfortunately\nalso, if you install RStudio using the usual macOS installer, it won’t be able\nto find any version of R and R packages installed with Nix. This is because\nRStudio needs to be patched to make it work nicely with Nix (just like we have\nto patch and prepare Quarto to play well with Nix). And packaging Rstudio for\nNix on macOS requires some expertise and hardware that we R users/contributers\nto Nix don’t have all have access to.\nThis is where I appeal to your generosity: I have contacted a company called\nNumtide which offers a packaging service. You tell them which software you want\non Nix, they write the expression and open a PR to\nnixpkgs\n. But this costs\nmoney: so I started a Gofundme which you can find\nhere\nto fund this. The goal is 4500€, which would cover the work, plus Gofundme\nfees and interest rate risk. I stated in the Gofundme that if the goal was not\nreached until the end of the year, I would donate all the money to the R\nfoundation, but I might extend it to end of January 2024 instead.\nSo here is my ask: if you want to help make free and open source software\nbetter, consider donating to this Gofundme! As explained above, even if you\ndon’t use Nix, everyone can benefit from work that is done by everyone, be it\nupstream or downstream. And if the goal is not met, your donation will go to the\nR foundation anyways!\nThe link to the Gofundme is\nhere\n.\nI hope you can help out with this and make free and open source available and\nbetter for everyone.\nMany thanks, merry Christmas and happy new year!\nHope you enjoyed! If you found this blog post useful, you might want to\nfollow me on\nMastodon\nor\ntwitter\nfor blog post updates\nand\nbuy me an espresso\nor\npaypal.me\n, or buy my\nebooks\n. You can also watch\nmy videos on\nyoutube\n. So much\ncontent for you to consoom!\nBuy\nme an Espresso\nRelated\nTo\nleave a comment\nfor the author, please follow the link and comment on their blog:\nEconometrics and Free Software\n.\nR-bloggers.com\noffers\ndaily e-mail updates\nabout\nR\nnews and tutorials about\nlearning R\nand many other topics.\nClick here if you're looking to post or find an R/data-science job\n.\nWant to share your content on R-bloggers?\nclick here\nif you have a blog, or\nhere\nif you don't.",
    "meta_description": "This is part 8 of a series of blog posts about Nix. Check out the other parts here. TLDR: free and open source software is one of the most important common goods with enormous positive externalities: if you want to help funding it, keep reading! I wanted to quickly discuss about nixpkgs, which is the collection of packages that can be installed using Nix. Why is a project like Nix and nixpkgs important, even if you don’t use Nix? In actuality, you may not realise it, but you very much benefit from projects like Nix even if you don’t use it. Let me explain. nixpkgs is “just” a Github repository containing thousands upon thousands of Nix expressions. When installing a package, these expressions get evaluated, and the package in question gets installed. What installed means can vary: sometimes the package gets built from source, sometimes a pre-compiled binary package for your operating system gets downloaded and installed. For example, here is the Nix expression that downloads and installs Quarto. This is an example of an expression that downloads the pre-compiled Quarto package from Quarto’s own Github repository, and then installs it. The installation process in this case is essentially making sure that Quarto is able to find its dependencies, which also get installed from Nix, and some R and Python packages to make Quarto work well with both languages also get installed. Because Nix packages are “nothing but” Nix expressions hosted on Github, contributing to Nix is as simple as opening a PR. For example, here is a draft PR I opened to prepare for the imminent release of Quarto 1.4. My goal when I opened this draft PR was to get used to contributing to nixpkgs (this was my second or third PR to nixpkgs, and I did some rookie mistakes when opening my first ones) and also to make the latest version of Quarto available on Nix as quickly as possible. But this PR had an unexpected consequence: through it, we found a bug in Quarto, which was then fixed before the actual release of the next version! You see, how these things work is that when software gets released, operating system specific packages get built downstream. In the case of Quarto, this is not entirely true though: the developers of Quarto release many pre-compiled packages for Windows, macOS and several Linux distribution themselves. But they don’t do so for many other operating systems (which is entirely normal: there’s just too many! So releasing pre-built binaries for the main operating systems is more than enough), so the maintainers of these other operating systems (or package managers) have to package the software themselves. In the case of scientific software like Quarto, this usually means that it must get packaged for the Conda package manager (popular among Python users) and Nix (and there’s certainly other package managers out there that provide Quarto for other exotic systems) (Note: in the case of Quarto, I think the Quarto devs themselves also package it for Conda, though). Turns out that when trying to package the pre-releases of Quarto for Nix, we discovered a regression in the upstream code that would not only affect packaging for Nix, but also for other package managers. We opened an issue on Quarto’s issue tracker and after some discussion, the bug was identified and adressed in a matter of hours. And now everyone gets to enjoy a better version of Quarto! This type of thing happens quite a lot in the background of open source development. My mind always gets blown when I think about the enormous amount of hours that get put by hobbyists and paid developers into open source and how well everything works. Truly a Christmas miracle (but one that happens all around the year)! But it’s not all good and perfect. Some software is more complex to package, and requires much more work. For example the RStudio IDE is one of these. It’s a complex piece of software with many dependencies, and while it is available on Nix, it can only be installed on Windows and Linux. If you’re a Nix user on macOS, you won’t be able to install RStudio, unfortunately. And, unfortunately also, if you install RStudio using the usual macOS installer, it won’t be able to find any version of R and R packages installed with Nix. This is because RStudio needs to be patched to make it work nicely with Nix (just like we have to patch and prepare Quarto to play well with Nix). And packaging Rstudio for Nix on macOS requires some expertise and hardware that we R users/contributers to Nix don’t have all have access to. This is where I appeal to your generosity: I have contacted a company called Numtide which offers a packaging service. You tell them which software you want on Nix, they write the expression and open a PR to nixpkgs. But this costs money: so I started a Gofundme which you can find here to fund this. The goal is 4500€, which would cover the work, plus Gofundme fees and interest rate risk. I stated in the Gofundme that if the goal was not reached until the end of the year, I would donate all the money to the R foundation, but I might extend it to end of January 2024 instead. So here is my ask: if you want to help make free and open source software better, consider donating to this Gofundme! As explained above, even if you don’t use Nix, everyone can benefit from work that is done by everyone, be it upstream or downstream. And if the goal is not met, your donation will go to the R foundation anyways! The link to the Gofundme is here. I hope you can help out with this and make free and open source available and better for everyone. Many thanks, merry Christmas and happy new year! Hope you enjoyed! If you found this blog post useful, you might want to follow me on Mastodon or twitter for blog post updates and buy me an espresso or paypal.me, or buy my ebooks. You can also watch my videos on youtube. So much content for you to consoom! Buy me an Espresso",
    "meta_keywords": null,
    "og_description": "This is part 8 of a series of blog posts about Nix. Check out the other parts here. TLDR: free and open source software is one of the most important common goods with enormous positive externalities: if you want to help funding it, keep reading! I wanted to quickly discuss about nixpkgs, which is the collection of packages that can be installed using Nix. Why is a project like Nix and nixpkgs important, even if you don’t use Nix? In actuality, you may not realise it, but you very much benefit from projects like Nix even if you don’t use it. Let me explain. nixpkgs is “just” a Github repository containing thousands upon thousands of Nix expressions. When installing a package, these expressions get evaluated, and the package in question gets installed. What installed means can vary: sometimes the package gets built from source, sometimes a pre-compiled binary package for your operating system gets downloaded and installed. For example, here is the Nix expression that downloads and installs Quarto. This is an example of an expression that downloads the pre-compiled Quarto package from Quarto’s own Github repository, and then installs it. The installation process in this case is essentially making sure that Quarto is able to find its dependencies, which also get installed from Nix, and some R and Python packages to make Quarto work well with both languages also get installed. Because Nix packages are “nothing but” Nix expressions hosted on Github, contributing to Nix is as simple as opening a PR. For example, here is a draft PR I opened to prepare for the imminent release of Quarto 1.4. My goal when I opened this draft PR was to get used to contributing to nixpkgs (this was my second or third PR to nixpkgs, and I did some rookie mistakes when opening my first ones) and also to make the latest version of Quarto available on Nix as quickly as possible. But this PR had an unexpected consequence: through it, we found a bug in Quarto, which was then fixed before the actual release of the next version! You see, how these things work is that when software gets released, operating system specific packages get built downstream. In the case of Quarto, this is not entirely true though: the developers of Quarto release many pre-compiled packages for Windows, macOS and several Linux distribution themselves. But they don’t do so for many other operating systems (which is entirely normal: there’s just too many! So releasing pre-built binaries for the main operating systems is more than enough), so the maintainers of these other operating systems (or package managers) have to package the software themselves. In the case of scientific software like Quarto, this usually means that it must get packaged for the Conda package manager (popular among Python users) and Nix (and there’s certainly other package managers out there that provide Quarto for other exotic systems) (Note: in the case of Quarto, I think the Quarto devs themselves also package it for Conda, though). Turns out that when trying to package the pre-releases of Quarto for Nix, we discovered a regression in the upstream code that would not only affect packaging for Nix, but also for other package managers. We opened an issue on Quarto’s issue tracker and after some discussion, the bug was identified and adressed in a matter of hours. And now everyone gets to enjoy a better version of Quarto! This type of thing happens quite a lot in the background of open source development. My mind always gets blown when I think about the enormous amount of hours that get put by hobbyists and paid developers into open source and how well everything works. Truly a Christmas miracle (but one that happens all around the year)! But it’s not all good and perfect. Some software is more complex to package, and requires much more work. For example the RStudio IDE is one of these. It’s a complex piece of software with many dependencies, and while it is available on Nix, it can only be installed on Windows and Linux. If you’re a Nix user on macOS, you won’t be able to install RStudio, unfortunately. And, unfortunately also, if you install RStudio using the usual macOS installer, it won’t be able to find any version of R and R packages installed with Nix. This is because RStudio needs to be patched to make it work nicely with Nix (just like we have to patch and prepare Quarto to play well with Nix). And packaging Rstudio for Nix on macOS requires some expertise and hardware that we R users/contributers to Nix don’t have all have access to. This is where I appeal to your generosity: I have contacted a company called Numtide which offers a packaging service. You tell them which software you want on Nix, they write the expression and open a PR to nixpkgs. But this costs money: so I started a Gofundme which you can find here to fund this. The goal is 4500€, which would cover the work, plus Gofundme fees and interest rate risk. I stated in the Gofundme that if the goal was not reached until the end of the year, I would donate all the money to the R foundation, but I might extend it to end of January 2024 instead. So here is my ask: if you want to help make free and open source software better, consider donating to this Gofundme! As explained above, even if you don’t use Nix, everyone can benefit from work that is done by everyone, be it upstream or downstream. And if the goal is not met, your donation will go to the R foundation anyways! The link to the Gofundme is here. I hope you can help out with this and make free and open source available and better for everyone. Many thanks, merry Christmas and happy new year! Hope you enjoyed! If you found this blog post useful, you might want to follow me on Mastodon or twitter for blog post updates and buy me an espresso or paypal.me, or buy my ebooks. You can also watch my videos on youtube. So much content for you to consoom! Buy me an Espresso",
    "og_image": "https://www.brodrigues.co/img/santa_tux.jpg",
    "og_title": "Reproducible data science with Nix, part 8 — nixpkgs, a tale of the magic of free and open source software and a call for charity | R-bloggers",
    "raw_jsonld_article": null,
    "reading_time_min": 6.1,
    "sitemap_lastmod": "2023-12-19T00:00:00+00:00",
    "twitter_description": "This is part 8 of a series of blog posts about Nix. Check out the other parts here. TLDR: free and open source software is one of the most important common goods with enormous positive externalities: if you want to help funding it, keep reading! I wanted to quickly discuss about nixpkgs, which is the collection of packages that can be installed using Nix. Why is a project like Nix and nixpkgs important, even if you don’t use Nix? In actuality, you may not realise it, but you very much benefit from projects like Nix even if you don’t use it. Let me explain. nixpkgs is “just” a Github repository containing thousands upon thousands of Nix expressions. When installing a package, these expressions get evaluated, and the package in question gets installed. What installed means can vary: sometimes the package gets built from source, sometimes a pre-compiled binary package for your operating system gets downloaded and installed. For example, here is the Nix expression that downloads and installs Quarto. This is an example of an expression that downloads the pre-compiled Quarto package from Quarto’s own Github repository, and then installs it. The installation process in this case is essentially making sure that Quarto is able to find its dependencies, which also get installed from Nix, and some R and Python packages to make Quarto work well with both languages also get installed. Because Nix packages are “nothing but” Nix expressions hosted on Github, contributing to Nix is as simple as opening a PR. For example, here is a draft PR I opened to prepare for the imminent release of Quarto 1.4. My goal when I opened this draft PR was to get used to contributing to nixpkgs (this was my second or third PR to nixpkgs, and I did some rookie mistakes when opening my first ones) and also to make the latest version of Quarto available on Nix as quickly as possible. But this PR had an unexpected consequence: through it, we found a bug in Quarto, which was then fixed before the actual release of the next version! You see, how these things work is that when software gets released, operating system specific packages get built downstream. In the case of Quarto, this is not entirely true though: the developers of Quarto release many pre-compiled packages for Windows, macOS and several Linux distribution themselves. But they don’t do so for many other operating systems (which is entirely normal: there’s just too many! So releasing pre-built binaries for the main operating systems is more than enough), so the maintainers of these other operating systems (or package managers) have to package the software themselves. In the case of scientific software like Quarto, this usually means that it must get packaged for the Conda package manager (popular among Python users) and Nix (and there’s certainly other package managers out there that provide Quarto for other exotic systems) (Note: in the case of Quarto, I think the Quarto devs themselves also package it for Conda, though). Turns out that when trying to package the pre-releases of Quarto for Nix, we discovered a regression in the upstream code that would not only affect packaging for Nix, but also for other package managers. We opened an issue on Quarto’s issue tracker and after some discussion, the bug was identified and adressed in a matter of hours. And now everyone gets to enjoy a better version of Quarto! This type of thing happens quite a lot in the background of open source development. My mind always gets blown when I think about the enormous amount of hours that get put by hobbyists and paid developers into open source and how well everything works. Truly a Christmas miracle (but one that happens all around the year)! But it’s not all good and perfect. Some software is more complex to package, and requires much more work. For example the RStudio IDE is one of these. It’s a complex piece of software with many dependencies, and while it is available on Nix, it can only be installed on Windows and Linux. If you’re a Nix user on macOS, you won’t be able to install RStudio, unfortunately. And, unfortunately also, if you install RStudio using the usual macOS installer, it won’t be able to find any version of R and R packages installed with Nix. This is because RStudio needs to be patched to make it work nicely with Nix (just like we have to patch and prepare Quarto to play well with Nix). And packaging Rstudio for Nix on macOS requires some expertise and hardware that we R users/contributers to Nix don’t have all have access to. This is where I appeal to your generosity: I have contacted a company called Numtide which offers a packaging service. You tell them which software you want on Nix, they write the expression and open a PR to nixpkgs. But this costs money: so I started a Gofundme which you can find here to fund this. The goal is 4500€, which would cover the work, plus Gofundme fees and interest rate risk. I stated in the Gofundme that if the goal was not reached until the end of the year, I would donate all the money to the R foundation, but I might extend it to end of January 2024 instead. So here is my ask: if you want to help make free and open source software better, consider donating to this Gofundme! As explained above, even if you don’t use Nix, everyone can benefit from work that is done by everyone, be it upstream or downstream. And if the goal is not met, your donation will go to the R foundation anyways! The link to the Gofundme is here. I hope you can help out with this and make free and open source available and better for everyone. Many thanks, merry Christmas and happy new year! Hope you enjoyed! If you found this blog post useful, you might want to follow me on Mastodon or twitter for blog post updates and buy me an espresso or paypal.me, or buy my ebooks. You can also watch my videos on youtube. So much content for you to consoom! Buy me an Espresso",
    "twitter_title": "Reproducible data science with Nix, part 8 — nixpkgs, a tale of the magic of free and open source software and a call for charity | R-bloggers",
    "url": "https://www.r-bloggers.com/2023/12/reproducible-data-science-with-nix-part-8-nixpkgs-a-tale-of-the-magic-of-free-and-open-source-software-and-a-call-for-charity/",
    "word_count": 1226
  }
}