{
  "uuid": "7cd49165-3acb-4e6b-aa64-40267bc6464f",
  "created_at": "2025-11-22 19:57:22",
  "raw_json": {
    "article_author": null,
    "article_headline": null,
    "article_modified": null,
    "article_published": null,
    "article_section": null,
    "article_tags": null,
    "canonical_url": "https://www.r-bloggers.com/2025/11/faking-plotlys-y-unified-tooltip-in-ggiraph/",
    "crawled_at": "2025-11-22T10:41:08.908452",
    "external_links": [
      {
        "href": "https://klogr.netlify.app/posts/2025-11-05-unified-girafe/",
        "text": "klogr"
      },
      {
        "href": "http://r-posts.com/",
        "text": "here"
      },
      {
        "href": "https://plotly.com/r/reference/",
        "text": "plotly reference"
      },
      {
        "href": "https://davidgohel.github.io/ggiraph/",
        "text": "homepage"
      },
      {
        "href": "https://klogr.netlify.app/posts/2025-11-05-unified-girafe/r-bloggers.com",
        "text": "r-bloggers.com"
      },
      {
        "href": "https://klogr.netlify.app/posts/2025-11-05-unified-girafe/",
        "text": "klogr"
      },
      {
        "href": "https://feedburner.google.com/fb/a/mailverify?uri=RBloggers",
        "text": "daily e-mail updates"
      },
      {
        "href": "https://www.r-project.org/",
        "text": "R"
      },
      {
        "href": "https://www.r-users.com/",
        "text": "Click here if you're looking to post or find an R/data-science job"
      },
      {
        "href": "http://r-posts.com/",
        "text": "here"
      }
    ],
    "h1_title": "R-bloggers",
    "html_title": "Faking plotly’s ‘y unified’ tooltip in ggiraph | R-bloggers",
    "images": [],
    "internal_links": [
      {
        "href": "https://www.r-bloggers.com/author/author-kurtis-smith/",
        "text": "Author: Kurtis Smith"
      },
      {
        "href": "https://www.r-bloggers.com/category/r-bloggers/",
        "text": "R bloggers"
      },
      {
        "href": "https://www.r-bloggers.com/",
        "text": "R-bloggers"
      },
      {
        "href": "https://www.r-bloggers.com/contact-us/",
        "text": "here"
      },
      {
        "href": "https://www.r-bloggers.com/add-your-blog/",
        "text": "click here"
      },
      {
        "href": "https://www.r-bloggers.com/",
        "text": "R-bloggers.com"
      },
      {
        "href": "https://www.r-bloggers.com/how-to-learn-r-2/",
        "text": "learning R"
      },
      {
        "href": "https://www.r-bloggers.com/add-your-blog/",
        "text": "click here"
      }
    ],
    "lang": "en-US",
    "main_html": "<article class=\"post-396565 post type-post status-publish format-standard hentry category-r-bloggers\">\n<header class=\"post-header\">\n<h1 class=\"entry-title\">Faking plotly’s ‘y unified’ tooltip in ggiraph</h1>\n<p class=\"meta post-meta\">Posted on <span class=\"updated\">November 4, 2025</span>  by <span class=\"vcard author\"><a class=\"fn\" href=\"https://www.r-bloggers.com/author/author-kurtis-smith/\">Author: Kurtis Smith</a></span>  in <a href=\"https://www.r-bloggers.com/category/r-bloggers/\" rel=\"category tag\">R bloggers</a> | 0 Comments</p>\n</header>\n<div class=\"entry clearfix\">\n<!-- \n<div style=\"min-height: 30px;\">\n[social4i size=\"small\" align=\"align-left\"]\n</div>\n-->\n<div style=\"border: 1px solid; background: none repeat scroll 0 0 #EDEDED; margin: 1px; font-size: 12px;\">\n[This article was first published on  <strong><a href=\"https://klogr.netlify.app/posts/2025-11-05-unified-girafe/\"> klogr</a></strong>, and kindly contributed to <a href=\"https://www.r-bloggers.com/\" rel=\"nofollow\">R-bloggers</a>].  (You can report issue about the content on this page <a href=\"https://www.r-bloggers.com/contact-us/\">here</a>)\n<hr/>Want to share your content on R-bloggers?<a href=\"https://www.r-bloggers.com/add-your-blog/\" rel=\"nofollow\"> click here</a> if you have a blog, or <a href=\"http://r-posts.com/\" rel=\"nofollow\"> here</a> if you don't.\n</div>\n\n<!-- Share buttons by mashshare.net - Version: 4.0.47-->\n<section class=\"level2\" id=\"problem\">\n<h2 class=\"anchored\" data-anchor-id=\"problem\">Problem</h2>\n<p>A <code>ggiraph</code> tooltip head scratcher (and the fix!)</p>\n<p>We settled on <code>ggiraph</code> as our interactive visualisation package for a new <code>Shiny</code> dashboard. The goal was simple: capture the Y-axis value, grouped by the X-axis to display in a tooltip when a user hovers over an element. I’ve used <code>plotly</code> before, and it has a handy “y unified” argument that does this perfectly (see <a href=\"https://plotly.com/r/reference/\" rel=\"nofollow\" target=\"_blank\">plotly reference</a>). The hitch? <code>ggiraph</code> doesn’t offer that option.</p>\n<p>The Solution: This little snag is now sorted! I’m writing this blog post to solidify the lesson for myself and hopefully save others the headache if they run into the same problem. Let’s start with the setup.</p>\n<div class=\"cell\">\n<pre># Load packages\nlibrary(dplyr)\nlibrary(lubridate)\nlibrary(stringr)\nlibrary(patchwork)\nlibrary(glue)\nlibrary(ggplot2)\nlibrary(ggiraph)\n\n# Set ggplot theme and default palette\ntheme_set(theme_minimal())\noptions(ggplot2.discrete.fill=\"viridis\")\n\n# Promise data\ndata(\"lakers\")</pre>\n</div>\n</section>\n<section class=\"level1\" id=\"solution\">\n<h1>Solution</h1>\n<p>The below summaries the data and makes use of one of my favourite functions <code>stringr::str_flatten_comma()</code> to create the “y unified” tooltip alongside a few friends in <code>glue</code> &amp; <code>str_replace_all</code> for my use case.</p>\n<div class=\"cell\">\n<pre># Summarise data\nppp_top_3 &lt;- lakers |&gt; \n filter(period != 5) |&gt; \n group_by(period, player) |&gt; \n summarise(total_points = sum(points), .groups = \"drop_last\") |&gt; \n slice_max(n = 3, order_by = total_points) |&gt; \n # Creating tooltip, adding &lt;br&gt; to neatly format tooltip\n mutate(tooltip = glue(\n  \"Total Points&lt;br&gt;\", \n  str_flatten_comma(glue(\" - {player} {total_points}\"))\n ) |&gt;\n  str_replace_all(\",\", \",&lt;br&gt;\")) |&gt; \n ungroup()</pre>\n</div>\n</section>\n<section class=\"level1\" id=\"plot-prep\">\n<h1>Plot prep</h1>\n<p>Before we can see the results let’s codes the plots. For those familiar with <code>ggplot2</code> you’ll be able to spot the few differences. I think <code>ggiraph's</code> <a href=\"https://davidgohel.github.io/ggiraph/\" rel=\"nofollow\" target=\"_blank\">homepage</a> provides a clean, short, and simple overview of the differences.</p>\n<div class=\"cell\">\n<pre>p &lt;- ppp_top_3 |&gt; \n ggplot(aes(x = period, y = total_points, fill = player)) +\n geom_col_interactive(position = position_dodge2()) +\n labs(title = \"Top 3 scoring Lakers players per period (2008-2009 Season)\",\n      subtitle = \"No Tooltip\",\n      x = \"Period\", \n      y = \"\") +\n theme(plot.title.position = \"plot\", \n       legend.position = \"right\", \n       legend.title = element_blank())\n\np_tooltip &lt;- ppp_top_3 |&gt; \n ggplot(aes(x = period, \n            y = total_points, \n            fill = player,\n            tooltip = tooltip, \n            data_id = period)) +\n geom_col_interactive(position = position_dodge2()) +\n labs(subtitle = \"With Tooltip\", \n      x = \"Period\", \n      y = \"\") +\n theme(plot.title.position = \"plot\", \n       legend.position = \"right\", \n       legend.title = element_blank())\n\nplots &lt;- p + p_tooltip + plot_layout(ncol = 2,\n                                     axes = \"collect\",\n                                     guides = \"collect\")</pre>\n</div>\n</section>\n<section class=\"level1\" id=\"plot\">\n<h1>Plot</h1>\n<p>Try it out!</p>\n<div class=\"cell\">\n<pre>girafe(\n ggobj = plots,\n options = list(\n  opts_hover_inv(css = \"opacity:0.2\"),\n  opts_toolbar(saveaspng = FALSE),\n  opts_zoom(max = 1),\n  opts_tooltip(\n   opacity = 0.8,\n   use_fill = TRUE,\n   use_stroke = FALSE,\n   css = \"padding:5pt;color:white\"\n  ),\n  opts_selection(type = \"none\", only_shiny = FALSE),\n  opts_hover(css = girafe_css(\n   css = glue::glue(\"transition: all 0.5s ease;stroke: black; stroke-width: 1px;\"),\n   text = glue::glue(\"fill-opacity:1;\")\n  ))\n )\n)</pre>\n<div class=\"cell-output-display\">\n<div class=\"girafe html-widget html-fill-item\" id=\"htmlwidget-caeb467d13c382cd6fcc\" style=\"width:100%;height:390px;\"></div>\n\n</div>\n</div>\n</section>\n<section class=\"level1\" id=\"conclusion\">\n<h1>Conclusion</h1>\n<p>The method of creating your tooltip in the data frame ahead of time could even work with <code>plotly</code> and gives you more flexibility on design.</p>\n<section class=\"level2\" id=\"acknowledgements\">\n<h2 class=\"anchored\" data-anchor-id=\"acknowledgements\">Acknowledgements</h2>\n<p><a href=\"https://klogr.netlify.app/posts/2025-11-05-unified-girafe/r-bloggers.com\" rel=\"nofollow\" target=\"_blank\">r-bloggers.com</a> for the reach, platform, and content</p>\n<p>Packages and package maintainer(s):</p>\n<ul>\n<li>dplyr | Hadley Wickham</li>\n<li>lubridate | Vitalie Spinu</li>\n<li>stringr | Hadley Wickham</li>\n<li>patchwork | Thomas Lin Pedersen</li>\n<li>glue | Jennifer Bryan</li>\n<li>ggplot2 | Thomas Lin Pedersen<br/>\n</li>\n<li>ggiraph | David Gohel</li>\n</ul>\n</section>\n</section>\n<div class=\"jp-relatedposts\" id=\"jp-relatedposts\">\n<h3 class=\"jp-relatedposts-headline\"><em>Related</em></h3>\n</div>\n<!-- Share buttons by mashshare.net - Version: 4.0.47-->\n<div style=\"border: 1px solid; background: none repeat scroll 0 0 #EDEDED; margin: 1px; font-size: 13px;\">\n<div style=\"text-align: center;\">To <strong>leave a comment</strong> for the author, please follow the link and comment on their blog: <strong><a href=\"https://klogr.netlify.app/posts/2025-11-05-unified-girafe/\"> klogr</a></strong>.</div>\n<hr/>\n<a href=\"https://www.r-bloggers.com/\" rel=\"nofollow\">R-bloggers.com</a> offers <strong><a href=\"https://feedburner.google.com/fb/a/mailverify?uri=RBloggers\" rel=\"nofollow\">daily e-mail updates</a></strong> about <a href=\"https://www.r-project.org/\" rel=\"nofollow\" title=\"The R Project for Statistical Computing\">R</a> news and tutorials about <a href=\"https://www.r-bloggers.com/how-to-learn-r-2/\" rel=\"nofollow\" title=\"R tutorials\">learning R</a> and many other topics. <a href=\"https://www.r-users.com/\" rel=\"nofollow\" title=\"Data science jobs\">Click here if you're looking to post or find an R/data-science job</a>.\n\n<hr/>Want to share your content on R-bloggers?<a href=\"https://www.r-bloggers.com/add-your-blog/\" rel=\"nofollow\"> click here</a> if you have a blog, or <a href=\"http://r-posts.com/\" rel=\"nofollow\"> here</a> if you don't.\n</div> </div>\n</article>",
    "main_text": "Faking plotly’s ‘y unified’ tooltip in ggiraph\nPosted on\nNovember 4, 2025\nby\nAuthor: Kurtis Smith\nin\nR bloggers\n| 0 Comments\n[This article was first published on\nklogr\n, and kindly contributed to\nR-bloggers\n].  (You can report issue about the content on this page\nhere\n)\nWant to share your content on R-bloggers?\nclick here\nif you have a blog, or\nhere\nif you don't.\nProblem\nA\nggiraph\ntooltip head scratcher (and the fix!)\nWe settled on\nggiraph\nas our interactive visualisation package for a new\nShiny\ndashboard. The goal was simple: capture the Y-axis value, grouped by the X-axis to display in a tooltip when a user hovers over an element. I’ve used\nplotly\nbefore, and it has a handy “y unified” argument that does this perfectly (see\nplotly reference\n). The hitch?\nggiraph\ndoesn’t offer that option.\nThe Solution: This little snag is now sorted! I’m writing this blog post to solidify the lesson for myself and hopefully save others the headache if they run into the same problem. Let’s start with the setup.\n# Load packages\nlibrary(dplyr)\nlibrary(lubridate)\nlibrary(stringr)\nlibrary(patchwork)\nlibrary(glue)\nlibrary(ggplot2)\nlibrary(ggiraph)\n\n# Set ggplot theme and default palette\ntheme_set(theme_minimal())\noptions(ggplot2.discrete.fill=\"viridis\")\n\n# Promise data\ndata(\"lakers\")\nSolution\nThe below summaries the data and makes use of one of my favourite functions\nstringr::str_flatten_comma()\nto create the “y unified” tooltip alongside a few friends in\nglue\n&\nstr_replace_all\nfor my use case.\n# Summarise data\nppp_top_3 <- lakers |> \n filter(period != 5) |> \n group_by(period, player) |> \n summarise(total_points = sum(points), .groups = \"drop_last\") |> \n slice_max(n = 3, order_by = total_points) |> \n # Creating tooltip, adding <br> to neatly format tooltip\n mutate(tooltip = glue(\n  \"Total Points<br>\", \n  str_flatten_comma(glue(\" - {player} {total_points}\"))\n ) |>\n  str_replace_all(\",\", \",<br>\")) |> \n ungroup()\nPlot prep\nBefore we can see the results let’s codes the plots. For those familiar with\nggplot2\nyou’ll be able to spot the few differences. I think\nggiraph's\nhomepage\nprovides a clean, short, and simple overview of the differences.\np <- ppp_top_3 |> \n ggplot(aes(x = period, y = total_points, fill = player)) +\n geom_col_interactive(position = position_dodge2()) +\n labs(title = \"Top 3 scoring Lakers players per period (2008-2009 Season)\",\n      subtitle = \"No Tooltip\",\n      x = \"Period\", \n      y = \"\") +\n theme(plot.title.position = \"plot\", \n       legend.position = \"right\", \n       legend.title = element_blank())\n\np_tooltip <- ppp_top_3 |> \n ggplot(aes(x = period, \n            y = total_points, \n            fill = player,\n            tooltip = tooltip, \n            data_id = period)) +\n geom_col_interactive(position = position_dodge2()) +\n labs(subtitle = \"With Tooltip\", \n      x = \"Period\", \n      y = \"\") +\n theme(plot.title.position = \"plot\", \n       legend.position = \"right\", \n       legend.title = element_blank())\n\nplots <- p + p_tooltip + plot_layout(ncol = 2,\n                                     axes = \"collect\",\n                                     guides = \"collect\")\nPlot\nTry it out!\ngirafe(\n ggobj = plots,\n options = list(\n  opts_hover_inv(css = \"opacity:0.2\"),\n  opts_toolbar(saveaspng = FALSE),\n  opts_zoom(max = 1),\n  opts_tooltip(\n   opacity = 0.8,\n   use_fill = TRUE,\n   use_stroke = FALSE,\n   css = \"padding:5pt;color:white\"\n  ),\n  opts_selection(type = \"none\", only_shiny = FALSE),\n  opts_hover(css = girafe_css(\n   css = glue::glue(\"transition: all 0.5s ease;stroke: black; stroke-width: 1px;\"),\n   text = glue::glue(\"fill-opacity:1;\")\n  ))\n )\n)\nConclusion\nThe method of creating your tooltip in the data frame ahead of time could even work with\nplotly\nand gives you more flexibility on design.\nAcknowledgements\nr-bloggers.com\nfor the reach, platform, and content\nPackages and package maintainer(s):\ndplyr | Hadley Wickham\nlubridate | Vitalie Spinu\nstringr | Hadley Wickham\npatchwork | Thomas Lin Pedersen\nglue | Jennifer Bryan\nggplot2 | Thomas Lin Pedersen\nggiraph | David Gohel\nRelated\nTo\nleave a comment\nfor the author, please follow the link and comment on their blog:\nklogr\n.\nR-bloggers.com\noffers\ndaily e-mail updates\nabout\nR\nnews and tutorials about\nlearning R\nand many other topics.\nClick here if you're looking to post or find an R/data-science job\n.\nWant to share your content on R-bloggers?\nclick here\nif you have a blog, or\nhere\nif you don't.",
    "meta_description": "Problem A ggiraph tooltip head scratcher (and the fix!) We settled on ggiraph as our interactive visualisation package for a new Shiny dashboard. The goal was simple: capture the Y-axis value, grouped by the X-axis to display in a tooltip when...",
    "meta_keywords": null,
    "og_description": "Problem A ggiraph tooltip head scratcher (and the fix!) We settled on ggiraph as our interactive visualisation package for a new Shiny dashboard. The goal was simple: capture the Y-axis value, grouped by the X-axis to display in a tooltip when...",
    "og_image": "https://www.r-bloggers.com/wp-content/uploads/2016/04/R_02_2016-05-01.png",
    "og_title": "Faking plotly’s ‘y unified’ tooltip in ggiraph | R-bloggers",
    "raw_jsonld_article": null,
    "reading_time_min": 3.1,
    "sitemap_lastmod": null,
    "twitter_description": "Problem A ggiraph tooltip head scratcher (and the fix!) We settled on ggiraph as our interactive visualisation package for a new Shiny dashboard. The goal was simple: capture the Y-axis value, grouped by the X-axis to display in a tooltip when...",
    "twitter_title": "Faking plotly’s ‘y unified’ tooltip in ggiraph | R-bloggers",
    "url": "https://www.r-bloggers.com/2025/11/faking-plotlys-y-unified-tooltip-in-ggiraph/",
    "word_count": 619
  }
}