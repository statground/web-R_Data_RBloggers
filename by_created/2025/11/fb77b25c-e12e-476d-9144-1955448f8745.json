{
  "uuid": "fb77b25c-e12e-476d-9144-1955448f8745",
  "created_at": "2025-11-22 19:58:44",
  "raw_json": {
    "article_author": null,
    "article_headline": null,
    "article_modified": null,
    "article_published": null,
    "article_section": null,
    "article_tags": null,
    "canonical_url": "https://www.r-bloggers.com/2025/04/announcing-schematic/",
    "crawled_at": "2025-11-22T10:49:50.271196",
    "external_links": [
      {
        "href": "https://whipson.github.io/data-in-flight/posts/schematic/schematic-release.html",
        "text": "data-in-flight"
      },
      {
        "href": "http://r-posts.com/",
        "text": "here"
      },
      {
        "href": "https://whipson.github.io/schematic/",
        "text": "docs"
      },
      {
        "href": "https://rstudio.github.io/pointblank/",
        "text": "pointblank"
      },
      {
        "href": "http://appsilon.github.io/data.validator/",
        "text": "data.validator"
      },
      {
        "href": "https://github.com/data-cleaning/validate?tab=readme-ov-file",
        "text": "validate"
      },
      {
        "href": "https://whipson.github.io/data-in-flight/posts/schematic/schematic-release.html",
        "text": "data-in-flight"
      },
      {
        "href": "https://feedburner.google.com/fb/a/mailverify?uri=RBloggers",
        "text": "daily e-mail updates"
      },
      {
        "href": "https://www.r-project.org/",
        "text": "R"
      },
      {
        "href": "https://www.r-users.com/",
        "text": "Click here if you're looking to post or find an R/data-science job"
      },
      {
        "href": "http://r-posts.com/",
        "text": "here"
      }
    ],
    "h1_title": "R-bloggers",
    "html_title": "Announcing… schematic | R-bloggers",
    "images": [],
    "internal_links": [
      {
        "href": "https://www.r-bloggers.com/author/will-hipson/",
        "text": "Will Hipson"
      },
      {
        "href": "https://www.r-bloggers.com/category/r-bloggers/",
        "text": "R bloggers"
      },
      {
        "href": "https://www.r-bloggers.com/",
        "text": "R-bloggers"
      },
      {
        "href": "https://www.r-bloggers.com/contact-us/",
        "text": "here"
      },
      {
        "href": "https://www.r-bloggers.com/add-your-blog/",
        "text": "click here"
      },
      {
        "href": "https://www.r-bloggers.com/",
        "text": "R-bloggers.com"
      },
      {
        "href": "https://www.r-bloggers.com/how-to-learn-r-2/",
        "text": "learning R"
      },
      {
        "href": "https://www.r-bloggers.com/add-your-blog/",
        "text": "click here"
      }
    ],
    "lang": "en-US",
    "main_html": "<article class=\"post-392153 post type-post status-publish format-standard hentry category-r-bloggers\">\n<header class=\"post-header\">\n<h1 class=\"entry-title\">Announcing… schematic</h1>\n<p class=\"meta post-meta\">Posted on <span class=\"updated\">April 27, 2025</span>  by <span class=\"vcard author\"><a class=\"fn\" href=\"https://www.r-bloggers.com/author/will-hipson/\">Will Hipson</a></span>  in <a href=\"https://www.r-bloggers.com/category/r-bloggers/\" rel=\"category tag\">R bloggers</a> | 0 Comments</p>\n</header>\n<div class=\"entry clearfix\">\n<!-- \n<div style=\"min-height: 30px;\">\n[social4i size=\"small\" align=\"align-left\"]\n</div>\n-->\n<div style=\"border: 1px solid; background: none repeat scroll 0 0 #EDEDED; margin: 1px; font-size: 12px;\">\n[This article was first published on  <strong><a href=\"https://whipson.github.io/data-in-flight/posts/schematic/schematic-release.html\"> data-in-flight</a></strong>, and kindly contributed to <a href=\"https://www.r-bloggers.com/\" rel=\"nofollow\">R-bloggers</a>].  (You can report issue about the content on this page <a href=\"https://www.r-bloggers.com/contact-us/\">here</a>)\n<hr/>Want to share your content on R-bloggers?<a href=\"https://www.r-bloggers.com/add-your-blog/\" rel=\"nofollow\"> click here</a> if you have a blog, or <a href=\"http://r-posts.com/\" rel=\"nofollow\"> here</a> if you don't.\n</div>\n\n<!-- Share buttons by mashshare.net - Version: 4.0.47-->\n<p>I’m thrilled to announce the release of <code>schematic</code>, an R package that helps <em>you</em> (the developer) communicate data validation problems to non-technical users. With schematic, you can leverage <code>tidyselect</code> selectors and other conveniences to compare incoming data against a schema, avoiding punishing issues caused by invalid or poor quality data.</p>\n<p>schematic can now be installed via CRAN:</p>\n<div class=\"cell\">\n<pre>install.packages(\"schematic\")</pre>\n</div>\n<p>Learn more about schematic by checking out the <a href=\"https://whipson.github.io/schematic/\" rel=\"nofollow\" target=\"_blank\">docs</a>.</p>\n<section class=\"level2\" id=\"motivation\">\n<h2 class=\"anchored\" data-anchor-id=\"motivation\">Motivation</h2>\n<p>Having built and deployed a number of shiny apps or APIs that require users to upload data, I noticed a common pain point: <strong>how do I communicate in simple terms any issues with the data and, more importantly, what those issues are?</strong> I needed a way to present the user with error messages that satisfy two needs:</p>\n<ol type=\"1\">\n<li>Simple and non-technical: allow developers to explain the problem rather than forcing users to understand the technical aspects of each test (you don’t want to have to explain to users what <code>is.logical</code> means).</li>\n<li>Holistic checking: present all validation issues rather than stopping evaluation on the first failure.</li>\n</ol>\n<p>There already exists a number of data validation packages for R, including (but not limited to) <a href=\"https://rstudio.github.io/pointblank/\" rel=\"nofollow\" target=\"_blank\">pointblank</a>, <a href=\"http://appsilon.github.io/data.validator/\" rel=\"nofollow\" target=\"_blank\">data.validator</a>, and <a href=\"https://github.com/data-cleaning/validate?tab=readme-ov-file\" rel=\"nofollow\" target=\"_blank\">validate</a>; so why introduce a new player? schematic certainly shares similarities with many of these packages, but where I think it innovates over existing solutions is in its unique combination of the following:</p>\n<ol type=\"1\">\n<li>Lightweight: Minimal dependencies with a clear focus on checking data without the bells and whistles of graphics, tables, and whatnot.</li>\n<li>User-focused but developer-friendly: Developers (especially those approaching from a tidyverse mentality) will like the expressive syntax; users will appreciate the informative instructions on how to comprehensively fix data issues (no more whack-a-mole with fixing one problem only to learn there are many others).</li>\n<li>Easy to integrate into applications (e.g., Shiny, Plumber): Schematic returns error messages rather than reports or data.frames, meaning that you don’t need additional logic to trigger a run time error; just pass along the error message in a notification or error code.</li>\n</ol>\n</section>\n<section class=\"level2\" id=\"how-it-works\">\n<h2 class=\"anchored\" data-anchor-id=\"how-it-works\">How it works</h2>\n<div class=\"callout callout-style-default callout-warning callout-titled\">\n<div class=\"callout-header d-flex align-content-center\">\n<div class=\"callout-icon-container\">\n<i class=\"callout-icon\"></i>\n</div>\n<div class=\"callout-title-container flex-fill\">\nWarning\n</div>\n</div>\n<div class=\"callout-body-container callout-body\">\n<p>All R errors that appear in this post are intentional for the purpose of demonstrating schematic’s error messaging.</p>\n</div>\n</div>\n<p>Schematic is extremely simple. You only need to do two things: create a schema and then check a data.frame against the schema.</p>\n<p>A schema is a set of rules for columns in a data.frame. A rule consists of two parts:</p>\n<ol type=\"1\">\n<li><strong>Selector</strong> – the column(s) on which to apply to rule</li>\n<li><strong>Predicate</strong> – a function that must return a single TRUE or FALSE indicating the pass or fail of the check</li>\n</ol>\n<p>Let’s imagine a scenario where we have survey data and we want to ensure it matches our expectations. Here’s some sample survey data:</p>\n<div class=\"cell\">\n<pre>survey_data &lt;- data.frame(\n  id = c(1:3, NA, 5),\n  name = c(\"Emmett\", \"Billy\", \"Sally\", \"Woolley\", \"Duchess\"),\n  age = c(19.2, 10, 22.5, 19, 19),\n  sex = c(\"M\", \"M\", \"F\", \"M\", NA),\n  q_1 = c(TRUE, FALSE, FALSE, FALSE, TRUE),\n  q_2 = c(FALSE, FALSE, TRUE, TRUE, TRUE),\n  q_3 = c(TRUE, TRUE, TRUE, TRUE, FALSE)\n)</pre>\n</div>\n<p>We declare a schema using <code>schema()</code> and provide it with rules following the format <code>selector ~ predicate</code>:</p>\n<div class=\"cell\">\n<pre>library(schematic)\n\nmy_schema &lt;- schema(\n  id ~ is_incrementing,\n  id ~ is_all_distinct,\n  c(name, sex) ~ is.character,\n  c(id, age) ~ is_whole_number,\n  education ~ is.factor,\n  sex ~ function(x) all(x %in% c(\"M\", \"F\")),\n  starts_with(\"q_\") ~ is.logical,\n  final_score ~ is.numeric\n)</pre>\n</div>\n<p>Then we use <code>check_schema</code> to evaluate our data against the schema. Any and all errors will be captured in the error message:</p>\n<div class=\"cell\">\n<pre>check_schema(\n  data = survey_data,\n  schema = my_schema\n)</pre>\n<div class=\"cell-output cell-output-error\">\n<pre>Error in `check_schema()`:\n! Schema Error:\n- Columns `education` and `final_score` missing from data\n- Column `id` failed check `is_incrementing`\n- Column `age` failed check `is_whole_number`\n- Column `sex` failed check `function(x) all(x %in% c(\"M\", \"F\"))`</pre>\n</div>\n</div>\n<p>The error message will combine columns into a single statement if they share the same validation issue. schematic will also automatically report if any columns declared in the schema are missing from the data.</p>\n</section>\n<section class=\"level2\" id=\"customizing-the-message\">\n<h2 class=\"anchored\" data-anchor-id=\"customizing-the-message\">Customizing the message</h2>\n<p>By default the error message is helpful for developers, but if you need to communicate the schema mismatch to a non-technical person they’ll have trouble understanding some or all of the errors. You can customize the output of each rule by inputting the rule as a named argument.</p>\n<p>Let’s fix up the previous example to make the messages more understandable.</p>\n<div class=\"cell\">\n<pre>my_helpful_schema &lt;- schema(\n  \"values are increasing\" = id ~ is_incrementing,\n  \"values are all distinct\" = id ~ is_all_distinct,\n  \"is a string\" = c(name, sex) ~ is.character,\n  \"is a string with specific levels\" = education ~ is.factor,\n  \"is a whole number (no decimals)\" = c(id, age) ~ is_whole_number,\n  \"has only entries 'F' or 'M'\" = sex ~ function(x) all(x %in% c(\"M\", \"F\")),\n  \"includes only TRUE or FALSE\" = starts_with(\"q_\") ~ is.logical,\n  \"is a number\" = final_score ~ is.numeric\n)\n\ncheck_schema(\n  data = survey_data,\n  schema = my_helpful_schema\n)</pre>\n<div class=\"cell-output cell-output-error\">\n<pre>Error in `check_schema()`:\n! Schema Error:\n- Columns `education` and `final_score` missing from data\n- Column `id` failed check `values are increasing`\n- Column `age` failed check `is a whole number (no decimals)`\n- Column `sex` failed check `has only entries 'F' or 'M'`</pre>\n</div>\n</div>\n<p>And that’s really all there is to it. schematic does come with a few handy predicate functions like <code>is_whole_number()</code> which is a more permissive version of <code>is.integer()</code> that allows for columns stored as numeric or double but still requires non-decimal values.</p>\n<p>Moreover, schematic includes a handful of modifiers that allow you to change the behavior of some predicates, for instance, allowing NAs with <code>mod_nullable()</code>:</p>\n<div class=\"cell\">\n<pre># Before using `mod_nullable()` this rule triggered an error\nmy_schema &lt;- schema(\n  \"all values are increasing (except empty values)\" = id ~ mod_nullable(is_incrementing)\n)\n\ncheck_schema(\n  data = survey_data,\n  schema = my_schema\n)</pre>\n</div>\n</section>\n<section class=\"level2\" id=\"conclusion\">\n<h2 class=\"anchored\" data-anchor-id=\"conclusion\">Conclusion</h2>\n<p>In the end, my hope is to make schematic as simple as possible and help both developers and users. It’s a package I designed initially with the sole intention of saving myself from writing validation code that takes up 80% of the actual codebase.<sup>1</sup> I hope you find it useful too.</p>\n<section class=\"level4\" id=\"notes\">\n<h4 class=\"anchored\" data-anchor-id=\"notes\">Notes</h4>\n<p>This post was created using R version 4.5.0 (2025-04-11) and schematic version 0.1.0.</p>\n</section>\n</section>\n<div class=\"default\" id=\"quarto-appendix\"><section class=\"footnotes footnotes-end-of-document\" id=\"footnotes\"><h2 class=\"anchored quarto-appendix-heading\">Footnotes</h2>\n<ol>\n<li id=\"fn1\"><p>Not an exaggeration. I have a Plumber API that allows users to POST data to be processed. 80% of that plumber code is to validate the incoming data.↩︎</p></li>\n</ol>\n</section></div>\n<div class=\"jp-relatedposts\" id=\"jp-relatedposts\">\n<h3 class=\"jp-relatedposts-headline\"><em>Related</em></h3>\n</div>\n<!-- Share buttons by mashshare.net - Version: 4.0.47-->\n<div style=\"border: 1px solid; background: none repeat scroll 0 0 #EDEDED; margin: 1px; font-size: 13px;\">\n<div style=\"text-align: center;\">To <strong>leave a comment</strong> for the author, please follow the link and comment on their blog: <strong><a href=\"https://whipson.github.io/data-in-flight/posts/schematic/schematic-release.html\"> data-in-flight</a></strong>.</div>\n<hr/>\n<a href=\"https://www.r-bloggers.com/\" rel=\"nofollow\">R-bloggers.com</a> offers <strong><a href=\"https://feedburner.google.com/fb/a/mailverify?uri=RBloggers\" rel=\"nofollow\">daily e-mail updates</a></strong> about <a href=\"https://www.r-project.org/\" rel=\"nofollow\" title=\"The R Project for Statistical Computing\">R</a> news and tutorials about <a href=\"https://www.r-bloggers.com/how-to-learn-r-2/\" rel=\"nofollow\" title=\"R tutorials\">learning R</a> and many other topics. <a href=\"https://www.r-users.com/\" rel=\"nofollow\" title=\"Data science jobs\">Click here if you're looking to post or find an R/data-science job</a>.\n\n<hr/>Want to share your content on R-bloggers?<a href=\"https://www.r-bloggers.com/add-your-blog/\" rel=\"nofollow\"> click here</a> if you have a blog, or <a href=\"http://r-posts.com/\" rel=\"nofollow\"> here</a> if you don't.\n</div> </div>\n</article>",
    "main_text": "Announcing… schematic\nPosted on\nApril 27, 2025\nby\nWill Hipson\nin\nR bloggers\n| 0 Comments\n[This article was first published on\ndata-in-flight\n, and kindly contributed to\nR-bloggers\n].  (You can report issue about the content on this page\nhere\n)\nWant to share your content on R-bloggers?\nclick here\nif you have a blog, or\nhere\nif you don't.\nI’m thrilled to announce the release of\nschematic\n, an R package that helps\nyou\n(the developer) communicate data validation problems to non-technical users. With schematic, you can leverage\ntidyselect\nselectors and other conveniences to compare incoming data against a schema, avoiding punishing issues caused by invalid or poor quality data.\nschematic can now be installed via CRAN:\ninstall.packages(\"schematic\")\nLearn more about schematic by checking out the\ndocs\n.\nMotivation\nHaving built and deployed a number of shiny apps or APIs that require users to upload data, I noticed a common pain point:\nhow do I communicate in simple terms any issues with the data and, more importantly, what those issues are?\nI needed a way to present the user with error messages that satisfy two needs:\nSimple and non-technical: allow developers to explain the problem rather than forcing users to understand the technical aspects of each test (you don’t want to have to explain to users what\nis.logical\nmeans).\nHolistic checking: present all validation issues rather than stopping evaluation on the first failure.\nThere already exists a number of data validation packages for R, including (but not limited to)\npointblank\n,\ndata.validator\n, and\nvalidate\n; so why introduce a new player? schematic certainly shares similarities with many of these packages, but where I think it innovates over existing solutions is in its unique combination of the following:\nLightweight: Minimal dependencies with a clear focus on checking data without the bells and whistles of graphics, tables, and whatnot.\nUser-focused but developer-friendly: Developers (especially those approaching from a tidyverse mentality) will like the expressive syntax; users will appreciate the informative instructions on how to comprehensively fix data issues (no more whack-a-mole with fixing one problem only to learn there are many others).\nEasy to integrate into applications (e.g., Shiny, Plumber): Schematic returns error messages rather than reports or data.frames, meaning that you don’t need additional logic to trigger a run time error; just pass along the error message in a notification or error code.\nHow it works\nWarning\nAll R errors that appear in this post are intentional for the purpose of demonstrating schematic’s error messaging.\nSchematic is extremely simple. You only need to do two things: create a schema and then check a data.frame against the schema.\nA schema is a set of rules for columns in a data.frame. A rule consists of two parts:\nSelector\n– the column(s) on which to apply to rule\nPredicate\n– a function that must return a single TRUE or FALSE indicating the pass or fail of the check\nLet’s imagine a scenario where we have survey data and we want to ensure it matches our expectations. Here’s some sample survey data:\nsurvey_data <- data.frame(\n  id = c(1:3, NA, 5),\n  name = c(\"Emmett\", \"Billy\", \"Sally\", \"Woolley\", \"Duchess\"),\n  age = c(19.2, 10, 22.5, 19, 19),\n  sex = c(\"M\", \"M\", \"F\", \"M\", NA),\n  q_1 = c(TRUE, FALSE, FALSE, FALSE, TRUE),\n  q_2 = c(FALSE, FALSE, TRUE, TRUE, TRUE),\n  q_3 = c(TRUE, TRUE, TRUE, TRUE, FALSE)\n)\nWe declare a schema using\nschema()\nand provide it with rules following the format\nselector ~ predicate\n:\nlibrary(schematic)\n\nmy_schema <- schema(\n  id ~ is_incrementing,\n  id ~ is_all_distinct,\n  c(name, sex) ~ is.character,\n  c(id, age) ~ is_whole_number,\n  education ~ is.factor,\n  sex ~ function(x) all(x %in% c(\"M\", \"F\")),\n  starts_with(\"q_\") ~ is.logical,\n  final_score ~ is.numeric\n)\nThen we use\ncheck_schema\nto evaluate our data against the schema. Any and all errors will be captured in the error message:\ncheck_schema(\n  data = survey_data,\n  schema = my_schema\n)\nError in `check_schema()`:\n! Schema Error:\n- Columns `education` and `final_score` missing from data\n- Column `id` failed check `is_incrementing`\n- Column `age` failed check `is_whole_number`\n- Column `sex` failed check `function(x) all(x %in% c(\"M\", \"F\"))`\nThe error message will combine columns into a single statement if they share the same validation issue. schematic will also automatically report if any columns declared in the schema are missing from the data.\nCustomizing the message\nBy default the error message is helpful for developers, but if you need to communicate the schema mismatch to a non-technical person they’ll have trouble understanding some or all of the errors. You can customize the output of each rule by inputting the rule as a named argument.\nLet’s fix up the previous example to make the messages more understandable.\nmy_helpful_schema <- schema(\n  \"values are increasing\" = id ~ is_incrementing,\n  \"values are all distinct\" = id ~ is_all_distinct,\n  \"is a string\" = c(name, sex) ~ is.character,\n  \"is a string with specific levels\" = education ~ is.factor,\n  \"is a whole number (no decimals)\" = c(id, age) ~ is_whole_number,\n  \"has only entries 'F' or 'M'\" = sex ~ function(x) all(x %in% c(\"M\", \"F\")),\n  \"includes only TRUE or FALSE\" = starts_with(\"q_\") ~ is.logical,\n  \"is a number\" = final_score ~ is.numeric\n)\n\ncheck_schema(\n  data = survey_data,\n  schema = my_helpful_schema\n)\nError in `check_schema()`:\n! Schema Error:\n- Columns `education` and `final_score` missing from data\n- Column `id` failed check `values are increasing`\n- Column `age` failed check `is a whole number (no decimals)`\n- Column `sex` failed check `has only entries 'F' or 'M'`\nAnd that’s really all there is to it. schematic does come with a few handy predicate functions like\nis_whole_number()\nwhich is a more permissive version of\nis.integer()\nthat allows for columns stored as numeric or double but still requires non-decimal values.\nMoreover, schematic includes a handful of modifiers that allow you to change the behavior of some predicates, for instance, allowing NAs with\nmod_nullable()\n:\n# Before using `mod_nullable()` this rule triggered an error\nmy_schema <- schema(\n  \"all values are increasing (except empty values)\" = id ~ mod_nullable(is_incrementing)\n)\n\ncheck_schema(\n  data = survey_data,\n  schema = my_schema\n)\nConclusion\nIn the end, my hope is to make schematic as simple as possible and help both developers and users. It’s a package I designed initially with the sole intention of saving myself from writing validation code that takes up 80% of the actual codebase.\n1\nI hope you find it useful too.\nNotes\nThis post was created using R version 4.5.0 (2025-04-11) and schematic version 0.1.0.\nFootnotes\nNot an exaggeration. I have a Plumber API that allows users to POST data to be processed. 80% of that plumber code is to validate the incoming data.↩︎\nRelated\nTo\nleave a comment\nfor the author, please follow the link and comment on their blog:\ndata-in-flight\n.\nR-bloggers.com\noffers\ndaily e-mail updates\nabout\nR\nnews and tutorials about\nlearning R\nand many other topics.\nClick here if you're looking to post or find an R/data-science job\n.\nWant to share your content on R-bloggers?\nclick here\nif you have a blog, or\nhere\nif you don't.",
    "meta_description": "I’m thrilled to announce the release of schematic, an R package that helps you (the developer) communicate data validation problems to non-technical users. With schematic, you can leverage tidyselect selectors and other conveniences to compare i...",
    "meta_keywords": null,
    "og_description": "I’m thrilled to announce the release of schematic, an R package that helps you (the developer) communicate data validation problems to non-technical users. With schematic, you can leverage tidyselect selectors and other conveniences to compare i...",
    "og_image": "https://www.r-bloggers.com/wp-content/uploads/2016/04/R_02_2016-05-01.png",
    "og_title": "Announcing… schematic | R-bloggers",
    "raw_jsonld_article": null,
    "reading_time_min": 5.9,
    "sitemap_lastmod": null,
    "twitter_description": "I’m thrilled to announce the release of schematic, an R package that helps you (the developer) communicate data validation problems to non-technical users. With schematic, you can leverage tidyselect selectors and other conveniences to compare i...",
    "twitter_title": "Announcing… schematic | R-bloggers",
    "url": "https://www.r-bloggers.com/2025/04/announcing-schematic/",
    "word_count": 1176
  }
}