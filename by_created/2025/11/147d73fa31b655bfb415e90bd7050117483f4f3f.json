{
  "id": "147d73fa31b655bfb415e90bd7050117483f4f3f",
  "url": "https://www.r-bloggers.com/2023/12/ph-profiles/",
  "created_at_utc": "2025-11-17T20:38:59Z",
  "data": null,
  "raw_original": {
    "uuid": "aa70e2f3-1665-44b2-8be6-a75a2a293077",
    "created_at": "2025-11-17 20:38:59",
    "raw_json": {
      "article_author": null,
      "article_headline": null,
      "article_modified": null,
      "article_published": null,
      "article_section": null,
      "article_tags": null,
      "canonical_url": "https://www.r-bloggers.com/2023/12/ph-profiles/",
      "crawled_at": "2025-11-17T09:39:29.762130",
      "external_links": [
        {
          "href": "https://johnmackintosh.net/blog/2023-12-06-ph-profiles/",
          "text": "Data By John"
        },
        {
          "href": "http://r-posts.com/",
          "text": "here"
        },
        {
          "href": "https://www.nhshighland.scot.nhs.uk/about/publications-and-public-records/public-health-profiles/",
          "text": "public health profiles here"
        },
        {
          "href": "https://johnmackintosh.net/blog/2023-12-06-ph-profiles/",
          "text": "Data By John"
        },
        {
          "href": "https://feedburner.google.com/fb/a/mailverify?uri=RBloggers",
          "text": "daily e-mail updates"
        },
        {
          "href": "https://www.r-project.org/",
          "text": "R"
        },
        {
          "href": "https://www.r-users.com/",
          "text": "Click here if you're looking to post or find an R/data-science job"
        },
        {
          "href": "http://r-posts.com/",
          "text": "here"
        }
      ],
      "h1_title": "R-bloggers",
      "html_title": "Ph Profiles | R-bloggers",
      "images": [],
      "internal_links": [
        {
          "href": "https://www.r-bloggers.com/author/john-mackintosh/",
          "text": "John MacKintosh"
        },
        {
          "href": "https://www.r-bloggers.com/category/r-bloggers/",
          "text": "R bloggers"
        },
        {
          "href": "https://www.r-bloggers.com/",
          "text": "R-bloggers"
        },
        {
          "href": "https://www.r-bloggers.com/contact-us/",
          "text": "here"
        },
        {
          "href": "https://www.r-bloggers.com/add-your-blog/",
          "text": "click here"
        },
        {
          "href": "https://www.r-bloggers.com/",
          "text": "R-bloggers.com"
        },
        {
          "href": "https://www.r-bloggers.com/how-to-learn-r-2/",
          "text": "learning R"
        },
        {
          "href": "https://www.r-bloggers.com/add-your-blog/",
          "text": "click here"
        }
      ],
      "lang": "en-US",
      "main_html": "<article class=\"post-380668 post type-post status-publish format-standard hentry category-r-bloggers\">\n<header class=\"post-header\">\n<h1 class=\"entry-title\">Ph Profiles</h1>\n<p class=\"meta post-meta\">Posted on <span class=\"updated\">December 5, 2023</span>  by <span class=\"vcard author\"><a class=\"fn\" href=\"https://www.r-bloggers.com/author/john-mackintosh/\">John MacKintosh</a></span>  in <a href=\"https://www.r-bloggers.com/category/r-bloggers/\" rel=\"category tag\">R bloggers</a> | 0 Comments</p>\n</header>\n<div class=\"entry clearfix\">\n<!-- \r\n<div style=\"min-height: 30px;\">\r\n[social4i size=\"small\" align=\"align-left\"]\r\n</div>\r\n-->\n<div style=\"border: 1px solid; background: none repeat scroll 0 0 #EDEDED; margin: 1px; font-size: 12px;\">\r\n[This article was first published on  <strong><a href=\"https://johnmackintosh.net/blog/2023-12-06-ph-profiles/\"> Data By John</a></strong>, and kindly contributed to <a href=\"https://www.r-bloggers.com/\" rel=\"nofollow\">R-bloggers</a>].  (You can report issue about the content on this page <a href=\"https://www.r-bloggers.com/contact-us/\">here</a>)\r\n<hr/>Want to share your content on R-bloggers?<a href=\"https://www.r-bloggers.com/add-your-blog/\" rel=\"nofollow\"> click here</a> if you have a blog, or <a href=\"http://r-posts.com/\" rel=\"nofollow\"> here</a> if you don't.\r\n</div>\n\n<!-- Share buttons by mashshare.net - Version: 3.8.9--><p>why—\nlayout: post\ntitle: That’s a (W)RAP!\npublished: true\ndate: 2023-12-06\nimage:\n  path: /assets/img/blog/officer.png\ntags:</p>\n<ul>\n<li>rstats\ndescription: &gt;\n  An ambition realised as a suite of R powered publications enter the public domain\n—</li>\n</ul>\n<p>The third set in our series of public health profiles was published recently.<br/>\nThese comprise of a suite of 13 reports (representing community planning partnerships in Highland and community planning groups in Argyll and Bute).</p>\n<p>So far, we have produced profiles looking at demography, adult health and wellbeing, and our latest – children and young people’s health and wellbeing.</p>\n<p>Although distributed as pdf files, they were produced as MS Word documents using R, in particular using {officedown}, {officer}, {targets}, {tarchetypes} and {renv}. \nIn addition to these were several ancillary packages and the usual suspects ( including dplyr, data.table, ggplot2, collapse, here, rio)</p>\n<p>You can find the full set of <a href=\"https://www.nhshighland.scot.nhs.uk/about/publications-and-public-records/public-health-profiles/\" rel=\"nofollow\" target=\"_blank\">public health profiles here</a>.</p>\n<p>In terms of the R code and approach, this has been an evolving piece of work.</p>\n<p>The demography profiles were produced using a series of numbered scripts.<br/>\nI adopted {targets} for the adult profiles, a decision which paid dividends many times over.</p>\n<p>As I worked through the child profiles, I realised that the project was far too complex, because I was producing copies of every image and table, in addition to the reports. \nThis meant huge (1000s of lines) targets documents for each profile.</p>\n<p>This was in case there was ever a Friday afternoon emergency when someone needed 13 copies of Figure 5 from report 2.</p>\n<p>Dear reader, this has never happened, and almost certainly never will.\nIn any case, those images can be recreated easily as required, on demand, using purrr (if you haven’t fallen in love with the <code>walk</code> set of functions yet, then you are missing out).</p>\n<p>I decided not to make copies of these images for the latest set of profiles, and, upon publication,  I removed large swathes of code from the first two sets of targets files.</p>\n<p>The benefit of this is that the simpler structure makes it easier for colleagues to follow and reproduce.</p>\n<p>Other improvement this time round included us having to make far fewer edits “by hand” in the resulting Word outputs. \nPrevious versions relied on my much more talented colleagues who took the mess I produced and turned it into something fit for public consumption.</p>\n<p>We automated production of the summaries – before we had 13 individual documents, this time round the text adapted to reflect the data for the relevant area.\nI think we have scope to enhance this in the next round of production. \nProduction of the charts was easier because I’d created an internal charting package (tentatively named {phicharts}) based on the code used for the adult profiles. \nI’d also revised a previous project, which turned data published in wide Excel tables into tidy RDS files, also under the management of the {targets} package. \nThese files were also used as inputs to the most recent publication.</p>\n<p>We are slowly move up the Reproducible Analytic Pipeline ladder (we need testing and version control, and to make our code public).</p>\n<p>I always wondered if I’d be able to create a full blown publication from scratch using R, so getting it done, and having it made available on our main website feels like a big step forward.</p>\n<p>Hopefully we will continue to progress on our journey with R.</p>\n<div class=\"jp-relatedposts\" id=\"jp-relatedposts\">\n<h3 class=\"jp-relatedposts-headline\"><em>Related</em></h3>\n</div>\n<!-- Share buttons by mashshare.net - Version: 3.8.9-->\n<div style=\"border: 1px solid; background: none repeat scroll 0 0 #EDEDED; margin: 1px; font-size: 13px;\">\n<div style=\"text-align: center;\">To <strong>leave a comment</strong> for the author, please follow the link and comment on their blog: <strong><a href=\"https://johnmackintosh.net/blog/2023-12-06-ph-profiles/\"> Data By John</a></strong>.</div>\n<hr>\n<a href=\"https://www.r-bloggers.com/\" rel=\"nofollow\">R-bloggers.com</a> offers <strong><a href=\"https://feedburner.google.com/fb/a/mailverify?uri=RBloggers\" rel=\"nofollow\">daily e-mail updates</a></strong> about <a href=\"https://www.r-project.org/\" rel=\"nofollow\" title=\"The R Project for Statistical Computing\">R</a> news and tutorials about <a href=\"https://www.r-bloggers.com/how-to-learn-r-2/\" rel=\"nofollow\" title=\"R tutorials\">learning R</a> and many other topics. <a href=\"https://www.r-users.com/\" rel=\"nofollow\" title=\"Data science jobs\">Click here if you're looking to post or find an R/data-science job</a>.\r\n\r\n<hr/>Want to share your content on R-bloggers?<a href=\"https://www.r-bloggers.com/add-your-blog/\" rel=\"nofollow\"> click here</a> if you have a blog, or <a href=\"http://r-posts.com/\" rel=\"nofollow\"> here</a> if you don't.\r\n</hr></div> </div>\n</article>",
      "main_text": "Ph Profiles\nPosted on\nDecember 5, 2023\nby\nJohn MacKintosh\nin\nR bloggers\n| 0 Comments\n[This article was first published on\nData By John\n, and kindly contributed to\nR-bloggers\n].  (You can report issue about the content on this page\nhere\n)\nWant to share your content on R-bloggers?\nclick here\nif you have a blog, or\nhere\nif you don't.\nwhy—\nlayout: post\ntitle: That’s a (W)RAP!\npublished: true\ndate: 2023-12-06\nimage:\n  path: /assets/img/blog/officer.png\ntags:\nrstats\ndescription: >\n  An ambition realised as a suite of R powered publications enter the public domain\n—\nThe third set in our series of public health profiles was published recently.\nThese comprise of a suite of 13 reports (representing community planning partnerships in Highland and community planning groups in Argyll and Bute).\nSo far, we have produced profiles looking at demography, adult health and wellbeing, and our latest – children and young people’s health and wellbeing.\nAlthough distributed as pdf files, they were produced as MS Word documents using R, in particular using {officedown}, {officer}, {targets}, {tarchetypes} and {renv}. \nIn addition to these were several ancillary packages and the usual suspects ( including dplyr, data.table, ggplot2, collapse, here, rio)\nYou can find the full set of\npublic health profiles here\n.\nIn terms of the R code and approach, this has been an evolving piece of work.\nThe demography profiles were produced using a series of numbered scripts.\nI adopted {targets} for the adult profiles, a decision which paid dividends many times over.\nAs I worked through the child profiles, I realised that the project was far too complex, because I was producing copies of every image and table, in addition to the reports. \nThis meant huge (1000s of lines) targets documents for each profile.\nThis was in case there was ever a Friday afternoon emergency when someone needed 13 copies of Figure 5 from report 2.\nDear reader, this has never happened, and almost certainly never will.\nIn any case, those images can be recreated easily as required, on demand, using purrr (if you haven’t fallen in love with the\nwalk\nset of functions yet, then you are missing out).\nI decided not to make copies of these images for the latest set of profiles, and, upon publication,  I removed large swathes of code from the first two sets of targets files.\nThe benefit of this is that the simpler structure makes it easier for colleagues to follow and reproduce.\nOther improvement this time round included us having to make far fewer edits “by hand” in the resulting Word outputs. \nPrevious versions relied on my much more talented colleagues who took the mess I produced and turned it into something fit for public consumption.\nWe automated production of the summaries – before we had 13 individual documents, this time round the text adapted to reflect the data for the relevant area.\nI think we have scope to enhance this in the next round of production. \nProduction of the charts was easier because I’d created an internal charting package (tentatively named {phicharts}) based on the code used for the adult profiles. \nI’d also revised a previous project, which turned data published in wide Excel tables into tidy RDS files, also under the management of the {targets} package. \nThese files were also used as inputs to the most recent publication.\nWe are slowly move up the Reproducible Analytic Pipeline ladder (we need testing and version control, and to make our code public).\nI always wondered if I’d be able to create a full blown publication from scratch using R, so getting it done, and having it made available on our main website feels like a big step forward.\nHopefully we will continue to progress on our journey with R.\nRelated\nTo\nleave a comment\nfor the author, please follow the link and comment on their blog:\nData By John\n.\nR-bloggers.com\noffers\ndaily e-mail updates\nabout\nR\nnews and tutorials about\nlearning R\nand many other topics.\nClick here if you're looking to post or find an R/data-science job\n.\nWant to share your content on R-bloggers?\nclick here\nif you have a blog, or\nhere\nif you don't.",
      "meta_description": "why— layout: post title: That’s a (W)RAP! published: true date: 2023-12-06 image: path: /assets/img/blog/officer.png tags: rstats description: > An ambition realised as a suite of R powered publications enter the public domain —",
      "meta_keywords": null,
      "og_description": "why— layout: post title: That’s a (W)RAP! published: true date: 2023-12-06 image: path: /assets/img/blog/officer.png tags: rstats description: > An ambition realised as a suite of R powered publications enter the public domain —",
      "og_image": "https://www.r-bloggers.com/wp-content/uploads/2016/04/R_02_2016-05-01.png",
      "og_title": "Ph Profiles | R-bloggers",
      "raw_jsonld_article": null,
      "reading_time_min": 3.5,
      "sitemap_lastmod": "2023-12-06T21:36:26+00:00",
      "twitter_description": "why— layout: post title: That’s a (W)RAP! published: true date: 2023-12-06 image: path: /assets/img/blog/officer.png tags: rstats description: > An ambition realised as a suite of R powered publications enter the public domain —",
      "twitter_title": "Ph Profiles | R-bloggers",
      "url": "https://www.r-bloggers.com/2023/12/ph-profiles/",
      "word_count": 710
    }
  }
}