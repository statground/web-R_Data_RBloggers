{
  "id": "e708a6ceb408f8a537d22648312bd72a24364908",
  "url": "https://www.r-bloggers.com/2025/05/downsampling-for-predictive-modeling/",
  "created_at_utc": "2025-11-22T19:58:40Z",
  "data": null,
  "raw_original": {
    "uuid": "2eee3b46-9674-4df4-9c13-06626625c832",
    "created_at": "2025-11-22 19:58:40",
    "raw_json": {
      "article_author": null,
      "article_headline": null,
      "article_modified": null,
      "article_published": null,
      "article_section": null,
      "article_tags": null,
      "canonical_url": "https://www.r-bloggers.com/2025/05/downsampling-for-predictive-modeling/",
      "crawled_at": "2025-11-22T10:49:21.923074",
      "external_links": [
        {
          "href": "https://bryer.org/posts/2025-05-06-Downsampling.html",
          "text": "Jason Bryer"
        },
        {
          "href": "http://r-posts.com/",
          "text": "here"
        },
        {
          "href": "https://github.com/jbryer/medley",
          "text": "medley"
        },
        {
          "href": "https://jbryer.github.io/medley/articles/downsampling.html",
          "text": "https://jbryer.github.io/medley/articles/downsampling.html"
        },
        {
          "href": "https://vis.social/@jbryer",
          "text": "@vis.social@jbryer"
        },
        {
          "href": "https://www.oecd.org/en/about/programmes/pisa.html",
          "text": "Programme of International Student Assessment"
        },
        {
          "href": "https://www.oecd.org/en.html",
          "text": "Organisation for Economic Co-operation and Development"
        },
        {
          "href": "https://search.r-project.org/CRAN/refmans/splitstackshape/html/stratified.html",
          "text": "splitstackshape::stratified()"
        },
        {
          "href": "https://github.com/jbryer/dissertation?tab=readme-ov-file",
          "text": "my dissertation"
        },
        {
          "href": "https://nces.ed.gov/nationsreportcard/",
          "text": "National Assessment of Educational Progress"
        },
        {
          "href": "https://jbryer.github.io/multilevelPSA/reference/psrange.html",
          "text": "multilevel::psrange()"
        },
        {
          "href": "https://amices.org/mice/reference/pool.html",
          "text": "mice::pool()"
        },
        {
          "href": "https://bryer.org/posts/2025-05-06-Downsampling.html",
          "text": "Jason Bryer"
        },
        {
          "href": "https://feedburner.google.com/fb/a/mailverify?uri=RBloggers",
          "text": "daily e-mail updates"
        },
        {
          "href": "https://www.r-project.org/",
          "text": "R"
        },
        {
          "href": "https://www.r-users.com/",
          "text": "Click here if you're looking to post or find an R/data-science job"
        },
        {
          "href": "http://r-posts.com/",
          "text": "here"
        }
      ],
      "h1_title": "R-bloggers",
      "html_title": "Downsampling for predictive modeling | R-bloggers",
      "images": [
        {
          "alt": null,
          "base64": "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",
          "src": "https://www.r-bloggers.com/wp-content/plugins/jetpack/modules/lazy-images/images/1x1.trans.gif"
        },
        {
          "alt": null,
          "base64": null,
          "src": "https://i1.wp.com/bryer.org/posts/2025-05-06-Downsampling_files/figure-html/unnamed-chunk-6-1.png?w=578&ssl=1"
        },
        {
          "alt": null,
          "base64": "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",
          "src": "https://www.r-bloggers.com/wp-content/plugins/jetpack/modules/lazy-images/images/1x1.trans.gif"
        },
        {
          "alt": null,
          "base64": null,
          "src": "https://i0.wp.com/bryer.org/posts/2025-05-06-Downsampling_files/figure-html/unnamed-chunk-7-1.png?w=578&ssl=1"
        },
        {
          "alt": null,
          "base64": "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",
          "src": "https://www.r-bloggers.com/wp-content/plugins/jetpack/modules/lazy-images/images/1x1.trans.gif"
        },
        {
          "alt": null,
          "base64": null,
          "src": "https://i1.wp.com/bryer.org/posts/2025-05-06-Downsampling_files/figure-html/unnamed-chunk-10-1.png?w=578&ssl=1"
        },
        {
          "alt": null,
          "base64": "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",
          "src": "https://www.r-bloggers.com/wp-content/plugins/jetpack/modules/lazy-images/images/1x1.trans.gif"
        },
        {
          "alt": null,
          "base64": null,
          "src": "https://i0.wp.com/bryer.org/posts/2025-05-06-Downsampling_files/figure-html/unnamed-chunk-11-1.png?w=578&ssl=1"
        },
        {
          "alt": null,
          "base64": "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",
          "src": "https://www.r-bloggers.com/wp-content/plugins/jetpack/modules/lazy-images/images/1x1.trans.gif"
        },
        {
          "alt": null,
          "base64": null,
          "src": "https://i2.wp.com/bryer.org/posts/2025-05-06-Downsampling_files/figure-html/unnamed-chunk-15-1.png?w=578&ssl=1"
        },
        {
          "alt": null,
          "base64": "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",
          "src": "https://www.r-bloggers.com/wp-content/plugins/jetpack/modules/lazy-images/images/1x1.trans.gif"
        },
        {
          "alt": null,
          "base64": null,
          "src": "https://i0.wp.com/bryer.org/posts/2025-05-06-Downsampling_files/figure-html/unnamed-chunk-16-1.png?w=578&ssl=1"
        }
      ],
      "internal_links": [
        {
          "href": "https://www.r-bloggers.com/author/jason-bryer/",
          "text": "Jason Bryer"
        },
        {
          "href": "https://www.r-bloggers.com/category/r-bloggers/",
          "text": "R bloggers"
        },
        {
          "href": "https://www.r-bloggers.com/",
          "text": "R-bloggers"
        },
        {
          "href": "https://www.r-bloggers.com/contact-us/",
          "text": "here"
        },
        {
          "href": "https://www.r-bloggers.com/add-your-blog/",
          "text": "click here"
        },
        {
          "href": "https://www.r-bloggers.com/",
          "text": "R-bloggers.com"
        },
        {
          "href": "https://www.r-bloggers.com/how-to-learn-r-2/",
          "text": "learning R"
        },
        {
          "href": "https://www.r-bloggers.com/add-your-blog/",
          "text": "click here"
        }
      ],
      "lang": "en-US",
      "main_html": "<article class=\"post-392296 post type-post status-publish format-standard hentry category-r-bloggers\">\n<header class=\"post-header\">\n<h1 class=\"entry-title\">Downsampling for predictive modeling</h1>\n<p class=\"meta post-meta\">Posted on <span class=\"updated\">May 5, 2025</span>  by <span class=\"vcard author\"><a class=\"fn\" href=\"https://www.r-bloggers.com/author/jason-bryer/\">Jason Bryer</a></span>  in <a href=\"https://www.r-bloggers.com/category/r-bloggers/\" rel=\"category tag\">R bloggers</a> | 0 Comments</p>\n</header>\n<div class=\"entry clearfix\">\n<!-- \n<div style=\"min-height: 30px;\">\n[social4i size=\"small\" align=\"align-left\"]\n</div>\n-->\n<div style=\"border: 1px solid; background: none repeat scroll 0 0 #EDEDED; margin: 1px; font-size: 12px;\">\n[This article was first published on  <strong><a href=\"https://bryer.org/posts/2025-05-06-Downsampling.html\"> Jason Bryer</a></strong>, and kindly contributed to <a href=\"https://www.r-bloggers.com/\" rel=\"nofollow\">R-bloggers</a>].  (You can report issue about the content on this page <a href=\"https://www.r-bloggers.com/contact-us/\">here</a>)\n<hr/>Want to share your content on R-bloggers?<a href=\"https://www.r-bloggers.com/add-your-blog/\" rel=\"nofollow\"> click here</a> if you have a blog, or <a href=\"http://r-posts.com/\" rel=\"nofollow\"> here</a> if you don't.\n</div>\n\n<!-- Share buttons by mashshare.net - Version: 4.0.47-->\n<p><em>Note that this is cross posted with a vignette in the <a href=\"https://github.com/jbryer/medley\" rel=\"nofollow\" target=\"_blank\"><code>medley</code></a> R package. For the most up-to-date version go here: <a href=\"https://jbryer.github.io/medley/articles/downsampling.html\" rel=\"nofollow\" target=\"_blank\">https://jbryer.github.io/medley/articles/downsampling.html</a> Comments can be directed to me on Mastodon at <a href=\"https://vis.social/@jbryer\" rel=\"nofollow\" target=\"_blank\"><span class=\"citation\" data-cites=\"vis.social\">@vis.social</span><span class=\"citation\" data-cites=\"jbryer\">@jbryer</span></a>.</em></p>\n<p>To install the development version of the <code>medley</code> package, use the following command:</p>\n<div class=\"cell\">\n<pre>remotes::install_github('jbryer/medley')</pre>\n</div>\n<p>One of the challenges in predictive modeling occurs when the dependent variable is imbalanced (i.e. the ratio of one class to the other is high, generally greater than 80-to-20). Several strategies have been proposed to address the imbalance including upsampling and downsampling. Upsampling involves duplicating data from the smaller class to better match the number of observations from the larger class. The disadvantage of upsampling is that new data is being created that could potentially cause overfitting. Additionally, by artificially increasing the sample size standard errors will also be artificially decreased. Downsampling involves randomly selecting from the larger class to achieve better balance. The disadvantage of downsampling is that some data, and sometimes a lot of data, is excluded from the model.</p>\n<p>This paper introduces a procedure that downsamples while using all available data by training multiple models. For example, consider a dataset with 1,000 observations, 900 are of class A and 100 are of class B. Assuming we wish to have perfect balance between A and B, we would randomly assign the 900 class A observations to one of nine models. We can then pool the predictions across the nine models.</p>\n<section class=\"level2\" id=\"working-example\">\n<h2 class=\"anchored\" data-anchor-id=\"working-example\">Working Example</h2>\n<div class=\"cell\">\n<pre>library(medley)\ndata('pisa', package = 'medley')\ndata('pisa_variables', package = 'medley')</pre>\n</div>\n<p>The <a href=\"https://www.oecd.org/en/about/programmes/pisa.html\" rel=\"nofollow\" target=\"_blank\">Programme of International Student Assessment</a> (PISA) is international study conducted by the <a href=\"https://www.oecd.org/en.html\" rel=\"nofollow\" target=\"_blank\">Organisation for Economic Co-operation and Development</a> (OECD) every three years. It assesses 15-year-old students in mathematics, science, and reading while collecting information about the students and their schools. The <code>pisa</code> dataset included in the <code>medley</code> package comes from the 2009 administration and is used to demonstrate predicting private versus public school attendance. There are 5,233 observations across 44 variables with 93.4% public school students and 6.6% private school students.</p>\n<p>To begin, we will split the data into a training and validation set using the <a href=\"https://search.r-project.org/CRAN/refmans/splitstackshape/html/stratified.html\" rel=\"nofollow\" target=\"_blank\"><code>splitstackshape::stratified()</code></a> function to ensure that the ratio of public-to-private school students is the same in both datasets.</p>\n<div class=\"cell\">\n<pre>pisa_formu &lt;- Public ~ .\nnames(pisa) &lt;- pisa_variables[names(pisa)]\npisa_splits &lt;- splitstackshape::stratified(\n    pisa, group = \"Public\", size = 0.75, bothSets = TRUE)\npisa_train &lt;- pisa_splits[[1]] |&gt; as.data.frame()\npisa_valid &lt;- pisa_splits[[2]] |&gt; as.data.frame()</pre>\n</div>\n<div class=\"cell\">\n<pre>table(pisa$Public, useNA = 'ifany') |&gt; print() |&gt; prop.table()</pre>\n<div class=\"cell-output cell-output-stdout\">\n<pre>\nFALSE  TRUE \n  345  4888 </pre>\n</div>\n<div class=\"cell-output cell-output-stdout\">\n<pre>\n     FALSE       TRUE \n0.06592777 0.93407223 </pre>\n</div>\n<pre>table(pisa_train$Public, useNA = 'ifany') |&gt; print() |&gt; prop.table()</pre>\n<div class=\"cell-output cell-output-stdout\">\n<pre>\nFALSE  TRUE \n  259  3666 </pre>\n</div>\n<div class=\"cell-output cell-output-stdout\">\n<pre>\n     FALSE       TRUE \n0.06598726 0.93401274 </pre>\n</div>\n<pre>table(pisa_valid$Public, useNA = 'ifany') |&gt; print() |&gt; prop.table()</pre>\n<div class=\"cell-output cell-output-stdout\">\n<pre>\nFALSE  TRUE \n   86  1222 </pre>\n</div>\n<div class=\"cell-output cell-output-stdout\">\n<pre>\n     FALSE       TRUE \n0.06574924 0.93425076 </pre>\n</div>\n</div>\n<p>We can estimate a logistic regression model and get the predicted probabilities for the validation dataset.</p>\n<div class=\"cell\">\n<pre>pisa_lr_out &lt;- glm(pisa_formu, data = pisa_train, family = binomial(link = 'logit'))\npisa_predictions &lt;- predict(pisa_lr_out, newdata = pisa_valid, type = 'response')</pre>\n</div>\n<p>The figure below shows the distribution of predicted probabilities for the validation dataset. There is some separation between public and private school students, but the densities are clearly centered to the right side of the range.</p>\n<div class=\"cell\" data-layout-align=\"center\">\n<pre>ggplot(data.frame(Public = pisa_valid$Public, \n                  Prediction = pisa_predictions), \n       aes(x = Prediction, color = Public)) +\n  geom_density()</pre>\n<div class=\"cell-output-display\">\n<div class=\"quarto-figure quarto-figure-center\">\n<figure class=\"figure\">\n<p><img class=\"img-fluid quarto-figure quarto-figure-center figure-img\" data-lazy-src=\"https://i1.wp.com/bryer.org/posts/2025-05-06-Downsampling_files/figure-html/unnamed-chunk-6-1.png?w=578&amp;ssl=1\" data-recalc-dims=\"1\" src=\"https://www.r-bloggers.com/wp-content/plugins/jetpack/modules/lazy-images/images/1x1.trans.gif\" style=\"width:90.0%\"/><noscript><img class=\"img-fluid quarto-figure quarto-figure-center figure-img\" data-recalc-dims=\"1\" src=\"https://i1.wp.com/bryer.org/posts/2025-05-06-Downsampling_files/figure-html/unnamed-chunk-6-1.png?w=578&amp;ssl=1\" style=\"width:90.0%\"/></noscript></p>\n</figure>\n</div>\n</div>\n</div>\n<p>The figure below provides a receiver operator characteristic (ROC) curve along with a plot of the accuracy, sensitivity, and specificity.</p>\n<div class=\"cell\" data-layout-align=\"center\">\n<pre>calculate_roc(predictions = pisa_predictions, \n              observed = pisa_valid$Public) |&gt; plot()</pre>\n<div class=\"cell-output-display\">\n<div class=\"quarto-figure quarto-figure-center\">\n<figure class=\"figure\">\n<p><img class=\"img-fluid quarto-figure quarto-figure-center figure-img\" data-lazy-src=\"https://i0.wp.com/bryer.org/posts/2025-05-06-Downsampling_files/figure-html/unnamed-chunk-7-1.png?w=578&amp;ssl=1\" data-recalc-dims=\"1\" src=\"https://www.r-bloggers.com/wp-content/plugins/jetpack/modules/lazy-images/images/1x1.trans.gif\" style=\"width:90.0%\"/><noscript><img class=\"img-fluid quarto-figure quarto-figure-center figure-img\" data-recalc-dims=\"1\" src=\"https://i0.wp.com/bryer.org/posts/2025-05-06-Downsampling_files/figure-html/unnamed-chunk-7-1.png?w=578&amp;ssl=1\" style=\"width:90.0%\"/></noscript></p>\n</figure>\n</div>\n</div>\n</div>\n<p>The confusion matrix below, splitting at 0.5, indicates that this model is no better than the null model (i.e percent public school students is 93.4%). Of course we could adjust that cut value to optimize either the <em>specificity</em> or <em>sensitivity</em>.</p>\n<div class=\"cell\">\n<pre>confusion_matrix(observed = pisa_valid$Public, \n                 predicted = pisa_predictions &gt; 0.5)</pre>\n<div class=\"cell-output cell-output-stdout\">\n<pre>           predicted              \n  observed     FALSE          TRUE\n     FALSE 1 (0.08%)    85 (6.50%)\n      TRUE 4 (0.31%) 1218 (93.12%)\nAccuracy: 93.2%\nSensitivity: 1.16%\nSpecificity: 99.67%</pre>\n</div>\n</div>\n</section>\n<section class=\"level2\" id=\"shrinking-fitted-values\">\n<h2 class=\"anchored\" data-anchor-id=\"shrinking-fitted-values\">Shrinking Fitted Values</h2>\n<p>It turns out that the range of fitted values from logistic regression will shrink as the amount of imbalance in the dependent variable increases. I first encountered this issue when estimating propensity scores for <a href=\"https://github.com/jbryer/dissertation?tab=readme-ov-file\" rel=\"nofollow\" target=\"_blank\">my dissertation</a> in a study of charter versus traditional public school students. In that study using the <a href=\"https://nces.ed.gov/nationsreportcard/\" rel=\"nofollow\" target=\"_blank\">National Assessment of Educational Progress</a> (NAEP) approximately 3% of students attended a charter school. In that study, the range of propensity scores were severely constrained. To explore why, the <a href=\"https://jbryer.github.io/multilevelPSA/reference/psrange.html\" rel=\"nofollow\" target=\"_blank\">multilevel::psrange()</a> function was developed The result of this function is the figure below. Starting at the bottom, 345 public school students were randomly selected so that the logistic regression could be estimated where there is perfect balance in the dependent variable. As we move up we increase the ratio from 1:1 to 1:13. For each ratio, 20 random samples are drawn, logistic regression model estimated, and the minimum and maximum fitted values (i.e. predicted probabilities) are recorded (they are represented by the black dots and green bars). The distributions across all models are also included.</p>\n<div class=\"cell\" data-layout-align=\"center\">\n<div class=\"cell-output-display\">\n<div class=\"quarto-figure quarto-figure-center\">\n<figure class=\"figure\">\n<p><img class=\"img-fluid quarto-figure quarto-figure-center figure-img\" data-lazy-src=\"https://i1.wp.com/bryer.org/posts/2025-05-06-Downsampling_files/figure-html/unnamed-chunk-10-1.png?w=578&amp;ssl=1\" data-recalc-dims=\"1\" src=\"https://www.r-bloggers.com/wp-content/plugins/jetpack/modules/lazy-images/images/1x1.trans.gif\" style=\"width:90.0%\"/><noscript><img class=\"img-fluid quarto-figure quarto-figure-center figure-img\" data-recalc-dims=\"1\" src=\"https://i1.wp.com/bryer.org/posts/2025-05-06-Downsampling_files/figure-html/unnamed-chunk-10-1.png?w=578&amp;ssl=1\" style=\"width:90.0%\"/></noscript></p>\n</figure>\n</div>\n</div>\n</div>\n<p>Plotting just the ranges along with the mean of the fitted values for public (blue) and private (green) school students shows that once the ratio is greater than 3-to-1 the mean of the fitted values for the zero class (private schools in this example) is greater than 0.5.</p>\n<div class=\"cell\" data-layout-align=\"center\">\n<div class=\"cell-output-display\">\n<div class=\"quarto-figure quarto-figure-center\">\n<figure class=\"figure\">\n<p><img class=\"img-fluid quarto-figure quarto-figure-center figure-img\" data-lazy-src=\"https://i0.wp.com/bryer.org/posts/2025-05-06-Downsampling_files/figure-html/unnamed-chunk-11-1.png?w=578&amp;ssl=1\" data-recalc-dims=\"1\" src=\"https://www.r-bloggers.com/wp-content/plugins/jetpack/modules/lazy-images/images/1x1.trans.gif\" style=\"width:90.0%\"/><noscript><img class=\"img-fluid quarto-figure quarto-figure-center figure-img\" data-recalc-dims=\"1\" src=\"https://i0.wp.com/bryer.org/posts/2025-05-06-Downsampling_files/figure-html/unnamed-chunk-11-1.png?w=578&amp;ssl=1\" style=\"width:90.0%\"/></noscript></p>\n</figure>\n</div>\n</div>\n</div>\n</section>\n<section class=\"level2\" id=\"downsampling\">\n<h2 class=\"anchored\" data-anchor-id=\"downsampling\">Downsampling</h2>\n<p>As discussed above one of the key disadvantages of downsampling is that in situations where there is significant imbalance we are excluding a lot of data from analysis. The <code>downsample()</code> function will first determine how many models need to be estimated such that each observation from the larger class is used exactly once. For this example we are using a public-to-private student ratio of 2-to-1 so that for each model estimated there are 259 private and 518 public student observations. Given there are 3925 observations in our training set, the <code>dowmsample()</code> function will estimate 7 models.</p>\n<div class=\"cell\">\n<pre>pisa_ds_out &lt;- downsample(\n  formu = pisa_formu,\n  data = pisa_train,\n  model_fun = glm,\n  ratio = 2,\n  family = binomial(link = 'logit'))\nlength(pisa_ds_out)</pre>\n<div class=\"cell-output cell-output-stdout\">\n<pre>[1] 7</pre>\n</div>\n</div>\n<p>We can use the <code>predict()</code> function to get a data frame of predictions. Each column corresponds to the predicted value for each of the 7 models.</p>\n<div class=\"cell\">\n<pre>pisa_predictions_ds &lt;- predict(pisa_ds_out,\n                               newdata = pisa_valid, \n                               type = 'response')\nhead(pisa_predictions_ds)</pre>\n<div class=\"cell-output cell-output-stdout\">\n<pre>     model1    model2    model3    model4    model5    model6    model7\n1 0.8511828 0.7437341 0.8921605 0.8424369 0.7347052 0.8697531 0.6928875\n2 0.7393116 0.6822714 0.9466815 0.7959953 0.8118642 0.9441840 0.9580830\n3 0.4944206 0.3813138 0.5575741 0.3586561 0.5023435 0.5805062 0.6281852\n4 0.8525691 0.8268514 0.8293386 0.8372777 0.9464037 0.8843848 0.9016058\n5 0.1823382 0.3670335 0.4556063 0.1408078 0.1899378 0.3578418 0.2657968\n6 0.9216160 0.8192096 0.9040353 0.9213184 0.8080822 0.9076342 0.8768295</pre>\n</div>\n</div>\n<p>We can average the predictions to get a single vector.</p>\n<div class=\"cell\">\n<pre>pisa_predictions_ds2 &lt;- pisa_predictions_ds |&gt; apply(1, mean)</pre>\n</div>\n<p>The density distributions are provided below. These distributions are more like the distributions we expect when we have balanced data even though we did use all the observations to get these predicted probabilities.</p>\n<div class=\"cell\" data-layout-align=\"center\">\n<pre>ggplot(data.frame(Public = pisa_valid$Public, \n                  Prediction = pisa_predictions_ds2), \n       aes(x = Prediction, color = Public)) +\n  geom_density()</pre>\n<div class=\"cell-output-display\">\n<div class=\"quarto-figure quarto-figure-center\">\n<figure class=\"figure\">\n<p><img class=\"img-fluid quarto-figure quarto-figure-center figure-img\" data-lazy-src=\"https://i2.wp.com/bryer.org/posts/2025-05-06-Downsampling_files/figure-html/unnamed-chunk-15-1.png?w=578&amp;ssl=1\" data-recalc-dims=\"1\" src=\"https://www.r-bloggers.com/wp-content/plugins/jetpack/modules/lazy-images/images/1x1.trans.gif\" style=\"width:90.0%\"/><noscript><img class=\"img-fluid quarto-figure quarto-figure-center figure-img\" data-recalc-dims=\"1\" src=\"https://i2.wp.com/bryer.org/posts/2025-05-06-Downsampling_files/figure-html/unnamed-chunk-15-1.png?w=578&amp;ssl=1\" style=\"width:90.0%\"/></noscript></p>\n</figure>\n</div>\n</div>\n</div>\n<p>Although the <code>downsample()</code> function appears to address the issue of shrinking and off centered fitted values, the model performance metrics provided below suggest that it did not improve the overall performance of the model predictions.</p>\n<div class=\"cell\" data-layout-align=\"center\">\n<pre>roc &lt;- calculate_roc(predictions = pisa_predictions_ds2, \n                     observed = pisa_valid$Public)\nplot(roc)</pre>\n<div class=\"cell-output-display\">\n<div class=\"quarto-figure quarto-figure-center\">\n<figure class=\"figure\">\n<p><img class=\"img-fluid quarto-figure quarto-figure-center figure-img\" data-lazy-src=\"https://i0.wp.com/bryer.org/posts/2025-05-06-Downsampling_files/figure-html/unnamed-chunk-16-1.png?w=578&amp;ssl=1\" data-recalc-dims=\"1\" src=\"https://www.r-bloggers.com/wp-content/plugins/jetpack/modules/lazy-images/images/1x1.trans.gif\" style=\"width:90.0%\"/><noscript><img class=\"img-fluid quarto-figure quarto-figure-center figure-img\" data-recalc-dims=\"1\" src=\"https://i0.wp.com/bryer.org/posts/2025-05-06-Downsampling_files/figure-html/unnamed-chunk-16-1.png?w=578&amp;ssl=1\" style=\"width:90.0%\"/></noscript></p>\n</figure>\n</div>\n</div>\n</div>\n<div class=\"cell\">\n<pre>confusion_matrix(observed = pisa_valid$Public, \n                 predicted = pisa_predictions_ds2 &gt; 0.5)</pre>\n<div class=\"cell-output cell-output-stdout\">\n<pre>              predicted              \n  observed        FALSE          TRUE\n     FALSE   45 (3.44%)    41 (3.13%)\n      TRUE 204 (15.60%) 1018 (77.83%)\nAccuracy: 81.27%\nSensitivity: 52.33%\nSpecificity: 83.31%</pre>\n</div>\n</div>\n</section>\n<section class=\"level2\" id=\"appendix-model-summaries\">\n<h2 class=\"anchored\" data-anchor-id=\"appendix-model-summaries\">Appendix: Model Summaries</h2>\n<p>Above we averaged the predicted values across all the models to get a single prediction for each observation in our validation dataset. However, it is possible to pool models using the <a href=\"https://amices.org/mice/reference/pool.html\" rel=\"nofollow\" target=\"_blank\"><code>mice::pool()</code></a> function to get a single set of regression coefficients. The table below provides the pooled regression coefficients from the <code>downsample</code> function along with the coefficients from the logistic regression model using all the data.</p>\n<div class=\"cell\">\n<div class=\"cell-output-display\">\n<table class=\"huxtable\" data-quarto-disable-processing=\"true\" id=\"tab:pooled-summary\" style=\"border-collapse: collapse; border: 0px; margin-bottom: 2em; margin-top: 2em; ; margin-left: auto; margin-right: auto;  \">\n<colgroup><col/><col/><col/></colgroup><tbody><tr>\n<th style=\"vertical-align: top; text-align: center; white-space: normal; border-style: solid solid solid solid; border-width: 0.8pt 0pt 0pt 0pt;    padding: 6pt 6pt 6pt 6pt; font-weight: normal;\"></th><th style=\"vertical-align: top; text-align: center; white-space: normal; border-style: solid solid solid solid; border-width: 0.8pt 0pt 0.4pt 0pt;    padding: 6pt 6pt 6pt 6pt; font-weight: normal;\">Pooled from downsamples</th><th style=\"vertical-align: top; text-align: center; white-space: normal; border-style: solid solid solid solid; border-width: 0.8pt 0pt 0.4pt 0pt;    padding: 6pt 6pt 6pt 6pt; font-weight: normal;\">Complete data</th></tr>\n<tr>\n<th style=\"vertical-align: top; text-align: left; white-space: normal; border-style: solid solid solid solid; border-width: 0pt 0pt 0pt 0pt;    padding: 6pt 6pt 6pt 6pt; font-weight: normal;\">(Intercept)</th><td style=\"vertical-align: top; text-align: right; white-space: normal; border-style: solid solid solid solid; border-width: 0.4pt 0pt 0pt 0pt;    padding: 6pt 6pt 6pt 6pt; font-weight: bold;\">5.516 * (2.376)</td><td style=\"vertical-align: top; text-align: right; white-space: normal; border-style: solid solid solid solid; border-width: 0.4pt 0pt 0pt 0pt;    padding: 6pt 6pt 6pt 6pt; font-weight: bold;\">7.862 *** (1.657)</td></tr>\n<tr>\n<th style=\"vertical-align: top; text-align: left; white-space: normal; border-style: solid solid solid solid; border-width: 0pt 0pt 0pt 0pt;    padding: 6pt 6pt 6pt 6pt; font-weight: normal;\">SexMale</th><td style=\"vertical-align: top; text-align: right; white-space: normal; border-style: solid solid solid solid; border-width: 0pt 0pt 0pt 0pt;    padding: 6pt 6pt 6pt 6pt; font-weight: bold;\">-0.823 ** (0.244)</td><td style=\"vertical-align: top; text-align: right; white-space: normal; border-style: solid solid solid solid; border-width: 0pt 0pt 0pt 0pt;    padding: 6pt 6pt 6pt 6pt; font-weight: bold;\">-0.762 *** (0.149)</td></tr>\n<tr>\n<th style=\"vertical-align: top; text-align: left; white-space: normal; border-style: solid solid solid solid; border-width: 0pt 0pt 0pt 0pt;    padding: 6pt 6pt 6pt 6pt; font-weight: normal;\">`Attend <isced 0=\"\">`Yes, one year or less</isced></th><td style=\"vertical-align: top; text-align: right; white-space: normal; border-style: solid solid solid solid; border-width: 0pt 0pt 0pt 0pt;    padding: 6pt 6pt 6pt 6pt; font-weight: normal;\">0.495 (0.286)</td><td style=\"vertical-align: top; text-align: right; white-space: normal; border-style: solid solid solid solid; border-width: 0pt 0pt 0pt 0pt;    padding: 6pt 6pt 6pt 6pt; font-weight: bold;\">0.498 ** (0.190)</td></tr>\n<tr>\n<th style=\"vertical-align: top; text-align: left; white-space: normal; border-style: solid solid solid solid; border-width: 0pt 0pt 0pt 0pt;    padding: 6pt 6pt 6pt 6pt; font-weight: normal;\">`Age at <isced 1=\"\">`</isced></th><td style=\"vertical-align: top; text-align: right; white-space: normal; border-style: solid solid solid solid; border-width: 0pt 0pt 0pt 0pt;    padding: 6pt 6pt 6pt 6pt; font-weight: normal;\">0.087 (0.186)</td><td style=\"vertical-align: top; text-align: right; white-space: normal; border-style: solid solid solid solid; border-width: 0pt 0pt 0pt 0pt;    padding: 6pt 6pt 6pt 6pt; font-weight: normal;\">0.075 (0.104)</td></tr>\n<tr>\n<th style=\"vertical-align: top; text-align: left; white-space: normal; border-style: solid solid solid solid; border-width: 0pt 0pt 0pt 0pt;    padding: 6pt 6pt 6pt 6pt; font-weight: normal;\">`Repeat <isced 1=\"\">`Yes, once</isced></th><td style=\"vertical-align: top; text-align: right; white-space: normal; border-style: solid solid solid solid; border-width: 0pt 0pt 0pt 0pt;    padding: 6pt 6pt 6pt 6pt; font-weight: normal;\">0.693 (0.548)</td><td style=\"vertical-align: top; text-align: right; white-space: normal; border-style: solid solid solid solid; border-width: 0pt 0pt 0pt 0pt;    padding: 6pt 6pt 6pt 6pt; font-weight: normal;\">0.645 (0.345)</td></tr>\n<tr>\n<th style=\"vertical-align: top; text-align: left; white-space: normal; border-style: solid solid solid solid; border-width: 0pt 0pt 0pt 0pt;    padding: 6pt 6pt 6pt 6pt; font-weight: normal;\">`At Home - Mother`TRUE</th><td style=\"vertical-align: top; text-align: right; white-space: normal; border-style: solid solid solid solid; border-width: 0pt 0pt 0pt 0pt;    padding: 6pt 6pt 6pt 6pt; font-weight: normal;\">-0.888 (0.843)</td><td style=\"vertical-align: top; text-align: right; white-space: normal; border-style: solid solid solid solid; border-width: 0pt 0pt 0pt 0pt;    padding: 6pt 6pt 6pt 6pt; font-weight: normal;\">-0.921 (0.493)</td></tr>\n<tr>\n<th style=\"vertical-align: top; text-align: left; white-space: normal; border-style: solid solid solid solid; border-width: 0pt 0pt 0pt 0pt;    padding: 6pt 6pt 6pt 6pt; font-weight: normal;\">`At Home - Father`TRUE</th><td style=\"vertical-align: top; text-align: right; white-space: normal; border-style: solid solid solid solid; border-width: 0pt 0pt 0pt 0pt;    padding: 6pt 6pt 6pt 6pt; font-weight: normal;\">-0.672 (0.414)</td><td style=\"vertical-align: top; text-align: right; white-space: normal; border-style: solid solid solid solid; border-width: 0pt 0pt 0pt 0pt;    padding: 6pt 6pt 6pt 6pt; font-weight: bold;\">-0.620 * (0.277)</td></tr>\n<tr>\n<th style=\"vertical-align: top; text-align: left; white-space: normal; border-style: solid solid solid solid; border-width: 0pt 0pt 0pt 0pt;    padding: 6pt 6pt 6pt 6pt; font-weight: normal;\">`At Home - Brothers`TRUE</th><td style=\"vertical-align: top; text-align: right; white-space: normal; border-style: solid solid solid solid; border-width: 0pt 0pt 0pt 0pt;    padding: 6pt 6pt 6pt 6pt; font-weight: normal;\">0.184 (0.313)</td><td style=\"vertical-align: top; text-align: right; white-space: normal; border-style: solid solid solid solid; border-width: 0pt 0pt 0pt 0pt;    padding: 6pt 6pt 6pt 6pt; font-weight: normal;\">0.155 (0.146)</td></tr>\n<tr>\n<th style=\"vertical-align: top; text-align: left; white-space: normal; border-style: solid solid solid solid; border-width: 0pt 0pt 0pt 0pt;    padding: 6pt 6pt 6pt 6pt; font-weight: normal;\">`At Home - Sisters`TRUE</th><td style=\"vertical-align: top; text-align: right; white-space: normal; border-style: solid solid solid solid; border-width: 0pt 0pt 0pt 0pt;    padding: 6pt 6pt 6pt 6pt; font-weight: bold;\">0.563 * (0.237)</td><td style=\"vertical-align: top; text-align: right; white-space: normal; border-style: solid solid solid solid; border-width: 0pt 0pt 0pt 0pt;    padding: 6pt 6pt 6pt 6pt; font-weight: bold;\">0.454 ** (0.146)</td></tr>\n<tr>\n<th style=\"vertical-align: top; text-align: left; white-space: normal; border-style: solid solid solid solid; border-width: 0pt 0pt 0pt 0pt;    padding: 6pt 6pt 6pt 6pt; font-weight: normal;\">`At Home - Grandparents`TRUE</th><td style=\"vertical-align: top; text-align: right; white-space: normal; border-style: solid solid solid solid; border-width: 0pt 0pt 0pt 0pt;    padding: 6pt 6pt 6pt 6pt; font-weight: bold;\">-0.725 * (0.328)</td><td style=\"vertical-align: top; text-align: right; white-space: normal; border-style: solid solid solid solid; border-width: 0pt 0pt 0pt 0pt;    padding: 6pt 6pt 6pt 6pt; font-weight: bold;\">-0.648 ** (0.201)</td></tr>\n<tr>\n<th style=\"vertical-align: top; text-align: left; white-space: normal; border-style: solid solid solid solid; border-width: 0pt 0pt 0pt 0pt;    padding: 6pt 6pt 6pt 6pt; font-weight: normal;\">`At Home - Others`TRUE</th><td style=\"vertical-align: top; text-align: right; white-space: normal; border-style: solid solid solid solid; border-width: 0pt 0pt 0pt 0pt;    padding: 6pt 6pt 6pt 6pt; font-weight: normal;\">-0.094 (0.332)</td><td style=\"vertical-align: top; text-align: right; white-space: normal; border-style: solid solid solid solid; border-width: 0pt 0pt 0pt 0pt;    padding: 6pt 6pt 6pt 6pt; font-weight: normal;\">-0.136 (0.221)</td></tr>\n<tr>\n<th style=\"vertical-align: top; text-align: left; white-space: normal; border-style: solid solid solid solid; border-width: 0pt 0pt 0pt 0pt;    padding: 6pt 6pt 6pt 6pt; font-weight: normal;\">`Mother  <highest schooling=\"\">`<isced 3a=\"\" level=\"\"></isced></highest></th><td style=\"vertical-align: top; text-align: right; white-space: normal; border-style: solid solid solid solid; border-width: 0pt 0pt 0pt 0pt;    padding: 6pt 6pt 6pt 6pt; font-weight: normal;\">0.101 (0.631)</td><td style=\"vertical-align: top; text-align: right; white-space: normal; border-style: solid solid solid solid; border-width: 0pt 0pt 0pt 0pt;    padding: 6pt 6pt 6pt 6pt; font-weight: normal;\">0.070 (0.388)</td></tr>\n<tr>\n<th style=\"vertical-align: top; text-align: left; white-space: normal; border-style: solid solid solid solid; border-width: 0pt 0pt 0pt 0pt;    padding: 6pt 6pt 6pt 6pt; font-weight: normal;\">`Mother Current Job Status`Other</th><td style=\"vertical-align: top; text-align: right; white-space: normal; border-style: solid solid solid solid; border-width: 0pt 0pt 0pt 0pt;    padding: 6pt 6pt 6pt 6pt; font-weight: normal;\">-0.457 (0.609)</td><td style=\"vertical-align: top; text-align: right; white-space: normal; border-style: solid solid solid solid; border-width: 0pt 0pt 0pt 0pt;    padding: 6pt 6pt 6pt 6pt; font-weight: normal;\">-0.303 (0.364)</td></tr>\n<tr>\n<th style=\"vertical-align: top; text-align: left; white-space: normal; border-style: solid solid solid solid; border-width: 0pt 0pt 0pt 0pt;    padding: 6pt 6pt 6pt 6pt; font-weight: normal;\">`Mother Current Job Status`Working Full-time</th><td style=\"vertical-align: top; text-align: right; white-space: normal; border-style: solid solid solid solid; border-width: 0pt 0pt 0pt 0pt;    padding: 6pt 6pt 6pt 6pt; font-weight: normal;\">-0.608 (0.537)</td><td style=\"vertical-align: top; text-align: right; white-space: normal; border-style: solid solid solid solid; border-width: 0pt 0pt 0pt 0pt;    padding: 6pt 6pt 6pt 6pt; font-weight: normal;\">-0.443 (0.339)</td></tr>\n<tr>\n<th style=\"vertical-align: top; text-align: left; white-space: normal; border-style: solid solid solid solid; border-width: 0pt 0pt 0pt 0pt;    padding: 6pt 6pt 6pt 6pt; font-weight: normal;\">`Mother Current Job Status`Working Part-Time</th><td style=\"vertical-align: top; text-align: right; white-space: normal; border-style: solid solid solid solid; border-width: 0pt 0pt 0pt 0pt;    padding: 6pt 6pt 6pt 6pt; font-weight: normal;\">-0.586 (0.650)</td><td style=\"vertical-align: top; text-align: right; white-space: normal; border-style: solid solid solid solid; border-width: 0pt 0pt 0pt 0pt;    padding: 6pt 6pt 6pt 6pt; font-weight: normal;\">-0.446 (0.369)</td></tr>\n<tr>\n<th style=\"vertical-align: top; text-align: left; white-space: normal; border-style: solid solid solid solid; border-width: 0pt 0pt 0pt 0pt;    padding: 6pt 6pt 6pt 6pt; font-weight: normal;\">`Father  <highest schooling=\"\">`<isced 2=\"\" level=\"\"></isced></highest></th><td style=\"vertical-align: top; text-align: right; white-space: normal; border-style: solid solid solid solid; border-width: 0pt 0pt 0pt 0pt;    padding: 6pt 6pt 6pt 6pt; font-weight: normal;\">0.072 (1.219)</td><td style=\"vertical-align: top; text-align: right; white-space: normal; border-style: solid solid solid solid; border-width: 0pt 0pt 0pt 0pt;    padding: 6pt 6pt 6pt 6pt; font-weight: normal;\">0.077 (0.832)</td></tr>\n<tr>\n<th style=\"vertical-align: top; text-align: left; white-space: normal; border-style: solid solid solid solid; border-width: 0pt 0pt 0pt 0pt;    padding: 6pt 6pt 6pt 6pt; font-weight: normal;\">`Father  <highest schooling=\"\">`<isced 3a=\"\" level=\"\"></isced></highest></th><td style=\"vertical-align: top; text-align: right; white-space: normal; border-style: solid solid solid solid; border-width: 0pt 0pt 0pt 0pt;    padding: 6pt 6pt 6pt 6pt; font-weight: normal;\">-0.579 (1.121)</td><td style=\"vertical-align: top; text-align: right; white-space: normal; border-style: solid solid solid solid; border-width: 0pt 0pt 0pt 0pt;    padding: 6pt 6pt 6pt 6pt; font-weight: normal;\">-0.658 (0.754)</td></tr>\n<tr>\n<th style=\"vertical-align: top; text-align: left; white-space: normal; border-style: solid solid solid solid; border-width: 0pt 0pt 0pt 0pt;    padding: 6pt 6pt 6pt 6pt; font-weight: normal;\">`Father Current Job Status`Other</th><td style=\"vertical-align: top; text-align: right; white-space: normal; border-style: solid solid solid solid; border-width: 0pt 0pt 0pt 0pt;    padding: 6pt 6pt 6pt 6pt; font-weight: normal;\">-0.019 (0.737)</td><td style=\"vertical-align: top; text-align: right; white-space: normal; border-style: solid solid solid solid; border-width: 0pt 0pt 0pt 0pt;    padding: 6pt 6pt 6pt 6pt; font-weight: normal;\">-0.065 (0.394)</td></tr>\n<tr>\n<th style=\"vertical-align: top; text-align: left; white-space: normal; border-style: solid solid solid solid; border-width: 0pt 0pt 0pt 0pt;    padding: 6pt 6pt 6pt 6pt; font-weight: normal;\">`Father Current Job Status`Working Full-time</th><td style=\"vertical-align: top; text-align: right; white-space: normal; border-style: solid solid solid solid; border-width: 0pt 0pt 0pt 0pt;    padding: 6pt 6pt 6pt 6pt; font-weight: normal;\">0.356 (0.604)</td><td style=\"vertical-align: top; text-align: right; white-space: normal; border-style: solid solid solid solid; border-width: 0pt 0pt 0pt 0pt;    padding: 6pt 6pt 6pt 6pt; font-weight: normal;\">0.236 (0.324)</td></tr>\n<tr>\n<th style=\"vertical-align: top; text-align: left; white-space: normal; border-style: solid solid solid solid; border-width: 0pt 0pt 0pt 0pt;    padding: 6pt 6pt 6pt 6pt; font-weight: normal;\">`Father Current Job Status`Working Part-Time</th><td style=\"vertical-align: top; text-align: right; white-space: normal; border-style: solid solid solid solid; border-width: 0pt 0pt 0pt 0pt;    padding: 6pt 6pt 6pt 6pt; font-weight: normal;\">1.260 (0.892)</td><td style=\"vertical-align: top; text-align: right; white-space: normal; border-style: solid solid solid solid; border-width: 0pt 0pt 0pt 0pt;    padding: 6pt 6pt 6pt 6pt; font-weight: normal;\">0.998 (0.529)</td></tr>\n<tr>\n<th style=\"vertical-align: top; text-align: left; white-space: normal; border-style: solid solid solid solid; border-width: 0pt 0pt 0pt 0pt;    padding: 6pt 6pt 6pt 6pt; font-weight: normal;\">`Language at home`Language of test</th><td style=\"vertical-align: top; text-align: right; white-space: normal; border-style: solid solid solid solid; border-width: 0pt 0pt 0pt 0pt;    padding: 6pt 6pt 6pt 6pt; font-weight: normal;\">0.137 (0.489)</td><td style=\"vertical-align: top; text-align: right; white-space: normal; border-style: solid solid solid solid; border-width: 0pt 0pt 0pt 0pt;    padding: 6pt 6pt 6pt 6pt; font-weight: normal;\">-0.104 (0.263)</td></tr>\n<tr>\n<th style=\"vertical-align: top; text-align: left; white-space: normal; border-style: solid solid solid solid; border-width: 0pt 0pt 0pt 0pt;    padding: 6pt 6pt 6pt 6pt; font-weight: normal;\">`Possessions desk`TRUE</th><td style=\"vertical-align: top; text-align: right; white-space: normal; border-style: solid solid solid solid; border-width: 0pt 0pt 0pt 0pt;    padding: 6pt 6pt 6pt 6pt; font-weight: normal;\">-0.583 (0.404)</td><td style=\"vertical-align: top; text-align: right; white-space: normal; border-style: solid solid solid solid; border-width: 0pt 0pt 0pt 0pt;    padding: 6pt 6pt 6pt 6pt; font-weight: bold;\">-0.531 * (0.265)</td></tr>\n<tr>\n<th style=\"vertical-align: top; text-align: left; white-space: normal; border-style: solid solid solid solid; border-width: 0pt 0pt 0pt 0pt;    padding: 6pt 6pt 6pt 6pt; font-weight: normal;\">`Possessions own room`TRUE</th><td style=\"vertical-align: top; text-align: right; white-space: normal; border-style: solid solid solid solid; border-width: 0pt 0pt 0pt 0pt;    padding: 6pt 6pt 6pt 6pt; font-weight: normal;\">0.521 (0.384)</td><td style=\"vertical-align: top; text-align: right; white-space: normal; border-style: solid solid solid solid; border-width: 0pt 0pt 0pt 0pt;    padding: 6pt 6pt 6pt 6pt; font-weight: bold;\">0.600 * (0.238)</td></tr>\n<tr>\n<th style=\"vertical-align: top; text-align: left; white-space: normal; border-style: solid solid solid solid; border-width: 0pt 0pt 0pt 0pt;    padding: 6pt 6pt 6pt 6pt; font-weight: normal;\">`Possessions study place`TRUE</th><td style=\"vertical-align: top; text-align: right; white-space: normal; border-style: solid solid solid solid; border-width: 0pt 0pt 0pt 0pt;    padding: 6pt 6pt 6pt 6pt; font-weight: normal;\">-0.056 (0.488)</td><td style=\"vertical-align: top; text-align: right; white-space: normal; border-style: solid solid solid solid; border-width: 0pt 0pt 0pt 0pt;    padding: 6pt 6pt 6pt 6pt; font-weight: normal;\">-0.223 (0.303)</td></tr>\n<tr>\n<th style=\"vertical-align: top; text-align: left; white-space: normal; border-style: solid solid solid solid; border-width: 0pt 0pt 0pt 0pt;    padding: 6pt 6pt 6pt 6pt; font-weight: normal;\">`Possessions  computer`TRUE</th><td style=\"vertical-align: top; text-align: right; white-space: normal; border-style: solid solid solid solid; border-width: 0pt 0pt 0pt 0pt;    padding: 6pt 6pt 6pt 6pt; font-weight: normal;\">-0.077 (0.855)</td><td style=\"vertical-align: top; text-align: right; white-space: normal; border-style: solid solid solid solid; border-width: 0pt 0pt 0pt 0pt;    padding: 6pt 6pt 6pt 6pt; font-weight: normal;\">-0.038 (0.592)</td></tr>\n<tr>\n<th style=\"vertical-align: top; text-align: left; white-space: normal; border-style: solid solid solid solid; border-width: 0pt 0pt 0pt 0pt;    padding: 6pt 6pt 6pt 6pt; font-weight: normal;\">`Possessions software`TRUE</th><td style=\"vertical-align: top; text-align: right; white-space: normal; border-style: solid solid solid solid; border-width: 0pt 0pt 0pt 0pt;    padding: 6pt 6pt 6pt 6pt; font-weight: normal;\">0.365 (0.332)</td><td style=\"vertical-align: top; text-align: right; white-space: normal; border-style: solid solid solid solid; border-width: 0pt 0pt 0pt 0pt;    padding: 6pt 6pt 6pt 6pt; font-weight: bold;\">0.358 * (0.161)</td></tr>\n<tr>\n<th style=\"vertical-align: top; text-align: left; white-space: normal; border-style: solid solid solid solid; border-width: 0pt 0pt 0pt 0pt;    padding: 6pt 6pt 6pt 6pt; font-weight: normal;\">`Possessions Internet`TRUE</th><td style=\"vertical-align: top; text-align: right; white-space: normal; border-style: solid solid solid solid; border-width: 0pt 0pt 0pt 0pt;    padding: 6pt 6pt 6pt 6pt; font-weight: normal;\">-1.416 (0.917)</td><td style=\"vertical-align: top; text-align: right; white-space: normal; border-style: solid solid solid solid; border-width: 0pt 0pt 0pt 0pt;    padding: 6pt 6pt 6pt 6pt; font-weight: normal;\">-1.177 (0.602)</td></tr>\n<tr>\n<th style=\"vertical-align: top; text-align: left; white-space: normal; border-style: solid solid solid solid; border-width: 0pt 0pt 0pt 0pt;    padding: 6pt 6pt 6pt 6pt; font-weight: normal;\">`Possessions literature`TRUE</th><td style=\"vertical-align: top; text-align: right; white-space: normal; border-style: solid solid solid solid; border-width: 0pt 0pt 0pt 0pt;    padding: 6pt 6pt 6pt 6pt; font-weight: bold;\">-0.619 * (0.295)</td><td style=\"vertical-align: top; text-align: right; white-space: normal; border-style: solid solid solid solid; border-width: 0pt 0pt 0pt 0pt;    padding: 6pt 6pt 6pt 6pt; font-weight: bold;\">-0.551 ** (0.175)</td></tr>\n<tr>\n<th style=\"vertical-align: top; text-align: left; white-space: normal; border-style: solid solid solid solid; border-width: 0pt 0pt 0pt 0pt;    padding: 6pt 6pt 6pt 6pt; font-weight: normal;\">`Possessions poetry`TRUE</th><td style=\"vertical-align: top; text-align: right; white-space: normal; border-style: solid solid solid solid; border-width: 0pt 0pt 0pt 0pt;    padding: 6pt 6pt 6pt 6pt; font-weight: normal;\">-0.369 (0.308)</td><td style=\"vertical-align: top; text-align: right; white-space: normal; border-style: solid solid solid solid; border-width: 0pt 0pt 0pt 0pt;    padding: 6pt 6pt 6pt 6pt; font-weight: normal;\">-0.250 (0.176)</td></tr>\n<tr>\n<th style=\"vertical-align: top; text-align: left; white-space: normal; border-style: solid solid solid solid; border-width: 0pt 0pt 0pt 0pt;    padding: 6pt 6pt 6pt 6pt; font-weight: normal;\">`Possessions art`TRUE</th><td style=\"vertical-align: top; text-align: right; white-space: normal; border-style: solid solid solid solid; border-width: 0pt 0pt 0pt 0pt;    padding: 6pt 6pt 6pt 6pt; font-weight: normal;\">-0.402 (0.333)</td><td style=\"vertical-align: top; text-align: right; white-space: normal; border-style: solid solid solid solid; border-width: 0pt 0pt 0pt 0pt;    padding: 6pt 6pt 6pt 6pt; font-weight: normal;\">-0.273 (0.196)</td></tr>\n<tr>\n<th style=\"vertical-align: top; text-align: left; white-space: normal; border-style: solid solid solid solid; border-width: 0pt 0pt 0pt 0pt;    padding: 6pt 6pt 6pt 6pt; font-weight: normal;\">`Possessions textbooks`TRUE</th><td style=\"vertical-align: top; text-align: right; white-space: normal; border-style: solid solid solid solid; border-width: 0pt 0pt 0pt 0pt;    padding: 6pt 6pt 6pt 6pt; font-weight: normal;\">-0.021 (0.356)</td><td style=\"vertical-align: top; text-align: right; white-space: normal; border-style: solid solid solid solid; border-width: 0pt 0pt 0pt 0pt;    padding: 6pt 6pt 6pt 6pt; font-weight: normal;\">-0.007 (0.214)</td></tr>\n<tr>\n<th style=\"vertical-align: top; text-align: left; white-space: normal; border-style: solid solid solid solid; border-width: 0pt 0pt 0pt 0pt;    padding: 6pt 6pt 6pt 6pt; font-weight: normal;\">`Possessions dictionary`TRUE</th><td style=\"vertical-align: top; text-align: right; white-space: normal; border-style: solid solid solid solid; border-width: 0pt 0pt 0pt 0pt;    padding: 6pt 6pt 6pt 6pt; font-weight: normal;\">0.100 (0.583)</td><td style=\"vertical-align: top; text-align: right; white-space: normal; border-style: solid solid solid solid; border-width: 0pt 0pt 0pt 0pt;    padding: 6pt 6pt 6pt 6pt; font-weight: normal;\">-0.000 (0.422)</td></tr>\n<tr>\n<th style=\"vertical-align: top; text-align: left; white-space: normal; border-style: solid solid solid solid; border-width: 0pt 0pt 0pt 0pt;    padding: 6pt 6pt 6pt 6pt; font-weight: normal;\">`Possessions dishwasher`TRUE</th><td style=\"vertical-align: top; text-align: right; white-space: normal; border-style: solid solid solid solid; border-width: 0pt 0pt 0pt 0pt;    padding: 6pt 6pt 6pt 6pt; font-weight: normal;\">-0.074 (0.336)</td><td style=\"vertical-align: top; text-align: right; white-space: normal; border-style: solid solid solid solid; border-width: 0pt 0pt 0pt 0pt;    padding: 6pt 6pt 6pt 6pt; font-weight: normal;\">-0.078 (0.234)</td></tr>\n<tr>\n<th style=\"vertical-align: top; text-align: left; white-space: normal; border-style: solid solid solid solid; border-width: 0pt 0pt 0pt 0pt;    padding: 6pt 6pt 6pt 6pt; font-weight: normal;\">`How many cellular phones`Three or more</th><td style=\"vertical-align: top; text-align: right; white-space: normal; border-style: solid solid solid solid; border-width: 0pt 0pt 0pt 0pt;    padding: 6pt 6pt 6pt 6pt; font-weight: normal;\">-0.851 (0.987)</td><td style=\"vertical-align: top; text-align: right; white-space: normal; border-style: solid solid solid solid; border-width: 0pt 0pt 0pt 0pt;    padding: 6pt 6pt 6pt 6pt; font-weight: normal;\">-0.906 (0.741)</td></tr>\n<tr>\n<th style=\"vertical-align: top; text-align: left; white-space: normal; border-style: solid solid solid solid; border-width: 0pt 0pt 0pt 0pt;    padding: 6pt 6pt 6pt 6pt; font-weight: normal;\">`How many cellular phones`Two</th><td style=\"vertical-align: top; text-align: right; white-space: normal; border-style: solid solid solid solid; border-width: 0pt 0pt 0pt 0pt;    padding: 6pt 6pt 6pt 6pt; font-weight: normal;\">-0.192 (0.985)</td><td style=\"vertical-align: top; text-align: right; white-space: normal; border-style: solid solid solid solid; border-width: 0pt 0pt 0pt 0pt;    padding: 6pt 6pt 6pt 6pt; font-weight: normal;\">-0.478 (0.771)</td></tr>\n<tr>\n<th style=\"vertical-align: top; text-align: left; white-space: normal; border-style: solid solid solid solid; border-width: 0pt 0pt 0pt 0pt;    padding: 6pt 6pt 6pt 6pt; font-weight: normal;\">`How many televisions`Three or more</th><td style=\"vertical-align: top; text-align: right; white-space: normal; border-style: solid solid solid solid; border-width: 0pt 0pt 0pt 0pt;    padding: 6pt 6pt 6pt 6pt; font-weight: bold;\">1.378 * (0.645)</td><td style=\"vertical-align: top; text-align: right; white-space: normal; border-style: solid solid solid solid; border-width: 0pt 0pt 0pt 0pt;    padding: 6pt 6pt 6pt 6pt; font-weight: bold;\">0.995 *** (0.302)</td></tr>\n<tr>\n<th style=\"vertical-align: top; text-align: left; white-space: normal; border-style: solid solid solid solid; border-width: 0pt 0pt 0pt 0pt;    padding: 6pt 6pt 6pt 6pt; font-weight: normal;\">`How many televisions`Two</th><td style=\"vertical-align: top; text-align: right; white-space: normal; border-style: solid solid solid solid; border-width: 0pt 0pt 0pt 0pt;    padding: 6pt 6pt 6pt 6pt; font-weight: normal;\">0.816 (0.640)</td><td style=\"vertical-align: top; text-align: right; white-space: normal; border-style: solid solid solid solid; border-width: 0pt 0pt 0pt 0pt;    padding: 6pt 6pt 6pt 6pt; font-weight: normal;\">0.519 (0.324)</td></tr>\n<tr>\n<th style=\"vertical-align: top; text-align: left; white-space: normal; border-style: solid solid solid solid; border-width: 0pt 0pt 0pt 0pt;    padding: 6pt 6pt 6pt 6pt; font-weight: normal;\">`How many computers`One</th><td style=\"vertical-align: top; text-align: right; white-space: normal; border-style: solid solid solid solid; border-width: 0pt 0pt 0pt 0pt;    padding: 6pt 6pt 6pt 6pt; font-weight: normal;\">0.589 (1.188)</td><td style=\"vertical-align: top; text-align: right; white-space: normal; border-style: solid solid solid solid; border-width: 0pt 0pt 0pt 0pt;    padding: 6pt 6pt 6pt 6pt; font-weight: normal;\">0.343 (0.823)</td></tr>\n<tr>\n<th style=\"vertical-align: top; text-align: left; white-space: normal; border-style: solid solid solid solid; border-width: 0pt 0pt 0pt 0pt;    padding: 6pt 6pt 6pt 6pt; font-weight: normal;\">`How many computers`Three or more</th><td style=\"vertical-align: top; text-align: right; white-space: normal; border-style: solid solid solid solid; border-width: 0pt 0pt 0pt 0pt;    padding: 6pt 6pt 6pt 6pt; font-weight: normal;\">0.174 (1.168)</td><td style=\"vertical-align: top; text-align: right; white-space: normal; border-style: solid solid solid solid; border-width: 0pt 0pt 0pt 0pt;    padding: 6pt 6pt 6pt 6pt; font-weight: normal;\">-0.072 (0.838)</td></tr>\n<tr>\n<th style=\"vertical-align: top; text-align: left; white-space: normal; border-style: solid solid solid solid; border-width: 0pt 0pt 0pt 0pt;    padding: 6pt 6pt 6pt 6pt; font-weight: normal;\">`How many computers`Two</th><td style=\"vertical-align: top; text-align: right; white-space: normal; border-style: solid solid solid solid; border-width: 0pt 0pt 0pt 0pt;    padding: 6pt 6pt 6pt 6pt; font-weight: normal;\">0.079 (1.143)</td><td style=\"vertical-align: top; text-align: right; white-space: normal; border-style: solid solid solid solid; border-width: 0pt 0pt 0pt 0pt;    padding: 6pt 6pt 6pt 6pt; font-weight: normal;\">-0.120 (0.832)</td></tr>\n<tr>\n<th style=\"vertical-align: top; text-align: left; white-space: normal; border-style: solid solid solid solid; border-width: 0pt 0pt 0pt 0pt;    padding: 6pt 6pt 6pt 6pt; font-weight: normal;\">`How many cars`Three or more</th><td style=\"vertical-align: top; text-align: right; white-space: normal; border-style: solid solid solid solid; border-width: 0pt 0pt 0pt 0pt;    padding: 6pt 6pt 6pt 6pt; font-weight: normal;\">0.038 (0.458)</td><td style=\"vertical-align: top; text-align: right; white-space: normal; border-style: solid solid solid solid; border-width: 0pt 0pt 0pt 0pt;    padding: 6pt 6pt 6pt 6pt; font-weight: normal;\">-0.041 (0.295)</td></tr>\n<tr>\n<th style=\"vertical-align: top; text-align: left; white-space: normal; border-style: solid solid solid solid; border-width: 0pt 0pt 0pt 0pt;    padding: 6pt 6pt 6pt 6pt; font-weight: normal;\">`How many cars`Two</th><td style=\"vertical-align: top; text-align: right; white-space: normal; border-style: solid solid solid solid; border-width: 0pt 0pt 0pt 0pt;    padding: 6pt 6pt 6pt 6pt; font-weight: normal;\">-0.223 (0.427)</td><td style=\"vertical-align: top; text-align: right; white-space: normal; border-style: solid solid solid solid; border-width: 0pt 0pt 0pt 0pt;    padding: 6pt 6pt 6pt 6pt; font-weight: normal;\">-0.264 (0.291)</td></tr>\n<tr>\n<th style=\"vertical-align: top; text-align: left; white-space: normal; border-style: solid solid solid solid; border-width: 0pt 0pt 0pt 0pt;    padding: 6pt 6pt 6pt 6pt; font-weight: normal;\">`How many rooms bath or shower`Three or more</th><td style=\"vertical-align: top; text-align: right; white-space: normal; border-style: solid solid solid solid; border-width: 0pt 0pt 0pt 0pt;    padding: 6pt 6pt 6pt 6pt; font-weight: bold;\">-1.001 * (0.427)</td><td style=\"vertical-align: top; text-align: right; white-space: normal; border-style: solid solid solid solid; border-width: 0pt 0pt 0pt 0pt;    padding: 6pt 6pt 6pt 6pt; font-weight: bold;\">-0.703 ** (0.238)</td></tr>\n<tr>\n<th style=\"vertical-align: top; text-align: left; white-space: normal; border-style: solid solid solid solid; border-width: 0pt 0pt 0pt 0pt;    padding: 6pt 6pt 6pt 6pt; font-weight: normal;\">`How many rooms bath or shower`Two</th><td style=\"vertical-align: top; text-align: right; white-space: normal; border-style: solid solid solid solid; border-width: 0pt 0pt 0pt 0pt;    padding: 6pt 6pt 6pt 6pt; font-weight: normal;\">-0.223 (0.371)</td><td style=\"vertical-align: top; text-align: right; white-space: normal; border-style: solid solid solid solid; border-width: 0pt 0pt 0pt 0pt;    padding: 6pt 6pt 6pt 6pt; font-weight: normal;\">-0.107 (0.217)</td></tr>\n<tr>\n<th style=\"vertical-align: top; text-align: left; white-space: normal; border-style: solid solid solid solid; border-width: 0pt 0pt 0pt 0pt;    padding: 6pt 6pt 6pt 6pt; font-weight: normal;\">`How many books at home`101-200 books</th><td style=\"vertical-align: top; text-align: right; white-space: normal; border-style: solid solid solid solid; border-width: 0pt 0pt 0pt 0pt;    padding: 6pt 6pt 6pt 6pt; font-weight: normal;\">-0.255 (0.440)</td><td style=\"vertical-align: top; text-align: right; white-space: normal; border-style: solid solid solid solid; border-width: 0pt 0pt 0pt 0pt;    padding: 6pt 6pt 6pt 6pt; font-weight: normal;\">-0.367 (0.327)</td></tr>\n<tr>\n<th style=\"vertical-align: top; text-align: left; white-space: normal; border-style: solid solid solid solid; border-width: 0pt 0pt 0pt 0pt;    padding: 6pt 6pt 6pt 6pt; font-weight: normal;\">`How many books at home`11-25 books</th><td style=\"vertical-align: top; text-align: right; white-space: normal; border-style: solid solid solid solid; border-width: 0pt 0pt 0pt 0pt;    padding: 6pt 6pt 6pt 6pt; font-weight: normal;\">-0.158 (0.431)</td><td style=\"vertical-align: top; text-align: right; white-space: normal; border-style: solid solid solid solid; border-width: 0pt 0pt 0pt 0pt;    padding: 6pt 6pt 6pt 6pt; font-weight: normal;\">-0.158 (0.339)</td></tr>\n<tr>\n<th style=\"vertical-align: top; text-align: left; white-space: normal; border-style: solid solid solid solid; border-width: 0pt 0pt 0pt 0pt;    padding: 6pt 6pt 6pt 6pt; font-weight: normal;\">`How many books at home`201-500 books</th><td style=\"vertical-align: top; text-align: right; white-space: normal; border-style: solid solid solid solid; border-width: 0pt 0pt 0pt 0pt;    padding: 6pt 6pt 6pt 6pt; font-weight: bold;\">-0.998 * (0.477)</td><td style=\"vertical-align: top; text-align: right; white-space: normal; border-style: solid solid solid solid; border-width: 0pt 0pt 0pt 0pt;    padding: 6pt 6pt 6pt 6pt; font-weight: bold;\">-0.985 ** (0.334)</td></tr>\n<tr>\n<th style=\"vertical-align: top; text-align: left; white-space: normal; border-style: solid solid solid solid; border-width: 0pt 0pt 0pt 0pt;    padding: 6pt 6pt 6pt 6pt; font-weight: normal;\">`How many books at home`26-100 books</th><td style=\"vertical-align: top; text-align: right; white-space: normal; border-style: solid solid solid solid; border-width: 0pt 0pt 0pt 0pt;    padding: 6pt 6pt 6pt 6pt; font-weight: normal;\">-0.498 (0.395)</td><td style=\"vertical-align: top; text-align: right; white-space: normal; border-style: solid solid solid solid; border-width: 0pt 0pt 0pt 0pt;    padding: 6pt 6pt 6pt 6pt; font-weight: normal;\">-0.489 (0.302)</td></tr>\n<tr>\n<th style=\"vertical-align: top; text-align: left; white-space: normal; border-style: solid solid solid solid; border-width: 0pt 0pt 0pt 0pt;    padding: 6pt 6pt 6pt 6pt; font-weight: normal;\">`How many books at home`More than 500 books</th><td style=\"vertical-align: top; text-align: right; white-space: normal; border-style: solid solid solid solid; border-width: 0pt 0pt 0pt 0pt;    padding: 6pt 6pt 6pt 6pt; font-weight: normal;\">-1.082 (0.558)</td><td style=\"vertical-align: top; text-align: right; white-space: normal; border-style: solid solid solid solid; border-width: 0pt 0pt 0pt 0pt;    padding: 6pt 6pt 6pt 6pt; font-weight: bold;\">-1.042 ** (0.366)</td></tr>\n<tr>\n<th style=\"vertical-align: top; text-align: left; white-space: normal; border-style: solid solid solid solid; border-width: 0pt 0pt 0pt 0pt;    padding: 6pt 6pt 6pt 6pt; font-weight: normal;\">`Reading Enjoyment Time`30 minutes or less a day</th><td style=\"vertical-align: top; text-align: right; white-space: normal; border-style: solid solid solid solid; border-width: 0pt 0pt 0pt 0pt;    padding: 6pt 6pt 6pt 6pt; font-weight: normal;\">-0.071 (0.477)</td><td style=\"vertical-align: top; text-align: right; white-space: normal; border-style: solid solid solid solid; border-width: 0pt 0pt 0pt 0pt;    padding: 6pt 6pt 6pt 6pt; font-weight: normal;\">-0.183 (0.251)</td></tr>\n<tr>\n<th style=\"vertical-align: top; text-align: left; white-space: normal; border-style: solid solid solid solid; border-width: 0pt 0pt 0pt 0pt;    padding: 6pt 6pt 6pt 6pt; font-weight: normal;\">`Reading Enjoyment Time`Between 30 and 60 minutes</th><td style=\"vertical-align: top; text-align: right; white-space: normal; border-style: solid solid solid solid; border-width: 0pt 0pt 0pt 0pt;    padding: 6pt 6pt 6pt 6pt; font-weight: normal;\">0.494 (0.457)</td><td style=\"vertical-align: top; text-align: right; white-space: normal; border-style: solid solid solid solid; border-width: 0pt 0pt 0pt 0pt;    padding: 6pt 6pt 6pt 6pt; font-weight: normal;\">0.311 (0.283)</td></tr>\n<tr>\n<th style=\"vertical-align: top; text-align: left; white-space: normal; border-style: solid solid solid solid; border-width: 0pt 0pt 0pt 0pt;    padding: 6pt 6pt 6pt 6pt; font-weight: normal;\">`Reading Enjoyment Time`I don't read for enjoyment</th><td style=\"vertical-align: top; text-align: right; white-space: normal; border-style: solid solid solid solid; border-width: 0pt 0pt 0pt 0pt;    padding: 6pt 6pt 6pt 6pt; font-weight: normal;\">-0.019 (0.466)</td><td style=\"vertical-align: top; text-align: right; white-space: normal; border-style: solid solid solid solid; border-width: 0pt 0pt 0pt 0pt;    padding: 6pt 6pt 6pt 6pt; font-weight: normal;\">-0.118 (0.259)</td></tr>\n<tr>\n<th style=\"vertical-align: top; text-align: left; white-space: normal; border-style: solid solid solid solid; border-width: 0pt 0pt 0pt 0pt;    padding: 6pt 6pt 6pt 6pt; font-weight: normal;\">`Reading Enjoyment Time`More than 2 hours a day</th><td style=\"vertical-align: top; text-align: right; white-space: normal; border-style: solid solid solid solid; border-width: 0pt 0pt 0pt 0pt;    padding: 6pt 6pt 6pt 6pt; font-weight: normal;\">0.245 (0.747)</td><td style=\"vertical-align: top; text-align: right; white-space: normal; border-style: solid solid solid solid; border-width: 0pt 0pt 0pt 0pt;    padding: 6pt 6pt 6pt 6pt; font-weight: normal;\">0.208 (0.406)</td></tr>\n<tr>\n<th style=\"vertical-align: top; text-align: left; white-space: normal; border-style: solid solid solid solid; border-width: 0pt 0pt 0pt 0pt;    padding: 6pt 6pt 6pt 6pt; font-weight: normal;\">`<enrich> in <test lang=\"\">`TRUE</test></enrich></th><td style=\"vertical-align: top; text-align: right; white-space: normal; border-style: solid solid solid solid; border-width: 0pt 0pt 0pt 0pt;    padding: 6pt 6pt 6pt 6pt; font-weight: normal;\">-0.012 (0.671)</td><td style=\"vertical-align: top; text-align: right; white-space: normal; border-style: solid solid solid solid; border-width: 0pt 0pt 0pt 0pt;    padding: 6pt 6pt 6pt 6pt; font-weight: normal;\">0.242 (0.413)</td></tr>\n<tr>\n<th style=\"vertical-align: top; text-align: left; white-space: normal; border-style: solid solid solid solid; border-width: 0pt 0pt 0pt 0pt;    padding: 6pt 6pt 6pt 6pt; font-weight: normal;\">`<enrich> in <mathematics>`TRUE</mathematics></enrich></th><td style=\"vertical-align: top; text-align: right; white-space: normal; border-style: solid solid solid solid; border-width: 0pt 0pt 0pt 0pt;    padding: 6pt 6pt 6pt 6pt; font-weight: normal;\">-0.236 (0.569)</td><td style=\"vertical-align: top; text-align: right; white-space: normal; border-style: solid solid solid solid; border-width: 0pt 0pt 0pt 0pt;    padding: 6pt 6pt 6pt 6pt; font-weight: normal;\">-0.276 (0.323)</td></tr>\n<tr>\n<th style=\"vertical-align: top; text-align: left; white-space: normal; border-style: solid solid solid solid; border-width: 0pt 0pt 0pt 0pt;    padding: 6pt 6pt 6pt 6pt; font-weight: normal;\">`<enrich> in <science>`TRUE</science></enrich></th><td style=\"vertical-align: top; text-align: right; white-space: normal; border-style: solid solid solid solid; border-width: 0pt 0pt 0pt 0pt;    padding: 6pt 6pt 6pt 6pt; font-weight: normal;\">0.576 (0.634)</td><td style=\"vertical-align: top; text-align: right; white-space: normal; border-style: solid solid solid solid; border-width: 0pt 0pt 0pt 0pt;    padding: 6pt 6pt 6pt 6pt; font-weight: normal;\">0.367 (0.410)</td></tr>\n<tr>\n<th style=\"vertical-align: top; text-align: left; white-space: normal; border-style: solid solid solid solid; border-width: 0pt 0pt 0pt 0pt;    padding: 6pt 6pt 6pt 6pt; font-weight: normal;\">`<remedial> in <test lang=\"\">`TRUE</test></remedial></th><td style=\"vertical-align: top; text-align: right; white-space: normal; border-style: solid solid solid solid; border-width: 0pt 0pt 0pt 0pt;    padding: 6pt 6pt 6pt 6pt; font-weight: normal;\">0.311 (0.964)</td><td style=\"vertical-align: top; text-align: right; white-space: normal; border-style: solid solid solid solid; border-width: 0pt 0pt 0pt 0pt;    padding: 6pt 6pt 6pt 6pt; font-weight: normal;\">0.041 (0.524)</td></tr>\n<tr>\n<th style=\"vertical-align: top; text-align: left; white-space: normal; border-style: solid solid solid solid; border-width: 0pt 0pt 0pt 0pt;    padding: 6pt 6pt 6pt 6pt; font-weight: normal;\">`<remedial> in <mathematics>`TRUE</mathematics></remedial></th><td style=\"vertical-align: top; text-align: right; white-space: normal; border-style: solid solid solid solid; border-width: 0pt 0pt 0pt 0pt;    padding: 6pt 6pt 6pt 6pt; font-weight: normal;\">-0.511 (0.685)</td><td style=\"vertical-align: top; text-align: right; white-space: normal; border-style: solid solid solid solid; border-width: 0pt 0pt 0pt 0pt;    padding: 6pt 6pt 6pt 6pt; font-weight: normal;\">-0.614 (0.384)</td></tr>\n<tr>\n<th style=\"vertical-align: top; text-align: left; white-space: normal; border-style: solid solid solid solid; border-width: 0pt 0pt 0pt 0pt;    padding: 6pt 6pt 6pt 6pt; font-weight: normal;\">`<remedial> in <science>`TRUE</science></remedial></th><td style=\"vertical-align: top; text-align: right; white-space: normal; border-style: solid solid solid solid; border-width: 0pt 0pt 0pt 0pt;    padding: 6pt 6pt 6pt 6pt; font-weight: normal;\">-0.197 (0.789)</td><td style=\"vertical-align: top; text-align: right; white-space: normal; border-style: solid solid solid solid; border-width: 0pt 0pt 0pt 0pt;    padding: 6pt 6pt 6pt 6pt; font-weight: normal;\">0.245 (0.496)</td></tr>\n<tr>\n<th style=\"vertical-align: top; text-align: left; white-space: normal; border-style: solid solid solid solid; border-width: 0pt 0pt 0pt 0pt;    padding: 6pt 6pt 6pt 6pt; font-weight: normal;\">`Out of school lessons <test lang=\"\">`Do not attend</test></th><td style=\"vertical-align: top; text-align: right; white-space: normal; border-style: solid solid solid solid; border-width: 0pt 0pt 0pt 0pt;    padding: 6pt 6pt 6pt 6pt; font-weight: normal;\">-0.279 (0.815)</td><td style=\"vertical-align: top; text-align: right; white-space: normal; border-style: solid solid solid solid; border-width: 0pt 0pt 0pt 0pt;    padding: 6pt 6pt 6pt 6pt; font-weight: normal;\">-0.106 (0.493)</td></tr>\n<tr>\n<th style=\"vertical-align: top; text-align: left; white-space: normal; border-style: solid solid solid solid; border-width: 0pt 0pt 0pt 0pt;    padding: 6pt 6pt 6pt 6pt; font-weight: normal;\">`Out of school lessons <test lang=\"\">`Less than 2 hours a week</test></th><td style=\"vertical-align: top; text-align: right; white-space: normal; border-style: solid solid solid solid; border-width: 0pt 0pt 0pt 0pt;    padding: 6pt 6pt 6pt 6pt; font-weight: normal;\">-0.685 (0.712)</td><td style=\"vertical-align: top; text-align: right; white-space: normal; border-style: solid solid solid solid; border-width: 0pt 0pt 0pt 0pt;    padding: 6pt 6pt 6pt 6pt; font-weight: normal;\">-0.533 (0.465)</td></tr>\n<tr>\n<th style=\"vertical-align: top; text-align: left; white-space: normal; border-style: solid solid solid solid; border-width: 0pt 0pt 0pt 0pt;    padding: 6pt 6pt 6pt 6pt; font-weight: normal;\">`Out of school lessons <maths>`4 up to 6 hours per week</maths></th><td style=\"vertical-align: top; text-align: right; white-space: normal; border-style: solid solid solid solid; border-width: 0pt 0pt 0pt 0pt;    padding: 6pt 6pt 6pt 6pt; font-weight: normal;\">0.237 (0.902)</td><td style=\"vertical-align: top; text-align: right; white-space: normal; border-style: solid solid solid solid; border-width: 0pt 0pt 0pt 0pt;    padding: 6pt 6pt 6pt 6pt; font-weight: normal;\">0.386 (0.541)</td></tr>\n<tr>\n<th style=\"vertical-align: top; text-align: left; white-space: normal; border-style: solid solid solid solid; border-width: 0pt 0pt 0pt 0pt;    padding: 6pt 6pt 6pt 6pt; font-weight: normal;\">`Out of school lessons <maths>`Do not attend</maths></th><td style=\"vertical-align: top; text-align: right; white-space: normal; border-style: solid solid solid solid; border-width: 0pt 0pt 0pt 0pt;    padding: 6pt 6pt 6pt 6pt; font-weight: normal;\">-0.254 (0.798)</td><td style=\"vertical-align: top; text-align: right; white-space: normal; border-style: solid solid solid solid; border-width: 0pt 0pt 0pt 0pt;    padding: 6pt 6pt 6pt 6pt; font-weight: normal;\">-0.160 (0.410)</td></tr>\n<tr>\n<th style=\"vertical-align: top; text-align: left; white-space: normal; border-style: solid solid solid solid; border-width: 0pt 0pt 0pt 0pt;    padding: 6pt 6pt 6pt 6pt; font-weight: normal;\">`Out of school lessons <maths>`Less than 2 hours a week</maths></th><td style=\"vertical-align: top; text-align: right; white-space: normal; border-style: solid solid solid solid; border-width: 0pt 0pt 0pt 0pt;    padding: 6pt 6pt 6pt 6pt; font-weight: normal;\">-0.117 (0.618)</td><td style=\"vertical-align: top; text-align: right; white-space: normal; border-style: solid solid solid solid; border-width: 0pt 0pt 0pt 0pt;    padding: 6pt 6pt 6pt 6pt; font-weight: normal;\">0.122 (0.369)</td></tr>\n<tr>\n<th style=\"vertical-align: top; text-align: left; white-space: normal; border-style: solid solid solid solid; border-width: 0pt 0pt 0pt 0pt;    padding: 6pt 6pt 6pt 6pt; font-weight: normal;\">`Out of school lessons <science>`4 up to 6 hours per week</science></th><td style=\"vertical-align: top; text-align: right; white-space: normal; border-style: solid solid solid solid; border-width: 0pt 0pt 0pt 0pt;    padding: 6pt 6pt 6pt 6pt; font-weight: normal;\">-1.091 (0.789)</td><td style=\"vertical-align: top; text-align: right; white-space: normal; border-style: solid solid solid solid; border-width: 0pt 0pt 0pt 0pt;    padding: 6pt 6pt 6pt 6pt; font-weight: normal;\">-0.837 (0.549)</td></tr>\n<tr>\n<th style=\"vertical-align: top; text-align: left; white-space: normal; border-style: solid solid solid solid; border-width: 0pt 0pt 0pt 0pt;    padding: 6pt 6pt 6pt 6pt; font-weight: normal;\">`Out of school lessons <science>`Do not attend</science></th><td style=\"vertical-align: top; text-align: right; white-space: normal; border-style: solid solid solid solid; border-width: 0pt 0pt 0pt 0pt;    padding: 6pt 6pt 6pt 6pt; font-weight: normal;\">-0.565 (0.717)</td><td style=\"vertical-align: top; text-align: right; white-space: normal; border-style: solid solid solid solid; border-width: 0pt 0pt 0pt 0pt;    padding: 6pt 6pt 6pt 6pt; font-weight: normal;\">-0.456 (0.472)</td></tr>\n<tr>\n<th style=\"vertical-align: top; text-align: left; white-space: normal; border-style: solid solid solid solid; border-width: 0pt 0pt 0pt 0pt;    padding: 6pt 6pt 6pt 6pt; font-weight: normal;\">`Out of school lessons <science>`Less than 2 hours a week</science></th><td style=\"vertical-align: top; text-align: right; white-space: normal; border-style: solid solid solid solid; border-width: 0pt 0pt 0.4pt 0pt;    padding: 6pt 6pt 6pt 6pt; font-weight: normal;\">-0.534 (0.751)</td><td style=\"vertical-align: top; text-align: right; white-space: normal; border-style: solid solid solid solid; border-width: 0pt 0pt 0.4pt 0pt;    padding: 6pt 6pt 6pt 6pt; font-weight: normal;\">-0.513 (0.464)</td></tr>\n<tr>\n<th style=\"vertical-align: top; text-align: left; white-space: normal; border-style: solid solid solid solid; border-width: 0pt 0pt 0.8pt 0pt;    padding: 6pt 6pt 6pt 6pt; font-weight: normal;\">n</th><td style=\"vertical-align: top; text-align: right; white-space: normal; border-style: solid solid solid solid; border-width: 0.4pt 0pt 0.8pt 0pt;    padding: 6pt 6pt 6pt 6pt; font-weight: normal;\">783     </td><td style=\"vertical-align: top; text-align: right; white-space: normal; border-style: solid solid solid solid; border-width: 0.4pt 0pt 0.8pt 0pt;    padding: 6pt 6pt 6pt 6pt; font-weight: normal;\">3925.000 </td></tr>\n<tr>\n<th colspan=\"3\" style=\"vertical-align: top; text-align: left; white-space: normal; border-style: solid solid solid solid; border-width: 0.8pt 0pt 0pt 0pt;    padding: 6pt 6pt 6pt 6pt; font-weight: normal;\"> *** p &lt; 0.001;  ** p &lt; 0.01;  * p &lt; 0.05.</th></tr>\n</tbody></table>\n</div>\n</div>\n</section>\n<div class=\"jp-relatedposts\" id=\"jp-relatedposts\">\n<h3 class=\"jp-relatedposts-headline\"><em>Related</em></h3>\n</div>\n<!-- Share buttons by mashshare.net - Version: 4.0.47-->\n<div style=\"border: 1px solid; background: none repeat scroll 0 0 #EDEDED; margin: 1px; font-size: 13px;\">\n<div style=\"text-align: center;\">To <strong>leave a comment</strong> for the author, please follow the link and comment on their blog: <strong><a href=\"https://bryer.org/posts/2025-05-06-Downsampling.html\"> Jason Bryer</a></strong>.</div>\n<hr/>\n<a href=\"https://www.r-bloggers.com/\" rel=\"nofollow\">R-bloggers.com</a> offers <strong><a href=\"https://feedburner.google.com/fb/a/mailverify?uri=RBloggers\" rel=\"nofollow\">daily e-mail updates</a></strong> about <a href=\"https://www.r-project.org/\" rel=\"nofollow\" title=\"The R Project for Statistical Computing\">R</a> news and tutorials about <a href=\"https://www.r-bloggers.com/how-to-learn-r-2/\" rel=\"nofollow\" title=\"R tutorials\">learning R</a> and many other topics. <a href=\"https://www.r-users.com/\" rel=\"nofollow\" title=\"Data science jobs\">Click here if you're looking to post or find an R/data-science job</a>.\n\n<hr/>Want to share your content on R-bloggers?<a href=\"https://www.r-bloggers.com/add-your-blog/\" rel=\"nofollow\"> click here</a> if you have a blog, or <a href=\"http://r-posts.com/\" rel=\"nofollow\"> here</a> if you don't.\n</div> </div>\n</article>",
      "main_text": "Downsampling for predictive modeling\nPosted on\nMay 5, 2025\nby\nJason Bryer\nin\nR bloggers\n| 0 Comments\n[This article was first published on\nJason Bryer\n, and kindly contributed to\nR-bloggers\n].  (You can report issue about the content on this page\nhere\n)\nWant to share your content on R-bloggers?\nclick here\nif you have a blog, or\nhere\nif you don't.\nNote that this is cross posted with a vignette in the\nmedley\nR package. For the most up-to-date version go here:\nhttps://jbryer.github.io/medley/articles/downsampling.html\nComments can be directed to me on Mastodon at\n@vis.social\n@jbryer\n.\nTo install the development version of the\nmedley\npackage, use the following command:\nremotes::install_github('jbryer/medley')\nOne of the challenges in predictive modeling occurs when the dependent variable is imbalanced (i.e. the ratio of one class to the other is high, generally greater than 80-to-20). Several strategies have been proposed to address the imbalance including upsampling and downsampling. Upsampling involves duplicating data from the smaller class to better match the number of observations from the larger class. The disadvantage of upsampling is that new data is being created that could potentially cause overfitting. Additionally, by artificially increasing the sample size standard errors will also be artificially decreased. Downsampling involves randomly selecting from the larger class to achieve better balance. The disadvantage of downsampling is that some data, and sometimes a lot of data, is excluded from the model.\nThis paper introduces a procedure that downsamples while using all available data by training multiple models. For example, consider a dataset with 1,000 observations, 900 are of class A and 100 are of class B. Assuming we wish to have perfect balance between A and B, we would randomly assign the 900 class A observations to one of nine models. We can then pool the predictions across the nine models.\nWorking Example\nlibrary(medley)\ndata('pisa', package = 'medley')\ndata('pisa_variables', package = 'medley')\nThe\nProgramme of International Student Assessment\n(PISA) is international study conducted by the\nOrganisation for Economic Co-operation and Development\n(OECD) every three years. It assesses 15-year-old students in mathematics, science, and reading while collecting information about the students and their schools. The\npisa\ndataset included in the\nmedley\npackage comes from the 2009 administration and is used to demonstrate predicting private versus public school attendance. There are 5,233 observations across 44 variables with 93.4% public school students and 6.6% private school students.\nTo begin, we will split the data into a training and validation set using the\nsplitstackshape::stratified()\nfunction to ensure that the ratio of public-to-private school students is the same in both datasets.\npisa_formu <- Public ~ .\nnames(pisa) <- pisa_variables[names(pisa)]\npisa_splits <- splitstackshape::stratified(\n    pisa, group = \"Public\", size = 0.75, bothSets = TRUE)\npisa_train <- pisa_splits[[1]] |> as.data.frame()\npisa_valid <- pisa_splits[[2]] |> as.data.frame()\ntable(pisa$Public, useNA = 'ifany') |> print() |> prop.table()\nFALSE  TRUE \n  345  4888\nFALSE       TRUE \n0.06592777 0.93407223\ntable(pisa_train$Public, useNA = 'ifany') |> print() |> prop.table()\nFALSE  TRUE \n  259  3666\nFALSE       TRUE \n0.06598726 0.93401274\ntable(pisa_valid$Public, useNA = 'ifany') |> print() |> prop.table()\nFALSE  TRUE \n   86  1222\nFALSE       TRUE \n0.06574924 0.93425076\nWe can estimate a logistic regression model and get the predicted probabilities for the validation dataset.\npisa_lr_out <- glm(pisa_formu, data = pisa_train, family = binomial(link = 'logit'))\npisa_predictions <- predict(pisa_lr_out, newdata = pisa_valid, type = 'response')\nThe figure below shows the distribution of predicted probabilities for the validation dataset. There is some separation between public and private school students, but the densities are clearly centered to the right side of the range.\nggplot(data.frame(Public = pisa_valid$Public, \n                  Prediction = pisa_predictions), \n       aes(x = Prediction, color = Public)) +\n  geom_density()\nThe figure below provides a receiver operator characteristic (ROC) curve along with a plot of the accuracy, sensitivity, and specificity.\ncalculate_roc(predictions = pisa_predictions, \n              observed = pisa_valid$Public) |> plot()\nThe confusion matrix below, splitting at 0.5, indicates that this model is no better than the null model (i.e percent public school students is 93.4%). Of course we could adjust that cut value to optimize either the\nspecificity\nor\nsensitivity\n.\nconfusion_matrix(observed = pisa_valid$Public, \n                 predicted = pisa_predictions > 0.5)\npredicted              \n  observed     FALSE          TRUE\n     FALSE 1 (0.08%)    85 (6.50%)\n      TRUE 4 (0.31%) 1218 (93.12%)\nAccuracy: 93.2%\nSensitivity: 1.16%\nSpecificity: 99.67%\nShrinking Fitted Values\nIt turns out that the range of fitted values from logistic regression will shrink as the amount of imbalance in the dependent variable increases. I first encountered this issue when estimating propensity scores for\nmy dissertation\nin a study of charter versus traditional public school students. In that study using the\nNational Assessment of Educational Progress\n(NAEP) approximately 3% of students attended a charter school. In that study, the range of propensity scores were severely constrained. To explore why, the\nmultilevel::psrange()\nfunction was developed The result of this function is the figure below. Starting at the bottom, 345 public school students were randomly selected so that the logistic regression could be estimated where there is perfect balance in the dependent variable. As we move up we increase the ratio from 1:1 to 1:13. For each ratio, 20 random samples are drawn, logistic regression model estimated, and the minimum and maximum fitted values (i.e. predicted probabilities) are recorded (they are represented by the black dots and green bars). The distributions across all models are also included.\nPlotting just the ranges along with the mean of the fitted values for public (blue) and private (green) school students shows that once the ratio is greater than 3-to-1 the mean of the fitted values for the zero class (private schools in this example) is greater than 0.5.\nDownsampling\nAs discussed above one of the key disadvantages of downsampling is that in situations where there is significant imbalance we are excluding a lot of data from analysis. The\ndownsample()\nfunction will first determine how many models need to be estimated such that each observation from the larger class is used exactly once. For this example we are using a public-to-private student ratio of 2-to-1 so that for each model estimated there are 259 private and 518 public student observations. Given there are 3925 observations in our training set, the\ndowmsample()\nfunction will estimate 7 models.\npisa_ds_out <- downsample(\n  formu = pisa_formu,\n  data = pisa_train,\n  model_fun = glm,\n  ratio = 2,\n  family = binomial(link = 'logit'))\nlength(pisa_ds_out)\n[1] 7\nWe can use the\npredict()\nfunction to get a data frame of predictions. Each column corresponds to the predicted value for each of the 7 models.\npisa_predictions_ds <- predict(pisa_ds_out,\n                               newdata = pisa_valid, \n                               type = 'response')\nhead(pisa_predictions_ds)\nmodel1    model2    model3    model4    model5    model6    model7\n1 0.8511828 0.7437341 0.8921605 0.8424369 0.7347052 0.8697531 0.6928875\n2 0.7393116 0.6822714 0.9466815 0.7959953 0.8118642 0.9441840 0.9580830\n3 0.4944206 0.3813138 0.5575741 0.3586561 0.5023435 0.5805062 0.6281852\n4 0.8525691 0.8268514 0.8293386 0.8372777 0.9464037 0.8843848 0.9016058\n5 0.1823382 0.3670335 0.4556063 0.1408078 0.1899378 0.3578418 0.2657968\n6 0.9216160 0.8192096 0.9040353 0.9213184 0.8080822 0.9076342 0.8768295\nWe can average the predictions to get a single vector.\npisa_predictions_ds2 <- pisa_predictions_ds |> apply(1, mean)\nThe density distributions are provided below. These distributions are more like the distributions we expect when we have balanced data even though we did use all the observations to get these predicted probabilities.\nggplot(data.frame(Public = pisa_valid$Public, \n                  Prediction = pisa_predictions_ds2), \n       aes(x = Prediction, color = Public)) +\n  geom_density()\nAlthough the\ndownsample()\nfunction appears to address the issue of shrinking and off centered fitted values, the model performance metrics provided below suggest that it did not improve the overall performance of the model predictions.\nroc <- calculate_roc(predictions = pisa_predictions_ds2, \n                     observed = pisa_valid$Public)\nplot(roc)\nconfusion_matrix(observed = pisa_valid$Public, \n                 predicted = pisa_predictions_ds2 > 0.5)\npredicted              \n  observed        FALSE          TRUE\n     FALSE   45 (3.44%)    41 (3.13%)\n      TRUE 204 (15.60%) 1018 (77.83%)\nAccuracy: 81.27%\nSensitivity: 52.33%\nSpecificity: 83.31%\nAppendix: Model Summaries\nAbove we averaged the predicted values across all the models to get a single prediction for each observation in our validation dataset. However, it is possible to pool models using the\nmice::pool()\nfunction to get a single set of regression coefficients. The table below provides the pooled regression coefficients from the\ndownsample\nfunction along with the coefficients from the logistic regression model using all the data.\nPooled from downsamples\nComplete data\n(Intercept)\n5.516 * (2.376)\n7.862 *** (1.657)\nSexMale\n-0.823 ** (0.244)\n-0.762 *** (0.149)\n`Attend\n`Yes, one year or less\n0.495 (0.286)\n0.498 ** (0.190)\n`Age at\n`\n0.087 (0.186)\n0.075 (0.104)\n`Repeat\n`Yes, once\n0.693 (0.548)\n0.645 (0.345)\n`At Home - Mother`TRUE\n-0.888 (0.843)\n-0.921 (0.493)\n`At Home - Father`TRUE\n-0.672 (0.414)\n-0.620 * (0.277)\n`At Home - Brothers`TRUE\n0.184 (0.313)\n0.155 (0.146)\n`At Home - Sisters`TRUE\n0.563 * (0.237)\n0.454 ** (0.146)\n`At Home - Grandparents`TRUE\n-0.725 * (0.328)\n-0.648 ** (0.201)\n`At Home - Others`TRUE\n-0.094 (0.332)\n-0.136 (0.221)\n`Mother\n`\n0.101 (0.631)\n0.070 (0.388)\n`Mother Current Job Status`Other\n-0.457 (0.609)\n-0.303 (0.364)\n`Mother Current Job Status`Working Full-time\n-0.608 (0.537)\n-0.443 (0.339)\n`Mother Current Job Status`Working Part-Time\n-0.586 (0.650)\n-0.446 (0.369)\n`Father\n`\n0.072 (1.219)\n0.077 (0.832)\n`Father\n`\n-0.579 (1.121)\n-0.658 (0.754)\n`Father Current Job Status`Other\n-0.019 (0.737)\n-0.065 (0.394)\n`Father Current Job Status`Working Full-time\n0.356 (0.604)\n0.236 (0.324)\n`Father Current Job Status`Working Part-Time\n1.260 (0.892)\n0.998 (0.529)\n`Language at home`Language of test\n0.137 (0.489)\n-0.104 (0.263)\n`Possessions desk`TRUE\n-0.583 (0.404)\n-0.531 * (0.265)\n`Possessions own room`TRUE\n0.521 (0.384)\n0.600 * (0.238)\n`Possessions study place`TRUE\n-0.056 (0.488)\n-0.223 (0.303)\n`Possessions  computer`TRUE\n-0.077 (0.855)\n-0.038 (0.592)\n`Possessions software`TRUE\n0.365 (0.332)\n0.358 * (0.161)\n`Possessions Internet`TRUE\n-1.416 (0.917)\n-1.177 (0.602)\n`Possessions literature`TRUE\n-0.619 * (0.295)\n-0.551 ** (0.175)\n`Possessions poetry`TRUE\n-0.369 (0.308)\n-0.250 (0.176)\n`Possessions art`TRUE\n-0.402 (0.333)\n-0.273 (0.196)\n`Possessions textbooks`TRUE\n-0.021 (0.356)\n-0.007 (0.214)\n`Possessions dictionary`TRUE\n0.100 (0.583)\n-0.000 (0.422)\n`Possessions dishwasher`TRUE\n-0.074 (0.336)\n-0.078 (0.234)\n`How many cellular phones`Three or more\n-0.851 (0.987)\n-0.906 (0.741)\n`How many cellular phones`Two\n-0.192 (0.985)\n-0.478 (0.771)\n`How many televisions`Three or more\n1.378 * (0.645)\n0.995 *** (0.302)\n`How many televisions`Two\n0.816 (0.640)\n0.519 (0.324)\n`How many computers`One\n0.589 (1.188)\n0.343 (0.823)\n`How many computers`Three or more\n0.174 (1.168)\n-0.072 (0.838)\n`How many computers`Two\n0.079 (1.143)\n-0.120 (0.832)\n`How many cars`Three or more\n0.038 (0.458)\n-0.041 (0.295)\n`How many cars`Two\n-0.223 (0.427)\n-0.264 (0.291)\n`How many rooms bath or shower`Three or more\n-1.001 * (0.427)\n-0.703 ** (0.238)\n`How many rooms bath or shower`Two\n-0.223 (0.371)\n-0.107 (0.217)\n`How many books at home`101-200 books\n-0.255 (0.440)\n-0.367 (0.327)\n`How many books at home`11-25 books\n-0.158 (0.431)\n-0.158 (0.339)\n`How many books at home`201-500 books\n-0.998 * (0.477)\n-0.985 ** (0.334)\n`How many books at home`26-100 books\n-0.498 (0.395)\n-0.489 (0.302)\n`How many books at home`More than 500 books\n-1.082 (0.558)\n-1.042 ** (0.366)\n`Reading Enjoyment Time`30 minutes or less a day\n-0.071 (0.477)\n-0.183 (0.251)\n`Reading Enjoyment Time`Between 30 and 60 minutes\n0.494 (0.457)\n0.311 (0.283)\n`Reading Enjoyment Time`I don't read for enjoyment\n-0.019 (0.466)\n-0.118 (0.259)\n`Reading Enjoyment Time`More than 2 hours a day\n0.245 (0.747)\n0.208 (0.406)\n`\nin\n`TRUE\n-0.012 (0.671)\n0.242 (0.413)\n`\nin\n`TRUE\n-0.236 (0.569)\n-0.276 (0.323)\n`\nin\n`TRUE\n0.576 (0.634)\n0.367 (0.410)\n`\nin\n`TRUE\n0.311 (0.964)\n0.041 (0.524)\n`\nin\n`TRUE\n-0.511 (0.685)\n-0.614 (0.384)\n`\nin\n`TRUE\n-0.197 (0.789)\n0.245 (0.496)\n`Out of school lessons\n`Do not attend\n-0.279 (0.815)\n-0.106 (0.493)\n`Out of school lessons\n`Less than 2 hours a week\n-0.685 (0.712)\n-0.533 (0.465)\n`Out of school lessons\n`4 up to 6 hours per week\n0.237 (0.902)\n0.386 (0.541)\n`Out of school lessons\n`Do not attend\n-0.254 (0.798)\n-0.160 (0.410)\n`Out of school lessons\n`Less than 2 hours a week\n-0.117 (0.618)\n0.122 (0.369)\n`Out of school lessons\n`4 up to 6 hours per week\n-1.091 (0.789)\n-0.837 (0.549)\n`Out of school lessons\n`Do not attend\n-0.565 (0.717)\n-0.456 (0.472)\n`Out of school lessons\n`Less than 2 hours a week\n-0.534 (0.751)\n-0.513 (0.464)\nn\n783\n3925.000\n*** p < 0.001;  ** p < 0.01;  * p < 0.05.\nRelated\nTo\nleave a comment\nfor the author, please follow the link and comment on their blog:\nJason Bryer\n.\nR-bloggers.com\noffers\ndaily e-mail updates\nabout\nR\nnews and tutorials about\nlearning R\nand many other topics.\nClick here if you're looking to post or find an R/data-science job\n.\nWant to share your content on R-bloggers?\nclick here\nif you have a blog, or\nhere\nif you don't.",
      "meta_description": "Note that this is cross posted with a vignette in the medley R package. For the most up-to-date version go here: https://jbryer.github.io/medley/articles/downsampling.html Comments can be directed to me on Mastodon at @vis.social@jbryer. To insta...",
      "meta_keywords": null,
      "og_description": "Note that this is cross posted with a vignette in the medley R package. For the most up-to-date version go here: https://jbryer.github.io/medley/articles/downsampling.html Comments can be directed to me on Mastodon at @vis.social@jbryer. To insta...",
      "og_image": "https://bryer.org/posts/2025-05-06-Downsampling_files/figure-html/unnamed-chunk-6-1.png",
      "og_title": "Downsampling for predictive modeling | R-bloggers",
      "raw_jsonld_article": null,
      "reading_time_min": 12,
      "sitemap_lastmod": null,
      "twitter_description": "Note that this is cross posted with a vignette in the medley R package. For the most up-to-date version go here: https://jbryer.github.io/medley/articles/downsampling.html Comments can be directed to me on Mastodon at @vis.social@jbryer. To insta...",
      "twitter_title": "Downsampling for predictive modeling | R-bloggers",
      "url": "https://www.r-bloggers.com/2025/05/downsampling-for-predictive-modeling/",
      "word_count": 2394
    }
  }
}