{
  "id": "69ea0e91597e408f487ac984e0a92236568fcf92",
  "url": "https://www.r-bloggers.com/2009/08/example-7-9-get-data-from-sas-into-r/",
  "created_at_utc": "2025-11-17T20:40:32Z",
  "data": null,
  "raw_original": {
    "uuid": "c4e96d9a-4273-47c7-bd1f-7271f0dc553d",
    "created_at": "2025-11-17 20:40:32",
    "raw_json": {
      "article_author": null,
      "article_headline": null,
      "article_modified": null,
      "article_published": null,
      "article_section": null,
      "article_tags": null,
      "canonical_url": "https://www.r-bloggers.com/2009/08/example-7-9-get-data-from-sas-into-r/",
      "crawled_at": "2025-11-17T10:29:13.510124",
      "external_links": [
        {
          "href": "https://feedproxy.google.com/~r/SASandR/~3/XGjRXxUvbw4/example-79-get-data-from-sas-into-r.html",
          "text": "SAS and R"
        },
        {
          "href": "http://r-posts.com/",
          "text": "here"
        },
        {
          "href": "https://i2.wp.com/2.bp.blogspot.com/_zLwIdu2sLKM/Sn4SyZpME9I/AAAAAAAACc4/HboicjG4taQ/s1600-h/xyplot.jpeg",
          "text": null
        },
        {
          "href": "https://feedproxy.google.com/~r/SASandR/~3/XGjRXxUvbw4/example-79-get-data-from-sas-into-r.html",
          "text": "SAS and R"
        },
        {
          "href": "https://feedburner.google.com/fb/a/mailverify?uri=RBloggers",
          "text": "daily e-mail updates"
        },
        {
          "href": "https://www.r-project.org/",
          "text": "R"
        },
        {
          "href": "https://www.r-users.com/",
          "text": "Click here if you're looking to post or find an R/data-science job"
        },
        {
          "href": "http://r-posts.com/",
          "text": "here"
        }
      ],
      "h1_title": "R-bloggers",
      "html_title": "Example 7.9: Get data from SAS into R | R-bloggers",
      "images": [
        {
          "alt": null,
          "base64": null,
          "src": "https://i1.wp.com/2.bp.blogspot.com/_zLwIdu2sLKM/Sn4SyZpME9I/AAAAAAAACc4/HboicjG4taQ/s400/xyplot.jpeg?w=578"
        },
        {
          "alt": null,
          "base64": null,
          "src": "https://i1.wp.com/2.bp.blogspot.com/_zLwIdu2sLKM/Sn4SyZpME9I/AAAAAAAACc4/HboicjG4taQ/s400/xyplot.jpeg?w=578"
        },
        {
          "alt": null,
          "base64": null,
          "src": "https://blogger.googleusercontent.com/tracker/1275149608391671670-6100183808587086531?l=sas-and-r.blogspot.com"
        },
        {
          "alt": null,
          "base64": null,
          "src": "https://blogger.googleusercontent.com/tracker/1275149608391671670-6100183808587086531?l=sas-and-r.blogspot.com"
        },
        {
          "alt": null,
          "base64": null,
          "src": "https://feeds.feedburner.com/~r/SASandR/~4/XGjRXxUvbw4"
        },
        {
          "alt": null,
          "base64": null,
          "src": "https://feeds.feedburner.com/~r/SASandR/~4/XGjRXxUvbw4"
        }
      ],
      "internal_links": [
        {
          "href": "https://www.r-bloggers.com/author/ken-kleinman/",
          "text": "Ken Kleinman"
        },
        {
          "href": "https://www.r-bloggers.com/category/r-bloggers/",
          "text": "R bloggers"
        },
        {
          "href": "https://www.r-bloggers.com/",
          "text": "R-bloggers"
        },
        {
          "href": "https://www.r-bloggers.com/contact-us/",
          "text": "here"
        },
        {
          "href": "https://www.r-bloggers.com/add-your-blog/",
          "text": "click here"
        },
        {
          "href": "https://www.r-bloggers.com/",
          "text": "R-bloggers.com"
        },
        {
          "href": "https://www.r-bloggers.com/how-to-learn-r-2/",
          "text": "learning R"
        },
        {
          "href": "https://www.r-bloggers.com/add-your-blog/",
          "text": "click here"
        },
        {
          "href": "https://www.r-bloggers.com/tag/as-factor/",
          "text": "as.factor"
        },
        {
          "href": "https://www.r-bloggers.com/tag/convert-sas-to-r/",
          "text": "convert SAS to R"
        },
        {
          "href": "https://www.r-bloggers.com/tag/lattice-library/",
          "text": "lattice library"
        },
        {
          "href": "https://www.r-bloggers.com/tag/read-data-in-stata-format/",
          "text": "read data in Stata format"
        },
        {
          "href": "https://www.r-bloggers.com/tag/save-data-in-stata-format/",
          "text": "save data in Stata format"
        },
        {
          "href": "https://www.r-bloggers.com/tag/substr/",
          "text": "substr"
        },
        {
          "href": "https://www.r-bloggers.com/tag/transpose/",
          "text": "transpose"
        }
      ],
      "lang": "en-US",
      "main_html": "<article class=\"post-450 post type-post status-publish format-standard hentry category-r-bloggers tag-as-factor tag-convert-sas-to-r tag-lattice-library tag-read-data-in-stata-format tag-save-data-in-stata-format tag-substr tag-transpose\">\n<header class=\"post-header\">\n<h1 class=\"entry-title\">Example 7.9: Get data from SAS into R</h1>\n<p class=\"meta post-meta\">Posted on <span class=\"updated\">August 8, 2009</span>  by <span class=\"vcard author\"><a class=\"fn\" href=\"https://www.r-bloggers.com/author/ken-kleinman/\">Ken Kleinman</a></span>  in <a href=\"https://www.r-bloggers.com/category/r-bloggers/\" rel=\"category tag\">R bloggers</a> | 0 Comments</p>\n</header>\n<div class=\"entry clearfix\">\n<p class=\"syndicated-attribution\"><!-- \r\n<div style=\"min-height: 30px;\">\r\n[social4i size=\"small\" align=\"align-left\"]\r\n</div>\r\n-->\n<div style=\"border: 1px solid; background: none repeat scroll 0 0 #EDEDED; margin: 1px; font-size: 12px;\">\r\n[This article was first published on  <strong><a href=\"https://feedproxy.google.com/~r/SASandR/~3/XGjRXxUvbw4/example-79-get-data-from-sas-into-r.html\"> SAS and R</a></strong>, and kindly contributed to <a href=\"https://www.r-bloggers.com/\" rel=\"nofollow\">R-bloggers</a>].  (You can report issue about the content on this page <a href=\"https://www.r-bloggers.com/contact-us/\">here</a>)\r\n<hr/>Want to share your content on R-bloggers?<a href=\"https://www.r-bloggers.com/add-your-blog/\" rel=\"nofollow\"> click here</a> if you have a blog, or <a href=\"http://r-posts.com/\" rel=\"nofollow\"> here</a> if you don't.\r\n</div></p>\n\n<!-- Share buttons by mashshare.net - Version: 3.8.0-->Some people use both SAS and R in their daily work.  They might be more familiar with SAS as a tool for manipulating data and R preferable for plotting purposes.  While our goal in the book is to enable people to avoid having to switch back and forth, the following example shows how to move data from SAS into R. Our use of Stata format as an interchange mechanism is perhaps unorthodox, but eminently workable.  Other file formats (see section 1.2.2, creating files for use by other packages) can also be specified.<br/><br/>Suppose we wanted to plot CESD over time for each individual.  While we show how to do this sort of thing in SAS (see section 5.6.2), it’s hard to do without SAS version 9.2.  Instead, we recall it’s easy using the <tt>lattice</tt> library in R (see section 5.2.2). But we need a ”long” data set with a row for each time point. This is the sort of data management one might prefer to do in SAS.<br/><br/><b>SAS</b><br/><br/>First, we read the data from a data set stored in SAS format.   Then we use <tt>proc transpose</tt> (section 1.5.3) to get the data into the required shape. Finally, we save the ”long” data set in Stata format (1.2.2).<br/><br/><pre>\nlibname k \"c:\\book\";\n\nproc transpose data=k.help out=ds1;\nby id;\nvar cesd1 cesd2 cesd3 cesd4;\nrun;\n\nproc print data = ds1 (obs = 5); run;\n\n Obs    ID    _NAME_    _LABEL_    COL1\n\n   1     1    CESD1     1 cesd       7 \n   2     1    CESD2     2 cesd       . \n   3     1    CESD3     3 cesd       8 \n   4     1    CESD4     4 cesd       5 \n   5     2    CESD1     1 cesd      11 \n\n\nproc export data=ds1 (rename=(_label_=timec1))\n   outfile = \"c:\\book\\helpfromsas.dta\" dbms=dta;\nrun;\n</pre><br/><br/><br/><b>R</b><br/>In R, we ﬁrst read the ﬁle from Stata format (1.1.5), then <tt>attach()</tt> it (section 1.3.1) for ease of typing.  Then we check the first few lines of data using the <tt>head()</tt> function (section 1.13.1).  Noting that the time variable we brought from SAS is a character string, we convert it to a numeric variable using <tt>as.numeric()</tt> (section 1.4.2) and <tt>substr()</tt> (section 1.4.3). After loading the <tt>lattice</tt> library, we display the series for each subject. In this, we use the syntax for subsetting observations (1.5.1) to keep only the ﬁrst 20 observations and the <tt>as.factor()</tt> function (1.4.10) to improve the labels in the output.<br/><br/><pre>\n&gt; library(foreign)\n&gt; xsas &lt;- read.dta(\"C:\\\\book\\\\helpfromsas.dta\")\n&gt; head(xsas)\n\n  id _name_ timec1 col1\n1  1  CESD1 1 cesd    7\n2  1  CESD2 2 cesd   NA\n3  1  CESD3 3 cesd    8\n4  1  CESD4 4 cesd    5\n5  2  CESD1 1 cesd   11\n6  2  CESD2 2 cesd   NA\n\n&gt; attach(xsas)\n&gt; time &lt;- as.numeric(substr(timec1, 1, 1))\n&gt; library(lattice)\n&gt; xyplot(col1[id &lt; 21] ~ time[id &lt; 21]|as.factor(id[id &lt; 21]))\n</pre><br/><br/><br/><a data-cf-modified-606f5972e0d8fb1cf65ed0b7-=\"\" href=\"https://i2.wp.com/2.bp.blogspot.com/_zLwIdu2sLKM/Sn4SyZpME9I/AAAAAAAACc4/HboicjG4taQ/s1600-h/xyplot.jpeg\" onblur=\"if (!window.__cfRLUnblockHandlers) return false; try {parent.deselectBloggerImageGracefully();} catch(e) {}\" rel=\"nofollow\" target=\"_blank\"><img border=\"0\" class=\"jetpack-lazy-image\" data-lazy-src=\"https://i1.wp.com/2.bp.blogspot.com/_zLwIdu2sLKM/Sn4SyZpME9I/AAAAAAAACc4/HboicjG4taQ/s400/xyplot.jpeg?w=578&amp;is-pending-load=1\" data-recalc-dims=\"1\" src=\"https://i1.wp.com/2.bp.blogspot.com/_zLwIdu2sLKM/Sn4SyZpME9I/AAAAAAAACc4/HboicjG4taQ/s400/xyplot.jpeg?w=578\" srcset=\"data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7\" style=\"display:block; margin:0px auto 10px; text-align:center;cursor:pointer; cursor:hand;width: 400px; height: 400px;\"/><noscript><img alt=\"\" border=\"0\" data-recalc-dims=\"1\" id=\"BLOGGER_PHOTO_ID_5367748462958613458\" src=\"https://i1.wp.com/2.bp.blogspot.com/_zLwIdu2sLKM/Sn4SyZpME9I/AAAAAAAACc4/HboicjG4taQ/s400/xyplot.jpeg?w=578\" style=\"display:block; margin:0px auto 10px; text-align:center;cursor:pointer; cursor:hand;width: 400px; height: 400px;\"/></noscript></a><br/><br/><br/><br/>In the next entry, we'll reverse this process to manipulate data in R and produce the plot in SAS.<div class=\"blogger-post-footer\"><img alt=\"\" class=\"jetpack-lazy-image\" data-lazy-src=\"https://blogger.googleusercontent.com/tracker/1275149608391671670-6100183808587086531?l=sas-and-r.blogspot.com&amp;is-pending-load=1\" height=\"1\" src=\"https://blogger.googleusercontent.com/tracker/1275149608391671670-6100183808587086531?l=sas-and-r.blogspot.com\" srcset=\"data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7\" width=\"1\"/><noscript><img alt=\"\" height=\"1\" src=\"https://blogger.googleusercontent.com/tracker/1275149608391671670-6100183808587086531?l=sas-and-r.blogspot.com\" width=\"1\"/></noscript></div><img class=\"jetpack-lazy-image\" data-lazy-src=\"https://feeds.feedburner.com/~r/SASandR/~4/XGjRXxUvbw4?is-pending-load=1\" height=\"1\" loading=\"lazy\" src=\"https://feeds.feedburner.com/~r/SASandR/~4/XGjRXxUvbw4\" srcset=\"data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7\" width=\"1\"/><noscript><img height=\"1\" loading=\"lazy\" src=\"https://feeds.feedburner.com/~r/SASandR/~4/XGjRXxUvbw4\" width=\"1\"/></noscript>\n\n<div class=\"jp-relatedposts\" id=\"jp-relatedposts\">\n<h3 class=\"jp-relatedposts-headline\"><em>Related</em></h3>\n</div>\n<!-- Share buttons by mashshare.net - Version: 3.8.0-->\n<p class=\"syndicated-attribution\"><div style=\"border: 1px solid; background: none repeat scroll 0 0 #EDEDED; margin: 1px; font-size: 13px;\">\n<div style=\"text-align: center;\">To <strong>leave a comment</strong> for the author, please follow the link and comment on their blog: <strong><a href=\"https://feedproxy.google.com/~r/SASandR/~3/XGjRXxUvbw4/example-79-get-data-from-sas-into-r.html\"> SAS and R</a></strong>.</div>\n<hr>\n<a href=\"https://www.r-bloggers.com/\" rel=\"nofollow\">R-bloggers.com</a> offers <strong><a href=\"https://feedburner.google.com/fb/a/mailverify?uri=RBloggers\" rel=\"nofollow\">daily e-mail updates</a></strong> about <a href=\"https://www.r-project.org/\" rel=\"nofollow\" title=\"The R Project for Statistical Computing\">R</a> news and tutorials about <a href=\"https://www.r-bloggers.com/how-to-learn-r-2/\" rel=\"nofollow\" title=\"R tutorials\">learning R</a> and many other topics. <a href=\"https://www.r-users.com/\" rel=\"nofollow\" title=\"Data science jobs\">Click here if you're looking to post or find an R/data-science job</a>.\r\n\r\n<hr/>Want to share your content on R-bloggers?<a href=\"https://www.r-bloggers.com/add-your-blog/\" rel=\"nofollow\"> click here</a> if you have a blog, or <a href=\"http://r-posts.com/\" rel=\"nofollow\"> here</a> if you don't.\r\n</hr></div></p> </div>\n<div class=\"post-tags clearfix\"><ul><li class=\"round-corners\"><a href=\"https://www.r-bloggers.com/tag/as-factor/\" rel=\"tag\">as.factor</a></li><li class=\"round-corners\"><a href=\"https://www.r-bloggers.com/tag/convert-sas-to-r/\" rel=\"tag\">convert SAS to R</a></li><li class=\"round-corners\"><a href=\"https://www.r-bloggers.com/tag/lattice-library/\" rel=\"tag\">lattice library</a></li><li class=\"round-corners\"><a href=\"https://www.r-bloggers.com/tag/read-data-in-stata-format/\" rel=\"tag\">read data in Stata format</a></li><li class=\"round-corners\"><a href=\"https://www.r-bloggers.com/tag/save-data-in-stata-format/\" rel=\"tag\">save data in Stata format</a></li><li class=\"round-corners\"><a href=\"https://www.r-bloggers.com/tag/substr/\" rel=\"tag\">substr</a></li><li class=\"round-corners\"><a href=\"https://www.r-bloggers.com/tag/transpose/\" rel=\"tag\">transpose</a></li></ul></div></article>",
      "main_text": "Example 7.9: Get data from SAS into R\nPosted on\nAugust 8, 2009\nby\nKen Kleinman\nin\nR bloggers\n| 0 Comments\n[This article was first published on\nSAS and R\n, and kindly contributed to\nR-bloggers\n].  (You can report issue about the content on this page\nhere\n)\nWant to share your content on R-bloggers?\nclick here\nif you have a blog, or\nhere\nif you don't.\nSome people use both SAS and R in their daily work.  They might be more familiar with SAS as a tool for manipulating data and R preferable for plotting purposes.  While our goal in the book is to enable people to avoid having to switch back and forth, the following example shows how to move data from SAS into R. Our use of Stata format as an interchange mechanism is perhaps unorthodox, but eminently workable.  Other file formats (see section 1.2.2, creating files for use by other packages) can also be specified.\nSuppose we wanted to plot CESD over time for each individual.  While we show how to do this sort of thing in SAS (see section 5.6.2), it’s hard to do without SAS version 9.2.  Instead, we recall it’s easy using the\nlattice\nlibrary in R (see section 5.2.2). But we need a ”long” data set with a row for each time point. This is the sort of data management one might prefer to do in SAS.\nSAS\nFirst, we read the data from a data set stored in SAS format.   Then we use\nproc transpose\n(section 1.5.3) to get the data into the required shape. Finally, we save the ”long” data set in Stata format (1.2.2).\nlibname k \"c:\\book\";\n\nproc transpose data=k.help out=ds1;\nby id;\nvar cesd1 cesd2 cesd3 cesd4;\nrun;\n\nproc print data = ds1 (obs = 5); run;\n\n Obs    ID    _NAME_    _LABEL_    COL1\n\n   1     1    CESD1     1 cesd       7 \n   2     1    CESD2     2 cesd       . \n   3     1    CESD3     3 cesd       8 \n   4     1    CESD4     4 cesd       5 \n   5     2    CESD1     1 cesd      11 \n\nproc export data=ds1 (rename=(_label_=timec1))\n   outfile = \"c:\\book\\helpfromsas.dta\" dbms=dta;\nrun;\nR\nIn R, we ﬁrst read the ﬁle from Stata format (1.1.5), then\nattach()\nit (section 1.3.1) for ease of typing.  Then we check the first few lines of data using the\nhead()\nfunction (section 1.13.1).  Noting that the time variable we brought from SAS is a character string, we convert it to a numeric variable using\nas.numeric()\n(section 1.4.2) and\nsubstr()\n(section 1.4.3). After loading the\nlattice\nlibrary, we display the series for each subject. In this, we use the syntax for subsetting observations (1.5.1) to keep only the ﬁrst 20 observations and the\nas.factor()\nfunction (1.4.10) to improve the labels in the output.\n> library(foreign)\n> xsas <- read.dta(\"C:\\\\book\\\\helpfromsas.dta\")\n> head(xsas)\n\n  id _name_ timec1 col1\n1  1  CESD1 1 cesd    7\n2  1  CESD2 2 cesd   NA\n3  1  CESD3 3 cesd    8\n4  1  CESD4 4 cesd    5\n5  2  CESD1 1 cesd   11\n6  2  CESD2 2 cesd   NA\n\n> attach(xsas)\n> time <- as.numeric(substr(timec1, 1, 1))\n> library(lattice)\n> xyplot(col1[id < 21] ~ time[id < 21]|as.factor(id[id < 21]))\nIn the next entry, we'll reverse this process to manipulate data in R and produce the plot in SAS.\nRelated\nTo\nleave a comment\nfor the author, please follow the link and comment on their blog:\nSAS and R\n.\nR-bloggers.com\noffers\ndaily e-mail updates\nabout\nR\nnews and tutorials about\nlearning R\nand many other topics.\nClick here if you're looking to post or find an R/data-science job\n.\nWant to share your content on R-bloggers?\nclick here\nif you have a blog, or\nhere\nif you don't.\nas.factor\nconvert SAS to R\nlattice library\nread data in Stata format\nsave data in Stata format\nsubstr\ntranspose",
      "meta_description": "Some people use both SAS and R in their daily work. They might be more familiar with SAS as a tool for manipulating data and R preferable for plotting purposes. While our goal in the book is to enable people to avoid having to switch back and forth, ...",
      "meta_keywords": "as.factor,convert sas to r,lattice library,read data in stata format,save data in stata format,substr,transpose",
      "og_description": "Some people use both SAS and R in their daily work. They might be more familiar with SAS as a tool for manipulating data and R preferable for plotting purposes. While our goal in the book is to enable people to avoid having to switch back and forth, ...",
      "og_image": "https://2.bp.blogspot.com/_zLwIdu2sLKM/Sn4SyZpME9I/AAAAAAAACc4/HboicjG4taQ/s400/xyplot.jpeg",
      "og_title": "Example 7.9: Get data from SAS into R | R-bloggers",
      "raw_jsonld_article": null,
      "reading_time_min": 3.4,
      "sitemap_lastmod": "2009-08-09T12:13:47+00:00",
      "twitter_description": "Some people use both SAS and R in their daily work. They might be more familiar with SAS as a tool for manipulating data and R preferable for plotting purposes. While our goal in the book is to enable people to avoid having to switch back and forth, ...",
      "twitter_title": "Example 7.9: Get data from SAS into R | R-bloggers",
      "url": "https://www.r-bloggers.com/2009/08/example-7-9-get-data-from-sas-into-r/",
      "word_count": 676
    }
  }
}