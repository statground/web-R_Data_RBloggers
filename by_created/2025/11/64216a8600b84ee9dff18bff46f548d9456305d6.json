{
  "id": "64216a8600b84ee9dff18bff46f548d9456305d6",
  "url": "https://www.r-bloggers.com/2023/11/renewable-energy-in-europe/",
  "created_at_utc": "2025-11-17T20:39:17Z",
  "data": null,
  "raw_original": {
    "uuid": "931aa8ef-3b0c-4d28-a501-e9f4ed153b1c",
    "created_at": "2025-11-17 20:39:17",
    "raw_json": {
      "article_author": null,
      "article_headline": null,
      "article_modified": null,
      "article_published": null,
      "article_section": null,
      "article_tags": null,
      "canonical_url": "https://www.r-bloggers.com/2023/11/renewable-energy-in-europe/",
      "crawled_at": "2025-11-17T09:57:00.456320",
      "external_links": [
        {
          "href": "https://r.iresmi.net/posts/2023/renewable_energy_europe/index.html",
          "text": "r.iresmi.net"
        },
        {
          "href": "http://r-posts.com/",
          "text": "here"
        },
        {
          "href": "https://flic.kr/p/2iFBd2d",
          "text": null
        },
        {
          "href": "https://30daymapchallenge.com/",
          "text": "30DayMapChallenge"
        },
        {
          "href": "https://r.iresmi.net/#category=30DayMapChallenge",
          "text": "previously"
        },
        {
          "href": "https://ec.europa.eu/eurostat/api/dissemination/statistics/1.0/data/sdg_07_40?format=JSON&unit=PC&nrg_bal=REN&lang=en",
          "text": "JSON API"
        },
        {
          "href": "https://r.iresmi.net/posts/2023/renewable_energy_europe/index.html",
          "text": "r.iresmi.net"
        },
        {
          "href": "https://feedburner.google.com/fb/a/mailverify?uri=RBloggers",
          "text": "daily e-mail updates"
        },
        {
          "href": "https://www.r-project.org/",
          "text": "R"
        },
        {
          "href": "https://www.r-users.com/",
          "text": "Click here if you're looking to post or find an R/data-science job"
        },
        {
          "href": "http://r-posts.com/",
          "text": "here"
        }
      ],
      "h1_title": "R-bloggers",
      "html_title": "Renewable energy in Europe | R-bloggers",
      "images": [
        {
          "alt": "A photo of wind turbines on a beach in Bangui, Ilocos Norte, Philippines",
          "base64": "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",
          "src": "https://www.r-bloggers.com/wp-content/plugins/jetpack/modules/lazy-images/images/1x1.trans.gif"
        },
        {
          "alt": "A photo of wind turbines on a beach in Bangui, Ilocos Norte, Philippines",
          "base64": null,
          "src": "https://i2.wp.com/r.iresmi.net/posts/2023/renewable_energy_europe/images/49674970302_9c1b1d22cc_c.jpg?w=578&ssl=1"
        },
        {
          "alt": "Map of share of renewable energy in gross final energy consumption",
          "base64": "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",
          "src": "https://www.r-bloggers.com/wp-content/plugins/jetpack/modules/lazy-images/images/1x1.trans.gif"
        },
        {
          "alt": "Map of share of renewable energy in gross final energy consumption",
          "base64": null,
          "src": "https://i0.wp.com/r.iresmi.net/posts/2023/renewable_energy_europe/index_files/figure-html/fig-map-1.png?w=578&ssl=1"
        }
      ],
      "internal_links": [
        {
          "href": "https://www.r-bloggers.com/author/michael/",
          "text": "Michael"
        },
        {
          "href": "https://www.r-bloggers.com/category/r-bloggers/",
          "text": "R bloggers"
        },
        {
          "href": "https://www.r-bloggers.com/",
          "text": "R-bloggers"
        },
        {
          "href": "https://www.r-bloggers.com/contact-us/",
          "text": "here"
        },
        {
          "href": "https://www.r-bloggers.com/add-your-blog/",
          "text": "click here"
        },
        {
          "href": "https://www.r-bloggers.com/",
          "text": "R-bloggers.com"
        },
        {
          "href": "https://www.r-bloggers.com/how-to-learn-r-2/",
          "text": "learning R"
        },
        {
          "href": "https://www.r-bloggers.com/add-your-blog/",
          "text": "click here"
        }
      ],
      "lang": "en-US",
      "main_html": "<article class=\"post-380024 post type-post status-publish format-standard hentry category-r-bloggers\">\n<header class=\"post-header\">\n<h1 class=\"entry-title\">Renewable energy in Europe</h1>\n<p class=\"meta post-meta\">Posted on <span class=\"updated\">November 14, 2023</span>  by <span class=\"vcard author\"><a class=\"fn\" href=\"https://www.r-bloggers.com/author/michael/\">Michael</a></span>  in <a href=\"https://www.r-bloggers.com/category/r-bloggers/\" rel=\"category tag\">R bloggers</a> | 0 Comments</p>\n</header>\n<div class=\"entry clearfix\">\n<!-- \r\n<div style=\"min-height: 30px;\">\r\n[social4i size=\"small\" align=\"align-left\"]\r\n</div>\r\n-->\n<div style=\"border: 1px solid; background: none repeat scroll 0 0 #EDEDED; margin: 1px; font-size: 12px;\">\r\n[This article was first published on  <strong><a href=\"https://r.iresmi.net/posts/2023/renewable_energy_europe/index.html\"> r.iresmi.net</a></strong>, and kindly contributed to <a href=\"https://www.r-bloggers.com/\" rel=\"nofollow\">R-bloggers</a>].  (You can report issue about the content on this page <a href=\"https://www.r-bloggers.com/contact-us/\">here</a>)\r\n<hr/>Want to share your content on R-bloggers?<a href=\"https://www.r-bloggers.com/add-your-blog/\" rel=\"nofollow\"> click here</a> if you have a blog, or <a href=\"http://r-posts.com/\" rel=\"nofollow\"> here</a> if you don't.\r\n</div>\n\n<!-- Share buttons by mashshare.net - Version: 3.8.9-->\n<div class=\"quarto-figure quarto-figure-center\">\n<figure class=\"figure\">\n<p><a href=\"https://flic.kr/p/2iFBd2d\" rel=\"nofollow\" target=\"_blank\"><img alt=\"A photo of wind turbines on a beach in Bangui, Ilocos Norte, Philippines\" class=\"img-fluid figure-img\" data-lazy-src=\"https://i2.wp.com/r.iresmi.net/posts/2023/renewable_energy_europe/images/49674970302_9c1b1d22cc_c.jpg?w=578&amp;ssl=1\" data-recalc-dims=\"1\" src=\"https://www.r-bloggers.com/wp-content/plugins/jetpack/modules/lazy-images/images/1x1.trans.gif\"/><noscript><img alt=\"A photo of wind turbines on a beach in Bangui, Ilocos Norte, Philippines\" class=\"img-fluid figure-img\" data-recalc-dims=\"1\" src=\"https://i2.wp.com/r.iresmi.net/posts/2023/renewable_energy_europe/images/49674970302_9c1b1d22cc_c.jpg?w=578&amp;ssl=1\"/></noscript></a></p>\n<figcaption class=\"figure-caption\">Harnessing the coastal winds – CC-BY-NC-ND by Wayne S. Grazio</figcaption>\n</figure>\n</div>\n<p>Day 14 of <a href=\"https://30daymapchallenge.com/\" rel=\"nofollow\" target=\"_blank\">30DayMapChallenge</a>: « Europe » (<a href=\"https://r.iresmi.net/#category=30DayMapChallenge\" rel=\"nofollow\" target=\"_blank\">previously</a>).</p>\n<p>Using data from Eurostat we will try to show the spatio-temporal properties of this dataset by placing plots of the renewable energy share change on the map, for each country.</p>\n<div class=\"cell\">\n<pre>library(tidyverse)\nlibrary(sf)\nlibrary(janitor)\nlibrary(ggspatial)\nlibrary(glue)\nlibrary(ggtext)\n\n# Parallel reduce by moodymudskipper \n# https://github.com/tidyverse/purrr/issues/163\n# It will allow us to iterate on a dataframe and accumulate each plot on the map\npreduce &lt;- function(.l, .f, ..., .init, .dir = c(\"forward\", \"backward\")) {\n  .dir &lt;- match.arg(.dir)\n  reduce(transpose(.l), function(x, y) exec(.f, x, !!!y, ...), .init = .init, .dir = .dir)\n}</pre>\n</div>\n<p>There is a <a href=\"https://ec.europa.eu/eurostat/api/dissemination/statistics/1.0/data/sdg_07_40?format=JSON&amp;unit=PC&amp;nrg_bal=REN&amp;lang=en\" rel=\"nofollow\" target=\"_blank\">JSON API</a> but this TSV is easier to manipulate…</p>\n<div class=\"cell\">\n<pre># https://ec.europa.eu/eurostat/web/main/data/database\n# Share of renewable energy in gross final energy consumption by sector. Code: sdg_07_40\n# https://ec.europa.eu/eurostat/databrowser/view/sdg_07_40/\nrenewable &lt;- read_delim(\"https://ec.europa.eu/eurostat/estat-navtree-portlet-prod/BulkDownloadListing?file=data/sdg_07_40.tsv.gz\",\n                        delim = \"\\t\",\n                        na = \":\", \n                        trim_ws = TRUE,\n                        name_repair = make_clean_names) |&gt; \n  separate(nrg_bal_unit_geo_time,\n           into = c(\"nrg_bal\", \"unit\", \"geo\"), \n           sep = \",\") |&gt; \n  pivot_longer(4:last_col(), \n               names_to = \"year\", \n               names_transform = parse_number,\n               values_to = \"pcent\") |&gt; \n  filter(nrg_bal == \"REN\",\n         str_length(geo) == 2)\n\nmin_year &lt;- min(renewable$year)\nmax_year &lt;- max(renewable$year)\n\n# Base map: NUTS\n# https://ec.europa.eu/eurostat/web/gisco/geodata/reference-data/administrative-units-statistical-units/nuts#nuts21\nnuts_0 &lt;- read_sf(\"NUTS_RG_20M_2021_3035.shp\") |&gt; \n  clean_names() |&gt; \n  filter(levl_code == 0) |&gt; \n  st_crop(c(xmin = 2500000,\n            xmax = 7000000,\n            ymin = 1330000,\n            ymax = 5480000))</pre>\n</div>\n<p>We nest the dataset by country and add each country plot as a ggplot grob in a new column.</p>\n<div class=\"cell\">\n<pre>make_ren_plot &lt;- function(df) {\n  { df |&gt; \n    ggplot(aes(year, pcent)) +\n    geom_line(color = \"springgreen3\", linewidth = 1) +\n    scale_x_continuous(limits = c(min_year, max_year)) +\n    scale_y_continuous(limits = c(0, 100)) +\n    theme_void() +\n    theme(plot.background = element_rect(fill = NA, color = NA),\n          axis.line.y = element_line(color = \"#008B45\")) } |&gt; \n    ggplotGrob()\n}\n\nrenewable_plots &lt;- renewable |&gt; \n  nest(.by = geo) |&gt; \n  mutate(p = map(data, make_ren_plot))</pre>\n</div>\n<p>After building the base map, we get the “center’ of each country and add their plot.</p>\n<div class=\"cell\">\n<pre>base_map &lt;- nuts_0 |&gt; \n  ggplot() +\n  geom_sf() + \n  labs(title = \"Share of renewable energy - Europe\",\n       subtitle = glue(\"% of gross final energy consumption, {min_year} - {max_year}\"),\n       caption = glue(\"&lt;b style='color:springgreen4'&gt;vertical bar is 0-100%&lt;/b&gt;&lt;br /&gt;\n                      {st_crs(nuts_0)$Name}&lt;br /&gt;\n                      Data: EUROSTAT sdg_07_40&lt;br /&gt;\n                      Basemap: EUROSTAT NUTS 0 cropped&lt;br /&gt;\n                      https:∕∕r.iresmi.net/ {Sys.Date()}\")) +\n  coord_sf() +\n  annotation_scale(height = unit(1, \"mm\"), \n                   text_col = \"darkgrey\", line_col = \"grey\", \n                   bar_cols = c(\"white\", \"grey\")) +\n  theme_void() +\n  theme(plot.margin = margin(0, .3, 0.1, .3, \"cm\"),\n        plot.caption = element_markdown(size = 6), \n        legend.text = element_text(size = 7),\n        plot.background = element_rect(color = NA, fill = \"white\"))\n\n# add one plot on a map\nadd_ren_plot &lt;- function(map, p, loc_x, loc_y) {\n  map + \n    annotation_custom(grob = p, \n                      xmin = loc_x, \n                      xmax = loc_x + 500000, \n                      ymin = loc_y, \n                      ymax = loc_y + 500000)\n}\n\n# build the final map\nnuts_0 |&gt; \n  st_point_on_surface() |&gt; \n  mutate(loc_x = st_coordinates(geometry)[, 1],\n         loc_y = st_coordinates(geometry)[, 2]) |&gt; \n  select(cntr_code, loc_x, loc_y) |&gt; \n  st_drop_geometry() |&gt; \n  inner_join(renewable_plots, join_by(cntr_code == geo)) |&gt; \n  select(loc_x, loc_y, p) |&gt; \n  preduce(add_ren_plot, .init = base_map)</pre>\n<div class=\"cell-output-display\">\n<div class=\"quarto-figure quarto-figure-center anchored\" id=\"fig-map\">\n<figure class=\"figure\">\n<p><img alt=\"Map of share of renewable energy in gross final energy consumption\" class=\"img-fluid figure-img\" data-lazy-src=\"https://i0.wp.com/r.iresmi.net/posts/2023/renewable_energy_europe/index_files/figure-html/fig-map-1.png?w=578&amp;ssl=1\" data-recalc-dims=\"1\" src=\"https://www.r-bloggers.com/wp-content/plugins/jetpack/modules/lazy-images/images/1x1.trans.gif\" style=\"width:100.0%\"/><noscript><img alt=\"Map of share of renewable energy in gross final energy consumption\" class=\"img-fluid figure-img\" data-recalc-dims=\"1\" src=\"https://i0.wp.com/r.iresmi.net/posts/2023/renewable_energy_europe/index_files/figure-html/fig-map-1.png?w=578&amp;ssl=1\" style=\"width:100.0%\"/></noscript></p>\n<figcaption class=\"figure-caption\">Figure 1: Share of renewable energy in gross final energy consumption</figcaption>\n</figure>\n</div>\n</div>\n</div>\n<p>Still some work to do to get to 100% renewable in most of Europe…</p>\n<!-- -->\n<div class=\"jp-relatedposts\" id=\"jp-relatedposts\">\n<h3 class=\"jp-relatedposts-headline\"><em>Related</em></h3>\n</div>\n<!-- Share buttons by mashshare.net - Version: 3.8.9-->\n<div style=\"border: 1px solid; background: none repeat scroll 0 0 #EDEDED; margin: 1px; font-size: 13px;\">\n<div style=\"text-align: center;\">To <strong>leave a comment</strong> for the author, please follow the link and comment on their blog: <strong><a href=\"https://r.iresmi.net/posts/2023/renewable_energy_europe/index.html\"> r.iresmi.net</a></strong>.</div>\n<hr>\n<a href=\"https://www.r-bloggers.com/\" rel=\"nofollow\">R-bloggers.com</a> offers <strong><a href=\"https://feedburner.google.com/fb/a/mailverify?uri=RBloggers\" rel=\"nofollow\">daily e-mail updates</a></strong> about <a href=\"https://www.r-project.org/\" rel=\"nofollow\" title=\"The R Project for Statistical Computing\">R</a> news and tutorials about <a href=\"https://www.r-bloggers.com/how-to-learn-r-2/\" rel=\"nofollow\" title=\"R tutorials\">learning R</a> and many other topics. <a href=\"https://www.r-users.com/\" rel=\"nofollow\" title=\"Data science jobs\">Click here if you're looking to post or find an R/data-science job</a>.\r\n\r\n<hr/>Want to share your content on R-bloggers?<a href=\"https://www.r-bloggers.com/add-your-blog/\" rel=\"nofollow\"> click here</a> if you have a blog, or <a href=\"http://r-posts.com/\" rel=\"nofollow\"> here</a> if you don't.\r\n</hr></div> </div>\n</article>",
      "main_text": "Renewable energy in Europe\nPosted on\nNovember 14, 2023\nby\nMichael\nin\nR bloggers\n| 0 Comments\n[This article was first published on\nr.iresmi.net\n, and kindly contributed to\nR-bloggers\n].  (You can report issue about the content on this page\nhere\n)\nWant to share your content on R-bloggers?\nclick here\nif you have a blog, or\nhere\nif you don't.\nHarnessing the coastal winds – CC-BY-NC-ND by Wayne S. Grazio\nDay 14 of\n30DayMapChallenge\n: « Europe » (\npreviously\n).\nUsing data from Eurostat we will try to show the spatio-temporal properties of this dataset by placing plots of the renewable energy share change on the map, for each country.\nlibrary(tidyverse)\nlibrary(sf)\nlibrary(janitor)\nlibrary(ggspatial)\nlibrary(glue)\nlibrary(ggtext)\n\n# Parallel reduce by moodymudskipper \n# https://github.com/tidyverse/purrr/issues/163\n# It will allow us to iterate on a dataframe and accumulate each plot on the map\npreduce <- function(.l, .f, ..., .init, .dir = c(\"forward\", \"backward\")) {\n  .dir <- match.arg(.dir)\n  reduce(transpose(.l), function(x, y) exec(.f, x, !!!y, ...), .init = .init, .dir = .dir)\n}\nThere is a\nJSON API\nbut this TSV is easier to manipulate…\n# https://ec.europa.eu/eurostat/web/main/data/database\n# Share of renewable energy in gross final energy consumption by sector. Code: sdg_07_40\n# https://ec.europa.eu/eurostat/databrowser/view/sdg_07_40/\nrenewable <- read_delim(\"https://ec.europa.eu/eurostat/estat-navtree-portlet-prod/BulkDownloadListing?file=data/sdg_07_40.tsv.gz\",\n                        delim = \"\\t\",\n                        na = \":\", \n                        trim_ws = TRUE,\n                        name_repair = make_clean_names) |> \n  separate(nrg_bal_unit_geo_time,\n           into = c(\"nrg_bal\", \"unit\", \"geo\"), \n           sep = \",\") |> \n  pivot_longer(4:last_col(), \n               names_to = \"year\", \n               names_transform = parse_number,\n               values_to = \"pcent\") |> \n  filter(nrg_bal == \"REN\",\n         str_length(geo) == 2)\n\nmin_year <- min(renewable$year)\nmax_year <- max(renewable$year)\n\n# Base map: NUTS\n# https://ec.europa.eu/eurostat/web/gisco/geodata/reference-data/administrative-units-statistical-units/nuts#nuts21\nnuts_0 <- read_sf(\"NUTS_RG_20M_2021_3035.shp\") |> \n  clean_names() |> \n  filter(levl_code == 0) |> \n  st_crop(c(xmin = 2500000,\n            xmax = 7000000,\n            ymin = 1330000,\n            ymax = 5480000))\nWe nest the dataset by country and add each country plot as a ggplot grob in a new column.\nmake_ren_plot <- function(df) {\n  { df |> \n    ggplot(aes(year, pcent)) +\n    geom_line(color = \"springgreen3\", linewidth = 1) +\n    scale_x_continuous(limits = c(min_year, max_year)) +\n    scale_y_continuous(limits = c(0, 100)) +\n    theme_void() +\n    theme(plot.background = element_rect(fill = NA, color = NA),\n          axis.line.y = element_line(color = \"#008B45\")) } |> \n    ggplotGrob()\n}\n\nrenewable_plots <- renewable |> \n  nest(.by = geo) |> \n  mutate(p = map(data, make_ren_plot))\nAfter building the base map, we get the “center’ of each country and add their plot.\nbase_map <- nuts_0 |> \n  ggplot() +\n  geom_sf() + \n  labs(title = \"Share of renewable energy - Europe\",\n       subtitle = glue(\"% of gross final energy consumption, {min_year} - {max_year}\"),\n       caption = glue(\"<b style='color:springgreen4'>vertical bar is 0-100%</b><br />\n                      {st_crs(nuts_0)$Name}<br />\n                      Data: EUROSTAT sdg_07_40<br />\n                      Basemap: EUROSTAT NUTS 0 cropped<br />\n                      https:∕∕r.iresmi.net/ {Sys.Date()}\")) +\n  coord_sf() +\n  annotation_scale(height = unit(1, \"mm\"), \n                   text_col = \"darkgrey\", line_col = \"grey\", \n                   bar_cols = c(\"white\", \"grey\")) +\n  theme_void() +\n  theme(plot.margin = margin(0, .3, 0.1, .3, \"cm\"),\n        plot.caption = element_markdown(size = 6), \n        legend.text = element_text(size = 7),\n        plot.background = element_rect(color = NA, fill = \"white\"))\n\n# add one plot on a map\nadd_ren_plot <- function(map, p, loc_x, loc_y) {\n  map + \n    annotation_custom(grob = p, \n                      xmin = loc_x, \n                      xmax = loc_x + 500000, \n                      ymin = loc_y, \n                      ymax = loc_y + 500000)\n}\n\n# build the final map\nnuts_0 |> \n  st_point_on_surface() |> \n  mutate(loc_x = st_coordinates(geometry)[, 1],\n         loc_y = st_coordinates(geometry)[, 2]) |> \n  select(cntr_code, loc_x, loc_y) |> \n  st_drop_geometry() |> \n  inner_join(renewable_plots, join_by(cntr_code == geo)) |> \n  select(loc_x, loc_y, p) |> \n  preduce(add_ren_plot, .init = base_map)\nFigure 1: Share of renewable energy in gross final energy consumption\nStill some work to do to get to 100% renewable in most of Europe…\nRelated\nTo\nleave a comment\nfor the author, please follow the link and comment on their blog:\nr.iresmi.net\n.\nR-bloggers.com\noffers\ndaily e-mail updates\nabout\nR\nnews and tutorials about\nlearning R\nand many other topics.\nClick here if you're looking to post or find an R/data-science job\n.\nWant to share your content on R-bloggers?\nclick here\nif you have a blog, or\nhere\nif you don't.",
      "meta_description": "Harnessing the coastal winds – CC-BY-NC-ND by Wayne S. Grazio Day 14 of 30DayMapChallenge: « Europe » (previously). Using data from Eurostat we will try to show the spatio-temporal properties of this dataset by placing plots o...",
      "meta_keywords": null,
      "og_description": "Harnessing the coastal winds – CC-BY-NC-ND by Wayne S. Grazio Day 14 of 30DayMapChallenge: « Europe » (previously). Using data from Eurostat we will try to show the spatio-temporal properties of this dataset by placing plots o...",
      "og_image": "https://r.iresmi.net/posts/2023/renewable_energy_europe/images/49674970302_9c1b1d22cc_c.jpg",
      "og_title": "Renewable energy in Europe | R-bloggers",
      "raw_jsonld_article": null,
      "reading_time_min": 3.3,
      "sitemap_lastmod": "2023-11-14T19:00:00+00:00",
      "twitter_description": "Harnessing the coastal winds – CC-BY-NC-ND by Wayne S. Grazio Day 14 of 30DayMapChallenge: « Europe » (previously). Using data from Eurostat we will try to show the spatio-temporal properties of this dataset by placing plots o...",
      "twitter_title": "Renewable energy in Europe | R-bloggers",
      "url": "https://www.r-bloggers.com/2023/11/renewable-energy-in-europe/",
      "word_count": 651
    }
  }
}