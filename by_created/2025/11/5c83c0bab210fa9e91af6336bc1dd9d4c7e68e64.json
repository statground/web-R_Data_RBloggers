{
  "id": "5c83c0bab210fa9e91af6336bc1dd9d4c7e68e64",
  "url": "https://www.r-bloggers.com/2025/07/an-introduction-to-behavior-driven-development-in-r/",
  "created_at_utc": "2025-11-22T19:58:10Z",
  "data": null,
  "raw_original": {
    "uuid": "3952c852-f889-436a-b18a-113b5f6b87b5",
    "created_at": "2025-11-22 19:58:10",
    "raw_json": {
      "article_author": null,
      "article_headline": null,
      "article_modified": null,
      "article_published": null,
      "article_section": null,
      "article_tags": null,
      "canonical_url": "https://www.r-bloggers.com/2025/07/an-introduction-to-behavior-driven-development-in-r/",
      "crawled_at": "2025-11-22T10:46:09.833930",
      "external_links": [
        {
          "href": "https://jakubsobolewski.com/blog/intro-to-bdd-in-r",
          "text": "jakub::sobolewski"
        },
        {
          "href": "http://r-posts.com/",
          "text": "here"
        },
        {
          "href": "https://cucumber.io/docs/gherkin/reference/",
          "text": "Gherkin"
        },
        {
          "href": "https://jakubsob.github.io/cucumber/articles/how-it-works.html",
          "text": "How it works"
        },
        {
          "href": "https://cucumber.io/docs/guides/",
          "text": "Cucumber"
        },
        {
          "href": "https://jakubsobolewski.com/blog/intro-to-bdd-in-r",
          "text": "jakub::sobolewski"
        },
        {
          "href": "https://feedburner.google.com/fb/a/mailverify?uri=RBloggers",
          "text": "daily e-mail updates"
        },
        {
          "href": "https://www.r-project.org/",
          "text": "R"
        },
        {
          "href": "https://www.r-users.com/",
          "text": "Click here if you're looking to post or find an R/data-science job"
        },
        {
          "href": "http://r-posts.com/",
          "text": "here"
        }
      ],
      "h1_title": "R-bloggers",
      "html_title": "An Introduction to Behavior-Driven Development in R | R-bloggers",
      "images": [],
      "internal_links": [
        {
          "href": "https://www.r-bloggers.com/author/jakubsobolewski/",
          "text": "jakub::sobolewski"
        },
        {
          "href": "https://www.r-bloggers.com/category/r-bloggers/",
          "text": "R bloggers"
        },
        {
          "href": "https://www.r-bloggers.com/",
          "text": "R-bloggers"
        },
        {
          "href": "https://www.r-bloggers.com/contact-us/",
          "text": "here"
        },
        {
          "href": "https://www.r-bloggers.com/add-your-blog/",
          "text": "click here"
        },
        {
          "href": "https://www.r-bloggers.com/",
          "text": "R-bloggers.com"
        },
        {
          "href": "https://www.r-bloggers.com/how-to-learn-r-2/",
          "text": "learning R"
        },
        {
          "href": "https://www.r-bloggers.com/add-your-blog/",
          "text": "click here"
        }
      ],
      "lang": "en-US",
      "main_html": "<article class=\"post-393748 post type-post status-publish format-standard hentry category-r-bloggers\">\n<header class=\"post-header\">\n<h1 class=\"entry-title\">An Introduction to Behavior-Driven Development in R</h1>\n<p class=\"meta post-meta\">Posted on <span class=\"updated\">July 3, 2025</span>  by <span class=\"vcard author\"><a class=\"fn\" href=\"https://www.r-bloggers.com/author/jakubsobolewski/\">jakub::sobolewski</a></span>  in <a href=\"https://www.r-bloggers.com/category/r-bloggers/\" rel=\"category tag\">R bloggers</a> | 0 Comments</p>\n</header>\n<div class=\"entry clearfix\">\n<!-- \n<div style=\"min-height: 30px;\">\n[social4i size=\"small\" align=\"align-left\"]\n</div>\n-->\n<div style=\"border: 1px solid; background: none repeat scroll 0 0 #EDEDED; margin: 1px; font-size: 12px;\">\n[This article was first published on  <strong><a href=\"https://jakubsobolewski.com/blog/intro-to-bdd-in-r\"> jakub::sobolewski</a></strong>, and kindly contributed to <a href=\"https://www.r-bloggers.com/\" rel=\"nofollow\">R-bloggers</a>].  (You can report issue about the content on this page <a href=\"https://www.r-bloggers.com/contact-us/\">here</a>)\n<hr/>Want to share your content on R-bloggers?<a href=\"https://www.r-bloggers.com/add-your-blog/\" rel=\"nofollow\"> click here</a> if you have a blog, or <a href=\"http://r-posts.com/\" rel=\"nofollow\"> here</a> if you don't.\n</div>\n\n<!-- Share buttons by mashshare.net - Version: 4.0.47--><p>When developing software, a disconnect between what users want and what the software does can occur. We might’ve delivered working, tested code, but does it solve the user’s problem?</p>\n<p>Behavior-driven development aims to mitigate that risk, by capturing and testing requirements from the perspective of the external user of the system.</p>\n<h2 id=\"how-bdd-works\">How BDD works</h2>\n<p>Whether we’re working with a Product Owner, with users, or by ourselves, BDD can help us explore and define the problem in a structured way.</p>\n<p>The process is as follows:</p>\n<ol>\n<li>We capture a vague wish with a User Story.</li>\n<li>We refine the User Story into examples. Those examples describe how we can tell if the wish has been fulfilled. Focus on what you want to achieve, not how to achieve it.</li>\n<li>We create specifications. They are direct translations of examples into code.</li>\n</ol>\n<p>This helps us move from a vague description to a very precise, testable specification.</p>\n<h3 id=\"capturing-a-wish-with-a-user-story\">Capturing a wish with a User Story</h3>\n<p>Let’s imagine we want to implement a bookstore. The first User Story could be:</p>\n<blockquote>\n<p>As a customer, I want to select a book and add it to cart so that I can buy it.</p>\n</blockquote>\n<h3 id=\"refining-the-user-story-into-examples\">Refining the User Story into examples</h3>\n<p>Behavior-Driven Development helps us focus on behavior, by using a language that expresses behavior:</p>\n<ul>\n<li><strong>Given</strong> some context,</li>\n<li><strong>When</strong> an event occurs,</li>\n<li><strong>Then</strong> an outcome should be observed.</li>\n</ul>\n<p>In this example, we could write:</p>\n<ul>\n<li>Given I am in the bookstore</li>\n<li>When I select “The Hobbit, J.R.R. Tolkien”</li>\n<li>When I add selected book to the cart</li>\n<li>Then I should see “The Hobbit, J.R.R. Tolkien” in the cart</li>\n</ul>\n<p>This description is more precise than the User Story. It describes what needs to happen, what the user needs to do, and what result the user should see.</p>\n<p>At this level, we don’t know anything about the implementation of the bookstore. This description fits any implementation of the bookstore:</p>\n<ul>\n<li>it could be a web application,</li>\n<li>it could be a CLI application,</li>\n<li>or it could be a physical store with a robot assistant.</li>\n</ul>\n<p>The implementation can be changed at any moment, and executing the specification should tell us if the system allows the user to achieve their goal.</p>\n<h3 id=\"implementing-executable-specifications\">Implementing executable specifications</h3>\n<p>Specifications implemented with Behavior-Driven Development are:</p>\n<ul>\n<li>instantly readable,</li>\n<li>focused on the business goal,</li>\n<li>hiding the implementation details,</li>\n<li>encouraging reuse of test code.</li>\n</ul>\n<p>Behavior-Driven Development is not about tools. It’s a way of building software. We can implement specifications in any way we want, however, there are tools that can help us. {cucumber} is one of them.</p>\n<h2 id=\"bdd-with-base-r\">BDD with base R</h2>\n<p>We can practice BDD using base R. Having a set of examples of how the system should work, we need to establish a way of translating examples to code.</p>\n<p>We need to represent the business language with code – a set of actions that user of the system can take. We can do it with functions. Those functions will create the interface of the system. Their names can follow closely the natural language description of the action. They will abstract and hide the implementation details of the system. They will allow reuse of the test code.</p>\n<p>The specification of the bookstore could look like this:</p>\n<pre># tests/acceptance/test-bookstore.R\ntest_that(\"Bookstore: Adding a book to cart\", {\n  # Given\n  bookstore &lt;- Bookstore$new()\n  # When\n  bookstore$select(\"The Hobbit, J.R.R. Tolkien\")\n  bookstore$add_to_cart()\n  # Then\n  bookstore$cart_includes(\"The Hobbit, J.R.R. Tolkien\")\n})</pre>\n<p>This test fails as the code doesn’t exist yet. We can pause in this step and try out a few versions of the specifications and go with one that expresses the business goal the best.</p>\n<p>Once we have an outline of actions, we can implement them. We can use R6 objects to bind the functions together.</p>\n<pre># tests/acceptance/setup-bookstore.R\nBookstore &lt;- R6::R6Class(\n  public = list(\n    select = function(title) {\n\n    },\n    add_to_cart = function() {\n\n    },\n    cart_includes = function(title) {\n\n    }\n  )\n)</pre>\n<p>When we have a skeleton of the implementation, we can start filling it with the actual code.</p>\n<p>For example, our implementation of the bookstore might be a package with:</p>\n<ul>\n<li><code>select_book</code>: function that returns a tibble with book details,</li>\n<li><code>add_to_cart</code>: function that adds a book with given ID to a storage,</li>\n<li><code>get_cart</code>: function that returns a list with details of books in the cart.</li>\n</ul>\n<p>An implementation that satisfies the specification could be as simple as:</p>\n<pre>storage &lt;- c()\nbooks &lt;- list(\n  tibble::tibble(id = 1, title = \"The Hobbit, J.R.R. Tolkien\"),\n  tibble::tibble(id = 2, title = \"The Lord of the Rings, J.R.R. Tolkien\")\n)\n\nselect_book &lt;- function(title) {\n  books |&gt;\n    purrr::keep(\\(x) x$title == title) |&gt;\n    purrr::pluck(1)\n}\n\nadd_to_cart &lt;- function(id) {\n  storage &lt;&lt;- c(storage, id)\n}\n\nget_cart &lt;- function() {\n  books |&gt;\n    purrr::keep(\\(x) x$id %in% storage)\n}</pre>\n<p>Having this implementation, we can plug it into the test code:</p>\n<pre># tests/acceptance/setup-bookstore.R\nBookstore &lt;- R6::R6Class(\n  private = list(\n    selected_id = NULL\n  ),\n  public = list(\n    select = function(title) {\n      private$selected_id &lt;- select_book(title)$id\n    },\n    add_to_cart = function() {\n      add_to_cart(private$selected_id)\n    },\n    cart_includes = function(title) {\n      testthat::expect_in(title, purrr::map_chr(get_cart(), \"title\"))\n    }\n  )\n)</pre>\n<p>Now, the tests pass.</p>\n<pre># tests/acceptance/test-bookstore.R\ntest_that(\"Bookstore: Adding a book to cart\", {\n  # Given\n  bookstore &lt;- Bookstore$new()\n  # When\n  bookstore$select(\"The Hobbit, J.R.R. Tolkien\")\n  bookstore$add_to_cart()\n  # Then\n  bookstore$cart_includes(\"The Hobbit, J.R.R. Tolkien\")\n})</pre>\n<p>With this implementation, we can easily extend tests with checking if we can add multiple books to the cart.</p>\n<pre>test_that(\"Bookstore: Adding multiple books to cart\", {\n  # Given\n  bookstore &lt;- Bookstore$new()\n  # When\n  bookstore$select(\"The Hobbit, J.R.R. Tolkien\")\n  bookstore$add_to_cart()\n  bookstore$select(\"The Lord of the Rings, J.R.R. Tolkien\")\n  bookstore$add_to_cart()\n  # Then\n  bookstore$cart_includes(c(\"The Hobbit, J.R.R. Tolkien\", \"The Lord of the Rings, J.R.R. Tolkien\"))\n})</pre>\n<p>As the system grows, it will be extended with more examples and more actions. Actions already implemented will be reused in different scenarios.</p>\n<p>The implementation of the system will evolve, so will specifications, but this approach will ensure that test code is easy to maintain and focused on the business goal.</p>\n<h2 id=\"bdd-with-cucumber\">BDD with {cucumber}</h2>\n<p>The steps of BDD with {cucumber} are the same as with base R. The difference in how we express specifications and their implementation.</p>\n<p>The readability of specifications is given by them being expressed in <a href=\"https://cucumber.io/docs/gherkin/reference/\" rel=\"nofollow\" target=\"_blank\">Gherkin</a> language. Specifications are no longer expressed in code, but as text. It adds another level of separation between the specification and the implementation.</p>\n<p>We start by writing a feature file:</p>\n<pre># tests/acceptance/bookstore.feature\nFeature: Bookstore\n  Scenario: Adding a book to cart\n    Given I am in the bookstore\n    When I select \"The Hobbit, J.R.R. Tolkien\"\n    When I add selected book to the cart\n    Then I should see \"The Hobbit, J.R.R. Tolkien\" in the cart</pre>\n<p>We implement actions with <code>given</code>, <code>when</code>, and <code>then</code> functions:</p>\n<pre># tests/acceptance/setup-steps.R\ngiven(\"I am in the bookstore\", function(context) {\n})\n\nwhen(\"I select {string}\", function(title, context) {\n  context$selected_id &lt;- select_book(title)$id\n})\n\nwhen(\"I add selected book to the cart\", function(context) {\n  add_to_cart(context$selected_id)\n})\n\nthen(\"I should see {string} in the cart\", function(title, context) {\n  expect_in(title, purrr::map_chr(get_cart(), \"title\"))\n})</pre>\n<p>This test does exactly the same as the test with base R.</p>\n<p>We can run those tests with:</p>\n<pre>cucumber::test()\n#&gt; Test passed</pre>\n<p>What <code>cucumber::test</code> function does is it reads the feature files, finds corresponding actions implementations and runs them in order. To learn more how it works, refer to <a href=\"https://jakubsob.github.io/cucumber/articles/how-it-works.html\" rel=\"nofollow\" target=\"_blank\">How it works</a> vignette.</p>\n<p>Similar to what we did with base R, we can extend the feature file with a scenario that checks if we can add multiple books to the cart:</p>\n<pre># tests/acceptance/bookstore.feature\nFeature: Bookstore\n  Scenario: Adding a book to cart\n    Given I am in the bookstore\n    When I select \"The Hobbit, J.R.R. Tolkien\"\n    When I add selected book to the cart\n    Then I should see \"The Hobbit, J.R.R. Tolkien\" in the cart\n\n  Scenario: Adding multiple books to cart\n    Given I am in the bookstore\n    When I select \"The Hobbit, J.R.R. Tolkien\"\n    When I add selected book to the cart\n    When I select \"The Lord of the Rings, J.R.R. Tolkien\"\n    When I add selected book to the cart\n    Then I should see \"The Hobbit, J.R.R. Tolkien\" in the cart\n    Then I should see \"The Lord of the Rings, J.R.R. Tolkien\" in the cart</pre>\n<p>Re-running the tests will result in two scenarios passing.</p>\n<pre>cucumber::test()\n#&gt; Test passed\n#&gt; Test passed</pre>\n<h3 id=\"why-should-you-choose-cucumber\">Why should you choose {cucumber}?</h3>\n<ul>\n<li>It allows you to start practicing BDD without having to figure out how to glue actions implementations on your own.</li>\n<li>It allows you to express high-level tests in a natural language.</li>\n<li>It helps you keep the separation between the specification and the implementation.</li>\n<li>It helps you extend and reuse test code.</li>\n</ul>\n<h2 id=\"learning-bdd\">Learning BDD</h2>\n<ul>\n<li>ATDD by Example: A Practical Guide to Acceptance Test-Driven Development: A Practical Guide to Acceptance Test-Driven Development.</li>\n<li><a href=\"https://cucumber.io/docs/guides/\" rel=\"nofollow\" target=\"_blank\">Cucumber</a></li>\n</ul>\n<div class=\"jp-relatedposts\" id=\"jp-relatedposts\">\n<h3 class=\"jp-relatedposts-headline\"><em>Related</em></h3>\n</div>\n<!-- Share buttons by mashshare.net - Version: 4.0.47-->\n<div style=\"border: 1px solid; background: none repeat scroll 0 0 #EDEDED; margin: 1px; font-size: 13px;\">\n<div style=\"text-align: center;\">To <strong>leave a comment</strong> for the author, please follow the link and comment on their blog: <strong><a href=\"https://jakubsobolewski.com/blog/intro-to-bdd-in-r\"> jakub::sobolewski</a></strong>.</div>\n<hr/>\n<a href=\"https://www.r-bloggers.com/\" rel=\"nofollow\">R-bloggers.com</a> offers <strong><a href=\"https://feedburner.google.com/fb/a/mailverify?uri=RBloggers\" rel=\"nofollow\">daily e-mail updates</a></strong> about <a href=\"https://www.r-project.org/\" rel=\"nofollow\" title=\"The R Project for Statistical Computing\">R</a> news and tutorials about <a href=\"https://www.r-bloggers.com/how-to-learn-r-2/\" rel=\"nofollow\" title=\"R tutorials\">learning R</a> and many other topics. <a href=\"https://www.r-users.com/\" rel=\"nofollow\" title=\"Data science jobs\">Click here if you're looking to post or find an R/data-science job</a>.\n\n<hr/>Want to share your content on R-bloggers?<a href=\"https://www.r-bloggers.com/add-your-blog/\" rel=\"nofollow\"> click here</a> if you have a blog, or <a href=\"http://r-posts.com/\" rel=\"nofollow\"> here</a> if you don't.\n</div> </div>\n</article>",
      "main_text": "An Introduction to Behavior-Driven Development in R\nPosted on\nJuly 3, 2025\nby\njakub::sobolewski\nin\nR bloggers\n| 0 Comments\n[This article was first published on\njakub::sobolewski\n, and kindly contributed to\nR-bloggers\n].  (You can report issue about the content on this page\nhere\n)\nWant to share your content on R-bloggers?\nclick here\nif you have a blog, or\nhere\nif you don't.\nWhen developing software, a disconnect between what users want and what the software does can occur. We might’ve delivered working, tested code, but does it solve the user’s problem?\nBehavior-driven development aims to mitigate that risk, by capturing and testing requirements from the perspective of the external user of the system.\nHow BDD works\nWhether we’re working with a Product Owner, with users, or by ourselves, BDD can help us explore and define the problem in a structured way.\nThe process is as follows:\nWe capture a vague wish with a User Story.\nWe refine the User Story into examples. Those examples describe how we can tell if the wish has been fulfilled. Focus on what you want to achieve, not how to achieve it.\nWe create specifications. They are direct translations of examples into code.\nThis helps us move from a vague description to a very precise, testable specification.\nCapturing a wish with a User Story\nLet’s imagine we want to implement a bookstore. The first User Story could be:\nAs a customer, I want to select a book and add it to cart so that I can buy it.\nRefining the User Story into examples\nBehavior-Driven Development helps us focus on behavior, by using a language that expresses behavior:\nGiven\nsome context,\nWhen\nan event occurs,\nThen\nan outcome should be observed.\nIn this example, we could write:\nGiven I am in the bookstore\nWhen I select “The Hobbit, J.R.R. Tolkien”\nWhen I add selected book to the cart\nThen I should see “The Hobbit, J.R.R. Tolkien” in the cart\nThis description is more precise than the User Story. It describes what needs to happen, what the user needs to do, and what result the user should see.\nAt this level, we don’t know anything about the implementation of the bookstore. This description fits any implementation of the bookstore:\nit could be a web application,\nit could be a CLI application,\nor it could be a physical store with a robot assistant.\nThe implementation can be changed at any moment, and executing the specification should tell us if the system allows the user to achieve their goal.\nImplementing executable specifications\nSpecifications implemented with Behavior-Driven Development are:\ninstantly readable,\nfocused on the business goal,\nhiding the implementation details,\nencouraging reuse of test code.\nBehavior-Driven Development is not about tools. It’s a way of building software. We can implement specifications in any way we want, however, there are tools that can help us. {cucumber} is one of them.\nBDD with base R\nWe can practice BDD using base R. Having a set of examples of how the system should work, we need to establish a way of translating examples to code.\nWe need to represent the business language with code – a set of actions that user of the system can take. We can do it with functions. Those functions will create the interface of the system. Their names can follow closely the natural language description of the action. They will abstract and hide the implementation details of the system. They will allow reuse of the test code.\nThe specification of the bookstore could look like this:\n# tests/acceptance/test-bookstore.R\ntest_that(\"Bookstore: Adding a book to cart\", {\n  # Given\n  bookstore <- Bookstore$new()\n  # When\n  bookstore$select(\"The Hobbit, J.R.R. Tolkien\")\n  bookstore$add_to_cart()\n  # Then\n  bookstore$cart_includes(\"The Hobbit, J.R.R. Tolkien\")\n})\nThis test fails as the code doesn’t exist yet. We can pause in this step and try out a few versions of the specifications and go with one that expresses the business goal the best.\nOnce we have an outline of actions, we can implement them. We can use R6 objects to bind the functions together.\n# tests/acceptance/setup-bookstore.R\nBookstore <- R6::R6Class(\n  public = list(\n    select = function(title) {\n\n    },\n    add_to_cart = function() {\n\n    },\n    cart_includes = function(title) {\n\n    }\n  )\n)\nWhen we have a skeleton of the implementation, we can start filling it with the actual code.\nFor example, our implementation of the bookstore might be a package with:\nselect_book\n: function that returns a tibble with book details,\nadd_to_cart\n: function that adds a book with given ID to a storage,\nget_cart\n: function that returns a list with details of books in the cart.\nAn implementation that satisfies the specification could be as simple as:\nstorage <- c()\nbooks <- list(\n  tibble::tibble(id = 1, title = \"The Hobbit, J.R.R. Tolkien\"),\n  tibble::tibble(id = 2, title = \"The Lord of the Rings, J.R.R. Tolkien\")\n)\n\nselect_book <- function(title) {\n  books |>\n    purrr::keep(\\(x) x$title == title) |>\n    purrr::pluck(1)\n}\n\nadd_to_cart <- function(id) {\n  storage <<- c(storage, id)\n}\n\nget_cart <- function() {\n  books |>\n    purrr::keep(\\(x) x$id %in% storage)\n}\nHaving this implementation, we can plug it into the test code:\n# tests/acceptance/setup-bookstore.R\nBookstore <- R6::R6Class(\n  private = list(\n    selected_id = NULL\n  ),\n  public = list(\n    select = function(title) {\n      private$selected_id <- select_book(title)$id\n    },\n    add_to_cart = function() {\n      add_to_cart(private$selected_id)\n    },\n    cart_includes = function(title) {\n      testthat::expect_in(title, purrr::map_chr(get_cart(), \"title\"))\n    }\n  )\n)\nNow, the tests pass.\n# tests/acceptance/test-bookstore.R\ntest_that(\"Bookstore: Adding a book to cart\", {\n  # Given\n  bookstore <- Bookstore$new()\n  # When\n  bookstore$select(\"The Hobbit, J.R.R. Tolkien\")\n  bookstore$add_to_cart()\n  # Then\n  bookstore$cart_includes(\"The Hobbit, J.R.R. Tolkien\")\n})\nWith this implementation, we can easily extend tests with checking if we can add multiple books to the cart.\ntest_that(\"Bookstore: Adding multiple books to cart\", {\n  # Given\n  bookstore <- Bookstore$new()\n  # When\n  bookstore$select(\"The Hobbit, J.R.R. Tolkien\")\n  bookstore$add_to_cart()\n  bookstore$select(\"The Lord of the Rings, J.R.R. Tolkien\")\n  bookstore$add_to_cart()\n  # Then\n  bookstore$cart_includes(c(\"The Hobbit, J.R.R. Tolkien\", \"The Lord of the Rings, J.R.R. Tolkien\"))\n})\nAs the system grows, it will be extended with more examples and more actions. Actions already implemented will be reused in different scenarios.\nThe implementation of the system will evolve, so will specifications, but this approach will ensure that test code is easy to maintain and focused on the business goal.\nBDD with {cucumber}\nThe steps of BDD with {cucumber} are the same as with base R. The difference in how we express specifications and their implementation.\nThe readability of specifications is given by them being expressed in\nGherkin\nlanguage. Specifications are no longer expressed in code, but as text. It adds another level of separation between the specification and the implementation.\nWe start by writing a feature file:\n# tests/acceptance/bookstore.feature\nFeature: Bookstore\n  Scenario: Adding a book to cart\n    Given I am in the bookstore\n    When I select \"The Hobbit, J.R.R. Tolkien\"\n    When I add selected book to the cart\n    Then I should see \"The Hobbit, J.R.R. Tolkien\" in the cart\nWe implement actions with\ngiven\n,\nwhen\n, and\nthen\nfunctions:\n# tests/acceptance/setup-steps.R\ngiven(\"I am in the bookstore\", function(context) {\n})\n\nwhen(\"I select {string}\", function(title, context) {\n  context$selected_id <- select_book(title)$id\n})\n\nwhen(\"I add selected book to the cart\", function(context) {\n  add_to_cart(context$selected_id)\n})\n\nthen(\"I should see {string} in the cart\", function(title, context) {\n  expect_in(title, purrr::map_chr(get_cart(), \"title\"))\n})\nThis test does exactly the same as the test with base R.\nWe can run those tests with:\ncucumber::test()\n#> Test passed\nWhat\ncucumber::test\nfunction does is it reads the feature files, finds corresponding actions implementations and runs them in order. To learn more how it works, refer to\nHow it works\nvignette.\nSimilar to what we did with base R, we can extend the feature file with a scenario that checks if we can add multiple books to the cart:\n# tests/acceptance/bookstore.feature\nFeature: Bookstore\n  Scenario: Adding a book to cart\n    Given I am in the bookstore\n    When I select \"The Hobbit, J.R.R. Tolkien\"\n    When I add selected book to the cart\n    Then I should see \"The Hobbit, J.R.R. Tolkien\" in the cart\n\n  Scenario: Adding multiple books to cart\n    Given I am in the bookstore\n    When I select \"The Hobbit, J.R.R. Tolkien\"\n    When I add selected book to the cart\n    When I select \"The Lord of the Rings, J.R.R. Tolkien\"\n    When I add selected book to the cart\n    Then I should see \"The Hobbit, J.R.R. Tolkien\" in the cart\n    Then I should see \"The Lord of the Rings, J.R.R. Tolkien\" in the cart\nRe-running the tests will result in two scenarios passing.\ncucumber::test()\n#> Test passed\n#> Test passed\nWhy should you choose {cucumber}?\nIt allows you to start practicing BDD without having to figure out how to glue actions implementations on your own.\nIt allows you to express high-level tests in a natural language.\nIt helps you keep the separation between the specification and the implementation.\nIt helps you extend and reuse test code.\nLearning BDD\nATDD by Example: A Practical Guide to Acceptance Test-Driven Development: A Practical Guide to Acceptance Test-Driven Development.\nCucumber\nRelated\nTo\nleave a comment\nfor the author, please follow the link and comment on their blog:\njakub::sobolewski\n.\nR-bloggers.com\noffers\ndaily e-mail updates\nabout\nR\nnews and tutorials about\nlearning R\nand many other topics.\nClick here if you're looking to post or find an R/data-science job\n.\nWant to share your content on R-bloggers?\nclick here\nif you have a blog, or\nhere\nif you don't.",
      "meta_description": "Learn how to use Behavior-Driven Development (BDD) in R to ensure your software meets user requirements through executable specifications.",
      "meta_keywords": null,
      "og_description": "Learn how to use Behavior-Driven Development (BDD) in R to ensure your software meets user requirements through executable specifications.",
      "og_image": "https://www.r-bloggers.com/wp-content/uploads/2016/04/R_02_2016-05-01.png",
      "og_title": "An Introduction to Behavior-Driven Development in R | R-bloggers",
      "raw_jsonld_article": null,
      "reading_time_min": 8.1,
      "sitemap_lastmod": null,
      "twitter_description": "Learn how to use Behavior-Driven Development (BDD) in R to ensure your software meets user requirements through executable specifications.",
      "twitter_title": "An Introduction to Behavior-Driven Development in R | R-bloggers",
      "url": "https://www.r-bloggers.com/2025/07/an-introduction-to-behavior-driven-development-in-r/",
      "word_count": 1621
    }
  }
}