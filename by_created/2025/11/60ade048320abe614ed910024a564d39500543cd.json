{
  "id": "60ade048320abe614ed910024a564d39500543cd",
  "url": "https://www.r-bloggers.com/2025/04/exploring-rsqlite-with-dbi-a-note-to-myself/",
  "created_at_utc": "2025-11-22T19:58:47Z",
  "data": null,
  "raw_original": {
    "uuid": "888bf0c8-5667-432f-8621-46a85092d67f",
    "created_at": "2025-11-22 19:58:47",
    "raw_json": {
      "article_author": null,
      "article_headline": null,
      "article_modified": null,
      "article_published": null,
      "article_section": null,
      "article_tags": null,
      "canonical_url": "https://www.r-bloggers.com/2025/04/exploring-rsqlite-with-dbi-a-note-to-myself/",
      "crawled_at": "2025-11-22T10:50:07.546006",
      "external_links": [
        {
          "href": "https://www.kenkoonwong.com/blog/rsqlite/",
          "text": "r on Everyday Is A School Day"
        },
        {
          "href": "http://r-posts.com/",
          "text": "here"
        },
        {
          "href": "https://www.kenkoonwong.com/blog/rsqlite/#motivation",
          "text": null
        },
        {
          "href": "https://www.kenkoonwong.com/blog/plumber/",
          "text": "blog"
        },
        {
          "href": "https://www.kenkoonwong.com/blog/rsqlite/#objectives",
          "text": null
        },
        {
          "href": "https://www.kenkoonwong.com/blog/rsqlite/#database",
          "text": "Connecting to A Database"
        },
        {
          "href": "https://www.kenkoonwong.com/blog/rsqlite/#table",
          "text": "List Tables"
        },
        {
          "href": "https://www.kenkoonwong.com/blog/rsqlite/#check",
          "text": "Check Data"
        },
        {
          "href": "https://www.kenkoonwong.com/blog/rsqlite/#add",
          "text": "Add Data"
        },
        {
          "href": "https://www.kenkoonwong.com/blog/rsqlite/#query",
          "text": "Query Data"
        },
        {
          "href": "https://www.kenkoonwong.com/blog/rsqlite/#glue_sql",
          "text": "Using glue_sql"
        },
        {
          "href": "https://www.kenkoonwong.com/blog/rsqlite/#delete",
          "text": "Remove Data"
        },
        {
          "href": "https://www.kenkoonwong.com/blog/rsqlite/#disconnet",
          "text": "Disconnect"
        },
        {
          "href": "https://www.kenkoonwong.com/blog/rsqlite/#lessons",
          "text": "Lessons Learnt"
        },
        {
          "href": "https://www.kenkoonwong.com/blog/rsqlite/#database",
          "text": null
        },
        {
          "href": "https://www.kenkoonwong.com/blog/rsqlite/#table",
          "text": null
        },
        {
          "href": "https://www.kenkoonwong.com/blog/rsqlite/#check",
          "text": null
        },
        {
          "href": "https://www.kenkoonwong.com/blog/rsqlite/#add",
          "text": null
        },
        {
          "href": "https://www.kenkoonwong.com/blog/rsqlite/#query",
          "text": null
        },
        {
          "href": "https://www.kenkoonwong.com/blog/rsqlite/#filter",
          "text": null
        },
        {
          "href": "https://www.kenkoonwong.com/blog/rsqlite/#filter-with-matching-operator",
          "text": null
        },
        {
          "href": "https://www.kenkoonwong.com/blog/rsqlite/#group-department-and-return-average-salary",
          "text": null
        },
        {
          "href": "https://www.kenkoonwong.com/blog/rsqlite/#sum-salary-with-new-column-name",
          "text": null
        },
        {
          "href": "https://www.kenkoonwong.com/blog/rsqlite/#count-number-of-departments",
          "text": null
        },
        {
          "href": "https://www.kenkoonwong.com/blog/rsqlite/#glue_sql",
          "text": null
        },
        {
          "href": "https://www.kenkoonwong.com/blog/rsqlite/#delete",
          "text": null
        },
        {
          "href": "https://www.kenkoonwong.com/blog/rsqlite/#remove-with-filter",
          "text": null
        },
        {
          "href": "https://www.kenkoonwong.com/blog/rsqlite/#disconnect",
          "text": null
        },
        {
          "href": "https://www.kenkoonwong.com/blog/rsqlite/#acknowledgement",
          "text": null
        },
        {
          "href": "https://www.kenkoonwong.com/blog/rsqlite/#for-completeness-sake-of-prior-plumberr",
          "text": null
        },
        {
          "href": "https://www.kenkoonwong.com/blog/rsqlite/#lessons",
          "text": null
        },
        {
          "href": "https://dbi.r-dbi.org/",
          "text": "DBI"
        },
        {
          "href": "https://www.kenkoonwong.com/blog/",
          "text": "comment or visit my other blogs"
        },
        {
          "href": "https://bsky.app/profile/kenkoonwong.bsky.social",
          "text": "BlueSky"
        },
        {
          "href": "https://twitter.com/kenkoonwong/",
          "text": "twitter"
        },
        {
          "href": "https://github.com/kenkoonwong/",
          "text": "GitHub"
        },
        {
          "href": "https://med-mastodon.com/@kenkoonwong",
          "text": "Mastodon"
        },
        {
          "href": "https://www.kenkoonwong.com/contact/",
          "text": "contact me"
        },
        {
          "href": "https://www.kenkoonwong.com/blog/rsqlite/",
          "text": "r on Everyday Is A School Day"
        },
        {
          "href": "https://feedburner.google.com/fb/a/mailverify?uri=RBloggers",
          "text": "daily e-mail updates"
        },
        {
          "href": "https://www.r-project.org/",
          "text": "R"
        },
        {
          "href": "https://www.r-users.com/",
          "text": "Click here if you're looking to post or find an R/data-science job"
        },
        {
          "href": "http://r-posts.com/",
          "text": "here"
        }
      ],
      "h1_title": "R-bloggers",
      "html_title": "Exploring `RSQLite` With `DBI`: A Note To Myself | R-bloggers",
      "images": [
        {
          "alt": "image",
          "base64": "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",
          "src": "https://www.r-bloggers.com/wp-content/plugins/jetpack/modules/lazy-images/images/1x1.trans.gif"
        },
        {
          "alt": "image",
          "base64": null,
          "src": "https://i0.wp.com/www.kenkoonwong.com/blog/rsqlite/database.jpg?w=60%25&ssl=1"
        }
      ],
      "internal_links": [
        {
          "href": "https://www.r-bloggers.com/author/r-on-everyday-is-a-school-day/",
          "text": "r on Everyday Is A School Day"
        },
        {
          "href": "https://www.r-bloggers.com/category/r-bloggers/",
          "text": "R bloggers"
        },
        {
          "href": "https://www.r-bloggers.com/",
          "text": "R-bloggers"
        },
        {
          "href": "https://www.r-bloggers.com/contact-us/",
          "text": "here"
        },
        {
          "href": "https://www.r-bloggers.com/add-your-blog/",
          "text": "click here"
        },
        {
          "href": "https://www.r-bloggers.com/",
          "text": "R-bloggers.com"
        },
        {
          "href": "https://www.r-bloggers.com/how-to-learn-r-2/",
          "text": "learning R"
        },
        {
          "href": "https://www.r-bloggers.com/add-your-blog/",
          "text": "click here"
        }
      ],
      "lang": "en-US",
      "main_html": "<article class=\"post-391993 post type-post status-publish format-standard hentry category-r-bloggers\">\n<header class=\"post-header\">\n<h1 class=\"entry-title\">Exploring `RSQLite` With `DBI`: A Note To Myself</h1>\n<p class=\"meta post-meta\">Posted on <span class=\"updated\">April 17, 2025</span>  by <span class=\"vcard author\"><a class=\"fn\" href=\"https://www.r-bloggers.com/author/r-on-everyday-is-a-school-day/\">r on Everyday Is A School Day</a></span>  in <a href=\"https://www.r-bloggers.com/category/r-bloggers/\" rel=\"category tag\">R bloggers</a> | 0 Comments</p>\n</header>\n<div class=\"entry clearfix\">\n<!-- \n<div style=\"min-height: 30px;\">\n[social4i size=\"small\" align=\"align-left\"]\n</div>\n-->\n<div style=\"border: 1px solid; background: none repeat scroll 0 0 #EDEDED; margin: 1px; font-size: 12px;\">\n[This article was first published on  <strong><a href=\"https://www.kenkoonwong.com/blog/rsqlite/\"> r on Everyday Is A School Day</a></strong>, and kindly contributed to <a href=\"https://www.r-bloggers.com/\" rel=\"nofollow\">R-bloggers</a>].  (You can report issue about the content on this page <a href=\"https://www.r-bloggers.com/contact-us/\">here</a>)\n<hr/>Want to share your content on R-bloggers?<a href=\"https://www.r-bloggers.com/add-your-blog/\" rel=\"nofollow\"> click here</a> if you have a blog, or <a href=\"http://r-posts.com/\" rel=\"nofollow\"> here</a> if you don't.\n</div>\n\n<!-- Share buttons by mashshare.net - Version: 4.0.47--><blockquote>\n<p>I messed around with DBI and RSQLite and learned it’s actually pretty simple to use in R – just connect, write tables, and use SQL queries without all the complicated server stuff. Thanks to Alec Wong for suggesting this!</p>\n</blockquote>\n<p align=\"center\">\n<img alt=\"image\" data-lazy-src=\"https://i0.wp.com/www.kenkoonwong.com/blog/rsqlite/database.jpg?w=60%25&amp;ssl=1\" data-recalc-dims=\"1\" height=\"auto\" loading=\"lazy\" src=\"https://www.r-bloggers.com/wp-content/plugins/jetpack/modules/lazy-images/images/1x1.trans.gif\"/><noscript><img alt=\"image\" data-recalc-dims=\"1\" height=\"auto\" loading=\"lazy\" src=\"https://i0.wp.com/www.kenkoonwong.com/blog/rsqlite/database.jpg?w=60%25&amp;ssl=1\"/></noscript>\n</p>\n<h2 id=\"motivation\">Motivation\n  <a href=\"https://www.kenkoonwong.com/blog/rsqlite/#motivation\" rel=\"nofollow\" target=\"_blank\"><svg aria-hidden=\"true\" class=\"anchor-symbol\" height=\"26\" viewbox=\"0 0 22 22\" width=\"26\" xmlns=\"http://www.w3.org/2000/svg\">\n<path d=\"M0 0h24v24H0z\" fill=\"currentColor\"></path>\n<path d=\"M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76.0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71.0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71.0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76.0 5-2.24 5-5s-2.24-5-5-5z\"></path>\n</svg></a>\n</h2>\n<p>After our last \n<a href=\"https://www.kenkoonwong.com/blog/plumber/\" rel=\"nofollow\" target=\"_blank\">blog</a>, my friend Alec Wong suggested that I switch storing data from CSV files to SQLite when building Plumber API. I had no idea that CSV files can get corrupted when multiple users hit the API at the same time! SQLite handles this automatically and lets you validate your data without needing to set up any complicated server stuff. It’s actually pretty straightforward, here is a note to myself of some simple and frequent functions.</p>\n<h2 id=\"objectives\">Objectives\n  <a href=\"https://www.kenkoonwong.com/blog/rsqlite/#objectives\" rel=\"nofollow\" target=\"_blank\"><svg aria-hidden=\"true\" class=\"anchor-symbol\" height=\"26\" viewbox=\"0 0 22 22\" width=\"26\" xmlns=\"http://www.w3.org/2000/svg\">\n<path d=\"M0 0h24v24H0z\" fill=\"currentColor\"></path>\n<path d=\"M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76.0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71.0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71.0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76.0 5-2.24 5-5s-2.24-5-5-5z\"></path>\n</svg></a>\n</h2>\n<ul>\n<li>\n<a href=\"https://www.kenkoonwong.com/blog/rsqlite/#database\" rel=\"nofollow\" target=\"_blank\">Connecting to A Database</a></li>\n<li>\n<a href=\"https://www.kenkoonwong.com/blog/rsqlite/#table\" rel=\"nofollow\" target=\"_blank\">List Tables</a></li>\n<li>\n<a href=\"https://www.kenkoonwong.com/blog/rsqlite/#check\" rel=\"nofollow\" target=\"_blank\">Check Data</a></li>\n<li>\n<a href=\"https://www.kenkoonwong.com/blog/rsqlite/#add\" rel=\"nofollow\" target=\"_blank\">Add Data</a></li>\n<li>\n<a href=\"https://www.kenkoonwong.com/blog/rsqlite/#query\" rel=\"nofollow\" target=\"_blank\">Query Data</a>\n<ul>\n<li>\n<a href=\"https://www.kenkoonwong.com/blog/rsqlite/#glue_sql\" rel=\"nofollow\" target=\"_blank\">Using glue_sql</a></li>\n</ul>\n</li>\n<li>\n<a href=\"https://www.kenkoonwong.com/blog/rsqlite/#delete\" rel=\"nofollow\" target=\"_blank\">Remove Data</a></li>\n<li>\n<a href=\"https://www.kenkoonwong.com/blog/rsqlite/#disconnet\" rel=\"nofollow\" target=\"_blank\">Disconnect</a></li>\n<li>\n<a href=\"https://www.kenkoonwong.com/blog/rsqlite/#lessons\" rel=\"nofollow\" target=\"_blank\">Lessons Learnt</a></li>\n</ul>\n<h2 id=\"database\">Connecting to A Database\n  <a href=\"https://www.kenkoonwong.com/blog/rsqlite/#database\" rel=\"nofollow\" target=\"_blank\"><svg aria-hidden=\"true\" class=\"anchor-symbol\" height=\"26\" viewbox=\"0 0 22 22\" width=\"26\" xmlns=\"http://www.w3.org/2000/svg\">\n<path d=\"M0 0h24v24H0z\" fill=\"currentColor\"></path>\n<path d=\"M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76.0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71.0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71.0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76.0 5-2.24 5-5s-2.24-5-5-5z\"></path>\n</svg></a>\n</h2>\n<pre>library(DBI)\nlibrary(RSQLite)\nlibrary(tidyverse)\n\ncon &lt;- dbConnect(drv = RSQLite::SQLite(), \"test.sqlite\")\n</pre><p>That’s it! If the file does not exist, it will create one.</p>\n<h2 id=\"table\">List Tables\n  <a href=\"https://www.kenkoonwong.com/blog/rsqlite/#table\" rel=\"nofollow\" target=\"_blank\"><svg aria-hidden=\"true\" class=\"anchor-symbol\" height=\"26\" viewbox=\"0 0 22 22\" width=\"26\" xmlns=\"http://www.w3.org/2000/svg\">\n<path d=\"M0 0h24v24H0z\" fill=\"currentColor\"></path>\n<path d=\"M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76.0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71.0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71.0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76.0 5-2.24 5-5s-2.24-5-5-5z\"></path>\n</svg></a>\n</h2>\n<p>Let’s write an sample dataframe and write to a table on the database</p>\n<pre># example df\nemployees &lt;- tibble(\n  name = c(\"John Doe\", \"Jane Smith\", \"Bob Johnson\", \"Alice Brown\"),\n  department = c(\"IT\", \"HR\", \"Finance\", \"Marketing\"),\n  salary = c(75000, 65000, 80000, 70000)\n)\n\n# write df to dataframe\ndbWriteTable(conn = con, name = \"employees\", value = employees)\n\n# See What talbes are in the database\ntables &lt;- dbListTables(con)\ntables\n\n## [1] \"employees\"\n</pre><p>Pretty straightforward!</p>\n<h2 id=\"check\">Check Data\n  <a href=\"https://www.kenkoonwong.com/blog/rsqlite/#check\" rel=\"nofollow\" target=\"_blank\"><svg aria-hidden=\"true\" class=\"anchor-symbol\" height=\"26\" viewbox=\"0 0 22 22\" width=\"26\" xmlns=\"http://www.w3.org/2000/svg\">\n<path d=\"M0 0h24v24H0z\" fill=\"currentColor\"></path>\n<path d=\"M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76.0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71.0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71.0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76.0 5-2.24 5-5s-2.24-5-5-5z\"></path>\n</svg></a>\n</h2>\n<pre>## Method 1\nemployees_db &lt;- tbl(con, \"employees\")\nemployees_db |&gt; collect()\n\n## # A tibble: 4 × 3\n##   name        department salary\n##   &lt;chr&gt;       &lt;chr&gt;       &lt;dbl&gt;\n## 1 John Doe    IT          75000\n## 2 Jane Smith  HR          65000\n## 3 Bob Johnson Finance     80000\n## 4 Alice Brown Marketing   70000\n</pre><p>Have to use <code>collect</code> to return a df. We can also do this instead</p>\n<pre>## Method 2\ndbGetQuery(con, \"select * from employees\")\n\n##          name department salary\n## 1    John Doe         IT  75000\n## 2  Jane Smith         HR  65000\n## 3 Bob Johnson    Finance  80000\n## 4 Alice Brown  Marketing  70000\n</pre>\n<h2 id=\"add\">Add Data\n  <a href=\"https://www.kenkoonwong.com/blog/rsqlite/#add\" rel=\"nofollow\" target=\"_blank\"><svg aria-hidden=\"true\" class=\"anchor-symbol\" height=\"26\" viewbox=\"0 0 22 22\" width=\"26\" xmlns=\"http://www.w3.org/2000/svg\">\n<path d=\"M0 0h24v24H0z\" fill=\"currentColor\"></path>\n<path d=\"M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76.0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71.0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71.0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76.0 5-2.24 5-5s-2.24-5-5-5z\"></path>\n</svg></a>\n</h2>\n<pre>## Create New Row of Data\nnew_employee &lt;- data.frame(\n  name = \"Sarah Johnson\",\n  department = \"Research\",\n  salary = 78000\n)\n\n## Write to existing table\ndbWriteTable(conn = con, name = \"employees\", value = new_employee, append = TRUE)\n\ntbl(con, \"employees\") |&gt; collect()\n\n## # A tibble: 5 × 3\n##   name          department salary\n##   &lt;chr&gt;         &lt;chr&gt;       &lt;dbl&gt;\n## 1 John Doe      IT          75000\n## 2 Jane Smith    HR          65000\n## 3 Bob Johnson   Finance     80000\n## 4 Alice Brown   Marketing   70000\n## 5 Sarah Johnson Research    78000\n</pre><p>Dataframe must contain the same column names and number. Else, won’t work</p>\n<pre>## New column\nnew_employee &lt;- data.frame(\n  name = \"Sarah Johnson\",\n  department = \"Research\",\n  salary = 78000,\n  something_new = 12321321\n)\n\ndbWriteTable(con, \"employees\", value = new_employee, append = T)\n# OR\n# dbAppendTable(con, \"employees\", new_employee)\n\nError: Columns `something_new` not found\n</pre>\n<h2 id=\"query\">Query Data\n  <a href=\"https://www.kenkoonwong.com/blog/rsqlite/#query\" rel=\"nofollow\" target=\"_blank\"><svg aria-hidden=\"true\" class=\"anchor-symbol\" height=\"26\" viewbox=\"0 0 22 22\" width=\"26\" xmlns=\"http://www.w3.org/2000/svg\">\n<path d=\"M0 0h24v24H0z\" fill=\"currentColor\"></path>\n<path d=\"M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76.0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71.0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71.0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76.0 5-2.24 5-5s-2.24-5-5-5z\"></path>\n</svg></a>\n</h2>\n<h4 id=\"filter\">Filter\n  <a href=\"https://www.kenkoonwong.com/blog/rsqlite/#filter\" rel=\"nofollow\" target=\"_blank\"></a>\n</h4>\n<pre>dbGetQuery(con, \"select * from employees where department = 'Research'\")\n\n##            name department salary\n## 1 Sarah Johnson   Research  78000\n</pre>\n<h4 id=\"filter-with-matching-operator\">Filter With Matching Operator\n  <a href=\"https://www.kenkoonwong.com/blog/rsqlite/#filter-with-matching-operator\" rel=\"nofollow\" target=\"_blank\"></a>\n</h4>\n<pre>dbGetQuery(con, \"select * from employees where name like '%john%'\")\n\n##            name department salary\n## 1      John Doe         IT  75000\n## 2   Bob Johnson    Finance  80000\n## 3 Sarah Johnson   Research  78000\n</pre><p>notice that it’s case insensitive when we use <code>like</code>.</p>\n<pre>dbGetQuery(con, \"select * from employees where name like 's%'\")\n\n##            name department salary\n## 1 Sarah Johnson   Research  78000\n</pre>\n<h4 id=\"group-department-and-return-average-salary\">Group Department and Return Average Salary\n  <a href=\"https://www.kenkoonwong.com/blog/rsqlite/#group-department-and-return-average-salary\" rel=\"nofollow\" target=\"_blank\"></a>\n</h4>\n<pre>dbGetQuery(con, \"select department, avg(salary) as avg_salary \n           from employees \n           group by department\")\n\n##   department avg_salary\n## 1    Finance      80000\n## 2         HR      65000\n## 3         IT      75000\n## 4  Marketing      70000\n## 5   Research      78000\n</pre>\n<h4 id=\"sum-salary-with-new-column-name\">Sum Salary With New Column Name\n  <a href=\"https://www.kenkoonwong.com/blog/rsqlite/#sum-salary-with-new-column-name\" rel=\"nofollow\" target=\"_blank\"></a>\n</h4>\n<pre>dbGetQuery(con, \"select sum(salary) as total_salary from employees\")\n\n##   total_salary\n## 1       368000\n</pre>\n<h4 id=\"count-number-of-departments\">Count Number of Departments\n  <a href=\"https://www.kenkoonwong.com/blog/rsqlite/#count-number-of-departments\" rel=\"nofollow\" target=\"_blank\"></a>\n</h4>\n<pre>dbGetQuery(con, \"select count(distinct department) as distinct_department \n           from employees\")\n\n##   distinct_department\n## 1                   5\n</pre>\n<h3 id=\"glue_sql\">Using <code>glue_sql</code>\n<a href=\"https://www.kenkoonwong.com/blog/rsqlite/#glue_sql\" rel=\"nofollow\" target=\"_blank\"><svg aria-hidden=\"true\" class=\"anchor-symbol\" height=\"26\" viewbox=\"0 0 22 22\" width=\"26\" xmlns=\"http://www.w3.org/2000/svg\">\n<path d=\"M0 0h24v24H0z\" fill=\"currentColor\"></path>\n<path d=\"M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76.0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71.0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71.0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76.0 5-2.24 5-5s-2.24-5-5-5z\"></path>\n</svg></a>\n</h3>\n<pre>var &lt;- c(\"name\",\"department\")\ntable &lt;- \"employees\"\nquery &lt;- glue::glue_sql(\"select {`var`*} from {`table`}\", .con = con)\ndbGetQuery(con, query)\n\n##            name department\n## 1      John Doe         IT\n## 2    Jane Smith         HR\n## 3   Bob Johnson    Finance\n## 4   Alice Brown  Marketing\n## 5 Sarah Johnson   Research\n</pre><p>Notice the asterisk <code>(*)</code> after <code>{var}</code> - this tells <code>glue_sql()</code> to join the elements with commas automatically. <code>glue_sql</code> provides an <code>f-string</code> feel to the code.</p>\n<h2 id=\"delete\">Remove Data\n  <a href=\"https://www.kenkoonwong.com/blog/rsqlite/#delete\" rel=\"nofollow\" target=\"_blank\"><svg aria-hidden=\"true\" class=\"anchor-symbol\" height=\"26\" viewbox=\"0 0 22 22\" width=\"26\" xmlns=\"http://www.w3.org/2000/svg\">\n<path d=\"M0 0h24v24H0z\" fill=\"currentColor\"></path>\n<path d=\"M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76.0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71.0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71.0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76.0 5-2.24 5-5s-2.24-5-5-5z\"></path>\n</svg></a>\n</h2>\n<pre>## Delete Using Filter\ndbExecute(con, \"delete from employees where name = 'Sarah Johnson'\")\n\n## [1] 1\n\ndbGetQuery(con, \"select * from employees\")\n\n##          name department salary\n## 1    John Doe         IT  75000\n## 2  Jane Smith         HR  65000\n## 3 Bob Johnson    Finance  80000\n## 4 Alice Brown  Marketing  70000\n</pre>\n<h4 id=\"remove-with-filter\">Remove With Filter\n  <a href=\"https://www.kenkoonwong.com/blog/rsqlite/#remove-with-filter\" rel=\"nofollow\" target=\"_blank\"></a>\n</h4>\n<pre>dbGetQuery(con, \"select * from employees\")\n\n##          name department salary\n## 1    John Doe         IT  75000\n## 2  Jane Smith         HR  65000\n## 3 Bob Johnson    Finance  80000\n## 4 Alice Brown  Marketing  70000\n\ndbExecute(con, \"delete from employees where salary &gt;= 75000 and department = 'Finance'\")\n\n## [1] 1\n\ndbGetQuery(con, \"select * from employees\")\n\n##          name department salary\n## 1    John Doe         IT  75000\n## 2  Jane Smith         HR  65000\n## 3 Alice Brown  Marketing  70000\n</pre><p>Notice how <code>=</code> requires case sensitive <code>F</code> on <code>Finance</code> to filter accurately? Bob no longer in dataframe!</p>\n<h2 id=\"disconnect\">Disconnect\n  <a href=\"https://www.kenkoonwong.com/blog/rsqlite/#disconnect\" rel=\"nofollow\" target=\"_blank\"><svg aria-hidden=\"true\" class=\"anchor-symbol\" height=\"26\" viewbox=\"0 0 22 22\" width=\"26\" xmlns=\"http://www.w3.org/2000/svg\">\n<path d=\"M0 0h24v24H0z\" fill=\"currentColor\"></path>\n<path d=\"M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76.0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71.0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71.0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76.0 5-2.24 5-5s-2.24-5-5-5z\"></path>\n</svg></a>\n</h2>\n<pre>dbDisconnect(con)\n</pre>\n<h2 id=\"acknowledgement\">Acknowledgement\n  <a href=\"https://www.kenkoonwong.com/blog/rsqlite/#acknowledgement\" rel=\"nofollow\" target=\"_blank\"><svg aria-hidden=\"true\" class=\"anchor-symbol\" height=\"26\" viewbox=\"0 0 22 22\" width=\"26\" xmlns=\"http://www.w3.org/2000/svg\">\n<path d=\"M0 0h24v24H0z\" fill=\"currentColor\"></path>\n<path d=\"M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76.0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71.0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71.0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76.0 5-2.24 5-5s-2.24-5-5-5z\"></path>\n</svg></a>\n</h2>\n<p>Thanks again to Alec for suggesting improvements on our previous project!</p>\n<h4 id=\"for-completeness-sake-of-prior-plumberr\">For Completeness Sake of Prior <code>plumber.R</code>\n<a href=\"https://www.kenkoonwong.com/blog/rsqlite/#for-completeness-sake-of-prior-plumberr\" rel=\"nofollow\" target=\"_blank\"></a>\n</h4>\n<pre>library(plumber)\nlibrary(tidyverse)\nlibrary(lubridate)\nlibrary(DBI)\nlibrary(RSQLite)\n\npath &lt;- \"\" #set your own path\ncon &lt;- dbConnect(RSQLite::SQLite(), paste0(path,\"migraine.sqlite\"))\n\n#* @apiTitle Migraine logger\n\n#* Return HTML content\n#* @get /\n#* @serializer html\nfunction() {\n  \n  # Return HTML code with the log button\n  html_content &lt;- '\n     &lt;!DOCTYPE html&gt;\n     &lt;html&gt;\n     &lt;head&gt;\n       &lt;title&gt;Migraine Logger&lt;/title&gt;\n     &lt;/head&gt;\n     &lt;body&gt;\n       &lt;h1&gt;Migraine Logger&lt;/h1&gt;\n       &lt;button id=\"submit\"&gt;Oh No, Migraine Today!&lt;/button&gt;\n       &lt;div id=\"result\" style=\"display: none;\"&gt;&lt;/div&gt;\n       \n      &lt;script&gt;\n       document.getElementById(\"submit\").onclick = function() {\n          fetch(\"/log\", {\n            method : \"post\"\n          })\n          .then(response =&gt; response.json())\n          .then(data =&gt; {\n            const resultDiv = document.getElementById(\"result\");\n            resultDiv.textContent = data[0];\n            resultDiv.style.display = \"block\";\n          })\n          .catch(error =&gt; {\n            const resultDiv = document.getElementById(\"result\");\n            resultDiv.textContent = error.message\n          })\n       };\n      &lt;/script&gt;\n      \n     &lt;/body&gt;\n     &lt;/html&gt;\n     '\n  return(html_content)\n}\n\n#* logging \n#* @post /log\nfunction(){\n  date_now &lt;- tibble(date=Sys.time())\n  dbWriteTable(con, \"migraine\", date_now, append = TRUE)\n  list(paste0(\"you have logged \", date_now$date[1], \" to migraine database\"))\n}\n\n#* download data\n#* @get /download\n#* @serializer contentType list(type=\"text/csv\")\nfunction(){\n  # Just return the raw CSV content\n  df &lt;- tbl(con, \"migraine\") |&gt; collect() |&gt; mutate(date = as_datetime(date, tz = \"America/New_York\"))\n  format_csv(df)\n}\n\n#* Check datetime on browser\n#* @get /table\nfunction(){\n  df &lt;- tbl(con, \"migraine\") |&gt; collect() |&gt; mutate(date = as_datetime(date, tz = \"America/New_York\"))\n  list(df)\n}\n</pre>\n<h2 id=\"lessons\">Lessons Learnt\n  <a href=\"https://www.kenkoonwong.com/blog/rsqlite/#lessons\" rel=\"nofollow\" target=\"_blank\"><svg aria-hidden=\"true\" class=\"anchor-symbol\" height=\"26\" viewbox=\"0 0 22 22\" width=\"26\" xmlns=\"http://www.w3.org/2000/svg\">\n<path d=\"M0 0h24v24H0z\" fill=\"currentColor\"></path>\n<path d=\"M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76.0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71.0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71.0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76.0 5-2.24 5-5s-2.24-5-5-5z\"></path>\n</svg></a>\n</h2>\n<ul>\n<li>Lots of goodies on \n<a href=\"https://dbi.r-dbi.org/\" rel=\"nofollow\" target=\"_blank\">DBI</a> official website</li>\n<li>Learnt how to set up SQLite on Rpi, incorporated it on the previous migraine logger</li>\n<li>Definitely need to be comfortable with SQL to use this</li>\n<li>Might be a good idea to add this to the pressure logger too! Maybe in the same database but different table!</li>\n</ul>\n<br/>\n<p>If you like this article:</p>\n<ul>\n<li>please feel free to send me a \n<a href=\"https://www.kenkoonwong.com/blog/\" rel=\"nofollow\" target=\"_blank\">comment or visit my other blogs</a></li>\n<li>please feel free to follow me on \n<a href=\"https://bsky.app/profile/kenkoonwong.bsky.social\" rel=\"nofollow\" target=\"_blank\">BlueSky</a>, \n<a href=\"https://twitter.com/kenkoonwong/\" rel=\"nofollow\" target=\"_blank\">twitter</a>, \n<a href=\"https://github.com/kenkoonwong/\" rel=\"nofollow\" target=\"_blank\">GitHub</a> or \n<a href=\"https://med-mastodon.com/@kenkoonwong\" rel=\"nofollow\" target=\"_blank\">Mastodon</a></li>\n<li>if you would like collaborate please feel free to \n<a href=\"https://www.kenkoonwong.com/contact/\" rel=\"nofollow\" target=\"_blank\">contact me</a></li>\n</ul>\n<div class=\"jp-relatedposts\" id=\"jp-relatedposts\">\n<h3 class=\"jp-relatedposts-headline\"><em>Related</em></h3>\n</div>\n<!-- Share buttons by mashshare.net - Version: 4.0.47-->\n<div style=\"border: 1px solid; background: none repeat scroll 0 0 #EDEDED; margin: 1px; font-size: 13px;\">\n<div style=\"text-align: center;\">To <strong>leave a comment</strong> for the author, please follow the link and comment on their blog: <strong><a href=\"https://www.kenkoonwong.com/blog/rsqlite/\"> r on Everyday Is A School Day</a></strong>.</div>\n<hr/>\n<a href=\"https://www.r-bloggers.com/\" rel=\"nofollow\">R-bloggers.com</a> offers <strong><a href=\"https://feedburner.google.com/fb/a/mailverify?uri=RBloggers\" rel=\"nofollow\">daily e-mail updates</a></strong> about <a href=\"https://www.r-project.org/\" rel=\"nofollow\" title=\"The R Project for Statistical Computing\">R</a> news and tutorials about <a href=\"https://www.r-bloggers.com/how-to-learn-r-2/\" rel=\"nofollow\" title=\"R tutorials\">learning R</a> and many other topics. <a href=\"https://www.r-users.com/\" rel=\"nofollow\" title=\"Data science jobs\">Click here if you're looking to post or find an R/data-science job</a>.\n\n<hr/>Want to share your content on R-bloggers?<a href=\"https://www.r-bloggers.com/add-your-blog/\" rel=\"nofollow\"> click here</a> if you have a blog, or <a href=\"http://r-posts.com/\" rel=\"nofollow\"> here</a> if you don't.\n</div> </div>\n</article>",
      "main_text": "Exploring `RSQLite` With `DBI`: A Note To Myself\nPosted on\nApril 17, 2025\nby\nr on Everyday Is A School Day\nin\nR bloggers\n| 0 Comments\n[This article was first published on\nr on Everyday Is A School Day\n, and kindly contributed to\nR-bloggers\n].  (You can report issue about the content on this page\nhere\n)\nWant to share your content on R-bloggers?\nclick here\nif you have a blog, or\nhere\nif you don't.\nI messed around with DBI and RSQLite and learned it’s actually pretty simple to use in R – just connect, write tables, and use SQL queries without all the complicated server stuff. Thanks to Alec Wong for suggesting this!\nMotivation\nAfter our last\nblog\n, my friend Alec Wong suggested that I switch storing data from CSV files to SQLite when building Plumber API. I had no idea that CSV files can get corrupted when multiple users hit the API at the same time! SQLite handles this automatically and lets you validate your data without needing to set up any complicated server stuff. It’s actually pretty straightforward, here is a note to myself of some simple and frequent functions.\nObjectives\nConnecting to A Database\nList Tables\nCheck Data\nAdd Data\nQuery Data\nUsing glue_sql\nRemove Data\nDisconnect\nLessons Learnt\nConnecting to A Database\nlibrary(DBI)\nlibrary(RSQLite)\nlibrary(tidyverse)\n\ncon <- dbConnect(drv = RSQLite::SQLite(), \"test.sqlite\")\nThat’s it! If the file does not exist, it will create one.\nList Tables\nLet’s write an sample dataframe and write to a table on the database\n# example df\nemployees <- tibble(\n  name = c(\"John Doe\", \"Jane Smith\", \"Bob Johnson\", \"Alice Brown\"),\n  department = c(\"IT\", \"HR\", \"Finance\", \"Marketing\"),\n  salary = c(75000, 65000, 80000, 70000)\n)\n\n# write df to dataframe\ndbWriteTable(conn = con, name = \"employees\", value = employees)\n\n# See What talbes are in the database\ntables <- dbListTables(con)\ntables\n\n## [1] \"employees\"\nPretty straightforward!\nCheck Data\n## Method 1\nemployees_db <- tbl(con, \"employees\")\nemployees_db |> collect()\n\n## # A tibble: 4 × 3\n##   name        department salary\n##   <chr>       <chr>       <dbl>\n## 1 John Doe    IT          75000\n## 2 Jane Smith  HR          65000\n## 3 Bob Johnson Finance     80000\n## 4 Alice Brown Marketing   70000\nHave to use\ncollect\nto return a df. We can also do this instead\n## Method 2\ndbGetQuery(con, \"select * from employees\")\n\n##          name department salary\n## 1    John Doe         IT  75000\n## 2  Jane Smith         HR  65000\n## 3 Bob Johnson    Finance  80000\n## 4 Alice Brown  Marketing  70000\nAdd Data\n## Create New Row of Data\nnew_employee <- data.frame(\n  name = \"Sarah Johnson\",\n  department = \"Research\",\n  salary = 78000\n)\n\n## Write to existing table\ndbWriteTable(conn = con, name = \"employees\", value = new_employee, append = TRUE)\n\ntbl(con, \"employees\") |> collect()\n\n## # A tibble: 5 × 3\n##   name          department salary\n##   <chr>         <chr>       <dbl>\n## 1 John Doe      IT          75000\n## 2 Jane Smith    HR          65000\n## 3 Bob Johnson   Finance     80000\n## 4 Alice Brown   Marketing   70000\n## 5 Sarah Johnson Research    78000\nDataframe must contain the same column names and number. Else, won’t work\n## New column\nnew_employee <- data.frame(\n  name = \"Sarah Johnson\",\n  department = \"Research\",\n  salary = 78000,\n  something_new = 12321321\n)\n\ndbWriteTable(con, \"employees\", value = new_employee, append = T)\n# OR\n# dbAppendTable(con, \"employees\", new_employee)\n\nError: Columns `something_new` not found\nQuery Data\nFilter\ndbGetQuery(con, \"select * from employees where department = 'Research'\")\n\n##            name department salary\n## 1 Sarah Johnson   Research  78000\nFilter With Matching Operator\ndbGetQuery(con, \"select * from employees where name like '%john%'\")\n\n##            name department salary\n## 1      John Doe         IT  75000\n## 2   Bob Johnson    Finance  80000\n## 3 Sarah Johnson   Research  78000\nnotice that it’s case insensitive when we use\nlike\n.\ndbGetQuery(con, \"select * from employees where name like 's%'\")\n\n##            name department salary\n## 1 Sarah Johnson   Research  78000\nGroup Department and Return Average Salary\ndbGetQuery(con, \"select department, avg(salary) as avg_salary \n           from employees \n           group by department\")\n\n##   department avg_salary\n## 1    Finance      80000\n## 2         HR      65000\n## 3         IT      75000\n## 4  Marketing      70000\n## 5   Research      78000\nSum Salary With New Column Name\ndbGetQuery(con, \"select sum(salary) as total_salary from employees\")\n\n##   total_salary\n## 1       368000\nCount Number of Departments\ndbGetQuery(con, \"select count(distinct department) as distinct_department \n           from employees\")\n\n##   distinct_department\n## 1                   5\nUsing\nglue_sql\nvar <- c(\"name\",\"department\")\ntable <- \"employees\"\nquery <- glue::glue_sql(\"select {`var`*} from {`table`}\", .con = con)\ndbGetQuery(con, query)\n\n##            name department\n## 1      John Doe         IT\n## 2    Jane Smith         HR\n## 3   Bob Johnson    Finance\n## 4   Alice Brown  Marketing\n## 5 Sarah Johnson   Research\nNotice the asterisk\n(*)\nafter\n{var}\n- this tells\nglue_sql()\nto join the elements with commas automatically.\nglue_sql\nprovides an\nf-string\nfeel to the code.\nRemove Data\n## Delete Using Filter\ndbExecute(con, \"delete from employees where name = 'Sarah Johnson'\")\n\n## [1] 1\n\ndbGetQuery(con, \"select * from employees\")\n\n##          name department salary\n## 1    John Doe         IT  75000\n## 2  Jane Smith         HR  65000\n## 3 Bob Johnson    Finance  80000\n## 4 Alice Brown  Marketing  70000\nRemove With Filter\ndbGetQuery(con, \"select * from employees\")\n\n##          name department salary\n## 1    John Doe         IT  75000\n## 2  Jane Smith         HR  65000\n## 3 Bob Johnson    Finance  80000\n## 4 Alice Brown  Marketing  70000\n\ndbExecute(con, \"delete from employees where salary >= 75000 and department = 'Finance'\")\n\n## [1] 1\n\ndbGetQuery(con, \"select * from employees\")\n\n##          name department salary\n## 1    John Doe         IT  75000\n## 2  Jane Smith         HR  65000\n## 3 Alice Brown  Marketing  70000\nNotice how\n=\nrequires case sensitive\nF\non\nFinance\nto filter accurately? Bob no longer in dataframe!\nDisconnect\ndbDisconnect(con)\nAcknowledgement\nThanks again to Alec for suggesting improvements on our previous project!\nFor Completeness Sake of Prior\nplumber.R\nlibrary(plumber)\nlibrary(tidyverse)\nlibrary(lubridate)\nlibrary(DBI)\nlibrary(RSQLite)\n\npath <- \"\" #set your own path\ncon <- dbConnect(RSQLite::SQLite(), paste0(path,\"migraine.sqlite\"))\n\n#* @apiTitle Migraine logger\n\n#* Return HTML content\n#* @get /\n#* @serializer html\nfunction() {\n  \n  # Return HTML code with the log button\n  html_content <- '\n     <!DOCTYPE html>\n     <html>\n     <head>\n       <title>Migraine Logger</title>\n     </head>\n     <body>\n       <h1>Migraine Logger</h1>\n       <button id=\"submit\">Oh No, Migraine Today!</button>\n       <div id=\"result\" style=\"display: none;\"></div>\n       \n      <script>\n       document.getElementById(\"submit\").onclick = function() {\n          fetch(\"/log\", {\n            method : \"post\"\n          })\n          .then(response => response.json())\n          .then(data => {\n            const resultDiv = document.getElementById(\"result\");\n            resultDiv.textContent = data[0];\n            resultDiv.style.display = \"block\";\n          })\n          .catch(error => {\n            const resultDiv = document.getElementById(\"result\");\n            resultDiv.textContent = error.message\n          })\n       };\n      </script>\n      \n     </body>\n     </html>\n     '\n  return(html_content)\n}\n\n#* logging \n#* @post /log\nfunction(){\n  date_now <- tibble(date=Sys.time())\n  dbWriteTable(con, \"migraine\", date_now, append = TRUE)\n  list(paste0(\"you have logged \", date_now$date[1], \" to migraine database\"))\n}\n\n#* download data\n#* @get /download\n#* @serializer contentType list(type=\"text/csv\")\nfunction(){\n  # Just return the raw CSV content\n  df <- tbl(con, \"migraine\") |> collect() |> mutate(date = as_datetime(date, tz = \"America/New_York\"))\n  format_csv(df)\n}\n\n#* Check datetime on browser\n#* @get /table\nfunction(){\n  df <- tbl(con, \"migraine\") |> collect() |> mutate(date = as_datetime(date, tz = \"America/New_York\"))\n  list(df)\n}\nLessons Learnt\nLots of goodies on\nDBI\nofficial website\nLearnt how to set up SQLite on Rpi, incorporated it on the previous migraine logger\nDefinitely need to be comfortable with SQL to use this\nMight be a good idea to add this to the pressure logger too! Maybe in the same database but different table!\nIf you like this article:\nplease feel free to send me a\ncomment or visit my other blogs\nplease feel free to follow me on\nBlueSky\n,\ntwitter\n,\nGitHub\nor\nMastodon\nif you would like collaborate please feel free to\ncontact me\nRelated\nTo\nleave a comment\nfor the author, please follow the link and comment on their blog:\nr on Everyday Is A School Day\n.\nR-bloggers.com\noffers\ndaily e-mail updates\nabout\nR\nnews and tutorials about\nlearning R\nand many other topics.\nClick here if you're looking to post or find an R/data-science job\n.\nWant to share your content on R-bloggers?\nclick here\nif you have a blog, or\nhere\nif you don't.",
      "meta_description": "I messed around with DBI and RSQLite and learned it’s actually pretty simple to use in R - just connect, write tables, and use SQL queries without all the complicated server stuff. Thanks to Alec Wong for suggesting this! Motivation After our last blog, my friend Alec Wong suggested that I switch storing data from CSV files to SQLite when building Plumber API. I had no idea that CSV files can get corrupted when multiple users hit the API at the same time! SQLite handles this automatically and lets you validate your data without needing to set up any complicated server stuff. It’s actually pretty straightforward, here is a note to myself of some simple and frequent functions. Objectives Connecting to A Database List Tables Check Data Add Data Query Data Using glue_sql Remove Data Disconnect Lessons Learnt Connecting to A Database library(DBI) library(RSQLite) library(tidyverse) con mutate(date = as_datetime(date, tz = \"America/New_York\")) list(df) } Lessons Learnt Lots of goodies on DBI official website Learnt how to set up SQLite on Rpi, incorporated it on the previous migraine logger Definitely need to be comfortable with SQL to use this Might be a good idea to add this to the pressure logger too! Maybe in the same database but different table! If you like this article: please feel free to send me a comment or visit my other blogs please feel free to follow me on BlueSky, twitter, GitHub or Mastodon if you would like collaborate please feel free to contact me",
      "meta_keywords": null,
      "og_description": "I messed around with DBI and RSQLite and learned it’s actually pretty simple to use in R - just connect, write tables, and use SQL queries without all the complicated server stuff. Thanks to Alec Wong for suggesting this! Motivation After our last blog, my friend Alec Wong suggested that I switch storing data from CSV files to SQLite when building Plumber API. I had no idea that CSV files can get corrupted when multiple users hit the API at the same time! SQLite handles this automatically and lets you validate your data without needing to set up any complicated server stuff. It’s actually pretty straightforward, here is a note to myself of some simple and frequent functions. Objectives Connecting to A Database List Tables Check Data Add Data Query Data Using glue_sql Remove Data Disconnect Lessons Learnt Connecting to A Database library(DBI) library(RSQLite) library(tidyverse) con mutate(date = as_datetime(date, tz = \"America/New_York\")) list(df) } Lessons Learnt Lots of goodies on DBI official website Learnt how to set up SQLite on Rpi, incorporated it on the previous migraine logger Definitely need to be comfortable with SQL to use this Might be a good idea to add this to the pressure logger too! Maybe in the same database but different table! If you like this article: please feel free to send me a comment or visit my other blogs please feel free to follow me on BlueSky, twitter, GitHub or Mastodon if you would like collaborate please feel free to contact me",
      "og_image": "https://www.kenkoonwong.com/blog/rsqlite/database.jpg",
      "og_title": "Exploring `RSQLite` With `DBI`: A Note To Myself | R-bloggers",
      "raw_jsonld_article": null,
      "reading_time_min": 6.2,
      "sitemap_lastmod": null,
      "twitter_description": "I messed around with DBI and RSQLite and learned it’s actually pretty simple to use in R - just connect, write tables, and use SQL queries without all the complicated server stuff. Thanks to Alec Wong for suggesting this! Motivation After our last blog, my friend Alec Wong suggested that I switch storing data from CSV files to SQLite when building Plumber API. I had no idea that CSV files can get corrupted when multiple users hit the API at the same time! SQLite handles this automatically and lets you validate your data without needing to set up any complicated server stuff. It’s actually pretty straightforward, here is a note to myself of some simple and frequent functions. Objectives Connecting to A Database List Tables Check Data Add Data Query Data Using glue_sql Remove Data Disconnect Lessons Learnt Connecting to A Database library(DBI) library(RSQLite) library(tidyverse) con mutate(date = as_datetime(date, tz = \"America/New_York\")) list(df) } Lessons Learnt Lots of goodies on DBI official website Learnt how to set up SQLite on Rpi, incorporated it on the previous migraine logger Definitely need to be comfortable with SQL to use this Might be a good idea to add this to the pressure logger too! Maybe in the same database but different table! If you like this article: please feel free to send me a comment or visit my other blogs please feel free to follow me on BlueSky, twitter, GitHub or Mastodon if you would like collaborate please feel free to contact me",
      "twitter_title": "Exploring `RSQLite` With `DBI`: A Note To Myself | R-bloggers",
      "url": "https://www.r-bloggers.com/2025/04/exploring-rsqlite-with-dbi-a-note-to-myself/",
      "word_count": 1243
    }
  }
}