{
  "uuid": "5bd73081-1dc6-4174-b264-2f211f2395ee",
  "created_at": "2025-11-22 19:59:27",
  "raw_json": {
    "article_author": null,
    "article_headline": null,
    "article_modified": null,
    "article_published": null,
    "article_section": null,
    "article_tags": null,
    "canonical_url": "https://www.r-bloggers.com/2025/01/can-we-predict-who-wins-the-traitors-with-an-r-simulation/",
    "crawled_at": "2025-11-22T10:55:39.343680",
    "external_links": [
      {
        "href": "https://cbowdon.github.io/posts/traitors/",
        "text": "Chris Bowdon"
      },
      {
        "href": "http://r-posts.com/",
        "text": "here"
      },
      {
        "href": "https://arxiv.org/pdf/1009.1031",
        "text": "Migdał, 2024"
      },
      {
        "href": "https://thetraitors.fandom.com/wiki/The_Traitors_(Australia)/Season_1#Voting_History",
        "text": "Here for example"
      },
      {
        "href": "https://cbowdon.github.io/posts/traitors/",
        "text": "Chris Bowdon"
      },
      {
        "href": "https://feedburner.google.com/fb/a/mailverify?uri=RBloggers",
        "text": "daily e-mail updates"
      },
      {
        "href": "https://www.r-project.org/",
        "text": "R"
      },
      {
        "href": "https://www.r-users.com/",
        "text": "Click here if you're looking to post or find an R/data-science job"
      },
      {
        "href": "http://r-posts.com/",
        "text": "here"
      }
    ],
    "h1_title": "R-bloggers",
    "html_title": "Can we predict who wins the Traitors with an R simulation? | R-bloggers",
    "images": [
      {
        "alt": null,
        "base64": "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",
        "src": "https://www.r-bloggers.com/wp-content/plugins/jetpack/modules/lazy-images/images/1x1.trans.gif"
      },
      {
        "alt": null,
        "base64": null,
        "src": "https://i0.wp.com/cbowdon.github.io/posts/traitors/index_files/figure-html/fig-simulate-games-1.png?w=450&ssl=1"
      },
      {
        "alt": null,
        "base64": "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",
        "src": "https://www.r-bloggers.com/wp-content/plugins/jetpack/modules/lazy-images/images/1x1.trans.gif"
      },
      {
        "alt": null,
        "base64": null,
        "src": "https://i0.wp.com/cbowdon.github.io/posts/traitors/index_files/figure-html/fig-simulate-show-numbers-1.png?w=450&ssl=1"
      },
      {
        "alt": null,
        "base64": "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",
        "src": "https://www.r-bloggers.com/wp-content/plugins/jetpack/modules/lazy-images/images/1x1.trans.gif"
      },
      {
        "alt": null,
        "base64": "data:image/jpeg;base64,iVBORw0KGgoAAAANSUhEUgAAAG4AAAAmBAMAAADXfrPJAAAAMFBMVEX///8AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAv3aB7AAAAD3RSTlMAVHYiZpkQRO+Jq7vdMs3/9KjfAAAACXBIWXMAAA7EAAAOxAGVKw4bAAACJklEQVRIDZ2Tv0sbYRzGn8sluWg8PUQ6tFBSfww6ZW4HzxKcbJTWpUPhVXByaAouLfgLXAu6Foeg2KmFgOLa+xNu7lBv6ihCC8Wl7ft9771738u9Qc4Xknu+n+/zHJfkCVDkPF9sfV17GBaJkNfePsBjz+oVzVnlAEsodYvmUDnECeqNwrlaBx/xtlk4Nw/7Bm2ncK6Ncg8vy1puXdNSNvJoGkMe3nvaoqtpKTfyKEdKnRyC5edZPxntBzRHJphlE9kxno5MMMvOs2M8fTDBlI1PtVawB4zzzgqYlrdGo/XlHM5rJjb6W/XBb6wiEJ19RAtV3jEat7DcmSTRdxxnD5/sCNTZOdqp8tYYHxso7R8Sxz/9gOp95kaIO0v7tLwjjE8+8I1f8qfuYb8aALyzv8Q2La/4fD6wy1/5M8acgL6XeViR+PXT8ia5i/h+fdErNhriJ9DmD+jbn0nI8j4j5zaGw+OmlrkSHxOYWZgCngDTcI+Ye0BClrdFbmv2FaxrpoKXUl7Q9WnCrUTwa+LQEOCuyFE8fJ3JScvZXckyl7p8ZveGsJ3cxVOmClNaqe9S7twK8U6OWu6FMmvqVNNc2tmRpmYecV9XFdm0H8QqIfVXFHmQxcg3VZGNexP8weEbrcgmj4E5yz6qPa3IBo8RDQcY6mhFNpoM0P2DTY5FkQ3rweiaehwXebDJsNkNIwO9G42caHW62546yn9TWUzwf+e9Tpim/gOgCnssFc/V2gAAAABJRU5ErkJggg==",
        "src": "https://latex.codecogs.com/png.latex?%0Ap(n,%20m)%20%5Cpropto%20%5Cfrac%7Bm%7D%7B%5Csqrt%7Bn%7D%7D%0A"
      },
      {
        "alt": null,
        "base64": "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",
        "src": "https://www.r-bloggers.com/wp-content/plugins/jetpack/modules/lazy-images/images/1x1.trans.gif"
      },
      {
        "alt": null,
        "base64": "data:image/jpeg;base64,iVBORw0KGgoAAAANSUhEUgAAAAsAAAAIBAMAAADdFhi7AAAAMFBMVEX///8AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAv3aB7AAAAD3RSTlMAVHZmEKsyIkTvu92Zic2ZjesdAAAACXBIWXMAAA7EAAAOxAGVKw4bAAAAP0lEQVQIHWNgVHY2TWBgqMg0YFzAwCBgzcAUwMDAcJaBVQFIzWDgL2BgYP/AIMfBwMD8gOEsMwMDkwFDrggDAP0FCNipklNgAAAAAElFTkSuQmCC",
        "src": "https://latex.codecogs.com/png.latex?n"
      },
      {
        "alt": null,
        "base64": "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",
        "src": "https://www.r-bloggers.com/wp-content/plugins/jetpack/modules/lazy-images/images/1x1.trans.gif"
      },
      {
        "alt": null,
        "base64": "data:image/jpeg;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAIBAMAAAACWGKkAAAAMFBMVEX///8AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAv3aB7AAAAD3RSTlMAZnYQqzJUIkTvzbvdmYlSEOKuAAAACXBIWXMAAA7EAAAOxAGVKw4bAAAATklEQVQIHWNgVDQUCU5zZWCoiBRgW8aQzcCQIMPAeIBBhYGB4R4DiwLDJiBjBgNnAPN3Bgb2Dwz1DIwLGoCYQZqBV0GAgUmA4RkDxzMGAOaYDdTVr3cAAAAAAElFTkSuQmCC",
        "src": "https://latex.codecogs.com/png.latex?m"
      },
      {
        "alt": null,
        "base64": "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",
        "src": "https://www.r-bloggers.com/wp-content/plugins/jetpack/modules/lazy-images/images/1x1.trans.gif"
      },
      {
        "alt": null,
        "base64": "data:image/jpeg;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAAMBAMAAACpRTGTAAAAMFBMVEX///8AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAv3aB7AAAAD3RSTlMAVHYiZpkQRO+Jq7vdMs3/9KjfAAAACXBIWXMAAA7EAAAOxAGVKw4bAAAASUlEQVQIHWNgEFJ2CWBgE/vCEMLAzt7AMIuBgWkBw1IGBm4BhkYGBv4E9gMMDPcT+C4wMKg6KjMwMGwBYgaGzyCC9wOIrPsJJADX+Q0w+APsCgAAAABJRU5ErkJggg==",
        "src": "https://latex.codecogs.com/png.latex?p"
      },
      {
        "alt": null,
        "base64": "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",
        "src": "https://www.r-bloggers.com/wp-content/plugins/jetpack/modules/lazy-images/images/1x1.trans.gif"
      },
      {
        "alt": null,
        "base64": "data:image/jpeg;base64,iVBORw0KGgoAAAANSUhEUgAAAJAAAAAnBAMAAAASp9xGAAAAMFBMVEX///8AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAv3aB7AAAAD3RSTlMAVHYiZpkQRO+Jq7vdMs3/9KjfAAAACXBIWXMAAA7EAAAOxAGVKw4bAAACjElEQVRIDaVWMYsTURD+NpvblTv3Eg65RpCVOxtBSCecRSIEC1HvCpuzeojWxvZEL+KBrWkPhEVQUBAExcYmPyFlrLKVnRA48bA4dd7bfS9vNi8xslNkZ76Z+fIyu99OgEXtrrswdsNz0MSduw9EzzBsuLMOtNKZBsPvgNdC9Rjbjux0vUJWp3H/0gmBKcIT7A+m0zOQMy5cEvUQHWG0+E/7OItoD/5PNIUr7cS6wNq19nuekyc6hWCMBxyfF/XhPz7AWV4iiWpAl9gWNT+FV+3jIq9XJxI0b8et4JUmilJg6QVeEfDoC9knlZFEpwUSLKtwkY+gT9Po4IjXZjNCjArH50VdoAkv5Q9eTmT3FZUU20npfwNu0Y9rMfyYoivw32BLaDzRTn4lCXE7D2wi6gkLDQ5/vwTaTGtMSbmErBZyt3g4iT5PXPLs26clxAqwInisIz/RnrpyJckZ9lge8HcKQB4uCYZzJUmiPZan4GERyOKbBl7baO/QQ24ryXFX6UimgzlG9sH6D9wGV5IkIgkBd96RvWWNM4Mw7OKwoCR1IjGzZUaikuC1pSRZJYlIQrb9+ZcBK3U8DfpMSc4Z2bROvybCvhy2pSRD9D8zwkisDoySSDZkmYScXzsHvHB1A9BKig4ALaE5Pc6UekUZJXm6hktIo5PrsEF7kZl6VxklaaKChFiHCrY7tBdti8YyMkqq57mChOyOzN8f0F607ckvFWklaaKJhOxiyx81aC86rKgkIyFHrYKagvZiOfM2710f0EoM1FBKcF0etrwPciV2S5DI1voNkD7pnZqWJMIulmO5EpOyRM9Ra8iVGJck8sc4F5bkUO3VFLtVWomZwEswVlr4uk5/P7nW/gJ+/7Du59vvZQAAAABJRU5ErkJggg==",
        "src": "https://latex.codecogs.com/png.latex?%0Ap(n,%201)%20=%20%5Cfrac%7B(n%20-1)!!%7D%7Bn!!%7D%0A"
      },
      {
        "alt": null,
        "base64": "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",
        "src": "https://www.r-bloggers.com/wp-content/plugins/jetpack/modules/lazy-images/images/1x1.trans.gif"
      },
      {
        "alt": null,
        "base64": "data:image/jpeg;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAANBAMAAABbflNtAAAAMFBMVEX///8AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAv3aB7AAAAD3RSTlMAVHZmEKsyIkTvu92Zic2ZjesdAAAACXBIWXMAAA7EAAAOxAGVKw4bAAAAe0lEQVQIHWNgAIPMArbpEBaDfQPzDyizP4HjG5SZX8D2Hcqsd2D/wsCo7GyawODPwPKBoSLTgHEBAycDwwQGAWsGpgAGPgaGBwwMZxlYFRhYGRgCGBhmMPAXMDAxMCgwsH9gkOOAmMP8gOEsM0OpA3sIA5MBQ64IA8gNAEvcF1JE4wEMAAAAAElFTkSuQmCC",
        "src": "https://latex.codecogs.com/png.latex?n!!"
      },
      {
        "alt": null,
        "base64": "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",
        "src": "https://www.r-bloggers.com/wp-content/plugins/jetpack/modules/lazy-images/images/1x1.trans.gif"
      },
      {
        "alt": null,
        "base64": "data:image/jpeg;base64,iVBORw0KGgoAAAANSUhEUgAAAAsAAAAIBAMAAADdFhi7AAAAMFBMVEX///8AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAv3aB7AAAAD3RSTlMAVHZmEKsyIkTvu92Zic2ZjesdAAAACXBIWXMAAA7EAAAOxAGVKw4bAAAAP0lEQVQIHWNgVHY2TWBgqMg0YFzAwCBgzcAUwMDAcJaBVQFIzWDgL2BgYP/AIMfBwMD8gOEsMwMDkwFDrggDAP0FCNipklNgAAAAAElFTkSuQmCC",
        "src": "https://latex.codecogs.com/png.latex?n"
      },
      {
        "alt": null,
        "base64": "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",
        "src": "https://www.r-bloggers.com/wp-content/plugins/jetpack/modules/lazy-images/images/1x1.trans.gif"
      },
      {
        "alt": null,
        "base64": "data:image/jpeg;base64,iVBORw0KGgoAAAANSUhEUgAAAG4AAAAMBAMAAABxSZWZAAAAMFBMVEX///8AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAv3aB7AAAAD3RSTlMARM0yInYQiauZVGbdu+8Gtvd8AAAACXBIWXMAAA7EAAAOxAGVKw4bAAABIUlEQVQoFWNgEDJgQAa7IwKQuTjZrvYo+tg3MHzFqRZFgh9V3wWGFyjSODkQfZ5A+UCwGrbfQIplAgMDqwCKHoQKiDBEH1cDA2sBWIBVAUStYGAIB3PhBFzF0m27m4GiUHfuhKrjnglWyT0BagxcHwNUBYvwa4a1CH3cU4FOAwHua2BqZySYQiKgKri4DzBEAIVh4dIDU3IJzOA4AOPDaagKzgKGVqAYVB/3VLD3OAwY5ieAVO5E8x7QIRAVDHwCDF8Q+qCu91/A0A/Shtt/DP4MXArAoOYHYgYGYGixgyxkT2B7CuIDw7McRHsksLQBCSALpoJhEwNnwQaG9H51A5A8EBcCMUN4xAIgydIANAJkoJ0D8xMgAWTBVUQzMFclAAAp3TnENXP0EgAAAABJRU5ErkJggg==",
        "src": "https://latex.codecogs.com/png.latex?1%20%5Ctimes%203%20%5Ctimes%20...%20%5Ctimes%20n"
      },
      {
        "alt": null,
        "base64": "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",
        "src": "https://www.r-bloggers.com/wp-content/plugins/jetpack/modules/lazy-images/images/1x1.trans.gif"
      },
      {
        "alt": null,
        "base64": "data:image/jpeg;base64,iVBORw0KGgoAAAANSUhEUgAAAAsAAAAIBAMAAADdFhi7AAAAMFBMVEX///8AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAv3aB7AAAAD3RSTlMAVHZmEKsyIkTvu92Zic2ZjesdAAAACXBIWXMAAA7EAAAOxAGVKw4bAAAAP0lEQVQIHWNgVHY2TWBgqMg0YFzAwCBgzcAUwMDAcJaBVQFIzWDgL2BgYP/AIMfBwMD8gOEsMwMDkwFDrggDAP0FCNipklNgAAAAAElFTkSuQmCC",
        "src": "https://latex.codecogs.com/png.latex?n"
      },
      {
        "alt": null,
        "base64": "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",
        "src": "https://www.r-bloggers.com/wp-content/plugins/jetpack/modules/lazy-images/images/1x1.trans.gif"
      },
      {
        "alt": null,
        "base64": "data:image/jpeg;base64,iVBORw0KGgoAAAANSUhEUgAAAG8AAAAMBAMAAACei/6nAAAAMFBMVEX///8AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAv3aB7AAAAD3RSTlMAdomZu1QiEGbdMu/NRKugN9EaAAAACXBIWXMAAA7EAAAOxAGVKw4bAAABMklEQVQoFX1Qv0vDQBT+LpB4bbVKXVwKoYOIILbRxUEouDoUHFxEAs4WR8eDTC4iuDqUjO3uIoJ/QpeOQsChuAkupUt97+6S9ob44L533493yR3QOO7BqdRhpcSL12au+ezSMlYZ4MTx5JdDS0lN4ZDMoA2IMaeGR4w3tJq8KWqZKKRz3l0DDa0oPehnEKHmBeQJf+f+ccBqMGeUbRHqDj2IxJ7Dmqk8cTtSfpeldcWIZFu3oR2UHfp5t2yi9wCRsbNn7PqT7soO4tvIK2gTiFDfIlkq4yX6ijJqveyzIDuh0ZdoEsA7NmNSJ5Ds5TcAzpj+c8fgB1cbQPX084KD9GYt7naQXtULiQRT9O8IqPKE/EBE36otFr8cyABvzH76tkvYp3VAq/qKUUywkhAK6SX+AFspNlfK5kGsAAAAAElFTkSuQmCC",
        "src": "https://latex.codecogs.com/png.latex?2%20%5Ctimes%204%20%5Ctimes%20...%20%5Ctimes%20n"
      },
      {
        "alt": null,
        "base64": "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",
        "src": "https://www.r-bloggers.com/wp-content/plugins/jetpack/modules/lazy-images/images/1x1.trans.gif"
      },
      {
        "alt": null,
        "base64": "data:image/jpeg;base64,iVBORw0KGgoAAAANSUhEUgAAAAsAAAAIBAMAAADdFhi7AAAAMFBMVEX///8AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAv3aB7AAAAD3RSTlMAVHZmEKsyIkTvu92Zic2ZjesdAAAACXBIWXMAAA7EAAAOxAGVKw4bAAAAP0lEQVQIHWNgVHY2TWBgqMg0YFzAwCBgzcAUwMDAcJaBVQFIzWDgL2BgYP/AIMfBwMD8gOEsMwMDkwFDrggDAP0FCNipklNgAAAAAElFTkSuQmCC",
        "src": "https://latex.codecogs.com/png.latex?n"
      },
      {
        "alt": null,
        "base64": "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",
        "src": "https://www.r-bloggers.com/wp-content/plugins/jetpack/modules/lazy-images/images/1x1.trans.gif"
      },
      {
        "alt": null,
        "base64": null,
        "src": "https://i1.wp.com/cbowdon.github.io/posts/traitors/index_files/figure-html/fig-sim-comparison-1.png?w=450&ssl=1"
      },
      {
        "alt": null,
        "base64": "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",
        "src": "https://www.r-bloggers.com/wp-content/plugins/jetpack/modules/lazy-images/images/1x1.trans.gif"
      },
      {
        "alt": null,
        "base64": "data:image/jpeg;base64,iVBORw0KGgoAAAANSUhEUgAAABEAAAAUBAMAAACZjst6AAAALVBMVEX///8AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADAOrOgAAAADnRSTlMAVGbNMiJEmd12iRCru5wK044AAAAJcEhZcwAADsQAAA7EAZUrDhsAAAB0SURBVAgdY2AAA6HlEJqBdQLPAgiTxYDpAlSQgQsqxsCwYwNM7AiMwekQAGWmMUxgYFR2YGBNffduAQMruwEDE0SG5SmDAlRNJyOUwbDYG8byc4Cx4hRgrDkwyzkZH0DFZjM8hLAYAxhqucFMNwaGzZNALADbURSxl+Cu/AAAAABJRU5ErkJggg==",
        "src": "https://latex.codecogs.com/png.latex?%5Cchi%5E2"
      },
      {
        "alt": null,
        "base64": "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",
        "src": "https://www.r-bloggers.com/wp-content/plugins/jetpack/modules/lazy-images/images/1x1.trans.gif"
      },
      {
        "alt": null,
        "base64": "data:image/jpeg;base64,iVBORw0KGgoAAAANSUhEUgAAABEAAAAUBAMAAACZjst6AAAALVBMVEX///8AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADAOrOgAAAADnRSTlMAVGbNMiJEmd12iRCru5wK044AAAAJcEhZcwAADsQAAA7EAZUrDhsAAAB0SURBVAgdY2AAA6HlEJqBdQLPAgiTxYDpAlSQgQsqxsCwYwNM7AiMwekQAGWmMUxgYFR2YGBNffduAQMruwEDE0SG5SmDAlRNJyOUwbDYG8byc4Cx4hRgrDkwyzkZH0DFZjM8hLAYAxhqucFMNwaGzZNALADbURSxl+Cu/AAAAABJRU5ErkJggg==",
        "src": "https://latex.codecogs.com/png.latex?%5Cchi%5E2"
      },
      {
        "alt": null,
        "base64": "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",
        "src": "https://www.r-bloggers.com/wp-content/plugins/jetpack/modules/lazy-images/images/1x1.trans.gif"
      },
      {
        "alt": null,
        "base64": null,
        "src": "https://i2.wp.com/cbowdon.github.io/posts/traitors/index_files/figure-html/fig-est-multinomial-1.png?w=450&ssl=1"
      },
      {
        "alt": null,
        "base64": "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",
        "src": "https://www.r-bloggers.com/wp-content/plugins/jetpack/modules/lazy-images/images/1x1.trans.gif"
      },
      {
        "alt": null,
        "base64": null,
        "src": "https://i1.wp.com/cbowdon.github.io/posts/traitors/index_files/figure-html/fig-herding-strat-1.png?w=450&ssl=1"
      },
      {
        "alt": null,
        "base64": "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",
        "src": "https://www.r-bloggers.com/wp-content/plugins/jetpack/modules/lazy-images/images/1x1.trans.gif"
      },
      {
        "alt": null,
        "base64": null,
        "src": "https://i2.wp.com/cbowdon.github.io/posts/traitors/index_files/figure-html/fig-game2-balanced-1.png?w=450&ssl=1"
      },
      {
        "alt": null,
        "base64": "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",
        "src": "https://www.r-bloggers.com/wp-content/plugins/jetpack/modules/lazy-images/images/1x1.trans.gif"
      },
      {
        "alt": null,
        "base64": null,
        "src": "https://i0.wp.com/cbowdon.github.io/posts/traitors/index_files/figure-html/fig-game2-random-herd-1.png?w=450&ssl=1"
      },
      {
        "alt": null,
        "base64": "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",
        "src": "https://www.r-bloggers.com/wp-content/plugins/jetpack/modules/lazy-images/images/1x1.trans.gif"
      },
      {
        "alt": null,
        "base64": null,
        "src": "https://i0.wp.com/cbowdon.github.io/posts/traitors/index_files/figure-html/fig-suspicious-herd-results-1.png?w=450&ssl=1"
      },
      {
        "alt": null,
        "base64": "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",
        "src": "https://www.r-bloggers.com/wp-content/plugins/jetpack/modules/lazy-images/images/1x1.trans.gif"
      },
      {
        "alt": null,
        "base64": null,
        "src": "https://i2.wp.com/cbowdon.github.io/posts/traitors/index_files/figure-html/fig-suspicion-plot-1.png?w=450&ssl=1"
      },
      {
        "alt": null,
        "base64": "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",
        "src": "https://www.r-bloggers.com/wp-content/plugins/jetpack/modules/lazy-images/images/1x1.trans.gif"
      },
      {
        "alt": null,
        "base64": null,
        "src": "https://i1.wp.com/cbowdon.github.io/posts/traitors/index_files/figure-html/fig-sow-suspicion-1.png?w=450&ssl=1"
      },
      {
        "alt": null,
        "base64": "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",
        "src": "https://www.r-bloggers.com/wp-content/plugins/jetpack/modules/lazy-images/images/1x1.trans.gif"
      },
      {
        "alt": null,
        "base64": null,
        "src": "https://i2.wp.com/cbowdon.github.io/posts/traitors/index_files/figure-html/fig-uk-season-3-1.png?w=450&ssl=1"
      },
      {
        "alt": null,
        "base64": "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",
        "src": "https://www.r-bloggers.com/wp-content/plugins/jetpack/modules/lazy-images/images/1x1.trans.gif"
      },
      {
        "alt": null,
        "base64": null,
        "src": "https://i2.wp.com/cbowdon.github.io/posts/traitors/index_files/figure-html/fig-uk-season-3-with-recruitment-1.png?w=450&ssl=1"
      }
    ],
    "internal_links": [
      {
        "href": "https://www.r-bloggers.com/author/chris-bowdon/",
        "text": "Chris Bowdon"
      },
      {
        "href": "https://www.r-bloggers.com/category/r-bloggers/",
        "text": "R bloggers"
      },
      {
        "href": "https://www.r-bloggers.com/",
        "text": "R-bloggers"
      },
      {
        "href": "https://www.r-bloggers.com/contact-us/",
        "text": "here"
      },
      {
        "href": "https://www.r-bloggers.com/add-your-blog/",
        "text": "click here"
      },
      {
        "href": "https://www.r-bloggers.com/",
        "text": "R-bloggers.com"
      },
      {
        "href": "https://www.r-bloggers.com/how-to-learn-r-2/",
        "text": "learning R"
      },
      {
        "href": "https://www.r-bloggers.com/add-your-blog/",
        "text": "click here"
      }
    ],
    "lang": "en-US",
    "main_html": "<article class=\"post-393253 post type-post status-publish format-standard hentry category-r-bloggers\">\n<header class=\"post-header\">\n<h1 class=\"entry-title\">Can we predict who wins the Traitors with an R simulation?</h1>\n<p class=\"meta post-meta\">Posted on <span class=\"updated\">January 18, 2025</span>  by <span class=\"vcard author\"><a class=\"fn\" href=\"https://www.r-bloggers.com/author/chris-bowdon/\">Chris Bowdon</a></span>  in <a href=\"https://www.r-bloggers.com/category/r-bloggers/\" rel=\"category tag\">R bloggers</a> | 0 Comments</p>\n</header>\n<div class=\"entry clearfix\">\n<!-- \n<div style=\"min-height: 30px;\">\n[social4i size=\"small\" align=\"align-left\"]\n</div>\n-->\n<div style=\"border: 1px solid; background: none repeat scroll 0 0 #EDEDED; margin: 1px; font-size: 12px;\">\n[This article was first published on  <strong><a href=\"https://cbowdon.github.io/posts/traitors/\"> Chris Bowdon</a></strong>, and kindly contributed to <a href=\"https://www.r-bloggers.com/\" rel=\"nofollow\">R-bloggers</a>].  (You can report issue about the content on this page <a href=\"https://www.r-bloggers.com/contact-us/\">here</a>)\n<hr/>Want to share your content on R-bloggers?<a href=\"https://www.r-bloggers.com/add-your-blog/\" rel=\"nofollow\"> click here</a> if you have a blog, or <a href=\"http://r-posts.com/\" rel=\"nofollow\"> here</a> if you don't.\n</div>\n\n<!-- Share buttons by mashshare.net - Version: 4.0.47-->\n<p>Three years in, I am still absolutely hooked on the Traitors (the TV series). Sure, yes, they stretch ten minutes of gameplay into sixty minutes of “you know I love you, but…” and the weirdly maddening attempts to make “yourself” a polite version of “you”. And yes, there’s massive thumb-shaped groove on the scales because the producers are never going to let the game end early. But all the same, it’s such fun watching the players plot and scheme and make terrible, terrible decisions.</p>\n<p>Occasionally the show includes contestants who are expert game players. Frankly they tend to underwhelm – with the honourable exception being Kate in Traitors Australia – yet it makes me wonder about optimum strategies. And what’s more fun than playing a game? <strong>Making a model of the game in R!</strong></p>\n<p>Here we go, starting with a simple model and building up to more realistic strategies. If you’re here just for some insights into the Traitors, you can skip over the code without missing much of the logic.</p>\n<div class=\"cell\">\n<details class=\"code-fold\">\n<summary>Code</summary>\n<pre>#  Plumbing and other irrelevant code is behind the folds.\nlibrary(knitr)\nlibrary(tidyverse)\n\nset.seed(42) # trad\n\norange &lt;- rgb(236 / 255, 137 / 255, 51 / 255)\nmauve &lt;- rgb(89 / 255, 14 / 255, 50 / 255)</pre>\n</details>\n</div>\n<section class=\"level1\" id=\"simple-model\">\n<h1>Simple model</h1>\n<p>The minimum players for Werewolf, a.k.a. Mafia (the game on which Traitors is based) is six, with four villagers and two wolves. In this version of the game there is no recruitment and there are no shields. Let’s model this simple version and build up from there. We’ll set some basic default strategies for the traitors and the faithful.</p>\n<div class=\"cell\">\n<pre>game &lt;- function(\n    n_players = 6,\n    n_traitors = 2,\n    traitor_strategy = random_traitors,\n    faithful_strategy = random_faithful) {\n\n  while (TRUE) {\n\n    # There's an implicit player index:\n    #  c(traitor, traitor, faithful, faithful, ..., faithful)\n\n    # Traitors are always the leading elements in the index, so we can select them with an index range.\n\n    # End-game condition\n    if (n_traitors == 0 || n_players - n_traitors &lt; n_traitors) {\n      break\n    }\n\n    #############\n    # DAY PHASE #\n    #############\n\n    # Traitors and faithfuls update the votes array according to their strategies\n    \n    votes &lt;- rep(0, n_players)\n\n    if (n_players - n_traitors == 1) {\n      # special case for 2 players 1 traitor\n      # coded here to avoid having to handle it repeatedly\n      votes[1:n_traitors] &lt;- n_players\n    } else {\n      votes[1:n_traitors] &lt;- traitor_strategy(n_players, n_traitors)\n    }\n    votes[(n_traitors + 1):n_players] &lt;- faithful_strategy(n_players, n_traitors)\n\n    # Claudia counts the votes\n    banished &lt;- which.max(tabulate(votes))\n\n    n_players &lt;- n_players - 1 # BANISHMENT!\n\n    # If it was a traitor who was banished, decrement\n    if (banished &lt;= n_traitors) {\n      n_traitors &lt;- n_traitors - 1\n    }\n\n    # Check if the game is done yet\n    if (n_traitors == 0 || n_players - n_traitors &lt; n_traitors) {\n      break\n    }\n\n    ###############\n    # NIGHT PHASE #\n    ###############\n    n_players &lt;- n_players - 1 # MURDER!\n  }\n\n  list(n_players_remaining = n_players, n_traitors_remaining = n_traitors)\n}\n\nrandom_faithful &lt;- function(n_players, n_traitors) {\n  # vote for a single random player\n  target &lt;- sample(1:n_players, size = 1)\n  rep(target, n_players - n_traitors)\n}\n\nrandom_traitors &lt;- function(n_players, n_traitors) {\n  # vote a single random faithful\n  target &lt;- sample((n_traitors + 1):n_players, size = 1)\n  rep(target, n_traitors)\n}\n\n# Simulate one random game\ngame()</pre>\n<div class=\"cell-output cell-output-stdout\">\n<pre>$n_players_remaining\n[1] 1\n\n$n_traitors_remaining\n[1] 1</pre>\n</div>\n</div>\n<p>That’s it. All we need to do now is simulate a lot of games and analyse the results. <code>dplyr</code> is our friend for this, as usual.</p>\n<div class=\"cell\">\n<pre>sim_games &lt;- function(..., .game = game, .n_games = 10000) {\n  1:.n_games |&gt;\n    map(\\(x) .game(...), .progress = TRUE) |&gt;\n    bind_rows() |&gt;\n    mutate(\n      traitors_win = n_traitors_remaining &gt; 0,\n      winner = ifelse(n_traitors_remaining &gt; 0, \"Traitors\", \"Faithful\")\n    )\n}\n\nplot_game_results &lt;- function(results, n_players, n_traitors) {\n  traitor_win_prob &lt;- mean(results$traitors_win)\n\n  ggplot(\n    results |&gt;\n      group_by(winner) |&gt;\n      count()\n  ) +\n    aes(y = winner, x = n, fill = winner, label = winner) +\n    geom_bar(stat = \"identity\", colour = \"black\", orientation = \"y\", alpha = 0.9) +\n    scale_fill_manual(values = c(mauve, orange)) +\n    labs(\n      title = sprintf(\n        \"Game result for %s players, %s traitors. Traitor win prob: %s\",\n        n_players,\n        n_traitors,\n        round(traitor_win_prob, digits = 2)\n      ),\n      x = \"Wins\",\n      y = NULL,\n      fill = \"Winner\"\n    ) +\n    theme_minimal() +\n    theme(aspect.ratio = 0.5)\n}\n\nresults &lt;- sim_games(6, 2)\nplot_game_results(results, 6, 2)</pre>\n<div class=\"cell-output-display\">\n<div class=\"quarto-float quarto-figure quarto-figure-center anchored\" id=\"fig-simulate-games\" width=\"450\">\n<figure class=\"quarto-float quarto-float-fig figure\">\n<div aria-describedby=\"fig-simulate-games-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca\">\n<img class=\"img-fluid figure-img\" data-lazy-src=\"https://i0.wp.com/cbowdon.github.io/posts/traitors/index_files/figure-html/fig-simulate-games-1.png?w=450&amp;ssl=1\" data-recalc-dims=\"1\" id=\"fig-simulate-games\" src=\"https://www.r-bloggers.com/wp-content/plugins/jetpack/modules/lazy-images/images/1x1.trans.gif\"/><noscript><img class=\"img-fluid figure-img\" data-recalc-dims=\"1\" id=\"fig-simulate-games\" src=\"https://i0.wp.com/cbowdon.github.io/posts/traitors/index_files/figure-html/fig-simulate-games-1.png?w=450&amp;ssl=1\"/></noscript>\n</div>\n<figcaption class=\"quarto-float-caption-bottom quarto-float-caption quarto-float-fig quarto-uncaptioned\" id=\"fig-simulate-games-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca\">\nFigure 1\n</figcaption>\n</figure>\n</div>\n</div>\n</div>\n<p>That’s quite in favour of the traitors, but the picture is different when we change the balance to be the same as the show.</p>\n<div class=\"cell\">\n<pre>results &lt;- sim_games(22, 3)\nplot_game_results(results, 22, 3)</pre>\n<div class=\"cell-output-display\">\n<div class=\"quarto-float quarto-figure quarto-figure-center anchored\" id=\"fig-simulate-show-numbers\" width=\"450\">\n<figure class=\"quarto-float quarto-float-fig figure\">\n<div aria-describedby=\"fig-simulate-show-numbers-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca\">\n<img class=\"img-fluid figure-img\" data-lazy-src=\"https://i0.wp.com/cbowdon.github.io/posts/traitors/index_files/figure-html/fig-simulate-show-numbers-1.png?w=450&amp;ssl=1\" data-recalc-dims=\"1\" id=\"fig-simulate-show-numbers\" src=\"https://www.r-bloggers.com/wp-content/plugins/jetpack/modules/lazy-images/images/1x1.trans.gif\"/><noscript><img class=\"img-fluid figure-img\" data-recalc-dims=\"1\" id=\"fig-simulate-show-numbers\" src=\"https://i0.wp.com/cbowdon.github.io/posts/traitors/index_files/figure-html/fig-simulate-show-numbers-1.png?w=450&amp;ssl=1\"/></noscript>\n</div>\n<figcaption class=\"quarto-float-caption-bottom quarto-float-caption quarto-float-fig quarto-uncaptioned\" id=\"fig-simulate-show-numbers-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca\">\nFigure 2\n</figcaption>\n</figure>\n</div>\n</div>\n</div>\n<p>Now the game is nearly perfectly balanced.</p>\n<p>To check this simulation is on the right track, I had a little look at a paper on Mafia by <a href=\"https://arxiv.org/pdf/1009.1031\" rel=\"nofollow\" target=\"_blank\">Migdał, 2024</a>, which includes this formula for traitor winning probability:</p>\n<p><img data-lazy-src=\"https://latex.codecogs.com/png.latex?%0Ap(n,%20m)%20%5Cpropto%20%5Cfrac%7Bm%7D%7B%5Csqrt%7Bn%7D%7D%0A\" src=\"https://www.r-bloggers.com/wp-content/plugins/jetpack/modules/lazy-images/images/1x1.trans.gif\"/><noscript><img src=\"https://latex.codecogs.com/png.latex?%0Ap(n,%20m)%20%5Cpropto%20%5Cfrac%7Bm%7D%7B%5Csqrt%7Bn%7D%7D%0A\"/></noscript></p>\n<p>Where <img data-lazy-src=\"https://latex.codecogs.com/png.latex?n\" src=\"https://www.r-bloggers.com/wp-content/plugins/jetpack/modules/lazy-images/images/1x1.trans.gif\"/><noscript><img src=\"https://latex.codecogs.com/png.latex?n\"/></noscript> is the number of players, <img data-lazy-src=\"https://latex.codecogs.com/png.latex?m\" src=\"https://www.r-bloggers.com/wp-content/plugins/jetpack/modules/lazy-images/images/1x1.trans.gif\"/><noscript><img src=\"https://latex.codecogs.com/png.latex?m\"/></noscript> is the number of traitors, and <img data-lazy-src=\"https://latex.codecogs.com/png.latex?p\" src=\"https://www.r-bloggers.com/wp-content/plugins/jetpack/modules/lazy-images/images/1x1.trans.gif\"/><noscript><img src=\"https://latex.codecogs.com/png.latex?p\"/></noscript> is the winning probability.</p>\n<p>Migdał calculates the exact probabilities for games with a single traitor and a pseudo-random faithful vote strategy, so we can compare the simulation to the calculation.</p>\n<p>The formula in this case is:</p>\n<p><img data-lazy-src=\"https://latex.codecogs.com/png.latex?%0Ap(n,%201)%20=%20%5Cfrac%7B(n%20-1)!!%7D%7Bn!!%7D%0A\" src=\"https://www.r-bloggers.com/wp-content/plugins/jetpack/modules/lazy-images/images/1x1.trans.gif\"/><noscript><img src=\"https://latex.codecogs.com/png.latex?%0Ap(n,%201)%20=%20%5Cfrac%7B(n%20-1)!!%7D%7Bn!!%7D%0A\"/></noscript></p>\n<p><img data-lazy-src=\"https://latex.codecogs.com/png.latex?n!!\" src=\"https://www.r-bloggers.com/wp-content/plugins/jetpack/modules/lazy-images/images/1x1.trans.gif\"/><noscript><img src=\"https://latex.codecogs.com/png.latex?n!!\"/></noscript> is the double factorial of <img data-lazy-src=\"https://latex.codecogs.com/png.latex?n\" src=\"https://www.r-bloggers.com/wp-content/plugins/jetpack/modules/lazy-images/images/1x1.trans.gif\"/><noscript><img src=\"https://latex.codecogs.com/png.latex?n\"/></noscript>, i.e. <img data-lazy-src=\"https://latex.codecogs.com/png.latex?1%20%5Ctimes%203%20%5Ctimes%20...%20%5Ctimes%20n\" src=\"https://www.r-bloggers.com/wp-content/plugins/jetpack/modules/lazy-images/images/1x1.trans.gif\"/><noscript><img src=\"https://latex.codecogs.com/png.latex?1%20%5Ctimes%203%20%5Ctimes%20...%20%5Ctimes%20n\"/></noscript> if <img data-lazy-src=\"https://latex.codecogs.com/png.latex?n\" src=\"https://www.r-bloggers.com/wp-content/plugins/jetpack/modules/lazy-images/images/1x1.trans.gif\"/><noscript><img src=\"https://latex.codecogs.com/png.latex?n\"/></noscript> is odd and <img data-lazy-src=\"https://latex.codecogs.com/png.latex?2%20%5Ctimes%204%20%5Ctimes%20...%20%5Ctimes%20n\" src=\"https://www.r-bloggers.com/wp-content/plugins/jetpack/modules/lazy-images/images/1x1.trans.gif\"/><noscript><img src=\"https://latex.codecogs.com/png.latex?2%20%5Ctimes%204%20%5Ctimes%20...%20%5Ctimes%20n\"/></noscript> if <img data-lazy-src=\"https://latex.codecogs.com/png.latex?n\" src=\"https://www.r-bloggers.com/wp-content/plugins/jetpack/modules/lazy-images/images/1x1.trans.gif\"/><noscript><img src=\"https://latex.codecogs.com/png.latex?n\"/></noscript> is even.</p>\n<div class=\"cell\">\n<details class=\"code-fold\">\n<summary>Code</summary>\n<pre>migdal &lt;- function(n) {\n  if (n == 1) {\n    1\n  } else {\n    if (n %% 2 == 0) {\n      prod(seq(1, n - 1, 2)) / prod(seq(2, n, 2))\n    } else {\n      prod(seq(2, n - 1, 2)) / prod(seq(1, n, 2))\n    }\n  }\n}\n\nsim_probs &lt;- 1:20 |&gt;\n  map(\\(n) mean(sim_games(n, 1)$traitors_win), .progress = TRUE) |&gt;\n  as.double()\n\nmigdal_probs &lt;- 1:20 |&gt;\n  map(migdal) |&gt;\n  as.double()\n\nggplot(tibble(n_players = 1:20, sim_prob = sim_probs)) +\n  aes(x = n_players, y = sim_prob) +\n  geom_point(colour = \"red\") +\n  geom_line(data = tibble(n_players = 1:20, migdal_prob = migdal_probs), mapping = aes(y = migdal_prob)) +\n  scale_y_continuous(limits = c(0, 1.5))</pre>\n</details>\n<div class=\"cell-output-display\">\n<div class=\"quarto-float quarto-figure quarto-figure-center anchored\" id=\"fig-sim-comparison\">\n<figure class=\"quarto-float quarto-float-fig figure\">\n<div aria-describedby=\"fig-sim-comparison-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca\">\n<img class=\"img-fluid figure-img\" data-lazy-src=\"https://i1.wp.com/cbowdon.github.io/posts/traitors/index_files/figure-html/fig-sim-comparison-1.png?w=450&amp;ssl=1\" data-recalc-dims=\"1\" src=\"https://www.r-bloggers.com/wp-content/plugins/jetpack/modules/lazy-images/images/1x1.trans.gif\"/><noscript><img class=\"img-fluid figure-img\" data-recalc-dims=\"1\" src=\"https://i1.wp.com/cbowdon.github.io/posts/traitors/index_files/figure-html/fig-sim-comparison-1.png?w=450&amp;ssl=1\"/></noscript>\n</div>\n<figcaption class=\"quarto-float-caption-bottom quarto-float-caption quarto-float-fig\" id=\"fig-sim-comparison-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca\">\nFigure 3: Comparison of simulated (points) to calculated (line) win probabilities.\n</figcaption>\n</figure>\n</div>\n</div>\n</div>\n<p>The sawtooth pattern is one of the interesting results of Migdał’s paper: an odd number of players strongly favours the traitors, to the extent that having 8 faithful and 1 traitor gives the traitor a better win chance than having 3 faithful and 1 traitor, despite there being more than twice as many faithful in the former.</p>\n<p>That has a useful implication for the producers of the Traitors: if they want to keep the game balanced, the timing of adding new players is crucial. I suspect they already know this.</p>\n</section>\n<section class=\"level1\" id=\"how-good-is-our-random-vote-assumption\">\n<h1>How good is our random vote assumption?</h1>\n<p>Let’s see how random the votes actually are. Happily, Traitors is a big enough phenomenon that people have recorded the players’ votes online. <a href=\"https://thetraitors.fandom.com/wiki/The_Traitors_(Australia)/Season_1#Voting_History\" rel=\"nofollow\" target=\"_blank\">Here for example</a> are the votes from Australia’s first season. Below the fold is some code for manipulating the copy-pasted votes into a dataframe.</p>\n<div class=\"cell\">\n<details class=\"code-fold\">\n<summary>Code</summary>\n<pre># Some fixes were required: in Aus two players abstained from a vote, and one quit.\n# I converted these into pseudo-votes for an imaginary player.\n\nvotes &lt;- list(\n  # Aus 1\n  list(\n    c(20, 2, 1),\n    c(16, 2, 1, 1, 1),\n    c(4, 4, 3, 3, 2, 1, 1, 1),\n    c(11, 5, 2),\n    c(7, 6, 2, 1),\n    c(7, 5, 1, 1),\n    c(9, 3, 1),\n    c(9, 1, 1),\n    c(8, 2),\n    c(4, 1, 1, 1, 1),\n    c(5, 1, 1),\n    c(4, 1),\n    c(3, 1),\n    c(2, 1)\n  ),\n\n  # UK 1\n  list(\n    c(11, 8),\n    c(8, 6, 3),\n    c(11, 4),\n    c(9, 4),\n    c(7, 3, 1),\n    c(7, 1, 1),\n    c(6, 2),\n    c(4, 2),\n    c(3, 2),\n    c(1, 3),\n    c(3, 0)\n  ),\n\n  # UK 2\n  list(\n    c(17, 1, 1),\n    c(10, 6, 1),\n    c(7, 6, 2, 1),\n    c(7, 4, 1, 1, 1),\n    c(6, 5, 2, 1),\n    c(7, 3, 2, 1),\n    c(6, 2, 2),\n    c(4, 2, 1, 1),\n    c(4, 2),\n    c(4, 1),\n    c(2, 2),\n    c(3, 1),\n    c(3, 0)\n  ),\n\n  # US\n  list(\n    c(15, 2, 2, 1, 1),\n    c(4, 4, 4, 3, 1, 1, 1, 1),\n    c(7, 6, 3),\n    c(14, 1, 1, 1, 1),\n    c(12, 2, 1, 1),\n    c(7, 3, 2, 1, 1),\n    c(9, 2, 1),\n    c(7, 4),\n    c(6, 2, 1),\n    c(6, 1, 1),\n    c(4, 1, 1),\n    c(4, 1),\n    c(4, 0),\n    c(3, 1),\n    c(1, 2),\n    c(2, 1)\n  )\n)\n\npad &lt;- function(v, new_length, value) {\n  v2 &lt;- rep(value, new_length)\n  v2[1:length(v)] &lt;- v\n  v2\n}\n\nvotes_df &lt;- tibble(v = flatten(votes)) |&gt;\n  rowwise() |&gt;\n  filter(sum(v) &gt; 5) |&gt; # ignore the finals, which are a little different\n  mutate(\n    n_players = sum(v),\n    v = list(pad(v, n_players, 0)), # pad 0s for with each player that didn't receive a vote\n  )</pre>\n</details>\n</div>\n<p>We can guess by looking that these aren’t drawn from a uniform distribution, and <img data-lazy-src=\"https://latex.codecogs.com/png.latex?%5Cchi%5E2\" src=\"https://www.r-bloggers.com/wp-content/plugins/jetpack/modules/lazy-images/images/1x1.trans.gif\"/><noscript><img src=\"https://latex.codecogs.com/png.latex?%5Cchi%5E2\"/></noscript> agrees.</p>\n<div class=\"cell\">\n<pre>votes_df |&gt;\n  mutate(p.value = chisq.test(v, simulate.p.value = TRUE)[\"p.value\"]) |&gt;\n  unnest(p.value) |&gt;\n  head(5) |&gt;  # the whole table is not that interesting\n  kable(digits = 5)</pre>\n<div class=\"cell quarto-float quarto-figure quarto-figure-center anchored\" id=\"tbl-unnecessary-chisq\">\n<figure class=\"quarto-float quarto-float-tbl figure\">\n<figcaption class=\"quarto-float-caption-top quarto-float-caption quarto-float-tbl\" id=\"tbl-unnecessary-chisq-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca\">\nTable 1: Completely unnecessary <img data-lazy-src=\"https://latex.codecogs.com/png.latex?%5Cchi%5E2\" src=\"https://www.r-bloggers.com/wp-content/plugins/jetpack/modules/lazy-images/images/1x1.trans.gif\"/><noscript><img src=\"https://latex.codecogs.com/png.latex?%5Cchi%5E2\"/></noscript> goodness-of-fit tests.\n</figcaption>\n<div aria-describedby=\"tbl-unnecessary-chisq-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca\">\n<div class=\"cell-output-display\">\n<table class=\"do-not-create-environment cell caption-top table table-sm table-striped small\">\n<colgroup>\n<col style=\"width: 79%\"/>\n<col style=\"width: 11%\"/>\n<col style=\"width: 9%\"/>\n</colgroup>\n<thead>\n<tr class=\"header\">\n<th style=\"text-align: left;\">v</th>\n<th style=\"text-align: right;\">n_players</th>\n<th style=\"text-align: right;\">p.value</th>\n</tr>\n</thead>\n<tbody>\n<tr class=\"odd\">\n<td style=\"text-align: left;\">20, 2, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0</td>\n<td style=\"text-align: right;\">23</td>\n<td style=\"text-align: right;\">0.0005</td>\n</tr>\n<tr class=\"even\">\n<td style=\"text-align: left;\">16, 2, 1, 1, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0</td>\n<td style=\"text-align: right;\">21</td>\n<td style=\"text-align: right;\">0.0005</td>\n</tr>\n<tr class=\"odd\">\n<td style=\"text-align: left;\">4, 4, 3, 3, 2, 1, 1, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0</td>\n<td style=\"text-align: right;\">19</td>\n<td style=\"text-align: right;\">0.0085</td>\n</tr>\n<tr class=\"even\">\n<td style=\"text-align: left;\">11, 5, 2, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0</td>\n<td style=\"text-align: right;\">18</td>\n<td style=\"text-align: right;\">0.0005</td>\n</tr>\n<tr class=\"odd\">\n<td style=\"text-align: left;\">7, 6, 2, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0</td>\n<td style=\"text-align: right;\">16</td>\n<td style=\"text-align: right;\">0.0005</td>\n</tr>\n</tbody>\n</table>\n</div>\n</div>\n</figure>\n</div>\n</div>\n<p>It looks to me like the faithful do herd together to whomp one or two unlucky players. Sometimes this is pre-arranged, sometimes it’s just groupthink (“I’ve just got nothing to go on, so I put yourself…”).</p>\n<p>Let’s implement a voting strategy that’s closer to this reality. We’ll take the mean of the vote distributions as the probability of voting for target one, two, three, etc, to form a multinomial distribution, so that our simulation reflects actual vote distributions.</p>\n<div class=\"cell\">\n<pre>n_rounds &lt;- nrow(votes_df)\nn_players &lt;- max(votes_df$n_players)\n\nmat &lt;- matrix(0, nrow = n_rounds, ncol = n_players)\n\nfor (i in 1:n_rounds) {\n  v &lt;- votes_df$v[[i]]\n  mat[i, 1:length(v)] &lt;- v / sum(v)\n}\n\nvote_prob &lt;- colSums(mat) / nrow(mat)\n\nbarplot(vote_prob)</pre>\n<div class=\"cell-output-display\">\n<div class=\"quarto-float quarto-figure quarto-figure-center anchored\" id=\"fig-est-multinomial\">\n<figure class=\"quarto-float quarto-float-fig figure\">\n<div aria-describedby=\"fig-est-multinomial-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca\">\n<img class=\"img-fluid figure-img\" data-lazy-src=\"https://i2.wp.com/cbowdon.github.io/posts/traitors/index_files/figure-html/fig-est-multinomial-1.png?w=450&amp;ssl=1\" data-recalc-dims=\"1\" src=\"https://www.r-bloggers.com/wp-content/plugins/jetpack/modules/lazy-images/images/1x1.trans.gif\"/><noscript><img class=\"img-fluid figure-img\" data-recalc-dims=\"1\" src=\"https://i2.wp.com/cbowdon.github.io/posts/traitors/index_files/figure-html/fig-est-multinomial-1.png?w=450&amp;ssl=1\"/></noscript>\n</div>\n<figcaption class=\"quarto-float-caption-bottom quarto-float-caption quarto-float-fig\" id=\"fig-est-multinomial-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca\">\nFigure 4: Mean of normalised vote counts across each round.\n</figcaption>\n</figure>\n</div>\n</div>\n</div>\n<p>In a typical round, we’d expect about 62% of players to vote for player A, and 23% for player B, etc. This doesn’t relate to the probability of player A or B being traitors, just the expected vote split.</p>\n<p>Let’s make that a strategy function and simulate it.</p>\n<div class=\"cell\">\n<pre>random_herd &lt;- function(n_players, n_traitors) {\n  shuffled &lt;- sample(n_players, n_players)\n  sample(shuffled, size = n_players - n_traitors, replace = TRUE, prob = vote_prob[1:n_players])\n}\n\nresults &lt;- sim_games(n_players = 22, n_traitors = 3, traitor_strategy = random_traitors, faithful_strategy = random_herd)\nplot_game_results(results, 22, 3)</pre>\n<div class=\"cell-output-display\">\n<div class=\"quarto-float quarto-figure quarto-figure-center anchored\" id=\"fig-herding-strat\" width=\"450\">\n<figure class=\"quarto-float quarto-float-fig figure\">\n<div aria-describedby=\"fig-herding-strat-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca\">\n<img class=\"img-fluid figure-img\" data-lazy-src=\"https://i1.wp.com/cbowdon.github.io/posts/traitors/index_files/figure-html/fig-herding-strat-1.png?w=450&amp;ssl=1\" data-recalc-dims=\"1\" id=\"fig-herding-strat\" src=\"https://www.r-bloggers.com/wp-content/plugins/jetpack/modules/lazy-images/images/1x1.trans.gif\"/><noscript><img class=\"img-fluid figure-img\" data-recalc-dims=\"1\" id=\"fig-herding-strat\" src=\"https://i1.wp.com/cbowdon.github.io/posts/traitors/index_files/figure-html/fig-herding-strat-1.png?w=450&amp;ssl=1\"/></noscript>\n</div>\n<figcaption class=\"quarto-float-caption-bottom quarto-float-caption quarto-float-fig quarto-uncaptioned\" id=\"fig-herding-strat-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca\">\nFigure 5\n</figcaption>\n</figure>\n</div>\n</div>\n</div>\n<p>Having a split vote isn’t much worse than the fully random strategy, though it still gives the traitors a slight advantage. Could the faithfuls do better? Well yes, if they were any good at spotting traitors.</p>\n</section>\n<section class=\"level1\" id=\"smarter-faithfuls\">\n<h1>Smarter faithfuls</h1>\n<p>Let’s grant the faithfuls a glimmer of intuition: they are twice as suspicious of traitors as faithfuls, i.e. a traitor is twice as likely to be the vote target as a faithful. We’ll call that the <em>suspicion</em> factor, where a value of 1 means a traitor is equally suspicious as any other player to the faithfuls.</p>\n<p>We can model this with a suspicion vector, which is the (normalised) level of suspicion for each player. We’ll need a new <code>game</code> function, which we’ll call <code>game2</code>. This version of the game allows both faithfuls and traitors to influence the suspicion on each player each day.</p>\n<div class=\"cell\">\n<pre>game2 &lt;- function(\n    n_players = 22,\n    n_traitors = 3,\n    traitors_influence = no_influence,\n    faithfuls_influence = no_influence,\n    traitors_strategy = random_traitors2,\n    faithfuls_strategy = random_faithful2) {\n  while (TRUE) {\n\n    if (n_traitors == 0 || n_players - n_traitors &lt; n_traitors) {\n      break\n    }\n\n    #############\n    # DAY PHASE #\n    #############\n\n    # This is the new bit:\n    # traitors and faithfuls influence suspicion\n    suspicions &lt;- rep(1, n_players) |&gt;\n      faithfuls_influence(n_traitors) |&gt;\n      traitors_influence(n_traitors)\n    suspicions &lt;- suspicions / sum(suspicions)  # normalise\n\n    # Voting is as-before\n    votes &lt;- rep(0, n_players)\n\n    if (n_players - n_traitors == 1) {\n      votes[1:n_traitors] &lt;- n_players\n    } else {\n      votes[1:n_traitors] &lt;- traitors_strategy(suspicions, n_players, n_traitors)\n    }\n    votes[(n_traitors + 1):n_players] &lt;- faithfuls_strategy(suspicions, n_players, n_traitors)\n\n    banished &lt;- which.max(tabulate(votes))\n\n    n_players &lt;- n_players - 1 # BANISHMENT!\n    if (banished &lt;= n_traitors) {\n      n_traitors &lt;- n_traitors - 1\n    }\n\n    if (n_traitors == 0 || n_players - n_traitors &lt; n_traitors) {\n      break\n    }\n\n    ###############\n    # NIGHT PHASE #\n    ###############\n    n_players &lt;- n_players - 1 # MURDER!\n  }\n\n  list(n_players_remaining = n_players, n_traitors_remaining = n_traitors)\n}\n\nrandom_faithful2 &lt;- function(suspicions, n_players, n_traitors) {\n  # vote for a single random player\n  target &lt;- sample(1:n_players, size = 1)\n  rep(target, n_players - n_traitors)\n}\n\nrandom_traitors2 &lt;- function(suspicions, n_players, n_traitors) {\n  # as before: vote a single random faithful\n  target &lt;- sample((n_traitors + 1):n_players, size = 1)\n  rep(target, n_traitors)\n}\n\nno_influence &lt;- function(suspicions, n_traitors) suspicions</pre>\n</div>\n<p>We set the default influence to be a pass-through i.e. no influence, and set the same default vote strategies as before (adapted to accept but ignore a <code>suspicions</code> argument). In that case we see that the game is balanced the same as before. That’s a useful sanity check.</p>\n<div class=\"cell\">\n<pre>results &lt;- sim_games(.game = game2)\nplot_game_results(results, 22, 3)</pre>\n<div class=\"cell-output-display\">\n<div class=\"quarto-float quarto-figure quarto-figure-center anchored\" id=\"fig-game2-balanced\" width=\"450\">\n<figure class=\"quarto-float quarto-float-fig figure\">\n<div aria-describedby=\"fig-game2-balanced-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca\">\n<img class=\"img-fluid figure-img\" data-lazy-src=\"https://i2.wp.com/cbowdon.github.io/posts/traitors/index_files/figure-html/fig-game2-balanced-1.png?w=450&amp;ssl=1\" data-recalc-dims=\"1\" id=\"fig-game2-balanced\" src=\"https://www.r-bloggers.com/wp-content/plugins/jetpack/modules/lazy-images/images/1x1.trans.gif\"/><noscript><img class=\"img-fluid figure-img\" data-recalc-dims=\"1\" id=\"fig-game2-balanced\" src=\"https://i2.wp.com/cbowdon.github.io/posts/traitors/index_files/figure-html/fig-game2-balanced-1.png?w=450&amp;ssl=1\"/></noscript>\n</div>\n<figcaption class=\"quarto-float-caption-bottom quarto-float-caption quarto-float-fig quarto-uncaptioned\" id=\"fig-game2-balanced-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca\">\nFigure 6\n</figcaption>\n</figure>\n</div>\n</div>\n</div>\n<p>We can check with the random herd strategy too.</p>\n<div class=\"cell\">\n<pre>random_herd2 &lt;- function(suspicion, n_players, n_traitors) {\n  shuffled &lt;- sample(n_players, n_players)\n  sample(shuffled, size = n_players - n_traitors, replace = TRUE, prob = vote_prob[1:n_players])\n}\n\nresults &lt;- sim_games(faithfuls_strategy = random_herd2, .game = game2)\nplot_game_results(results, 22, 3)</pre>\n<div class=\"cell-output-display\">\n<div class=\"quarto-float quarto-figure quarto-figure-center anchored\" id=\"fig-game2-random-herd\" width=\"450\">\n<figure class=\"quarto-float quarto-float-fig figure\">\n<div aria-describedby=\"fig-game2-random-herd-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca\">\n<img class=\"img-fluid figure-img\" data-lazy-src=\"https://i0.wp.com/cbowdon.github.io/posts/traitors/index_files/figure-html/fig-game2-random-herd-1.png?w=450&amp;ssl=1\" data-recalc-dims=\"1\" id=\"fig-game2-random-herd\" src=\"https://www.r-bloggers.com/wp-content/plugins/jetpack/modules/lazy-images/images/1x1.trans.gif\"/><noscript><img class=\"img-fluid figure-img\" data-recalc-dims=\"1\" id=\"fig-game2-random-herd\" src=\"https://i0.wp.com/cbowdon.github.io/posts/traitors/index_files/figure-html/fig-game2-random-herd-1.png?w=450&amp;ssl=1\"/></noscript>\n</div>\n<figcaption class=\"quarto-float-caption-bottom quarto-float-caption quarto-float-fig quarto-uncaptioned\" id=\"fig-game2-random-herd-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca\">\nFigure 7\n</figcaption>\n</figure>\n</div>\n</div>\n</div>\n<p>Also the same. But now let’s grant the faithfuls some strong intuition, twice as much suspicion on traitors as faithfuls. To support different levels of suspicion we can use a closure.</p>\n<div class=\"cell\">\n<pre>increased_suspicion &lt;- function(suspicion_factor) {\n  function(suspicions, n_traitors) {\n    suspicions[1:n_traitors] &lt;- suspicion_factor\n    suspicions\n  }\n}\n\n# e.g. increased_suspicion(2) returns a function that updates the traitors' suspicion values to 2</pre>\n</div>\n<p>We also define a version of the herd strategy that selects the players to whomp according to their relative suspicion.</p>\n<div class=\"cell\">\n<pre>suspicious_herd &lt;- function(suspicions, n_players, n_traitors) {\n  shuffled &lt;- sample(n_players, size = n_players, prob = suspicions)\n  sample(shuffled, size = n_players - n_traitors, replace = TRUE, prob = vote_prob[1:n_players])\n}</pre>\n</div>\n<p>How does that shake out for the faithfuls?</p>\n<div class=\"cell\">\n<pre>results &lt;- sim_games(faithfuls_influence = increased_suspicion(2), faithfuls_strategy = suspicious_herd, .game = game2)\nplot_game_results(results, 22, 3)</pre>\n<div class=\"cell-output-display\">\n<div class=\"quarto-float quarto-figure quarto-figure-center anchored\" id=\"fig-suspicious-herd-results\" width=\"450\">\n<figure class=\"quarto-float quarto-float-fig figure\">\n<div aria-describedby=\"fig-suspicious-herd-results-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca\">\n<img class=\"img-fluid figure-img\" data-lazy-src=\"https://i0.wp.com/cbowdon.github.io/posts/traitors/index_files/figure-html/fig-suspicious-herd-results-1.png?w=450&amp;ssl=1\" data-recalc-dims=\"1\" id=\"fig-suspicious-herd-results\" src=\"https://www.r-bloggers.com/wp-content/plugins/jetpack/modules/lazy-images/images/1x1.trans.gif\"/><noscript><img class=\"img-fluid figure-img\" data-recalc-dims=\"1\" id=\"fig-suspicious-herd-results\" src=\"https://i0.wp.com/cbowdon.github.io/posts/traitors/index_files/figure-html/fig-suspicious-herd-results-1.png?w=450&amp;ssl=1\"/></noscript>\n</div>\n<figcaption class=\"quarto-float-caption-bottom quarto-float-caption quarto-float-fig quarto-uncaptioned\" id=\"fig-suspicious-herd-results-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca\">\nFigure 8\n</figcaption>\n</figure>\n</div>\n</div>\n</div>\n<p>Magnificently! That puts the balance resoundingly in favour of the faithfuls, showing how fragile the traitors’ position really is. We can explore how the traitors’ win probability depends on how savvy the faithful are.</p>\n<div class=\"cell\">\n<pre>suspicions &lt;- c(0.5, 1.0, 1.2, 1.5, 2.0, 5.0, 10.0)\ns_df &lt;- suspicions |&gt;\n  map(\n    \\(s)\n    sim_games(\n      n_players = 22,\n      n_traitors = 3,\n      faithfuls_influence = increased_suspicion(s),\n      faithfuls_strategy = suspicious_herd,\n      .game = game2\n    ) |&gt;\n      mutate(suspicion = s),\n    .progress = TRUE\n  ) |&gt;\n  bind_rows() |&gt;\n  group_by(suspicion) |&gt;\n  summarise(traitor_win_prob = mean(traitors_win))</pre>\n<div class=\"cell-output cell-output-stderr\">\n<pre> ■■■■■■■■■■■■■■■■■■■■■■■■■■■       86% |  ETA:  2s</pre>\n</div>\n<pre>ggplot(s_df) +\n  aes(x = suspicion, y = traitor_win_prob) +\n  geom_area(fill = orange, colour = \"black\") +\n  scale_x_continuous(breaks = seq(0, 10, 1)) +\n  scale_y_continuous(limits = c(0, 1)) +\n  labs(\n    x = \"Suspicion relative to faithful\",\n    y = \"Traitors win probability\"\n  ) +\n  theme_minimal()</pre>\n<div class=\"cell-output-display\">\n<div class=\"quarto-float quarto-figure quarto-figure-center anchored\" id=\"fig-suspicion-plot\">\n<figure class=\"quarto-float quarto-float-fig figure\">\n<div aria-describedby=\"fig-suspicion-plot-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca\">\n<img class=\"img-fluid figure-img\" data-lazy-src=\"https://i2.wp.com/cbowdon.github.io/posts/traitors/index_files/figure-html/fig-suspicion-plot-1.png?w=450&amp;ssl=1\" data-recalc-dims=\"1\" src=\"https://www.r-bloggers.com/wp-content/plugins/jetpack/modules/lazy-images/images/1x1.trans.gif\"/><noscript><img class=\"img-fluid figure-img\" data-recalc-dims=\"1\" src=\"https://i2.wp.com/cbowdon.github.io/posts/traitors/index_files/figure-html/fig-suspicion-plot-1.png?w=450&amp;ssl=1\"/></noscript>\n</div>\n<figcaption class=\"quarto-float-caption-bottom quarto-float-caption quarto-float-fig\" id=\"fig-suspicion-plot-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca\">\nFigure 9: Traitor win probability as a function of suspicion.\n</figcaption>\n</figure>\n</div>\n</div>\n</div>\n<p>The odds get exponentially worse the more the faithful suspect the traitors. And vice-versa: if the traitors are less-suspected than the faithful, they stand a strong chance of winning the game.</p>\n</section>\n<section class=\"level1\" id=\"smarter-traitors\">\n<h1>Smarter traitors</h1>\n<p>Naturally the traitors will try to influence faithfuls towards other faithfuls. (Or other traitors, but let’s leave <em>that</em> strategy aside for now.) We could model that as the traitors being able to increase the suspicion level of other players. If they have limited influence, perhaps it makes sense for them to make a concerted effort to put suspicion on one other player.</p>\n<div class=\"cell\">\n<pre>sow_suspicion &lt;- function(suspicion_factor) {\n  function(suspicions, n_traitors) {\n    suspicions[n_traitors + 1] &lt;- suspicion_factor\n    suspicions\n  }\n}\n\nresults &lt;- sim_games(\n  traitors_influence = sow_suspicion(2),\n  faithfuls_influence = increased_suspicion(2),\n  faithfuls_strategy = suspicious_herd,\n  .game = game2\n)\nplot_game_results(results, 22, 3)</pre>\n<div class=\"cell-output-display\">\n<div class=\"quarto-float quarto-figure quarto-figure-center anchored\" id=\"fig-sow-suspicion\" width=\"450\">\n<figure class=\"quarto-float quarto-float-fig figure\">\n<div aria-describedby=\"fig-sow-suspicion-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca\">\n<img class=\"img-fluid figure-img\" data-lazy-src=\"https://i1.wp.com/cbowdon.github.io/posts/traitors/index_files/figure-html/fig-sow-suspicion-1.png?w=450&amp;ssl=1\" data-recalc-dims=\"1\" id=\"fig-sow-suspicion\" src=\"https://www.r-bloggers.com/wp-content/plugins/jetpack/modules/lazy-images/images/1x1.trans.gif\"/><noscript><img class=\"img-fluid figure-img\" data-recalc-dims=\"1\" id=\"fig-sow-suspicion\" src=\"https://i1.wp.com/cbowdon.github.io/posts/traitors/index_files/figure-html/fig-sow-suspicion-1.png?w=450&amp;ssl=1\"/></noscript>\n</div>\n<figcaption class=\"quarto-float-caption-bottom quarto-float-caption quarto-float-fig quarto-uncaptioned\" id=\"fig-sow-suspicion-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca\">\nFigure 10\n</figcaption>\n</figure>\n</div>\n</div>\n</div>\n<p>It’s an improvement! They’ve dragged the win probability from 0.24 up to 0.32. To completely nullify the faithfuls’ advantage though they would need to sow enough suspicion to make the traitors below the group’s mean level of suspicion.</p>\n<p>Happily for the traitors, the faithfuls seem likely to manage that themselves, by fixating on a “twinkle in the eye” or other red herrings. As we’ve seen, it’s enough for the traitors to wait for faithfuls to get suspicious of another faithful and run with that.</p>\n</section>\n<section class=\"level1\" id=\"where-next\">\n<h1>Where next?</h1>\n<blockquote class=\"blockquote\">\n<p>All models are wrong, especially yours Chris.</p>\n<p>George Box (ghost of)</p>\n</blockquote>\n<p>It hardly needs to be said that this model is a much-simplified version of reality. We’ve barely touched on the psychological aspects that make the game so fun, as well as many of the TV’s specific game mechanics:</p>\n<ul>\n<li>shields</li>\n<li>recruitment</li>\n<li>the final</li>\n</ul>\n<p>Those would certainly change the balance.</p>\n<p>At the moment the suspicions vector is also too simplistic. I was tempted to make some kind of model that draws suspicions from a Dirichlet distribution, but decided that making a more complex model to simulate player behaviour that is sometimes almost chaotic is probably not a productive route.</p>\n<p>There’s more we could do with the model we have so far too, for example looking at how the traitor win probability increases as the game progresses. For example at the time of writing, the Season 3 in the UK has 8 faithfuls and 2 traitors, with one murder pending. If we repeat the last result with those numbers, the traitors are on-track to win.</p>\n<div class=\"cell\">\n<pre>results &lt;- sim_games(\n  n_players = 7,\n  n_traitors = 2,\n  traitors_influence = sow_suspicion(2),\n  faithfuls_influence = increased_suspicion(2),\n  faithfuls_strategy = suspicious_herd,\n  .game = game2\n)\nplot_game_results(results, 7, 2)</pre>\n<div class=\"cell-output-display\">\n<div class=\"quarto-float quarto-figure quarto-figure-center anchored\" id=\"fig-uk-season-3\" width=\"450\">\n<figure class=\"quarto-float quarto-float-fig figure\">\n<div aria-describedby=\"fig-uk-season-3-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca\">\n<img class=\"img-fluid figure-img\" data-lazy-src=\"https://i2.wp.com/cbowdon.github.io/posts/traitors/index_files/figure-html/fig-uk-season-3-1.png?w=450&amp;ssl=1\" data-recalc-dims=\"1\" id=\"fig-uk-season-3\" src=\"https://www.r-bloggers.com/wp-content/plugins/jetpack/modules/lazy-images/images/1x1.trans.gif\"/><noscript><img class=\"img-fluid figure-img\" data-recalc-dims=\"1\" id=\"fig-uk-season-3\" src=\"https://i2.wp.com/cbowdon.github.io/posts/traitors/index_files/figure-html/fig-uk-season-3-1.png?w=450&amp;ssl=1\"/></noscript>\n</div>\n<figcaption class=\"quarto-float-caption-bottom quarto-float-caption quarto-float-fig quarto-uncaptioned\" id=\"fig-uk-season-3-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca\">\nFigure 11\n</figcaption>\n</figure>\n</div>\n</div>\n</div>\n<p>Incidentally, the traitors decided against recruitment. However that would have been an even better move.</p>\n<div class=\"cell\">\n<pre>results &lt;- sim_games(\n  n_players = 8,\n  n_traitors = 3,\n  traitors_influence = sow_suspicion(2),\n  faithfuls_influence = increased_suspicion(2),\n  faithfuls_strategy = suspicious_herd,\n  .game = game2\n)\nplot_game_results(results, 8, 3)</pre>\n<div class=\"cell-output-display\">\n<div class=\"quarto-float quarto-figure quarto-figure-center anchored\" id=\"fig-uk-season-3-with-recruitment\" width=\"450\">\n<figure class=\"quarto-float quarto-float-fig figure\">\n<div aria-describedby=\"fig-uk-season-3-with-recruitment-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca\">\n<img class=\"img-fluid figure-img\" data-lazy-src=\"https://i2.wp.com/cbowdon.github.io/posts/traitors/index_files/figure-html/fig-uk-season-3-with-recruitment-1.png?w=450&amp;ssl=1\" data-recalc-dims=\"1\" id=\"fig-uk-season-3-with-recruitment\" src=\"https://www.r-bloggers.com/wp-content/plugins/jetpack/modules/lazy-images/images/1x1.trans.gif\"/><noscript><img class=\"img-fluid figure-img\" data-recalc-dims=\"1\" id=\"fig-uk-season-3-with-recruitment\" src=\"https://i2.wp.com/cbowdon.github.io/posts/traitors/index_files/figure-html/fig-uk-season-3-with-recruitment-1.png?w=450&amp;ssl=1\"/></noscript>\n</div>\n<figcaption class=\"quarto-float-caption-bottom quarto-float-caption quarto-float-fig quarto-uncaptioned\" id=\"fig-uk-season-3-with-recruitment-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca\">\nFigure 12\n</figcaption>\n</figure>\n</div>\n</div>\n</div>\n<p>Somebody better teach those traitors to screw around with code!</p>\n</section>\n<div class=\"jp-relatedposts\" id=\"jp-relatedposts\">\n<h3 class=\"jp-relatedposts-headline\"><em>Related</em></h3>\n</div>\n<!-- Share buttons by mashshare.net - Version: 4.0.47-->\n<div style=\"border: 1px solid; background: none repeat scroll 0 0 #EDEDED; margin: 1px; font-size: 13px;\">\n<div style=\"text-align: center;\">To <strong>leave a comment</strong> for the author, please follow the link and comment on their blog: <strong><a href=\"https://cbowdon.github.io/posts/traitors/\"> Chris Bowdon</a></strong>.</div>\n<hr/>\n<a href=\"https://www.r-bloggers.com/\" rel=\"nofollow\">R-bloggers.com</a> offers <strong><a href=\"https://feedburner.google.com/fb/a/mailverify?uri=RBloggers\" rel=\"nofollow\">daily e-mail updates</a></strong> about <a href=\"https://www.r-project.org/\" rel=\"nofollow\" title=\"The R Project for Statistical Computing\">R</a> news and tutorials about <a href=\"https://www.r-bloggers.com/how-to-learn-r-2/\" rel=\"nofollow\" title=\"R tutorials\">learning R</a> and many other topics. <a href=\"https://www.r-users.com/\" rel=\"nofollow\" title=\"Data science jobs\">Click here if you're looking to post or find an R/data-science job</a>.\n\n<hr/>Want to share your content on R-bloggers?<a href=\"https://www.r-bloggers.com/add-your-blog/\" rel=\"nofollow\"> click here</a> if you have a blog, or <a href=\"http://r-posts.com/\" rel=\"nofollow\"> here</a> if you don't.\n</div> </div>\n</article>",
    "main_text": "Can we predict who wins the Traitors with an R simulation?\nPosted on\nJanuary 18, 2025\nby\nChris Bowdon\nin\nR bloggers\n| 0 Comments\n[This article was first published on\nChris Bowdon\n, and kindly contributed to\nR-bloggers\n].  (You can report issue about the content on this page\nhere\n)\nWant to share your content on R-bloggers?\nclick here\nif you have a blog, or\nhere\nif you don't.\nThree years in, I am still absolutely hooked on the Traitors (the TV series). Sure, yes, they stretch ten minutes of gameplay into sixty minutes of “you know I love you, but…” and the weirdly maddening attempts to make “yourself” a polite version of “you”. And yes, there’s massive thumb-shaped groove on the scales because the producers are never going to let the game end early. But all the same, it’s such fun watching the players plot and scheme and make terrible, terrible decisions.\nOccasionally the show includes contestants who are expert game players. Frankly they tend to underwhelm – with the honourable exception being Kate in Traitors Australia – yet it makes me wonder about optimum strategies. And what’s more fun than playing a game?\nMaking a model of the game in R!\nHere we go, starting with a simple model and building up to more realistic strategies. If you’re here just for some insights into the Traitors, you can skip over the code without missing much of the logic.\nCode\n#  Plumbing and other irrelevant code is behind the folds.\nlibrary(knitr)\nlibrary(tidyverse)\n\nset.seed(42) # trad\n\norange <- rgb(236 / 255, 137 / 255, 51 / 255)\nmauve <- rgb(89 / 255, 14 / 255, 50 / 255)\nSimple model\nThe minimum players for Werewolf, a.k.a. Mafia (the game on which Traitors is based) is six, with four villagers and two wolves. In this version of the game there is no recruitment and there are no shields. Let’s model this simple version and build up from there. We’ll set some basic default strategies for the traitors and the faithful.\ngame <- function(\n    n_players = 6,\n    n_traitors = 2,\n    traitor_strategy = random_traitors,\n    faithful_strategy = random_faithful) {\n\n  while (TRUE) {\n\n    # There's an implicit player index:\n    #  c(traitor, traitor, faithful, faithful, ..., faithful)\n\n    # Traitors are always the leading elements in the index, so we can select them with an index range.\n\n    # End-game condition\n    if (n_traitors == 0 || n_players - n_traitors < n_traitors) {\n      break\n    }\n\n    #############\n    # DAY PHASE #\n    #############\n\n    # Traitors and faithfuls update the votes array according to their strategies\n    \n    votes <- rep(0, n_players)\n\n    if (n_players - n_traitors == 1) {\n      # special case for 2 players 1 traitor\n      # coded here to avoid having to handle it repeatedly\n      votes[1:n_traitors] <- n_players\n    } else {\n      votes[1:n_traitors] <- traitor_strategy(n_players, n_traitors)\n    }\n    votes[(n_traitors + 1):n_players] <- faithful_strategy(n_players, n_traitors)\n\n    # Claudia counts the votes\n    banished <- which.max(tabulate(votes))\n\n    n_players <- n_players - 1 # BANISHMENT!\n\n    # If it was a traitor who was banished, decrement\n    if (banished <= n_traitors) {\n      n_traitors <- n_traitors - 1\n    }\n\n    # Check if the game is done yet\n    if (n_traitors == 0 || n_players - n_traitors < n_traitors) {\n      break\n    }\n\n    ###############\n    # NIGHT PHASE #\n    ###############\n    n_players <- n_players - 1 # MURDER!\n  }\n\n  list(n_players_remaining = n_players, n_traitors_remaining = n_traitors)\n}\n\nrandom_faithful <- function(n_players, n_traitors) {\n  # vote for a single random player\n  target <- sample(1:n_players, size = 1)\n  rep(target, n_players - n_traitors)\n}\n\nrandom_traitors <- function(n_players, n_traitors) {\n  # vote a single random faithful\n  target <- sample((n_traitors + 1):n_players, size = 1)\n  rep(target, n_traitors)\n}\n\n# Simulate one random game\ngame()\n$n_players_remaining\n[1] 1\n\n$n_traitors_remaining\n[1] 1\nThat’s it. All we need to do now is simulate a lot of games and analyse the results.\ndplyr\nis our friend for this, as usual.\nsim_games <- function(..., .game = game, .n_games = 10000) {\n  1:.n_games |>\n    map(\\(x) .game(...), .progress = TRUE) |>\n    bind_rows() |>\n    mutate(\n      traitors_win = n_traitors_remaining > 0,\n      winner = ifelse(n_traitors_remaining > 0, \"Traitors\", \"Faithful\")\n    )\n}\n\nplot_game_results <- function(results, n_players, n_traitors) {\n  traitor_win_prob <- mean(results$traitors_win)\n\n  ggplot(\n    results |>\n      group_by(winner) |>\n      count()\n  ) +\n    aes(y = winner, x = n, fill = winner, label = winner) +\n    geom_bar(stat = \"identity\", colour = \"black\", orientation = \"y\", alpha = 0.9) +\n    scale_fill_manual(values = c(mauve, orange)) +\n    labs(\n      title = sprintf(\n        \"Game result for %s players, %s traitors. Traitor win prob: %s\",\n        n_players,\n        n_traitors,\n        round(traitor_win_prob, digits = 2)\n      ),\n      x = \"Wins\",\n      y = NULL,\n      fill = \"Winner\"\n    ) +\n    theme_minimal() +\n    theme(aspect.ratio = 0.5)\n}\n\nresults <- sim_games(6, 2)\nplot_game_results(results, 6, 2)\nFigure 1\nThat’s quite in favour of the traitors, but the picture is different when we change the balance to be the same as the show.\nresults <- sim_games(22, 3)\nplot_game_results(results, 22, 3)\nFigure 2\nNow the game is nearly perfectly balanced.\nTo check this simulation is on the right track, I had a little look at a paper on Mafia by\nMigdał, 2024\n, which includes this formula for traitor winning probability:\nWhere\nis the number of players,\nis the number of traitors, and\nis the winning probability.\nMigdał calculates the exact probabilities for games with a single traitor and a pseudo-random faithful vote strategy, so we can compare the simulation to the calculation.\nThe formula in this case is:\nis the double factorial of\n, i.e.\nif\nis odd and\nif\nis even.\nCode\nmigdal <- function(n) {\n  if (n == 1) {\n    1\n  } else {\n    if (n %% 2 == 0) {\n      prod(seq(1, n - 1, 2)) / prod(seq(2, n, 2))\n    } else {\n      prod(seq(2, n - 1, 2)) / prod(seq(1, n, 2))\n    }\n  }\n}\n\nsim_probs <- 1:20 |>\n  map(\\(n) mean(sim_games(n, 1)$traitors_win), .progress = TRUE) |>\n  as.double()\n\nmigdal_probs <- 1:20 |>\n  map(migdal) |>\n  as.double()\n\nggplot(tibble(n_players = 1:20, sim_prob = sim_probs)) +\n  aes(x = n_players, y = sim_prob) +\n  geom_point(colour = \"red\") +\n  geom_line(data = tibble(n_players = 1:20, migdal_prob = migdal_probs), mapping = aes(y = migdal_prob)) +\n  scale_y_continuous(limits = c(0, 1.5))\nFigure 3: Comparison of simulated (points) to calculated (line) win probabilities.\nThe sawtooth pattern is one of the interesting results of Migdał’s paper: an odd number of players strongly favours the traitors, to the extent that having 8 faithful and 1 traitor gives the traitor a better win chance than having 3 faithful and 1 traitor, despite there being more than twice as many faithful in the former.\nThat has a useful implication for the producers of the Traitors: if they want to keep the game balanced, the timing of adding new players is crucial. I suspect they already know this.\nHow good is our random vote assumption?\nLet’s see how random the votes actually are. Happily, Traitors is a big enough phenomenon that people have recorded the players’ votes online.\nHere for example\nare the votes from Australia’s first season. Below the fold is some code for manipulating the copy-pasted votes into a dataframe.\nCode\n# Some fixes were required: in Aus two players abstained from a vote, and one quit.\n# I converted these into pseudo-votes for an imaginary player.\n\nvotes <- list(\n  # Aus 1\n  list(\n    c(20, 2, 1),\n    c(16, 2, 1, 1, 1),\n    c(4, 4, 3, 3, 2, 1, 1, 1),\n    c(11, 5, 2),\n    c(7, 6, 2, 1),\n    c(7, 5, 1, 1),\n    c(9, 3, 1),\n    c(9, 1, 1),\n    c(8, 2),\n    c(4, 1, 1, 1, 1),\n    c(5, 1, 1),\n    c(4, 1),\n    c(3, 1),\n    c(2, 1)\n  ),\n\n  # UK 1\n  list(\n    c(11, 8),\n    c(8, 6, 3),\n    c(11, 4),\n    c(9, 4),\n    c(7, 3, 1),\n    c(7, 1, 1),\n    c(6, 2),\n    c(4, 2),\n    c(3, 2),\n    c(1, 3),\n    c(3, 0)\n  ),\n\n  # UK 2\n  list(\n    c(17, 1, 1),\n    c(10, 6, 1),\n    c(7, 6, 2, 1),\n    c(7, 4, 1, 1, 1),\n    c(6, 5, 2, 1),\n    c(7, 3, 2, 1),\n    c(6, 2, 2),\n    c(4, 2, 1, 1),\n    c(4, 2),\n    c(4, 1),\n    c(2, 2),\n    c(3, 1),\n    c(3, 0)\n  ),\n\n  # US\n  list(\n    c(15, 2, 2, 1, 1),\n    c(4, 4, 4, 3, 1, 1, 1, 1),\n    c(7, 6, 3),\n    c(14, 1, 1, 1, 1),\n    c(12, 2, 1, 1),\n    c(7, 3, 2, 1, 1),\n    c(9, 2, 1),\n    c(7, 4),\n    c(6, 2, 1),\n    c(6, 1, 1),\n    c(4, 1, 1),\n    c(4, 1),\n    c(4, 0),\n    c(3, 1),\n    c(1, 2),\n    c(2, 1)\n  )\n)\n\npad <- function(v, new_length, value) {\n  v2 <- rep(value, new_length)\n  v2[1:length(v)] <- v\n  v2\n}\n\nvotes_df <- tibble(v = flatten(votes)) |>\n  rowwise() |>\n  filter(sum(v) > 5) |> # ignore the finals, which are a little different\n  mutate(\n    n_players = sum(v),\n    v = list(pad(v, n_players, 0)), # pad 0s for with each player that didn't receive a vote\n  )\nWe can guess by looking that these aren’t drawn from a uniform distribution, and\nagrees.\nvotes_df |>\n  mutate(p.value = chisq.test(v, simulate.p.value = TRUE)[\"p.value\"]) |>\n  unnest(p.value) |>\n  head(5) |>  # the whole table is not that interesting\n  kable(digits = 5)\nTable 1: Completely unnecessary\ngoodness-of-fit tests.\nv\nn_players\np.value\n20, 2, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0\n23\n0.0005\n16, 2, 1, 1, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0\n21\n0.0005\n4, 4, 3, 3, 2, 1, 1, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0\n19\n0.0085\n11, 5, 2, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0\n18\n0.0005\n7, 6, 2, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0\n16\n0.0005\nIt looks to me like the faithful do herd together to whomp one or two unlucky players. Sometimes this is pre-arranged, sometimes it’s just groupthink (“I’ve just got nothing to go on, so I put yourself…”).\nLet’s implement a voting strategy that’s closer to this reality. We’ll take the mean of the vote distributions as the probability of voting for target one, two, three, etc, to form a multinomial distribution, so that our simulation reflects actual vote distributions.\nn_rounds <- nrow(votes_df)\nn_players <- max(votes_df$n_players)\n\nmat <- matrix(0, nrow = n_rounds, ncol = n_players)\n\nfor (i in 1:n_rounds) {\n  v <- votes_df$v[[i]]\n  mat[i, 1:length(v)] <- v / sum(v)\n}\n\nvote_prob <- colSums(mat) / nrow(mat)\n\nbarplot(vote_prob)\nFigure 4: Mean of normalised vote counts across each round.\nIn a typical round, we’d expect about 62% of players to vote for player A, and 23% for player B, etc. This doesn’t relate to the probability of player A or B being traitors, just the expected vote split.\nLet’s make that a strategy function and simulate it.\nrandom_herd <- function(n_players, n_traitors) {\n  shuffled <- sample(n_players, n_players)\n  sample(shuffled, size = n_players - n_traitors, replace = TRUE, prob = vote_prob[1:n_players])\n}\n\nresults <- sim_games(n_players = 22, n_traitors = 3, traitor_strategy = random_traitors, faithful_strategy = random_herd)\nplot_game_results(results, 22, 3)\nFigure 5\nHaving a split vote isn’t much worse than the fully random strategy, though it still gives the traitors a slight advantage. Could the faithfuls do better? Well yes, if they were any good at spotting traitors.\nSmarter faithfuls\nLet’s grant the faithfuls a glimmer of intuition: they are twice as suspicious of traitors as faithfuls, i.e. a traitor is twice as likely to be the vote target as a faithful. We’ll call that the\nsuspicion\nfactor, where a value of 1 means a traitor is equally suspicious as any other player to the faithfuls.\nWe can model this with a suspicion vector, which is the (normalised) level of suspicion for each player. We’ll need a new\ngame\nfunction, which we’ll call\ngame2\n. This version of the game allows both faithfuls and traitors to influence the suspicion on each player each day.\ngame2 <- function(\n    n_players = 22,\n    n_traitors = 3,\n    traitors_influence = no_influence,\n    faithfuls_influence = no_influence,\n    traitors_strategy = random_traitors2,\n    faithfuls_strategy = random_faithful2) {\n  while (TRUE) {\n\n    if (n_traitors == 0 || n_players - n_traitors < n_traitors) {\n      break\n    }\n\n    #############\n    # DAY PHASE #\n    #############\n\n    # This is the new bit:\n    # traitors and faithfuls influence suspicion\n    suspicions <- rep(1, n_players) |>\n      faithfuls_influence(n_traitors) |>\n      traitors_influence(n_traitors)\n    suspicions <- suspicions / sum(suspicions)  # normalise\n\n    # Voting is as-before\n    votes <- rep(0, n_players)\n\n    if (n_players - n_traitors == 1) {\n      votes[1:n_traitors] <- n_players\n    } else {\n      votes[1:n_traitors] <- traitors_strategy(suspicions, n_players, n_traitors)\n    }\n    votes[(n_traitors + 1):n_players] <- faithfuls_strategy(suspicions, n_players, n_traitors)\n\n    banished <- which.max(tabulate(votes))\n\n    n_players <- n_players - 1 # BANISHMENT!\n    if (banished <= n_traitors) {\n      n_traitors <- n_traitors - 1\n    }\n\n    if (n_traitors == 0 || n_players - n_traitors < n_traitors) {\n      break\n    }\n\n    ###############\n    # NIGHT PHASE #\n    ###############\n    n_players <- n_players - 1 # MURDER!\n  }\n\n  list(n_players_remaining = n_players, n_traitors_remaining = n_traitors)\n}\n\nrandom_faithful2 <- function(suspicions, n_players, n_traitors) {\n  # vote for a single random player\n  target <- sample(1:n_players, size = 1)\n  rep(target, n_players - n_traitors)\n}\n\nrandom_traitors2 <- function(suspicions, n_players, n_traitors) {\n  # as before: vote a single random faithful\n  target <- sample((n_traitors + 1):n_players, size = 1)\n  rep(target, n_traitors)\n}\n\nno_influence <- function(suspicions, n_traitors) suspicions\nWe set the default influence to be a pass-through i.e. no influence, and set the same default vote strategies as before (adapted to accept but ignore a\nsuspicions\nargument). In that case we see that the game is balanced the same as before. That’s a useful sanity check.\nresults <- sim_games(.game = game2)\nplot_game_results(results, 22, 3)\nFigure 6\nWe can check with the random herd strategy too.\nrandom_herd2 <- function(suspicion, n_players, n_traitors) {\n  shuffled <- sample(n_players, n_players)\n  sample(shuffled, size = n_players - n_traitors, replace = TRUE, prob = vote_prob[1:n_players])\n}\n\nresults <- sim_games(faithfuls_strategy = random_herd2, .game = game2)\nplot_game_results(results, 22, 3)\nFigure 7\nAlso the same. But now let’s grant the faithfuls some strong intuition, twice as much suspicion on traitors as faithfuls. To support different levels of suspicion we can use a closure.\nincreased_suspicion <- function(suspicion_factor) {\n  function(suspicions, n_traitors) {\n    suspicions[1:n_traitors] <- suspicion_factor\n    suspicions\n  }\n}\n\n# e.g. increased_suspicion(2) returns a function that updates the traitors' suspicion values to 2\nWe also define a version of the herd strategy that selects the players to whomp according to their relative suspicion.\nsuspicious_herd <- function(suspicions, n_players, n_traitors) {\n  shuffled <- sample(n_players, size = n_players, prob = suspicions)\n  sample(shuffled, size = n_players - n_traitors, replace = TRUE, prob = vote_prob[1:n_players])\n}\nHow does that shake out for the faithfuls?\nresults <- sim_games(faithfuls_influence = increased_suspicion(2), faithfuls_strategy = suspicious_herd, .game = game2)\nplot_game_results(results, 22, 3)\nFigure 8\nMagnificently! That puts the balance resoundingly in favour of the faithfuls, showing how fragile the traitors’ position really is. We can explore how the traitors’ win probability depends on how savvy the faithful are.\nsuspicions <- c(0.5, 1.0, 1.2, 1.5, 2.0, 5.0, 10.0)\ns_df <- suspicions |>\n  map(\n    \\(s)\n    sim_games(\n      n_players = 22,\n      n_traitors = 3,\n      faithfuls_influence = increased_suspicion(s),\n      faithfuls_strategy = suspicious_herd,\n      .game = game2\n    ) |>\n      mutate(suspicion = s),\n    .progress = TRUE\n  ) |>\n  bind_rows() |>\n  group_by(suspicion) |>\n  summarise(traitor_win_prob = mean(traitors_win))\n■■■■■■■■■■■■■■■■■■■■■■■■■■■       86% |  ETA:  2s\nggplot(s_df) +\n  aes(x = suspicion, y = traitor_win_prob) +\n  geom_area(fill = orange, colour = \"black\") +\n  scale_x_continuous(breaks = seq(0, 10, 1)) +\n  scale_y_continuous(limits = c(0, 1)) +\n  labs(\n    x = \"Suspicion relative to faithful\",\n    y = \"Traitors win probability\"\n  ) +\n  theme_minimal()\nFigure 9: Traitor win probability as a function of suspicion.\nThe odds get exponentially worse the more the faithful suspect the traitors. And vice-versa: if the traitors are less-suspected than the faithful, they stand a strong chance of winning the game.\nSmarter traitors\nNaturally the traitors will try to influence faithfuls towards other faithfuls. (Or other traitors, but let’s leave\nthat\nstrategy aside for now.) We could model that as the traitors being able to increase the suspicion level of other players. If they have limited influence, perhaps it makes sense for them to make a concerted effort to put suspicion on one other player.\nsow_suspicion <- function(suspicion_factor) {\n  function(suspicions, n_traitors) {\n    suspicions[n_traitors + 1] <- suspicion_factor\n    suspicions\n  }\n}\n\nresults <- sim_games(\n  traitors_influence = sow_suspicion(2),\n  faithfuls_influence = increased_suspicion(2),\n  faithfuls_strategy = suspicious_herd,\n  .game = game2\n)\nplot_game_results(results, 22, 3)\nFigure 10\nIt’s an improvement! They’ve dragged the win probability from 0.24 up to 0.32. To completely nullify the faithfuls’ advantage though they would need to sow enough suspicion to make the traitors below the group’s mean level of suspicion.\nHappily for the traitors, the faithfuls seem likely to manage that themselves, by fixating on a “twinkle in the eye” or other red herrings. As we’ve seen, it’s enough for the traitors to wait for faithfuls to get suspicious of another faithful and run with that.\nWhere next?\nAll models are wrong, especially yours Chris.\nGeorge Box (ghost of)\nIt hardly needs to be said that this model is a much-simplified version of reality. We’ve barely touched on the psychological aspects that make the game so fun, as well as many of the TV’s specific game mechanics:\nshields\nrecruitment\nthe final\nThose would certainly change the balance.\nAt the moment the suspicions vector is also too simplistic. I was tempted to make some kind of model that draws suspicions from a Dirichlet distribution, but decided that making a more complex model to simulate player behaviour that is sometimes almost chaotic is probably not a productive route.\nThere’s more we could do with the model we have so far too, for example looking at how the traitor win probability increases as the game progresses. For example at the time of writing, the Season 3 in the UK has 8 faithfuls and 2 traitors, with one murder pending. If we repeat the last result with those numbers, the traitors are on-track to win.\nresults <- sim_games(\n  n_players = 7,\n  n_traitors = 2,\n  traitors_influence = sow_suspicion(2),\n  faithfuls_influence = increased_suspicion(2),\n  faithfuls_strategy = suspicious_herd,\n  .game = game2\n)\nplot_game_results(results, 7, 2)\nFigure 11\nIncidentally, the traitors decided against recruitment. However that would have been an even better move.\nresults <- sim_games(\n  n_players = 8,\n  n_traitors = 3,\n  traitors_influence = sow_suspicion(2),\n  faithfuls_influence = increased_suspicion(2),\n  faithfuls_strategy = suspicious_herd,\n  .game = game2\n)\nplot_game_results(results, 8, 3)\nFigure 12\nSomebody better teach those traitors to screw around with code!\nRelated\nTo\nleave a comment\nfor the author, please follow the link and comment on their blog:\nChris Bowdon\n.\nR-bloggers.com\noffers\ndaily e-mail updates\nabout\nR\nnews and tutorials about\nlearning R\nand many other topics.\nClick here if you're looking to post or find an R/data-science job\n.\nWant to share your content on R-bloggers?\nclick here\nif you have a blog, or\nhere\nif you don't.",
    "meta_description": "Three years in, I am still absolutely hooked on the Traitors (the TV series). Sure, yes, they stretch ten minutes of gameplay into sixty minutes of “you know I love you, but…” and the weirdly maddening attempts to make “yourself” a polite versio...",
    "meta_keywords": null,
    "og_description": "Three years in, I am still absolutely hooked on the Traitors (the TV series). Sure, yes, they stretch ten minutes of gameplay into sixty minutes of “you know I love you, but…” and the weirdly maddening attempts to make “yourself” a polite versio...",
    "og_image": "https://cbowdon.github.io/posts/traitors/index_files/figure-html/fig-simulate-games-1.png",
    "og_title": "Can we predict who wins the Traitors with an R simulation? | R-bloggers",
    "raw_jsonld_article": null,
    "reading_time_min": 14.9,
    "sitemap_lastmod": null,
    "twitter_description": "Three years in, I am still absolutely hooked on the Traitors (the TV series). Sure, yes, they stretch ten minutes of gameplay into sixty minutes of “you know I love you, but…” and the weirdly maddening attempts to make “yourself” a polite versio...",
    "twitter_title": "Can we predict who wins the Traitors with an R simulation? | R-bloggers",
    "url": "https://www.r-bloggers.com/2025/01/can-we-predict-who-wins-the-traitors-with-an-r-simulation/",
    "word_count": 2971
  }
}