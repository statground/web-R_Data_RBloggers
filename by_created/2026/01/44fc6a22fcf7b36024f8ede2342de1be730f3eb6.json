{
  "id": "44fc6a22fcf7b36024f8ede2342de1be730f3eb6",
  "url": "https://www.r-bloggers.com/2025/11/how-to-access-homeassistants-influxdb-from-r/",
  "created_at_utc": "2026-01-04T05:35:43Z",
  "crawled_at_utc": "2026-01-04T05:35:52Z",
  "html_title": "How to access HomeAssistant’s InfluxDB from R | R-bloggers",
  "meta_description": "I’m running a HomeAssistant instance at home. I’ve configured it to log data into an InfluxDB database, so I can retrieve historical data for analysis later on. In default mode HomeAssistant would aggregate historical data for storage reasons. So now I want to access the InfluxDB database from R to perform custom analyses. HomeAssistant is still using InfluxDB version 1. To connect to InfluxDB from R, I thought I can use the influxdbr package. But I got some errors because this package seems to be outdated. Here’s what I get, when fetching data: 1 2 3 4 5 6 7 8 9 10 11 12 13 14 library(influxdbr) library(tidyverse) influx_con % as.data.frame(stringsAsFactors = FALSE) 1 2 data_raw_df %>% head(10) 1 2 3 4 5 6 7 8 9 10 11 ## V1 V2 V3 ## 1 2025-11-11T13:20:31.171165Z Temp_5 25.875 ## 2 2025-11-11T13:20:43.741052Z Temp_11 30.625 ## 3 2025-11-11T13:20:43.741159Z Temp_10 48.75 ## 4 2025-11-11T13:20:44.552422Z Temp_8 28.25 ## 5 2025-11-11T13:20:44.552522Z Temp_9 28.25 ## 6 2025-11-11T13:20:50.225514Z Temp_2 19.8 ## 7 2025-11-11T13:21:07.61594Z Temp_15 26.5625 ## 8 2025-11-11T13:21:07.616039Z Temp_14 22.9375 ## 9 2025-11-11T13:21:10.101543Z Temp_13 26.75 ## 10 2025-11-11T13:21:10.911298Z Temp_12 23.5 Now we can change the column names (they are stored in data_raw %>% pluck(\"results\", \"series\", 1, \"columns\", 1)) and convert the time column to POSIXct: 1 2 3 4 5 6 7 data_raw_df %>% set_names(data_raw %>% pluck(\"results\", \"series\", 1, \"columns\", 1)) %>% mutate( time = as.POSIXct(time, format = \"%Y-%m-%dT%H:%M:%OSZ\", tz = \"UTC\"), value = as.numeric(value) ) %>% str() 1 2 3 4 ## 'data.frame': 44176 obs. of 3 variables: ## $ time : POSIXct, format: \"2025-11-11 13:20:31\" \"2025-11-11 13:20:43\" ... ## $ entity_id: chr \"Temp_5\" \"Temp_11\" \"Temp_10\" \"Temp_8\" ... ## $ value : num 25.9 30.6 48.8 28.2 28.2 ...",
  "data": {
    "url": "https://www.r-bloggers.com/2025/11/how-to-access-homeassistants-influxdb-from-r/",
    "canonical_url": "https://www.r-bloggers.com/2025/11/how-to-access-homeassistants-influxdb-from-r/",
    "html_title": "How to access HomeAssistant’s InfluxDB from R | R-bloggers",
    "h1_title": "R-bloggers",
    "meta_description": "I’m running a HomeAssistant instance at home. I’ve configured it to log data into an InfluxDB database, so I can retrieve historical data for analysis later on. In default mode HomeAssistant would aggregate historical data for storage reasons. So now I want to access the InfluxDB database from R to perform custom analyses. HomeAssistant is still using InfluxDB version 1. To connect to InfluxDB from R, I thought I can use the influxdbr package. But I got some errors because this package seems to be outdated. Here’s what I get, when fetching data: 1 2 3 4 5 6 7 8 9 10 11 12 13 14 library(influxdbr) library(tidyverse) influx_con % as.data.frame(stringsAsFactors = FALSE) 1 2 data_raw_df %>% head(10) 1 2 3 4 5 6 7 8 9 10 11 ## V1 V2 V3 ## 1 2025-11-11T13:20:31.171165Z Temp_5 25.875 ## 2 2025-11-11T13:20:43.741052Z Temp_11 30.625 ## 3 2025-11-11T13:20:43.741159Z Temp_10 48.75 ## 4 2025-11-11T13:20:44.552422Z Temp_8 28.25 ## 5 2025-11-11T13:20:44.552522Z Temp_9 28.25 ## 6 2025-11-11T13:20:50.225514Z Temp_2 19.8 ## 7 2025-11-11T13:21:07.61594Z Temp_15 26.5625 ## 8 2025-11-11T13:21:07.616039Z Temp_14 22.9375 ## 9 2025-11-11T13:21:10.101543Z Temp_13 26.75 ## 10 2025-11-11T13:21:10.911298Z Temp_12 23.5 Now we can change the column names (they are stored in data_raw %>% pluck(\"results\", \"series\", 1, \"columns\", 1)) and convert the time column to POSIXct: 1 2 3 4 5 6 7 data_raw_df %>% set_names(data_raw %>% pluck(\"results\", \"series\", 1, \"columns\", 1)) %>% mutate( time = as.POSIXct(time, format = \"%Y-%m-%dT%H:%M:%OSZ\", tz = \"UTC\"), value = as.numeric(value) ) %>% str() 1 2 3 4 ## 'data.frame': 44176 obs. of 3 variables: ## $ time : POSIXct, format: \"2025-11-11 13:20:31\" \"2025-11-11 13:20:43\" ... ## $ entity_id: chr \"Temp_5\" \"Temp_11\" \"Temp_10\" \"Temp_8\" ... ## $ value : num 25.9 30.6 48.8 28.2 28.2 ...",
    "meta_keywords": null,
    "og_title": "How to access HomeAssistant’s InfluxDB from R | R-bloggers",
    "og_description": "I’m running a HomeAssistant instance at home. I’ve configured it to log data into an InfluxDB database, so I can retrieve historical data for analysis later on. In default mode HomeAssistant would aggregate historical data for storage reasons. So now I want to access the InfluxDB database from R to perform custom analyses. HomeAssistant is still using InfluxDB version 1. To connect to InfluxDB from R, I thought I can use the influxdbr package. But I got some errors because this package seems to be outdated. Here’s what I get, when fetching data: 1 2 3 4 5 6 7 8 9 10 11 12 13 14 library(influxdbr) library(tidyverse) influx_con % as.data.frame(stringsAsFactors = FALSE) 1 2 data_raw_df %>% head(10) 1 2 3 4 5 6 7 8 9 10 11 ## V1 V2 V3 ## 1 2025-11-11T13:20:31.171165Z Temp_5 25.875 ## 2 2025-11-11T13:20:43.741052Z Temp_11 30.625 ## 3 2025-11-11T13:20:43.741159Z Temp_10 48.75 ## 4 2025-11-11T13:20:44.552422Z Temp_8 28.25 ## 5 2025-11-11T13:20:44.552522Z Temp_9 28.25 ## 6 2025-11-11T13:20:50.225514Z Temp_2 19.8 ## 7 2025-11-11T13:21:07.61594Z Temp_15 26.5625 ## 8 2025-11-11T13:21:07.616039Z Temp_14 22.9375 ## 9 2025-11-11T13:21:10.101543Z Temp_13 26.75 ## 10 2025-11-11T13:21:10.911298Z Temp_12 23.5 Now we can change the column names (they are stored in data_raw %>% pluck(\"results\", \"series\", 1, \"columns\", 1)) and convert the time column to POSIXct: 1 2 3 4 5 6 7 data_raw_df %>% set_names(data_raw %>% pluck(\"results\", \"series\", 1, \"columns\", 1)) %>% mutate( time = as.POSIXct(time, format = \"%Y-%m-%dT%H:%M:%OSZ\", tz = \"UTC\"), value = as.numeric(value) ) %>% str() 1 2 3 4 ## 'data.frame': 44176 obs. of 3 variables: ## $ time : POSIXct, format: \"2025-11-11 13:20:31\" \"2025-11-11 13:20:43\" ... ## $ entity_id: chr \"Temp_5\" \"Temp_11\" \"Temp_10\" \"Temp_8\" ... ## $ value : num 25.9 30.6 48.8 28.2 28.2 ...",
    "og_image": "https://www.r-bloggers.com/wp-content/uploads/2016/04/R_02_2016-05-01.png",
    "twitter_title": "How to access HomeAssistant’s InfluxDB from R | R-bloggers",
    "twitter_description": "I’m running a HomeAssistant instance at home. I’ve configured it to log data into an InfluxDB database, so I can retrieve historical data for analysis later on. In default mode HomeAssistant would aggregate historical data for storage reasons. So now I want to access the InfluxDB database from R to perform custom analyses. HomeAssistant is still using InfluxDB version 1. To connect to InfluxDB from R, I thought I can use the influxdbr package. But I got some errors because this package seems to be outdated. Here’s what I get, when fetching data: 1 2 3 4 5 6 7 8 9 10 11 12 13 14 library(influxdbr) library(tidyverse) influx_con % as.data.frame(stringsAsFactors = FALSE) 1 2 data_raw_df %>% head(10) 1 2 3 4 5 6 7 8 9 10 11 ## V1 V2 V3 ## 1 2025-11-11T13:20:31.171165Z Temp_5 25.875 ## 2 2025-11-11T13:20:43.741052Z Temp_11 30.625 ## 3 2025-11-11T13:20:43.741159Z Temp_10 48.75 ## 4 2025-11-11T13:20:44.552422Z Temp_8 28.25 ## 5 2025-11-11T13:20:44.552522Z Temp_9 28.25 ## 6 2025-11-11T13:20:50.225514Z Temp_2 19.8 ## 7 2025-11-11T13:21:07.61594Z Temp_15 26.5625 ## 8 2025-11-11T13:21:07.616039Z Temp_14 22.9375 ## 9 2025-11-11T13:21:10.101543Z Temp_13 26.75 ## 10 2025-11-11T13:21:10.911298Z Temp_12 23.5 Now we can change the column names (they are stored in data_raw %>% pluck(\"results\", \"series\", 1, \"columns\", 1)) and convert the time column to POSIXct: 1 2 3 4 5 6 7 data_raw_df %>% set_names(data_raw %>% pluck(\"results\", \"series\", 1, \"columns\", 1)) %>% mutate( time = as.POSIXct(time, format = \"%Y-%m-%dT%H:%M:%OSZ\", tz = \"UTC\"), value = as.numeric(value) ) %>% str() 1 2 3 4 ## 'data.frame': 44176 obs. of 3 variables: ## $ time : POSIXct, format: \"2025-11-11 13:20:31\" \"2025-11-11 13:20:43\" ... ## $ entity_id: chr \"Temp_5\" \"Temp_11\" \"Temp_10\" \"Temp_8\" ... ## $ value : num 25.9 30.6 48.8 28.2 28.2 ...",
    "raw_jsonld_article": null,
    "article_headline": null,
    "article_section": null,
    "article_tags": null,
    "article_author": null,
    "article_published": null,
    "article_modified": null,
    "main_text": "How to access HomeAssistant’s InfluxDB from R\nPosted on\nNovember 15, 2025\nby\nrstats-tips.net\nin\nR bloggers\n| 0 Comments\n[This article was first published on\nrstats-tips.net\n, and kindly contributed to\nR-bloggers\n].  (You can report issue about the content on this page\nhere\n)\nWant to share your content on R-bloggers?\nclick here\nif you have a blog, or\nhere\nif you don't.\nI’m running a\nHomeAssistant\ninstance at home.\nI’ve configured it to log data into an\nInfluxDB\ndatabase,\nso I can retrieve historical data for analysis later on. In default mode\nHomeAssistant would aggregate historical data for storage reasons.\nSo now I want to access the InfluxDB database from R to perform custom analyses.\nHomeAssistant is still using InfluxDB version 1. To connect to InfluxDB from R,\nI thought I can use the\ninfluxdbr\npackage. But I got some errors because\nthis package seems to be outdated.\nHere’s what I get, when fetching data:\n1\n 2\n 3\n 4\n 5\n 6\n 7\n 8\n 9\n10\n11\n12\n13\n14\nlibrary(influxdbr)\nlibrary(tidyverse)\n\ninflux_con <- influx_connection(\n  scheme = \"http\", host = \"my_influx_host\", port = 8086,\n  user = \"my_influx_user\", pass = \"my_influx_pass\"\n) \n            \nquery <- 'SELECT entity_id, value FROM \"autogen\".\"°C\" WHERE time > now() - 5d'                    \n\ninflux_query(influx_con, \n             db = \"my_influx_db\", \n             query = query,\n)\nThe error message is:\n1\n 2\n 3\n 4\n 5\n 6\n 7\n 8\n 9\n10\n11\nError in `purrr::map()`:\nℹ In index: 1.\nCaused by error in `purrr::map()`:\nℹ In index: 1.\nℹ With name: results.\nCaused by error in `purrr::map()`:\nℹ In index: 1.\nCaused by error:\n! The `validate` argument of `as_tibble()` was deprecated in tibble 2.0.0 and is now defunct.\nℹ Please use the `.name_repair` argument instead.\nRun `rlang::last_trace()` to see where the error occurred.\nIt seems that the\ninfluxdbr\npackage is not compatible with the current version\nof the\ntibble\npackage. The latest commit is 5 years old.\nSo I decided to use the\nhttr\npackage to send HTTP requests directly to the InfluxDB API.\nHere’s how to do it:\n1\n 2\n 3\n 4\n 5\n 6\n 7\n 8\n 9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\nlibrary(tidyverse)\nlibrary(httr)\nlibrary(jsonlite)\n\nquery <- 'SELECT entity_id, value FROM \"autogen\".\"°C\" WHERE time > now() - 5d'\n\nresponse <- GET(\n  url = paste0(\"my_influx_host\", \"/query\"),\n  query = list(\n    db = \"my_influx_db\",\n    q = query,\n    u = \"my_influx_user\",\n    p = \"my_influx_pass\"\n  ),\n  config = config(ssl_verifypeer = TRUE)  \n)\n\nif (response$status_code == 200) {\n  data_raw <- content(response, as = \"text\", encoding = \"UTF-8\") %>%  fromJSON(flatten = TRUE)\n}\nThe data structure looks a little bit complicated:\n1\ndata_raw %>% str()\n1\n 2\n 3\n 4\n 5\n 6\n 7\n 8\n 9\n10\n## List of 1\n##  $ results:'data.frame':\t1 obs. of  2 variables:\n##   ..$ statement_id: int 0\n##   ..$ series      :List of 1\n##   .. ..$ :'data.frame':\t1 obs. of  3 variables:\n##   .. .. ..$ name   : chr \"°C\"\n##   .. .. ..$ columns:List of 1\n##   .. .. .. ..$ : chr [1:3] \"time\" \"entity_id\" \"value\"\n##   .. .. ..$ values :List of 1\n##   .. .. .. ..$ : chr [1:44176, 1:3] \"2025-11-11T13:20:31.171165Z\" \"2025-11-11T13:20:43.741052Z\" \"2025-11-11T13:20:43.741159Z\" \"2025-11-11T13:20:44.552422Z\" ...\nBut here starts the magic of\ntidyverse\n. The interesting data is stored in\ndata_raw$results[[1]]$series[[1]]$values[[1]]\n. We can get it using\npluck()\nand convert it to a data.frame:\n1\n2\n3\ndata_raw_df <- data_raw %>%\n  pluck(\"results\", \"series\", 1, \"values\", 1) %>% \n  as.data.frame(stringsAsFactors = FALSE)\n1\n2\ndata_raw_df %>%\n  head(10)\n1\n 2\n 3\n 4\n 5\n 6\n 7\n 8\n 9\n10\n11\n##                             V1      V2      V3\n## 1  2025-11-11T13:20:31.171165Z  Temp_5  25.875\n## 2  2025-11-11T13:20:43.741052Z Temp_11  30.625\n## 3  2025-11-11T13:20:43.741159Z Temp_10   48.75\n## 4  2025-11-11T13:20:44.552422Z  Temp_8   28.25\n## 5  2025-11-11T13:20:44.552522Z  Temp_9   28.25\n## 6  2025-11-11T13:20:50.225514Z  Temp_2    19.8\n## 7   2025-11-11T13:21:07.61594Z Temp_15 26.5625\n## 8  2025-11-11T13:21:07.616039Z Temp_14 22.9375\n## 9  2025-11-11T13:21:10.101543Z Temp_13   26.75\n## 10 2025-11-11T13:21:10.911298Z Temp_12    23.5\nNow we can change the column names (they are stored in\ndata_raw %>% pluck(\"results\", \"series\", 1, \"columns\", 1)\n) and convert the time column to POSIXct:\n1\n2\n3\n4\n5\n6\n7\ndata_raw_df %>% \n   set_names(data_raw %>% pluck(\"results\", \"series\", 1, \"columns\", 1)) %>%\n   mutate(\n      time = as.POSIXct(time, format = \"%Y-%m-%dT%H:%M:%OSZ\", tz = \"UTC\"),\n      value = as.numeric(value)\n    ) %>% \n  str()\n1\n2\n3\n4\n## 'data.frame':\t44176 obs. of  3 variables:\n##  $ time     : POSIXct, format: \"2025-11-11 13:20:31\" \"2025-11-11 13:20:43\" ...\n##  $ entity_id: chr  \"Temp_5\" \"Temp_11\" \"Temp_10\" \"Temp_8\" ...\n##  $ value    : num  25.9 30.6 48.8 28.2 28.2 ...\nRelated\nTo\nleave a comment\nfor the author, please follow the link and comment on their blog:\nrstats-tips.net\n.\nR-bloggers.com\noffers\ndaily e-mail updates\nabout\nR\nnews and tutorials about\nlearning R\nand many other topics.\nClick here if you're looking to post or find an R/data-science job\n.\nWant to share your content on R-bloggers?\nclick here\nif you have a blog, or\nhere\nif you don't.",
    "main_html": "<article class=\"post-396901 post type-post status-publish format-standard hentry category-r-bloggers\">\n<header class=\"post-header\">\n<h1 class=\"entry-title\">How to access HomeAssistant’s InfluxDB from R</h1>\n<p class=\"meta post-meta\">Posted on <span class=\"updated\">November 15, 2025</span>  by <span class=\"vcard author\"><a class=\"fn\" href=\"https://www.r-bloggers.com/author/rstats-tips-net/\">rstats-tips.net</a></span>  in <a href=\"https://www.r-bloggers.com/category/r-bloggers/\" rel=\"category tag\">R bloggers</a> | 0 Comments</p>\n</header>\n<div class=\"entry clearfix\">\n<!-- \r\n<div style=\"min-height: 30px;\">\r\n[social4i size=\"small\" align=\"align-left\"]\r\n</div>\r\n-->\n<div style=\"border: 1px solid; background: none repeat scroll 0 0 #EDEDED; margin: 1px; font-size: 12px;\">\r\n[This article was first published on  <strong><a href=\"https://rstats-tips.net/2025/11/16/how-to-access-homeassistant-s-influxdb-from-r/\"> rstats-tips.net</a></strong>, and kindly contributed to <a href=\"https://www.r-bloggers.com/\" rel=\"nofollow\">R-bloggers</a>].  (You can report issue about the content on this page <a href=\"https://www.r-bloggers.com/contact-us/\">here</a>)\r\n<hr/>Want to share your content on R-bloggers?<a href=\"https://www.r-bloggers.com/add-your-blog/\" rel=\"nofollow\"> click here</a> if you have a blog, or <a href=\"http://r-posts.com/\" rel=\"nofollow\"> here</a> if you don't.\r\n</div>\n\n<!-- Share buttons by mashshare.net - Version: 4.0.47--><p>I’m running a <a href=\"https://www.home-assistant.io/\" rel=\"nofollow\" target=\"_blank\">HomeAssistant</a> instance at home.\nI’ve configured it to log data into an <a href=\"https://www.influxdata.com/\" rel=\"nofollow\" target=\"_blank\">InfluxDB</a> database,\nso I can retrieve historical data for analysis later on. In default mode\nHomeAssistant would aggregate historical data for storage reasons.</p>\n<p>So now I want to access the InfluxDB database from R to perform custom analyses.\nHomeAssistant is still using InfluxDB version 1. To connect to InfluxDB from R,\nI thought I can use the <code>influxdbr</code> package. But I got some errors because\nthis package seems to be outdated.</p>\n<p>Here’s what I get, when fetching data:</p>\n<div class=\"highlight\"><div class=\"chroma\">\n<table class=\"lntable\"><tr><td class=\"lntd\">\n<pre> 1\n 2\n 3\n 4\n 5\n 6\n 7\n 8\n 9\n10\n11\n12\n13\n14\n</pre></td>\n<td class=\"lntd\">\n<pre>library(influxdbr)\nlibrary(tidyverse)\n\ninflux_con &lt;- influx_connection(\n  scheme = \"http\", host = \"my_influx_host\", port = 8086,\n  user = \"my_influx_user\", pass = \"my_influx_pass\"\n) \n            \nquery &lt;- 'SELECT entity_id, value FROM \"autogen\".\"°C\" WHERE time &gt; now() - 5d'                    \n\ninflux_query(influx_con, \n             db = \"my_influx_db\", \n             query = query,\n)\n</pre></td></tr></table>\n</div>\n</div><p>The error message is:</p>\n<div class=\"highlight\"><div class=\"chroma\">\n<table class=\"lntable\"><tr><td class=\"lntd\">\n<pre> 1\n 2\n 3\n 4\n 5\n 6\n 7\n 8\n 9\n10\n11\n</pre></td>\n<td class=\"lntd\">\n<pre>Error in `purrr::map()`:\nℹ In index: 1.\nCaused by error in `purrr::map()`:\nℹ In index: 1.\nℹ With name: results.\nCaused by error in `purrr::map()`:\nℹ In index: 1.\nCaused by error:\n! The `validate` argument of `as_tibble()` was deprecated in tibble 2.0.0 and is now defunct.\nℹ Please use the `.name_repair` argument instead.\nRun `rlang::last_trace()` to see where the error occurred.\n</pre></td></tr></table>\n</div>\n</div><p>It seems that the <code>influxdbr</code> package is not compatible with the current version\nof the <code>tibble</code> package. The latest commit is 5 years old.</p>\n<p>So I decided to use the <code>httr</code> package to send HTTP requests directly to the InfluxDB API.\nHere’s how to do it:</p>\n<div class=\"highlight\"><div class=\"chroma\">\n<table class=\"lntable\"><tr><td class=\"lntd\">\n<pre> 1\n 2\n 3\n 4\n 5\n 6\n 7\n 8\n 9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n</pre></td>\n<td class=\"lntd\">\n<pre>library(tidyverse)\nlibrary(httr)\nlibrary(jsonlite)\n\nquery &lt;- 'SELECT entity_id, value FROM \"autogen\".\"°C\" WHERE time &gt; now() - 5d'\n\n\nresponse &lt;- GET(\n  url = paste0(\"my_influx_host\", \"/query\"),\n  query = list(\n    db = \"my_influx_db\",\n    q = query,\n    u = \"my_influx_user\",\n    p = \"my_influx_pass\"\n  ),\n  config = config(ssl_verifypeer = TRUE)  \n)\n\nif (response$status_code == 200) {\n  data_raw &lt;- content(response, as = \"text\", encoding = \"UTF-8\") %&gt;%  fromJSON(flatten = TRUE)\n}\n</pre></td></tr></table>\n</div>\n</div><p>The data structure looks a little bit complicated:</p>\n<div class=\"highlight\"><div class=\"chroma\">\n<table class=\"lntable\"><tr><td class=\"lntd\">\n<pre>1\n</pre></td>\n<td class=\"lntd\">\n<pre>data_raw %&gt;% str()\n</pre></td></tr></table>\n</div>\n</div><div class=\"highlight\"><div class=\"chroma\">\n<table class=\"lntable\"><tr><td class=\"lntd\">\n<pre> 1\n 2\n 3\n 4\n 5\n 6\n 7\n 8\n 9\n10\n</pre></td>\n<td class=\"lntd\">\n<pre>## List of 1\n##  $ results:'data.frame':\t1 obs. of  2 variables:\n##   ..$ statement_id: int 0\n##   ..$ series      :List of 1\n##   .. ..$ :'data.frame':\t1 obs. of  3 variables:\n##   .. .. ..$ name   : chr \"°C\"\n##   .. .. ..$ columns:List of 1\n##   .. .. .. ..$ : chr [1:3] \"time\" \"entity_id\" \"value\"\n##   .. .. ..$ values :List of 1\n##   .. .. .. ..$ : chr [1:44176, 1:3] \"2025-11-11T13:20:31.171165Z\" \"2025-11-11T13:20:43.741052Z\" \"2025-11-11T13:20:43.741159Z\" \"2025-11-11T13:20:44.552422Z\" ...\n</pre></td></tr></table>\n</div>\n</div><p>But here starts the magic of <code>tidyverse</code>. The interesting data is stored in\n<code>data_raw$results[[1]]$series[[1]]$values[[1]]</code>. We can get it using <code>pluck()</code>\nand convert it to a data.frame:</p>\n<div class=\"highlight\"><div class=\"chroma\">\n<table class=\"lntable\"><tr><td class=\"lntd\">\n<pre>1\n2\n3\n</pre></td>\n<td class=\"lntd\">\n<pre>data_raw_df &lt;- data_raw %&gt;%\n  pluck(\"results\", \"series\", 1, \"values\", 1) %&gt;% \n  as.data.frame(stringsAsFactors = FALSE)\n</pre></td></tr></table>\n</div>\n</div><div class=\"highlight\"><div class=\"chroma\">\n<table class=\"lntable\"><tr><td class=\"lntd\">\n<pre>1\n2\n</pre></td>\n<td class=\"lntd\">\n<pre>data_raw_df %&gt;%\n  head(10)\n</pre></td></tr></table>\n</div>\n</div><div class=\"highlight\"><div class=\"chroma\">\n<table class=\"lntable\"><tr><td class=\"lntd\">\n<pre> 1\n 2\n 3\n 4\n 5\n 6\n 7\n 8\n 9\n10\n11\n</pre></td>\n<td class=\"lntd\">\n<pre>##                             V1      V2      V3\n## 1  2025-11-11T13:20:31.171165Z  Temp_5  25.875\n## 2  2025-11-11T13:20:43.741052Z Temp_11  30.625\n## 3  2025-11-11T13:20:43.741159Z Temp_10   48.75\n## 4  2025-11-11T13:20:44.552422Z  Temp_8   28.25\n## 5  2025-11-11T13:20:44.552522Z  Temp_9   28.25\n## 6  2025-11-11T13:20:50.225514Z  Temp_2    19.8\n## 7   2025-11-11T13:21:07.61594Z Temp_15 26.5625\n## 8  2025-11-11T13:21:07.616039Z Temp_14 22.9375\n## 9  2025-11-11T13:21:10.101543Z Temp_13   26.75\n## 10 2025-11-11T13:21:10.911298Z Temp_12    23.5\n</pre></td></tr></table>\n</div>\n</div><p>Now we can change the column names (they are stored in\n<code>data_raw %&gt;% pluck(\"results\", \"series\", 1, \"columns\", 1)</code>) and convert the time column to POSIXct:</p>\n<div class=\"highlight\"><div class=\"chroma\">\n<table class=\"lntable\"><tr><td class=\"lntd\">\n<pre>1\n2\n3\n4\n5\n6\n7\n</pre></td>\n<td class=\"lntd\">\n<pre>data_raw_df %&gt;% \n   set_names(data_raw %&gt;% pluck(\"results\", \"series\", 1, \"columns\", 1)) %&gt;%\n   mutate(\n      time = as.POSIXct(time, format = \"%Y-%m-%dT%H:%M:%OSZ\", tz = \"UTC\"),\n      value = as.numeric(value)\n    ) %&gt;% \n  str()\n</pre></td></tr></table>\n</div>\n</div><div class=\"highlight\"><div class=\"chroma\">\n<table class=\"lntable\"><tr><td class=\"lntd\">\n<pre>1\n2\n3\n4\n</pre></td>\n<td class=\"lntd\">\n<pre>## 'data.frame':\t44176 obs. of  3 variables:\n##  $ time     : POSIXct, format: \"2025-11-11 13:20:31\" \"2025-11-11 13:20:43\" ...\n##  $ entity_id: chr  \"Temp_5\" \"Temp_11\" \"Temp_10\" \"Temp_8\" ...\n##  $ value    : num  25.9 30.6 48.8 28.2 28.2 ...\n</pre></td></tr></table>\n</div>\n</div>\n<div class=\"jp-relatedposts\" id=\"jp-relatedposts\">\n<h3 class=\"jp-relatedposts-headline\"><em>Related</em></h3>\n</div>\n<!-- Share buttons by mashshare.net - Version: 4.0.47-->\n<div style=\"border: 1px solid; background: none repeat scroll 0 0 #EDEDED; margin: 1px; font-size: 13px;\">\n<div style=\"text-align: center;\">To <strong>leave a comment</strong> for the author, please follow the link and comment on their blog: <strong><a href=\"https://rstats-tips.net/2025/11/16/how-to-access-homeassistant-s-influxdb-from-r/\"> rstats-tips.net</a></strong>.</div>\n<hr/>\n<a href=\"https://www.r-bloggers.com/\" rel=\"nofollow\">R-bloggers.com</a> offers <strong><a href=\"https://feedburner.google.com/fb/a/mailverify?uri=RBloggers\" rel=\"nofollow\">daily e-mail updates</a></strong> about <a href=\"https://www.r-project.org/\" rel=\"nofollow\" title=\"The R Project for Statistical Computing\">R</a> news and tutorials about <a href=\"https://www.r-bloggers.com/how-to-learn-r-2/\" rel=\"nofollow\" title=\"R tutorials\">learning R</a> and many other topics. <a href=\"https://www.r-users.com/\" rel=\"nofollow\" title=\"Data science jobs\">Click here if you're looking to post or find an R/data-science job</a>.\r\n\r\n<hr/>Want to share your content on R-bloggers?<a href=\"https://www.r-bloggers.com/add-your-blog/\" rel=\"nofollow\"> click here</a> if you have a blog, or <a href=\"http://r-posts.com/\" rel=\"nofollow\"> here</a> if you don't.\r\n</div> </div>\n</article>",
    "word_count": 854,
    "reading_time_min": 4.3,
    "internal_links": [
      {
        "href": "https://www.r-bloggers.com/author/rstats-tips-net/",
        "text": "rstats-tips.net"
      },
      {
        "href": "https://www.r-bloggers.com/category/r-bloggers/",
        "text": "R bloggers"
      },
      {
        "href": "https://www.r-bloggers.com/",
        "text": "R-bloggers"
      },
      {
        "href": "https://www.r-bloggers.com/contact-us/",
        "text": "here"
      },
      {
        "href": "https://www.r-bloggers.com/add-your-blog/",
        "text": "click here"
      },
      {
        "href": "https://www.r-bloggers.com/",
        "text": "R-bloggers.com"
      },
      {
        "href": "https://www.r-bloggers.com/how-to-learn-r-2/",
        "text": "learning R"
      },
      {
        "href": "https://www.r-bloggers.com/add-your-blog/",
        "text": "click here"
      }
    ],
    "external_links": [
      {
        "href": "https://rstats-tips.net/2025/11/16/how-to-access-homeassistant-s-influxdb-from-r/",
        "text": "rstats-tips.net"
      },
      {
        "href": "http://r-posts.com/",
        "text": "here"
      },
      {
        "href": "https://www.home-assistant.io/",
        "text": "HomeAssistant"
      },
      {
        "href": "https://www.influxdata.com/",
        "text": "InfluxDB"
      },
      {
        "href": "https://rstats-tips.net/2025/11/16/how-to-access-homeassistant-s-influxdb-from-r/",
        "text": "rstats-tips.net"
      },
      {
        "href": "https://feedburner.google.com/fb/a/mailverify?uri=RBloggers",
        "text": "daily e-mail updates"
      },
      {
        "href": "https://www.r-project.org/",
        "text": "R"
      },
      {
        "href": "https://www.r-users.com/",
        "text": "Click here if you're looking to post or find an R/data-science job"
      },
      {
        "href": "http://r-posts.com/",
        "text": "here"
      }
    ],
    "images": [],
    "lang": "en-US",
    "crawled_at_utc": "2026-01-04T05:35:52Z"
  }
}